!
function(e) {
	function t(i) {
		if (n[i]) return n[i].exports;
		var o = n[i] = {
			exports: {},
			id: i,
			loaded: !1
		};
		return e[i].call(o.exports, o, o.exports, t),
		o.loaded = !0,
		o.exports
	}
	var n = {};
	return t.m = e,
	t.c = n,
	t.p = "http://as.eqh5.com/c/",
	t(0)
} ([function(e, t, n) {
	e.exports = n(88)
},
, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,
function(e, t, n) {
	"use strict";
	var i = n(89);
	n(90),
	n(92),
	e.exports = i.module("editor", ["ngRoute", "ngDialog", "ngSanitize", "ui.bootstrap", "ui.bootstrap.tpls", "ui.sortable", "eqx.ng.pay", n(102), n(117), n(127), n(139), n(141), n(264), n(297), n(330), n(332), n(344), n(813)]).name
},
function(e, t) {
	e.exports = angular
},
function(e, t) {},
,
function(e, t) {},
, , , , , , , , ,
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.api", []).factory("apiCache", n(103)).factory("fileAPI", n(104)).factory("pageAPI", n(105)).factory("tagAPI", n(107)).factory("tplAPI", n(108)).factory("userAPI", n(109)).factory("sceneAPI", n(110)).factory("fontAPI", n(111)).factory("XDAPI", n(112)).factory("materialAPI", n(113)).factory("audioAPI", n(114)).factory("orderAPI", n(115)).factory("yqcAPI", n(116)).name
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(i, r) {
			function s() {
				return t(i).then(function(e) {
					return window.localStorage.setItem(m, JSON.stringify({
						expires: Date.now() + u,
						version: g,
						value: e
					})),
					e
				},
				function(t) {
					return window.localStorage.removeItem(m),
					e.reject(t)
				})
			}
			var c = i.method,
			l = i.url,
			p = i.params;
			if ("GET" != c) return console.log("api cache does not support " + c),
			t(i);
			var d = Object.assign(r || {},
			{
				expiresOffset: a,
				version: o
			}),
			u = d.expiresOffset,
			g = d.version,
			m = "API-" + l;
			p && (m += m.indexOf("?") > -1 ? "&": "?" + n(p), console.log(m));
			var f = JSON.parse(window.localStorage.getItem(m));
			if (f && f.value && f.expires) {
				var h = Date.now();
				return h > f.expires || f.version != g ? s() : e.resolve(f.value)
			}
			return s()
		}
		var o = window.__version,
		a = 864e5;
		return console.log("apiCache version: " + o),
		i
	}
	n.$inject = ["$q", "$http", "$httpParamSerializer"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(t) {
			return e({
				method: "GET",
				url: i.SERVER_0 + "m/material/sysList",
				params: t
			})
		}
		function a(e) {
			return t({
				method: "POST",
				url: i.MALL_HOST + "api/product/cat/listProdByCate",
				params: e
			})
		}
		function r(e) {
			return t({
				method: "GET",
				url: i.SERVER_0 + "m/material/userList",
				params: e
			})
		}
		function s(e) {
			return t({
				method: "GET",
				url: i.SERVER_0 + "m/material/user/list/upload",
				params: e
			})
		}
		function c(e) {
			return t({
				method: "GET",
				url: i.SERVER_0 + "m/material/user/list/buy",
				params: e
			})
		}
		function l(t) {
			return e({
				method: "GET",
				withCredentials: !1,
				headers: {
					Accept: "application/xml, text/xml, */*; q=0.01"
				},
				url: t.startsWith("http") ? t: i.FILE + t
			})
		}
		function p() {
			for (var e = [1, 2, 4, 7], o = arguments.length, a = Array(o), r = 0; r < o; r++) a[r] = arguments[r];
			var s = a.filter(function(t) {
				return ! e.includes(t.fileType)
			}).map(function(e) {
				return "fileIds=" + e.id + "&fileTypes=" + e.fileType
			}).join("&");
			return s ? t({
				method: "GET",
				url: i.SERVER_0 + "m/base/file/history/save?" + s
			}) : n.reject("无数据")
		}
		function d(e) {
			return t({
				method: "POST",
				url: i.SERVER_0 + "m/base/file/info/save",
				data: e
			})
		}
		function u(e, n) {
			var o = "m/base/file/link/save?url=" + n + "&fileType=" + e,
			a = new Date;
			return o += "&time=" + a.getTime(),
			t({
				method: "GET",
				url: i.SERVER_0 + o
			})
		}
		function g(e, n) {
			return t({
				method: "POST",
				url: i.SERVER_0 + "m/base/file/delete",
				data: {
					id: e,
					backup: n
				}
			})
		}
		function m(e, n, o, a) {
			var r = "search/mall?cat=" + e + "&keyword=" + n + "&pageNo=" + o + "&pageSize=" + a;
			return t({
				withCredentials: !0,
				method: "GET",
				url: i.QUERY_SERVER + r
			}).then(function(t) {
				return 1 == e && t.data && t.data.list && t.data.list.forEach(function(e) {
					e.path = e.mid_pic
				}),
				t
			})
		}
		return {
			getSysItems: o,
			getSysMaterialItems: a,
			getSvgElement: l,
			saveFilesHistory: p,
			saveFileInfo: d,
			getUserItems: r,
			getUserPurchaseItems: c,
			getUserUploadItems: s,
			addMusicLink: u,
			deleteFile: g,
			searchMaterial: m
		}
	}
	n.$inject = ["apiCache", "$http", "$q", "HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function n(n) {
			return n.properties && n.properties.xb && (n.elements = []),
			e({
				method: "POST",
				loading: !0,
				url: t.SERVER_0 + "m/scene/save",
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(o(n))
			})
		}
		function i(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/design/" + n
			})
		}
		function a(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/createPage/" + n,
				params: {
					copy: !0,
					time: (new Date).getTime()
				}
			})
		}
		function r(n, i) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/createPage/" + n,
				params: {
					longPage: i,
					time: (new Date).getTime()
				}
			})
		}
		function s(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/delPage/" + n
			})
		}
		function c(n, i) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/pageSort",
				params: {
					id: n,
					pos: i,
					date: (new Date).getTime()
				}
			})
		}
		function l(n) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/scene/savePage",
				data: {
					id: n.id,
					sceneId: n.sceneId,
					name: n.name
				}
			})
		}
		return {
			getPage: i,
			savePage: n,
			copyPage: a,
			createPage: r,
			deletePage: s,
			sortPage: c,
			savePageName: l
		}
	}
	i.$inject = ["$http", "HOST"];
	var o = n(106).remove$key;
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e) {
		var t = Object.assign({},
		e);
		for (var n in t) t.hasOwnProperty(n) && n.startsWith("$") && delete t[n];
		return t
	}
	e.exports = {
		remove$key: n
	}
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(t) {
			var i = t.type,
			o = t.bizType;
			return e({
				method: "GET",
				url: n.SERVER_0 + "m/scene/tag/sys/list",
				params: {
					type: i,
					bizType: o
				}
			})
		}
		function a(e) {
			switch (e) {
			case 1:
				return r(1103);
			case 2:
				return r(200).then(function(e) {
					return e.data.list
				});
			case 3:
				return r(284).then(function(e) {
					return e.data.list
				});
			case 4:
				return r(216).then(function(e) {
					return e.data.list
				});
			case 7:
				return s();
			default:
				return i.reject("unknown fileType")
			}
		}
		function r(e) {
			return t({
				method:
				"POST",
				url: n.MALL_HOST + "api/category/getCategoryListById",
				params: {
					id: e
				}
			})
		}
		function s() {
			return i.resolve([{
				id: 8201,
				name: "图形",
				bizType: 8201,
				fileType: 7
			},
			{
				id: 8203,
				name: "文字",
				bizType: 8203,
				fileType: 7
			},
			{
				id: 8202,
				name: "图标",
				bizType: 8202,
				fileType: 7
			}])
		}
		function c(t, o) {
			switch (t) {
			case 7:
				return e({
					method:
					"GET",
					url: n.SERVER_0 + "m/base/file/tag/sys",
					params: {
						bizType: o
					}
				});
			default:
				return i.resolve({
					data:
					{
						list:
						[]
					}
				})
			}
		}
		function l(e) {
			switch (e) {
			case 1:
				return p();
			case 2:
			case 4:
				return i.resolve({
					data:
					{
						list:
						[]
					}
				});
			default:
				return i.reject("unknown fileType")
			}
		}
		function p() {
			return t({
				method:
				"GET",
				url: n.SERVER_0 + "m/base/file/tag/my?time" + (new Date).getTime()
			})
		}
		function d(e) {
			return t.post(n.SERVER_0 + "m/base/file/tag/create", {
				tagName: e
			})
		}
		function u(e) {
			return t.post(n.SERVER_0 + "m/base/file/tag/delete", {
				id: e
			})
		}
		function g(e) {
			return t.post(n.SERVER_0 + "m/base/file/tag/clear", {
				tagId: e
			})
		}
		function m(e) {
			return t.post(n.SERVER_0 + "m/material/userFile/deleteAll", {
				fileType: e
			})
		}
		function f(e, i) {
			return t.post(n.SERVER_0 + "m/base/file/tag/modify", {
				tagId: e,
				tagName: i
			})
		}
		function h(e, i) {
			return t.post(n.SERVER_0 + "m/base/file/tag/set", {
				tagId: e,
				fileIds: i
			})
		}
		function v(e, i) {
			return t.post(n.SERVER_0 + "m/base/file/tag/unset", {
				tagId: e,
				fileIds: i
			})
		}
		return {
			getTplTags: o,
			getSysCategories: a,
			getSysTags: c,
			getUserTags: l,
			assignTag: h,
			createTag: d,
			deleteTag: u,
			clearImgTag: g,
			modifyTagName: f,
			clearMyImg: m,
			cancelTag: v
		}
	}
	n.$inject = ["apiCache", "$http", "HOST", "$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(e) {
			return t({
				method: "GET",
				url: n.SERVER_0 + "m/scene/pageTpl/" + e + "?time=" + Date.now()
			})
		}
		function o(i, o, a) {
			var r = /tagIds:(.*)-name:(.*)/,
			s = r.exec(i) || [],
			c = s[1] || "",
			l = s[2] || "",
			p = n.SERVER_0 + "m/scene/tpl/page/list/";
			l && (p = n.QUERY_SERVER + "search/template/");
			var d = {
				method: "GET",
				url: p,
				params: {
					tagId: c,
					keyword: l,
					pageNo: o,
					pageSize: a
				}
			};
			return l ? t(d) : e(d)
		}
		function a(e, i, o) {
			return t({
				method: "GET",
				url: n.SERVER_0 + "m/scene/page/custom/list/",
				params: {
					id: e,
					pageNo: i,
					pageSize: o
				}
			})
		}
		function r() {
			return t.get(n.SERVER_0 + "m/scene/tpl/recently/used")
		}
		function s(e, i, o) {
			var a = "m/accept/task/my?pageNo=" + e + "&pageSize=" + i + "&status=" + o;
			return t.get(n.SERVER_0 + a)
		}
		function c(e) {
			var i = "m/scene/page/mytpl/save";
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + i,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(e)
			})
		}
		function l(e) {
			var i = "m/scene/page/companytpl/save";
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + i,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(e)
			})
		}
		function p(e) {
			var i = "m/scene/page/myxb/save";
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + i,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(e)
			})
		}
		function d(e, i) {
			var o = "m/promotion/order/executing/list",
			a = {
				pageNo: e,
				pageSize: i
			};
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(a)
			})
		}
		function u(e) {
			var i = "m/scene/pageTplList/" + e + "?time=" + (new Date).getTime();
			return t({
				method: "GET",
				url: n.SERVER_0 + i
			})
		}
		return {
			getPageTpls: o,
			getCustomerPageTpls: a,
			getRecentlyUsedPageTpls: r,
			getMyTaskTpls: s,
			getTpl: i,
			saveMyTpl: c,
			saveCompanyTpl: l,
			saveMyXB: p,
			getAllTask: d,
			getActivityTpls: u
		}
	}
	n.$inject = ["apiCache", "$http", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n() {
			return e.get(t.SERVER_0 + "logout")
		}
		function i() {
			return e({
				method: "GET",
				url: t.SERVER_0 + "eqs/login"
			})
		}
		function o() {
			return e.get(t.SERVER_0 + "m/u/info")
		}
		function a() {
			return e.get(t.SERVER_0 + "m/u/company/info")
		}
		function r() {
			return e.get(t.SERVER_0 + "m/u/xd")
		}
		function s(n) {
			return e({
				method: "GET",
				url: t.SERVER_0 + "m/u/member/detail",
				params: {
					userId: n
				}
			})
		}
		return {
			logout: n,
			login: i,
			getUserInfo: o,
			getCompanyInfo: a,
			getUserXd: r,
			getUserMemberDetail: s
		}
	}
	n.$inject = ["$http", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o) {
		"ngInject";
		function a(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/preview/" + n + ".data&time=" + (new Date).getTime()
			})
		}
		function r(e, t) {
			var a = 20,
			r = [],
			c = 1,
			l = !1;
			for (0 == t && (l = !0, t = 1); t > 0;) r.push(p(e, c, a)),
			t -= a,
			c += 1;
			var d = Date.now();
			return i.all(r).then(function(e) {
				var t;
				console.log(Date.now() - d);
				var i = (t = []).concat.apply(t, n(e.map(function(e) {
					return e.data.list
				}))),
				a = i.filter(function(e, t) {
					var n = i.findIndex(function(t) {
						return t.id == e.id
					});
					return n == t
				});
				return a.length != i.length && (l = !0),
				l ? o.emit("h5editor.sceneDataError") : o.remove("h5editor.sceneDataError"),
				a
			}).then(function(t) {
				return s(e, t)
			})
		}
		function s(e, t) {
			var n = !1,
			o = [];
			return t.forEach(function(e, t) {
				e.num != t + 1 && (n = !0),
				e.num = t + 1,
				o.push({
					pageId: e.id,
					num: e.num
				})
			}),
			n ? (console.log("bad page list sequence"), c({
				sceneId: e,
				pageNumStr: JSON.stringify(o)
			}).then(function() {
				return t
			})) : i.resolve(t)
		}
		function c(n) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/scene/pageNum/update",
				data: n
			})
		}
		function l(n) {
			return e.get(t.SERVER_0 + "m/scene/detail/" + n)
		}
		function p(n, i, o) {
			return e({
				method: "GET",
				url: t.SERVER_0 + "m/scene/pages/" + n,
				params: {
					pageNo: i,
					pageSize: o
				}
			})
		}
		function d(n) {
			var i = angular.copy(n);
			return angular.isObject(i.property) && (i.property = angular.toJson(i.property)),
			angular.isObject(i.bgAudio) && (i.bgAudio = angular.toJson(i.bgAudio)),
			i.image = null,
			e({
				method: "POST",
				loading: !0,
				url: t.SERVER_0 + "m/scene/saveSettings",
				withCredentials: !0,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(i)
			})
		}
		function u(n, i) {
			var o = "m/scene/publish?id=" + n;
			i && (o += (/\?/.test(o) ? "&": "?") + "checkType=" + i);
			var a = new Date;
			return o += "&time=" + a.getTime(),
			e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + o
			})
		}
		function g(n) {
			return e({
				method: "POST",
				withCredentials: !0,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				url: t.SERVER_0 + "m/scene/copyScene",
				data: $.param({
					id: n,
					editorModel: 2
				})
			}).then(function(e) {
				return e.data
			})
		}
		function m(n) {
			var i = "m/scene/pageTplList/" + n,
			o = new Date;
			return i += (/\?/.test(i) ? "&": "?") + "time=" + o.getTime(),
			e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + i
			})
		}
		function f() {
			var n = new Date,
			i = "m/scene/tag/sys/list?type=2&time=" + n.getTime();
			return e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + i
			})
		}
		function h() {
			var n = t.SERVER_0 + "base/class/scene_template_new_prices";
			return e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function v() {
			var n = t.SERVER_0 + "base/class/scene_template_large_prices";
			return e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function y() {
			var n = t.SERVER_0 + "base/class/scene_app_template_prices";
			return e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function b() {
			var n = t.SERVER_1 + "eqs/activity?all=1";
			return e({
				method: "GET",
				url: n
			})
		}
		function x() {
			var n = t.SERVER_0 + "m/scene/company/promotion";
			return e({
				method: "GET",
				url: n
			})
		}
		function w(n) {
			var i = t.SERVER_0 + "m/yqc/ad/adSourceType/get?sceneId=" + n;
			return e({
				method: "GET",
				url: i
			})
		}
		return {
			getAllPageList: r,
			getSceneMeta: l,
			getPageList: p,
			getPageTpls: m,
			getFullSceneInfo: a,
			saveSceneSettings: d,
			publishScene: u,
			copyScene: g,
			getSceneTags: f,
			getScenePrices: h,
			getSceneLargePrices: v,
			getAppScenePrice: y,
			getSceneActivities: b,
			getActivityPromStatus: x,
			getSceneAddAdType: w
		}
	}
	i.$inject = ["$http", "HOST", "$q", "clientReportService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(n) {
			var i = t.SERVER_0 + "m/scene/toll/font",
			o = new Date;
			return e({
				method: "GET",
				url: i,
				withCredentials: !0,
				params: {
					id: n,
					time: o.getTime()
				}
			})
		}
		function o(n, i) {
			var o = t.SERVER_0 + "m/font/buy/" + n;
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					license: i
				})
			})
		}
		function a(n, i) {
			var o = t.SERVER_0 + "m/font/update/" + n + "/" + i,
			a = new Date;
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				params: {
					time: a.getTime()
				}
			})
		}
		function r(n) {
			var i = t.SERVER_0 + "m/font/" + n,
			o = new Date;
			return e({
				withCredentials: !0,
				method: "GET",
				url: i,
				params: {
					time: o.getTime()
				}
			})
		}
		function s(n, i) {
			var o = t.SERVER_0 + "m/font/my",
			a = {},
			r = new Date;
			return a = n ? {
				pageNo: n,
				pageSize: i,
				time: r.getTime()
			}: {
				time: r.getTime()
			},
			e({
				withCredentials: !0,
				method: "GET",
				url: o,
				params: a
			})
		}
		function c() {
			var n = t.SERVER_0 + "m/font/my",
			i = new Date;
			return n += (/\?/.test(n) ? "&": "?") + "time=" + i.getTime(),
			e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function l(i, o) {
			if (!i) return n.resolve({
				data: {
					list: []
				}
			});
			var a = t.SERVER_0 + "m/font/info",
			r = $.param({
				fontFamilies: i,
				needLicense: o
			});
			return e({
				withCredentials: !0,
				method: "POST",
				url: a,
				data: r,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}
		return {
			checkBoughtFonts: i,
			buyFont: o,
			openCloseFontStatus: a,
			getFontType: r,
			getMyFontFamily: s,
			getMyFontList: c,
			getFontNames: l
		}
	}
	n.$inject = ["$http", "HOST", "$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o() {
			return e.get(t.SERVER_0 + "m/u/xd")
		}
		function a(o, a, r) {
			var s = "m/u/pay/xd/url?goodsId=" + o + "&type=" + a,
			c = "/upgrade/" === i.path().substring(0, 9) || "/xdBuy" === i.path();
			return c && !r && (s += "&userId=" + n.setCurrentUser().id),
			e.get(t.SERVER_0 + s)
		}
		return {
			getUserXd: o,
			getPayXdQrCode: a
		}
	}
	n.$inject = ["$http", "HOST", "userService", "$location"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(n, i) {
			var o = t.SERVER_0 + "m/material/" + i + "/buy/" + n;
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}
		function i(n) {
			var i = t.MALL_HOST + "api/m/order/save";
			return e({
				withCredentials: !0,
				method: "POST",
				url: i,
				headers: {
					"Content-Type": "application/json"
				},
				data: n
			})
		}
		function o(n) {
			var i = t.MALL_HOST + "api/m/asyncOrderCallback/callback";
			return e({
				withCredentials: !0,
				method: "POST",
				url: i,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(n)
			}).then(function(e) {
				return a(e.data.map.id)
			})["catch"](function(e) {
				return e
			})
		}
		function a(n) {
			return new Promise(function(i, o) {
				var a, r = t.MALL_HOST + "api/m/asyncOrderCallback/isOrderCallbackSuccessById",
				s = 0;
				a = window.setInterval(function() {
					e({
						withCredentials: !0,
						method: "POST",
						url: r,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						},
						data: $.param({
							id: n
						})
					}).then(function(e) {
						s++,
						1 == e.data.map.status || s <= 15 ? (window.clearInterval(a), i(e)) : (2 == e.data.map.status || 3 == e.data.map.status || s > 15) && (window.clearInterval(a), i({
							data: {
								success: !1
							}
						}))
					})["catch"](function() {
						window.clearInterval(a),
						i({
							data: {
								success: !1
							}
						})
					})
				},
				1e3)
			})
		}
		function r(n, i, o) {
			var a = t.SERVER_0 + "m/scene/resubmit/prevent/set";
			return e({
				withCredentials: !0,
				method: "POST",
				url: a,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					sceneId: n,
					elementId: i,
					status: o
				})
			})
		}
		function s(n) {
			var i = t.MALL_HOST + "api/m/order/checkPurchase";
			return e({
				withCredentials: !0,
				method: "POST",
				url: i,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					productId: n
				})
			})
		}
		function c(n) {
			var i = t.SERVER_0 + "m/font/getLicense/" + n;
			return e({
				withCredentials: !0,
				method: "GET",
				url: i
			})
		}
		function l(n, i) {
			var o = t.SERVER_0 + "m/material/user/buyList/reset";
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					fileType: n,
					fileInfo: JSON.stringify(i)
				})
			})
		}
		return {
			buyMaterial: n,
			buyClickFarmer: r,
			saveOrderToBusinessCity: i,
			checkPurchased: s,
			getFontLicense: c,
			checkProductExist: l,
			saveToMyResource: o
		}
	}
	n.$inject = ["$http", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(n, i, o) {
			var a = "m/scene/audio/transfer";
			return a += "?path=" + n,
			o && (o = Math.floor(o), a += "&start=" + i + "&duration=" + o),
			e({
				method: "POST",
				url: t.SERVER_0 + a,
				loading: !0
			})
		}
		function a(n) {
			return e({
				method: "GET",
				url: t.SERVER_0 + "m/scene/audio/cut/info?id=" + n,
				loading: !0
			})
		}
		function r(n) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/scene/audio/cut/save",
				data: n,
				loading: !0
			})
		}
		function s(o) {
			return o ? (c[o] || (c[o] = Date.now()), e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + "m/scene/audio/status?pid=" + o
			}).then(function(e) {
				var t = e.data.map.code;
				switch (t) {
				case 0:
					return e.data.map.path;
				case 1:
				case 2:
					return Date.now() - c[o] > 6e4 ? n.reject("裁切失败") : i(function() {
						return s(o)
					},
					2e3);
				case 3:
				case 4:
				default:
					return n.reject("裁切失败")
				}
			})):
			n.reject()
		}
		var c = {};
		return {
			crop: o,
			getCropInfo: a,
			saveCropInfo: r,
			pollingStatus: s
		}
	}
	n.$inject = ["$http", "HOST", "$q", "$timeout"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(n) {
			return t({
				method: "GET",
				url: e.SERVER_0 + "m/promotion/order/statistics",
				params: {
					orderId: n
				}
			})
		}
		function i(n) {
			return t({
				method: "POST",
				url: e.SERVER_0 + "m/accept/task/create",
				data: {
					orderId: n
				}
			})
		}
		function o(n) {
			var i = "m/accept/task/" + n;
			return t({
				withCredentials: !0,
				method: "GET",
				url: e.SERVER_0 + i,
				params: {
					time: (new Date).getTime()
				}
			})
		}
		function a(n) {
			var i = "m/promotion/order/xb",
			o = {
				orderId: n,
				time: (new Date).getTime()
			};
			return t({
				withCredentials: !0,
				method: "GET",
				url: e.SERVER_0 + i,
				params: o
			}).then(function(e) {
				if (200 === e.data.code) {
					var t = {
						orderTpl: e.data.obj
					};
					return t
				}
				return {}
			})
		}
		return {
			orderAttendCount: n,
			receiveOrder: i,
			getTaskDetail: o,
			getTemplate: a
		}
	}
	n.$inject = ["HOST", "$http"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(n) {
			return e({
				method: "GET",
				withCredentials: !0,
				url: t.SERVER_0 + "m/yqc/ad/showStatus/get",
				params: {
					sceneId: n,
					time: Date.now()
				}
			})
		}
		function o(i, o) {
			return [1, -1, -2].indexOf(o) === -1 ? n.reject("非法的 yqcAdStatus " + o) : e({
				method: "POST",
				url: t.SERVER_0 + "m/yqc/ad/adTask/create",
				params: {
					sceneId: i,
					status: o
				}
			}).then(function(e) {
				return !! (e && e.data && e.data.obj) || n.reject(!1)
			})
		}
		return {
			getYqcInfo: i,
			setYqcAdStatus: o
		}
	}
	n.$inject = ["$http", "HOST", "$q"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.const", []).constant("HOST", n(118)).constant("TYPE", n(120)).constant("ROLE", n(121)).constant("SCENE_TYPES", n(122)).constant("PAGE_MODES", n(123)).constant("FILE_TYPE", n(124)).constant("WARN_TYPE", n(125)).constant("AUTHORITY", n(126)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		return e && e.startsWith("//") ? a + e: e
	}
	var o = n(119),
	a = window.location.protocol;
	"file:" == a && (a = "http:"),
	Object.keys(o).forEach(function(e) {
		var t = o[e];
		"string" == typeof t && (o[e] = i(t)),
		Array.isArray(e) && t.forEach(function(e, n) {
			"string" == typeof e && (t[n] = i(e))
		})
	});
	var r = o.HOST,
	s = o.SERVER_0,
	c = o.SERVER_0_VIP,
	l = o.SERVER_1,
	p = o.SERVER_2,
	d = o.PAY_HOST,
	u = o.MALL_HOST,
	g = o.QUERY_SERVER,
	m = o.BIG_DATA,
	f = o.FILE,
	h = o.MALL_BUY_ID;
	if (! (r && s && c && l && p && d && u && g && f && h)) throw new Error("lack of some HOST url");
	var v = {
		QQMap: "//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",
		datePicker: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",
		moment: "//lib.eqh5.com/moment.js/2.15.2/moment.min.js",
		datePickerCss: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",
		imgJcropJs: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",
		imgJcropCss: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",
		plupload: "//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",
		qiniu: "//lib.eqh5.com/qiniu-js/1.0.17.1/qiniu.min.js",
		canvg: "//lib.eqh5.com/canvg/0.0.1/canvg.min.js",
		html2canvas: "//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js"
	},
	y = {
		HOST: r,
		SERVER_0: s,
		SERVER_0_VIP: c,
		SERVER_1: l,
		SERVER_2: p,
		PAY_HOST: d,
		MALL_HOST: u,
		QUERY_SERVER: g,
		BIG_DATA: m,
		FILE: f,
		MALL_BUY_ID: h,
		PATH: v
	};
	console.log("HOST", y),
	e.exports = y
},
function(e, t) {
	"use strict";
	e.exports = {
		buildDir: "build/",
		publicHost: "http://as.eqh5.com/",
		publicPath: "http://as.eqh5.com/c/",
		HOST: "http://www.eqxiu.com/",
		SERVER_0: "http://service.eqxiu.com/",
		SERVER_0_VIP: "http://vservice.eqxiu.com/",
		SERVER_1: "http://s1.eqxiu.com/",
		SERVER_2: "http://s2.eqxiu.com/",
		SERVER_6: "http://s6.eqxiu.com/",
		PAY_HOST: "http://www.eqxiu.com/",
		MALL_HOST: "http://store.eqxiu.com/",
		BIG_DATA: "http://datalog.eqxiu.com/",
		QUERY_SERVER: "http://search.eqxiu.com/",
		FILE: "http://res1.eqh5.com/",
		MALL_BUY_ID: "10002"
	}
},
function(e, t) {
	"use strict";
	e.exports = {
		sceneTypes: [{
			name: "行业",
			value: "101"
		},
		{
			name: "个人",
			value: "102"
		},
		{
			name: "企业",
			value: "103"
		},
		{
			name: "节假",
			value: "104"
		},
		{
			name: "风格",
			value: "105"
		},
		{
			name: "品牌",
			value: "106"
		}],
		pageTpls: {
			1101 : [{
				id: 1,
				name: "图文",
				bizType: 1101
			},
			{
				id: 2,
				name: "图集",
				bizType: 1101
			},
			{
				id: 4,
				name: "文字",
				bizType: 1101
			},
			{
				id: 5,
				name: "图表",
				bizType: 1101
			}],
			1102 : [{
				id: 6,
				name: "报名表",
				bizType: 1102
			},
			{
				id: 8,
				name: "留言",
				bizType: 1102
			},
			{
				id: 9,
				name: "联系",
				bizType: 1102
			}],
			1103 : [{
				id: 15,
				name: "黑白",
				bizType: 1103
			},
			{
				id: 16,
				name: "红色",
				bizType: 1103
			},
			{
				id: 17,
				name: "怀旧",
				bizType: 1103
			},
			{
				id: 18,
				name: "现代",
				bizType: 1103
			},
			{
				id: 19,
				name: "扁平化",
				bizType: 1103
			},
			{
				id: 120,
				name: "黄色",
				bizType: 1103
			},
			{
				id: 121,
				name: "绿色",
				bizType: 1103
			},
			{
				id: 122,
				name: "紫色",
				bizType: 1103
			},
			{
				id: 123,
				name: "黑色",
				bizType: 1103
			},
			{
				id: 124,
				name: "白色",
				bizType: 1103
			},
			{
				id: 125,
				name: "其他",
				bizType: 1103
			},
			{
				id: 260,
				name: "English",
				bizType: 1103
			},
			{
				id: 262,
				name: "Android",
				bizType: 1103
			}]
		},
		audioTypes: [{
			id: 12918,
			name: "安静",
			value: "2"
		},
		{
			id: 12919,
			name: "欢快",
			value: "3"
		},
		{
			id: 12920,
			name: "甜蜜",
			value: "4"
		},
		{
			id: 48372,
			name: "伤感",
			value: "5"
		},
		{
			id: 48373,
			name: "励志",
			value: "6"
		},
		{
			id: 48374,
			name: "美好",
			value: "7"
		},
		{
			id: 48375,
			name: "轻松",
			value: "8"
		}],
		soundTypes: [{
			id: 29331,
			name: "交通",
			value: "2"
		},
		{
			id: 48376,
			name: "人物",
			value: "3"
		},
		{
			id: 48377,
			name: "生活",
			value: "4"
		},
		{
			id: 48378,
			name: "自然",
			value: "5"
		},
		{
			id: 48379,
			name: "动物",
			value: "6"
		},
		{
			id: 48380,
			name: "科技",
			value: "7"
		},
		{
			id: 48381,
			name: "卡通",
			value: "8"
		},
		{
			id: 48382,
			name: "其它",
			value: "9"
		}]
	}
},
function(e, t) {
	"use strict";
	e.exports = {}
},
function(e, t) {
	"use strict";
	e.exports = [{
		name: "行业",
		value: "101"
	},
	{
		name: "个人",
		value: "102"
	},
	{
		name: "企业",
		value: "103"
	},
	{
		name: "节假",
		value: "104"
	},
	{
		name: "风格",
		value: "105"
	},
	{
		name: "品牌",
		value: "106"
	}]
},
function(e, t) {
	"use strict";
	e.exports = [{
		name: "上下翻页",
		type: 0
	},
	{
		name: "上下惯性翻页",
		type: 1
	},
	{
		name: "左右惯性翻页",
		type: 3
	},
	{
		name: "左右翻页",
		type: 4
	},
	{
		name: "左右连续翻页",
		type: 5
	},
	{
		name: "立体翻页",
		type: 6
	},
	{
		name: "卡片翻页",
		type: 7
	},
	{
		name: "放大翻页",
		type: 8
	},
	{
		name: "交换翻页",
		type: 9
	},
	{
		name: "翻书翻页",
		type: 10
	},
	{
		name: "上下连续翻页",
		type: 11
	},
	{
		name: "掉落翻页",
		type: 12
	},
	{
		name: "淡入翻页",
		type: 13
	}]
},
function(e, t) {
	"use strict";
	e.exports = {
		image: 1,
		audio: 2,
		video: 3,
		text: 4,
		word: 5,
		svg: 7
	}
},
function(e, t) {
	"use strict";
	e.exports = {
		normal: "normal",
		warn: "warning",
		alert: "alerting"
	}
},
function(e, t) {
	"use strict";
	var n = {
		pageScroll: [1],
		loadingLogo: [1, 3, 4, 5, 51, 98, 99],
		corandingBottomLogo: [5, 51],
		shareApplyAppTempButton: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51, 98, 602],
		shareApplyAppTempEntrance: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51],
		shareApplyPCTempEntrance: [602],
		shareApplyPCTempNormal: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51, 98],
		tplShowCompany: [3, 4, 5, 51, 98, 99],
		disableLongPage: [1, 2],
		showCompManage: [1],
		company: [1, 3, 4, 5, 51, 98, 99],
		saveTplEditor: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98],
		saveTplCompany: [201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 2, 99],
		saveTplPersonal: [2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109],
		TplCenterCompanyTpl: [3, 4, 5, 51, 98, 99, 602],
		richTxtTool: [602],
		disableBuyPersonalFont: [5, 2, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109],
		disablePsd: [1, 2, 21, 602],
		toolZoom: [1, 2, 21],
		deleteImgTips: [1, 2, 21],
		styleBackground: [602],
		styleOpacity: [602],
		styleFixedComp: [602],
		stylePaddingTop: [602],
		styleBoxShadow: [602],
		styleBoxBorderRadian: [602],
		styleBoxBorderRotate: [602],
		styleLineHeight: [602],
		styleFillFontWeight: [602],
		styleFillFontItalic: [602],
		styleFillUnderLine: [602],
		styleFillLineThrough: [602],
		styleFillAddLink: [602],
		styleFillRemoveLink: [602],
		styleFillLetterSpacing: [602],
		styleFillName: [602],
		styleFillStatus: [602],
		styleFillRemark: [602],
		animationTyper: [602],
		styleTrigger: [602],
		styleBoxBorderStyle: [602],
		styleAnimationOnly: [602],
		compAtlas: [602],
		hideAdvancedShortCut: [5, 51, 602],
		compPV: [602],
		compWechat: [602],
		compRadio: [602],
		compMultiRadio: [602],
		compCount: [602],
		compDropdown: [602],
		compChart: [602],
		compComment: [602],
		compVideo: [602],
		compTime: [602],
		compVote: [602],
		compAdvertisement: [1, 5, 2, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 602],
		contextMenuLink: [602],
		contextMenuTrigger: [602],
		resizeRotate: [602],
		templateMaterial: [602],
		personal: [2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98, 99, 602]
	};
	e.exports = {
		authority: n
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.directives", [n(128), n(129), n(130), n(131), n(132), n(133)]).directive("outsideClick", n(134)).directive("eqxLoadingImage", n(135)).directive("authority", n(136)).directive("hoverElement", n(137)).directive("bigDataEvent", n(138)).directive("compile", ["$compile", "$timeout",
	function(e, t) {
		"ngInject";
		return {
			restrict: "A",
			link: function(n, i) {
				t(function() {
					e(i.contents())(n)
				})
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("eqx.directives.scroll", []).directive("eqdScroll",
	function() {
		"ngInject";
		return function(e, t, n) {
			t.css({
				position: "relative",
				overflow: "hidden"
			});
			var i, o = {
				mouseWheel: !0,
				scrollbars: !0,
				interactiveScrollbars: !0,
				probeType: 2,
				bounce: !1,
				disableMouse: !0,
				disableTouch: !0,
				preventDefault: !1
			},
			a = new IScroll(t.get(0), o),
			r = e.$watch(function() {
				clearTimeout(i),
				i = setTimeout(function() {
					a.refresh()
				},
				100)
			});
			n.refresh && (a.on("scrollStart",
			function() {
				t.children().on("mousewheel",
				function() {
					a.y <= a.maxScrollY + 200 && e.$eval(n.refresh)
				})
			}), a.on("scrollEnd",
			function() {
				t.children().unbind("mousewheel")
			})),
			n.changePos && a.on("scrollEnd",
			function() {
				e.pos = {
					y: a.y
				},
				e.$eval(n.changePos)
			}),
			t.on("$destroy",
			function() {
				a.destroy(),
				a = null,
				r(),
				clearTimeout(i)
			}),
			e.$on("scroll.refresh." + n.scroll,
			function() {
				i = setTimeout(function() {
					a.refresh()
				},
				100)
			}),
			e.$on("scroll.scrollTo",
			function(e, t, n) {
				a.scrollTo(t, n)
			})
		}
	}).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directive.string", []).directive("eqxStr",
	function() {
		"ngInject";
		return {
			require: "ngModel",
			link: function(e, t, n, i) {
				i.$formatters.push(function(e) {
					return angular.isString(e) ? e.trim() : e
				}),
				i.$parsers.push(function(e) {
					return angular.isString(e) ? e.trim() : e
				})
			}
		}
	}).filter("maxLength",
	function() {
		"ngInject";
		return function(e, t) {
			if (e) return e.length <= t ? e: e.substr(0, t) + "…"
		}
	}).directive("checkCount", ["validCharacterNumFilter",
	function(e) {
		"ngInject";
		return {
			restrict: "EA",
			require: "ngModel",
			link: function(t, n, i, o) {
				var a = parseInt(i.checkCount, 10),
				r = e;
				o.$viewChangeListeners.push(function() {
					if (r(o.$modelValue) > a) {
						var e = o.$modelValue.replace(/[^\x00-\xff]/g, "ξξ"),
						t = e.substring(0, a).replace(/ξξ/g, "灪").replace("ξ", "").length;
						o.$setViewValue(o.$modelValue.substring(0, t)),
						o.$render()
					}
				})
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directive.integer", []).directive("eqxInteger",
	function() {
		"ngInject";
		return {
			require: "ngModel",
			link: function(e, t, n, i) {
				var o = parseInt(n.eqxInteger || "10");
				i.$formatters.push(function(e) {
					return angular.isNumber(e) ? e.toString(o) : e
				}),
				i.$parsers.push(function(e) {
					return angular.isString(e) ? parseInt(e, o) : e
				})
			}
		}
	}).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directive.slideInput", []).directive("eqdInputNumber",
	function() {
		"ngInject";
		function e(e, l, p, d) {
			l.on("$destroy",
			function() {
				l.unbind("mousedown")
			});
			var u = "string" == typeof p.min ? p.min: -Number.MAX_VALUE,
			g = "string" == typeof p.max ? p.max: Number.MAX_VALUE,
			m = "string" == typeof p.unit ? p.unit: "px",
			f = "string" == typeof p.step ? p.step: "1",
			h = 0;
			f.indexOf(".") > -1 && (h = f.split(".")[1].length),
			"px" == m ? (d.$parsers.push(t), d.$formatters.push(n)) : "deg" == m ? (m = "", d.$parsers.push(i), d.$formatters.push(o)) : "%" == m ? (d.$parsers.push(a), d.$formatters.push(r)) : d.$parsers.push(s),
			l.mousedown(function(t) {
				function n(t) {
					t.preventDefault(),
					o = t.pageX - r;
					var n = +(a + o * f).toFixed(h);
					n >= u && n <= g ? n += m: n < u ? n = u + m: n > g && (n = g + m),
					d.$viewValue != n && (d.$setViewValue(n), d.$render(), e.$apply())
				}
				function i() {
					c.unbind("mousemove", n),
					c.unbind("mouseup", i)
				}
				var o, a = parseFloat(l.val()) || 0,
				r = t.pageX;
				c.mousemove(n),
				c.mouseup(i)
			}).keydown(function(e) {
				var t = e.keyCode;
				return !! (t >= 48 && t <= 57 || t >= 96 && t <= 105 || 36 == t || 35 == t || 37 == t || 39 == t || 8 == t || 46 == t)
			})
		}
		function t(e) {
			return e = /-?\d+/.exec(e),
			e ? parseFloat(e) + "px": "0"
		}
		function n(e) {
			return /-?\d+/.exec(e) + "px"
		}
		function i(e) {
			return e = /\d+/.exec(e),
			e ? "rotateZ(" + parseFloat(e) + "deg)": "rotateZ(0)"
		}
		function o(e) {
			return /\d+/.exec(e)
		}
		function a(e) {
			return e = /\d+/.exec(e),
			e ? e / 100 + "": "0"
		}
		function r(e) {
			return 100 * e + "%"
		}
		function s(e) {
			return "" === e && (e = "0"),
			parseFloat(e) + ""
		}
		var c = $(document);
		return {
			restrict: "E",
			require: "ngModel",
			template: '<input class="eqc-input-number"/>',
			replace: !0,
			link: e
		}
	}).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directives.qrcode", []).directive("qrCode", ["HOST", "EqxCore",
	function(e, t) {
		"ngInject";
		return {
			restrict: "A",
			scope: {
				qrUrl: "@"
			},
			link: function(e, n, i) {
				var o = t.loader;
				e.$watch("qrUrl",
				function(e) {
					$("canvas", n).length > 0 && $("canvas", n).remove(),
					e && o.$loadQRCode().then(function() {
						n.qrcode({
							render: "canvas",
							width: 180,
							height: 180,
							text: e + (/\?/.test(e) ? "&": "?") + "eqrcode=1"
						})
					})
				})
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			scope: {},
			replace: !0,
			template: '<em class="effect-tip heart" ng-if="!vm.show"></em>',
			link: function(t, n, i) {
				var o = i.eqxRedDot;
				t.vm = {
					get show() {
						return e.getItem(o)
					}
				}
			}
		}
	}
	function i(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t, n, i) {
				var o = i.eqxRedDotTrigger;
				n.on("click",
				function() {
					t.$apply(function() {
						e.getItem(o) || e.setItem(o, !0)
					})
				})
			}
		}
	}
	n.$inject = ["storageService"],
	i.$inject = ["storageService"],
	e.exports = angular.module("common.redDot", []).directive("eqxRedDot", n).directive("eqxRedDotTrigger", i).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		return {
			link: function(n, i, o) {
				var a = o.outsideClick,
				r = function(e) {
					var t = i.find(e.target).length > 0;
					t || n.$apply(a)
				};
				t(function() {
					e.on("click", r),
					i.on("$destroy",
					function() {
						e.off("click", r)
					})
				},
				0)
			}
		}
	}
	n.$inject = ["$document", "$timeout"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			restrict: "EA",
			scope: {},
			template: '<div style=" background: no-repeat center;width: 100%;height: 100%;"></div>',
			replace: !0,
			link: function(e, t, n) {
				var i = "data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E";
				t.css({
					"background-image": "url(" + i + ")",
					"background-size": "50%"
				});
				var o = new Image;
				o.onload = function() {
					var e = t.parent("li"),
					i = e.width(),
					o = e.height();
					this.width <= i && this.height <= o ? t.css({
						"background-size": "auto"
					}) : t.css({
						"background-size": "contain"
					}),
					t.css({
						"background-image": "url(" + n.url + ")"
					})
				},
				o.src = n.url
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t, n, i) {
				e.permission(i.authority) && n.hide()
			}
		}
	}
	n.$inject = ["authorityService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e(e, t) {
			var n = $('<div class="hover-element-flash"><div class="red-border"></div></div>');
			t.hover(function() {
				var t = $("#inside_" + e.hoverElement);
				n.appendTo(t)
			},
			function() {
				n.remove()
			})
		}
		return {
			restrict: "A",
			scope: {
				hoverElement: "@hoverElement"
			},
			link: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "EA",
			controller: function() {},
			link: function(t, n) {
				n.on("click",
				function() {
					var i = n.attr("categoryTwoId"),
					o = n.attr("categoryTwo"),
					a = n.attr("categoryThreeId"),
					r = n.attr("categoryThree"),
					s = n.attr("itemMaps");
					if (s) try {
						s = JSON.parse(s)
					} catch(c) {
						console.warn(c)
					}
					var l = n.attr("actionType");
					t.$apply(function() {
						return e.addSendList(i, o, a, r, s, l)
					})
				})
			}
		}
	}
	n.$inject = ["bigDataService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("service.security", ["eqx.ng.auth", "eqx.ng.dialog"]).factory("securityRetryQueue", n(140)).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = [],
		i = {
			onItemAddedCallbacks: [],
			hasMore: function() {
				return n.length > 0
			},
			pushRetryFn: function(o, a) {
				var r = e.defer(),
				s = {
					reason: a,
					retry: function() {
						return e.when(o()).then(function(e) {
							r.resolve(e)
						},
						function(e) {
							r.reject(e)
						})
					},
					cancel: function() {
						r.reject("manual cancel")
					}
				};
				return n.push(s),
				angular.forEach(i.onItemAddedCallbacks,
				function(e) {
					try {
						e(s)
					} catch(n) {
						t.error("securityRetryQueue.push(retryItem): callback threw an error" + n)
					}
				}),
				r.promise
			},
			cancelAll: function() {
				for (; i.hasMore();) n.shift().cancel()
			},
			retryAll: function() {
				for (; i.hasMore();) n.shift().retry()
			}
		};
		return i
	}
	n.$inject = ["$q", "$log"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource", [n(142), n(153), n(156), n(244)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource.service", []).factory("imageService", n(143)).factory("shapeService", n(146)).factory("musicService", n(147)).factory("fontService", n(148)).factory("imgGroupService", n(149)).factory("recentlyUseService", n(150)).factory("imgUtil", n(151)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, o, a, s) {
		var c = n(145),
		l = r(e, t, o, a, s),
		p = l.$getTags,
		d = l.addUseHistory;
		return l.config = e,
		l.$getCategories = function() {
			return l.categories.length > 5 ? t.resolve(l.categories) : o.getSysCategories(e.fileType).then(function(e) {
				var t, n = e.data.list.map(function(e) {
					var t = e.id,
					n = e.name;
					return {
						id: t,
						name: n,
						list: []
					}
				});
				return (t = l.categories).splice.apply(t, [1, 0].concat(i(n))),
				l.categories
			})
		},
		l.$getTags = function(t) {
			return p(t).then(function(n) {
				var i = l.getCategory(t);
				return i && 1301 == i.bizType && "bgColor" !== i.list[i.list.length - 1].id && n.push({
					bizType: i.bizType,
					id: "bgColor",
					list: {
						1 : c.slice(0, 18),
						2 : c.slice(18)
					},
					name: "纯色背景",
					pageSize: e.pageSize,
					count: 35,
					isLastPage: !0,
					isBusy: !1
				}),
				n
			})
		},
		l.addUseHistory = function() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			t = t.filter(function(e) {
				return e.tmbPath
			}),
			d.apply(void 0, i(t))
		},
		l
	}
	function a(e, t, n, i) {
		"ngInject";
		return {
			image: o({
				fileType: 1,
				pageSize: 18,
				name: "image",
				showSysTags: !0,
				showUserTags: !0,
				showRecentTags: !1,
				cat: 1,
				newest: 1103
			},
			e, t, n, i),
			bg: o({
				fileType: 1,
				pageSize: 18,
				name: "image",
				showSysTags: !0,
				showUserTags: !0,
				showRecentTags: !1,
				cat: 1,
				newest: 1103
			},
			e, t, n, i)
		}
	}
	a.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService"];
	var r = n(144);
	e.exports = a
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o, a, r) {
		function s() {
			return q.length > 5 ? t.resolve(q) : i.getSysCategories(v).then(function(e) {
				return e = e.map(function(e) {
					var t = e.id,
					n = e.name,
					i = e.bizType;
					return {
						id: t,
						name: n,
						bizType: i,
						showTags: x,
						list: []
					}
				}),
				q.splice.apply(q, [1, 0].concat(n(e))),
				q
			})
		}
		function c() {
			for (var e = arguments.length,
			t = Array(e), i = 0; i < e; i++) t[i] = arguments[i];
			t = t.filter(function(e) {
				return e && e.id
			}),
			$.addItems.apply($, n(t)),
			o.saveFilesHistory.apply(o, n(t))
		}
		function l(e) {
			return q.find(function(t) {
				return t.id == e
			})
		}
		function p(e) {
			var o = l(e);
			if (!o) return t.reject("no such category");
			if (o.list.length) return t.resolve(o.list);
			if (e == T.my) var a = i.getUserTags(v);
			else a = i.getSysTags(v, o.bizType);
			return a.then(function(e) {
				var t, i = e.data.list.map(function(e) {
					var t = e.bizType,
					n = e.createTime,
					i = e.createUser,
					o = e.id,
					a = e.name,
					r = e.sort;
					return {
						bizType: t,
						createTime: n,
						createUser: i,
						id: o,
						name: a,
						sort: r,
						pageSize: y,
						list: {},
						count: -1,
						isLastPage: !1,
						isBusy: !1
					}
				});
				return i.unshift({
					bizType: o.bizType,
					id: o.id + "-all",
					list: {},
					name: "全部",
					pageSize: y,
					count: -1,
					isLastPage: !1,
					isBusy: !1
				}),
				(t = o.list).push.apply(t, n(i)),
				o.list
			})
		}
		function d(e, t) {
			var n = g(e, t);
			n && Object.assign(n, {
				list: {},
				count: -1,
				isLastPage: !1,
				isBusy: !1
			})
		}
		function u(n, i) {
			var a = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2],
			s = arguments[3],
			c = q.find(function(e) {
				return e.id === n
			});
			if (!c) return t.resolve([]);
			var l = c.list.find(function(e) {
				return e.id === i
			});
			if (!l) return t.resolve([]);
			if ("my" === n && "my-all" === i) {
				if (l.list[a] && l.list[a].length === l.pageSize) return t.resolve(l.list[a])
			} else if (l.list[a]) return t.resolve(l.list[a]);
			if (l.isBusy) return t.resolve([]);
			var p = l.pageSize,
			d = l.bizType,
			u = l.count;
			if (u > 0 && (a - 1) * p > u) return t.resolve([]);
			if (l.isBusy = !0, i === n + "-all" && (i = void 0), n === T.my) var g = o.getUserUploadItems({
				fileType: v,
				tagId: i,
				pageNo: a,
				pageSize: p
			});
			else if (n === T.search) g = o.searchMaterial(e.cat, s, a, p);
			else if (n === T.myPurchase) g = e.cat && 3 === e.cat ? r.getMyFontFamily(a, p) : o.getUserPurchaseItems({
				fileType: v,
				pageNo: a,
				pageSize: p
			});
			else {
				var m = {
					music: 3,
					sound: 3,
					image: 1,
					font: 4
				};
				g = void 0 != m[e.name] ? o.getSysMaterialItems({
					attrGroupId: m[e.name],
					category: n,
					pageNo: a,
					pageSize: p
				}) : o.getSysItems({
					fileType: v,
					bizType: d,
					tagId: i,
					pageNo: a,
					pageSize: p
				})
			}
			return g.then(function(t) {
				var i = t.data.map || {
					count: 0,
					pageSize: p,
					pageNo: a
				},
				o = [];
				o = "image" == e.name && n != T.my && n != T.myPurchase && n != T.recently ? t.data.list.map(function(e) {
					return {
						id: e.id,
						libType: e.brandId,
						name: e.title,
						path: e.mid_pic,
						price: e.price,
						sort: e.sort,
						status: e.status,
						tagNames: e.tags,
						tmbPath: e.tmbPath,
						fileType: v
					}
				}) : t.data.list;
				var r = i.pageNo;
				return r !== a && console.error("newPageNo != pageNo"),
				l.count = i.count,
				l.isLastPage = i.pageSize > o.length,
				l.list[a] = o,
				l.list[a]
			})["catch"](function() {
				return []
			})["finally"](function() {
				l.isBusy = !1
			})
		}
		function g(e, t) {
			var n = l(e);
			if (n) return n.list.find(function(e) {
				return e.id === t
			})
		}
		function m(e) {
			return o.saveFileInfo(e).then(function(t) {
				var n = t.data.obj;
				return 0 !== e.tagId && f(e.tagId, n),
				f(T.my + "-all", n),
				n
			})
		}
		function f(e, t) {
			var n = g(T.my, e);
			if (n) {
				var i = Object.keys(n.list).map(function(e) {
					return n.list[e]
				}).reduce(function(e, t) {
					return e.concat(t)
				},
				[t]);
				n.count++;
				for (var o = 1; i.length;) n.list[o++] = i.splice(0, y)
			}
		}
		var h = e.name,
		v = e.fileType,
		y = e.pageSize,
		b = e.showSysTags,
		x = void 0 === b || b,
		w = e.showUserTags,
		S = void 0 === w || w,
		k = e.showRecentTags,
		C = void 0 !== k && k,
		T = {
			my: "my",
			myPurchase: "myPurchase",
			recently: "recently",
			newest: e.newest || "newest",
			search: "search"
		},
		$ = a.get(h, y),
		q = [{
			id: T.newest,
			name: "最新",
			bizType: 0,
			showTags: !1,
			list: [{
				bizType: 0,
				id: T.newest + "-all",
				list: {},
				name: "全部",
				pageSize: y,
				count: -1,
				isLastPage: !1,
				isBusy: !1
			}]
		},
		{
			id: T.search,
			name: "搜索",
			bizType: 0,
			showTags: !1,
			list: [{
				bizType: 0,
				id: T.search + "-all",
				list: {},
				name: "全部",
				pageSize: y,
				count: -1,
				isLastPage: !1,
				isBusy: !1
			}]
		},
		{
			id: T.my,
			name: "我的",
			bizType: 0,
			showTags: S,
			list: []
		},
		{
			id: T.myPurchase,
			name: "我的购买",
			bizType: 0,
			showTags: !1,
			list: []
		},
		{
			id: T.recently,
			name: "最近使用",
			bizType: 0,
			showTags: C,
			list: [{
				bizType: 0,
				id: T.recently + "-all",
				list: {
					1 : $.getList()
				},
				name: "全部",
				pageSize: y,
				count: y,
				isLastPage: !0,
				isBusy: !1
			}]
		}];
		return {
			categories: q,
			$getCategories: s,
			getCategory: l,
			$getTags: p,
			getTag: g,
			$getMoreItems: u,
			addUseHistory: c,
			clearTag: d,
			saveFileInfo: m,
			ID: T,
			addItem: f,
			config: e
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = [{
		color: "#6366C3"
	},
	{
		color: "#29A1D6"
	},
	{
		color: "#332E42"
	},
	{
		color: "#DBF3FF"
	},
	{
		color: "#434A54"
	},
	{
		color: "#000000"
	},
	{
		color: "#F1F03E"
	},
	{
		color: "#FCF08E"
	},
	{
		color: "#972D53"
	},
	{
		color: "#724192"
	},
	{
		color: "#967BDC"
	},
	{
		color: "#EC87C1"
	},
	{
		color: "#D870AF"
	},
	{
		color: "#F6F7FB"
	},
	{
		color: "#666C78"
	},
	{
		color: "#ABB1BD"
	},
	{
		color: "#CCD0D9"
	},
	{
		color: "#E6E9EE"
	},
	{
		color: "#48CFAE"
	},
	{
		color: "#36BC9B"
	},
	{
		color: "#3BAEDA"
	},
	{
		color: "#50C1E9"
	},
	{
		color: "#AC92ED"
	},
	{
		color: "#4B89DC"
	},
	{
		color: "#4B89DC"
	},
	{
		color: "#5D9CEC"
	},
	{
		color: "#8DC153"
	},
	{
		color: "#ED5564"
	},
	{
		color: "#DB4453"
	},
	{
		color: "#FB6E52"
	},
	{
		color: "#FFCE55"
	},
	{
		color: "#F6BB43"
	},
	{
		color: "#E9573E"
	},
	{
		color: "#9FF592"
	},
	{
		color: "#A0D468"
	}]
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		function a(t) {
			return r[t] ? e.resolve(JSON.parse(JSON.stringify(r[t]))) : n.getSvgElement(t).then(function(e) {
				for (var n, i = $(e.data), o = i.length, a = 0; a < o; a++) if ("svg" === i[a].tagName) {
					n = i[a];
					break
				}
				var s = parseFloat($(n).attr("width")),
				c = parseFloat($(n).attr("height"));
				s > c ? (s = 100 * s / c + "px", c = "100px") : (c = 100 * c / s + "px", s = "100px");
				var l = $(n).find("[fill], [style*='fill']"),
				p = [],
				d = [],
				u = {};
				$.each(l,
				function(e, t) {
					var n = $(t).attr("style");
					if (n) {
						for (var i = n.split(";"), o = 0, a = i.length; o < a; o++) if (i[o].indexOf("fill:") >= 0) {
							d.push(i[o].split(":")[1]);
							break
						}
					} else d.push($(t).attr("fill"))
				});
				for (var g = 0; g < d.length; g++) u[d[g]] || (u[d[g]] = 1, "none" !== d[g] ? p.push({
					fill: d[g],
					svgFill: d[g]
				}) : p.push({
					fill: "",
					svgFill: "none"
				}));
				for (var m = 0; m < p.length; m++) {
					var f = [];
					$.each(l,
					function(e, t) {
						var n, i = $(t).attr("style");
						if (i) {
							for (var o = i.split(";"), a = 0, r = o.length; a < r; a++) if (o[a].indexOf("fill:") >= 0) {
								n = o[a].split(":")[1];
								break
							}
						} else n = $(t).attr("fill");
						n === p[m].svgFill && f.push(e)
					}),
					p[m].elements = f
				}
				return r[t] = {
					width: s,
					height: c,
					items: p
				}
			})
		}
		var r = {},
		s = {
			fileType: 7,
			pageSize: 18,
			name: "shape",
			showSysTags: !0,
			showUserTags: !1,
			showRecentTags: !1
		},
		c = o(s, e, t, n, i);
		return c.config = s,
		c.parse = a,
		c
	}
	i.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService"];
	var o = n(144);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, o) {
		function r(t) {
			return i.addMusicLink(e.fileType, t)
		}
		function s(e) {
			return i.deleteFile(e)
		}
		var c = a(e, t, n, i, o);
		return c.addMusicLink = r,
		c.deleteMySound = s,
		c.config = e,
		c
	}
	function o(e, t, n, o) {
		"ngInject";
		return {
			2 : i({
				fileType: 2,
				pageSize: 10,
				name: "music",
				showSysTags: !1,
				showUserTags: !1,
				showRecentTags: !1,
				cat: 4,
				newest: 200
			},
			e, t, n, o),
			4 : i({
				fileType: 4,
				pageSize: 10,
				name: "sound",
				showSysTags: !1,
				showUserTags: !1,
				showRecentTags: !1,
				cat: 216,
				newest: 216
			},
			e, t, n, o)
		}
	}
	o.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService"];
	var a = n(144);
	e.exports = o
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s, c) {
		"ngInject";
		function l() {
			a.getFontNames(p().join()).then(function(e) {
				for (var t = 0; t < e.data.list.length; t++) {
					var n = e.data.list[t].fontFamily;
					if (v.indexOf(n) === -1) {
						v.push(n);
						var i = "@font-face{font-family:'" + n + "';src: url('" + s.FILE + e.data.list[t].woffPath + "') format('woff'), url('" + s.FILE + e.data.list[t].ttfPath + "') format('truetype');}";
						d(i)
					}
				}
			})
		}
		function p() {
			for (var e = /font-family:(.*?);/g,
			t = null,
			n = [], i = r.getCurrentPage().pageJson.elements, o = 0; o < i.length; o++) if ("2" == i[o].type) for (var a = i[o].content; null !== (t = e.exec(a));) n.push(t[1].trim());
			return n
		}
		function d(e) {
			var t = document.getElementsByTagName("style")[0],
			n = null;
			t || (t = document.createElement("style"), n = document.head || document.getElementsByTagName("head")[0], t.type = "text/css", n.appendChild(t));
			var i = document.createTextNode(e);
			t.appendChild(i)
		}
		function u() {
			return h.myFontLists.length > 0 ? e.resolve(h.myFontLists) : a.getMyFontFamily().then(function(e) {
				return h.myFontLists = e.data.list,
				e.data.list
			})
		}
		function g() {
			c.openFontMarket()
		}
		function m(e) {
			return e.productId && (e.id = e.productId),
			c.buyFont(e)
		}
		var f = {
			fileType: 3,
			pageSize: 9,
			name: "font",
			showSysTags: !1,
			showUserTags: !1,
			showRecentTags: !1,
			cat: 3,
			newest: 3
		},
		h = {
			myFontLists: [],
			personFontNoTip: []
		},
		v = [null, void 0],
		y = o(f, e, t, n, i, a);
		return y.getMyFontList = u,
		y.editFontFamily = l,
		y.openFontShopping = g,
		y.myFont = h,
		y.buyFont = m,
		y.editFontList = v,
		y.config = f,
		y
	}
	i.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService", "fontAPI", "sceneService", "HOST", "fontModalFactory"];
	var o = n(144);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(t, n) {
			return e.assignTag(t, n)
		}
		function i(n, i) {
			return parseInt(n) ? e.cancelTag(n, i) : t.deleteFile(i)
		}
		function o(t) {
			return e.createTag(t)
		}
		function a(t) {
			return e.deleteTag(t)
		}
		function r(t, n) {
			return parseInt(t) ? e.clearImgTag(t) : e.clearMyImg(n)
		}
		function s(t, n) {
			return e.modifyTagName(t, n)
		}
		return {
			assignImgGroup: n,
			deleteFile: i,
			createImgGroup: o,
			deleteImgGroup: a,
			clearImgTag: r,
			modifyTagName: s
		}
	}
	n.$inject = ["tagAPI", "fileAPI"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	function i(e, t) {
		"ngInject";
		function i(e, t) {
			return t.every(function(t) {
				return e.hasOwnProperty(t)
			})
		}
		function a(t) {
			var n = arguments.length <= 1 || void 0 === arguments[1] ? 18 : arguments[1],
			i = e.getCurrentUser();
			return t = t + "-recently-" + i.id,
			s[t] ? s[t] : s[t] = new r(t, n)
		}
		var r = function() {
			function e(o) {
				var a = arguments.length <= 1 || void 0 === arguments[1] ? 18 : arguments[1];
				n(this, e),
				this.name = o,
				this.max = a;
				var r = t.getItem(this.name) || [];
				r = r.filter(function(e) {
					return i(e, ["id", "name", "path", "size", "fileType"])
				}),
				this.list = r
			}
			return o(e, [{
				key: "getList",
				value: function() {
					return this.list
				}
			},
			{
				key: "addItems",
				value: function() {
					for (var e = this,
					t = arguments.length,
					n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
					n.forEach(function(t) {
						if (t && t.id) {
							var n = $.extend({},
							t, !0);
							n.price && delete n.price,
							e.deleteItem(n),
							e.list.unshift(n)
						}
					}),
					this.updateList()
				}
			},
			{
				key: "deleteItem",
				value: function(e) {
					if (e && e.id) {
						var t = this.list.findIndex(function(t) {
							return t.id === e.id
						});
						t > -1 && this.list.splice(t, 1),
						this.updateList()
					}
				}
			},
			{
				key: "updateList",
				value: function() {
					this.list.length >= this.max && (this.list.length = this.max),
					t.setItem(this.name, this.list)
				}
			}]),
			e
		} (),
		s = {};
		return {
			get: a
		}
	}
	i.$inject = ["userService", "storageService"];
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} ();
	e.exports = i
},
function(e, t, n) {
	"use strict";
	var i = n(152).loadImg;
	e.exports = ["$q", "HOST",
	function(e, t) {
		"ngInject";
		function n(e) {
			var n = arguments.length <= 1 || void 0 === arguments[1] ? "115x115": arguments[1],
			i = "imageMogr2/auto-orient/thumbnail/" + n + ">/strip",
			o = t.FILE,
			a = e.tmbPath;
			return /\.(gif|ico|svg)$/i.test(a.split("?")[0]) || (a = a.indexOf("?") > -1 ? a + "|" + i: a + "?" + i),
			a = o + a
		}
		function o(t) {
			var o = arguments.length <= 1 || void 0 === arguments[1] ? "115x115": arguments[1];
			if (t.shape) return e.resolve(t.shape);
			var a = n(t, o);
			return i(a).then(function(e) {
				var t = e.width,
				n = e.height;
				return {
					width: t,
					height: n,
					ratio: t / n
				}
			})
		}
		return {
			getImgSrc: n,
			getImgShape: o
		}
	}]
},
function(e, t) {
	"use strict";
	function n(e) {
		return new Promise(function(t, n) {
			var i = new Image;
			i.onload = function() {
				t(this)
			},
			i.onerror = i.onabort = function(t) {
				n("loadImg fail: " + e)
			},
			i.src = e
		})
	}
	e.exports = {
		loadImg: n
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("upload", []).directive("eqxUpload", n(154)).factory("uploaderService", n(155)).name
},
function(e, t) {
	"use strict";
	function n(e, t, n, o, a) {
		"ngInject";
		function r(t, i) {
			function o(e) {
				var t = 0;
				if (!e) return 0;
				for (var n = 0; n < e.length; n++) {
					var i = e.charCodeAt(n);
					i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++:t += 2
				}
				return t
			}
			function a(e) {
				$("#upload-progress").css({
					width: e + "%",
					opacity: 1
				})
			}
			Qiniu.uploader({
				runtimes: "html5,flash,html4",
				browse_button: i.uploadBtn,
				uptoken_url: e.SERVIER_0 + "m/base/file/uptoken?type=image",
				uptoken: i.token,
				unique_names: !0,
				domain: "//qiniu-plupload.qiniudn.com/",
				container: i.uploadCon,
				max_file_size: "100mb",
				max_retries: 3,
				dragdrop: !0,
				chunk_size: "5mb",
				drop_element: i.uploadCon,
				filters: {
					mime_types: [{
						title: "Image files",
						extensions: i.extensions
					}]
				},
				auto_start: !0,
				init: {
					FilesAdded: function(e, t) {
						var a = !0,
						r = !0;
						if (t.forEach(function(t) {
							o(t.name) >= 50 && (e.removeFile(t), a && n.openMsgDialog({
								msg: "文件名称限制在50个字符内"
							}), a = !1);
							var s = t.getNative().size / 1024 / 1024;
							s > parseInt(i.maxFileSize, 10) && (e.removeFile(t), r && n.openMsgDialog({
								msg: "文件大小限制在" + i.maxFileSize + "M内"
							}), r = !1)
						}), i.maxCount && t.length > i.maxCount) {
							t.forEach(function(t) {
								e.removeFile(t)
							});
							var s = "文件个数在 " + i.maxCount + "个内";
							i.msg && (s = i.msg),
							n.openMsgDialog({
								msg: s
							})
						}
					},
					BeforeUpload: function(e, n) {
						t.$apply(function() {
							t.options.uploadTips = "上传中......"
						})
					},
					UploadProgress: function(e, t) {
						a(e.total.percent)
					},
					UploadComplete: function() {
						t.options.uploadTips = "上传",
						$("#upload-progress").css({
							width: 0,
							opacity: 0
						})
					},
					FileUploaded: function(e, n, o) {
						var r = JSON.parse(o);
						a(e.total.percent),
						i.success && t.$apply(function() {
							i.success({
								path: r.key,
								tmbPath: r.key,
								name: r.name,
								size: parseInt(r.size / 1024, 10)
							})
						})
					},
					Error: function(e, t, i) { (t && t.code === -600 || t && "-600" === t.code) && n.openMsgDialog({
							msg: "超出文件上传大小最大限制（100mb）"
						})
					},
					Key: function(e, t) {}
				}
			})
		}
		return {
			restrict: "EA",
			scope: {
				options: "=eqxUpload"
			},
			link: function(e) {
				var n = Object.assign({},
				{
					tokenType: "image",
					extensions: "jpg,gif,png,jpeg",
					maxFileSize: 3,
					uploadBtn: "pickfiles",
					uploadCon: "container",
					maxCount: 10
				},
				e.options);
				o.all([t.getUploadToken(n.tokenType), a.qiniu()]).then(function(t) {
					var o = i(t, 1),
					a = o[0];
					n.token = a,
					r(e, n)
				})
			}
		}
	}
	n.$inject = ["HOST", "uploaderService", "modalService", "$q", "delayLoadService"];
	var i = function() {
		function e(e, t) {
			var n = [],
			i = !0,
			o = !1,
			a = void 0;
			try {
				for (var r, s = e[Symbol.iterator](); ! (i = (r = s.next()).done) && (n.push(r.value), !t || n.length !== t); i = !0);
			} catch(c) {
				o = !0,
				a = c
			} finally {
				try { ! i && s["return"] && s["return"]()
				} finally {
					if (o) throw a
				}
			}
			return n
		}
		return function(t, n) {
			if (Array.isArray(t)) return t;
			if (Symbol.iterator in Object(t)) return e(t, n);
			throw new TypeError("Invalid attempt to destructure non-iterable instance")
		}
	} ();
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = {};
		return i.getUploadToken = function(i) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/base/file/uptokens?type=" + i,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			}).then(function(e) {
				return e.data && e.data.map ? e.data.map.token: n.reject()
			})
		},
		i.uploadBase64 = function(e, t) {
			var i = n.defer();
			return $.ajax({
				type: "POST",
				url: "//up.qiniu.com/putb64/-1",
				contentType: "application/octet-stream",
				beforeSend: function(t) {
					t.setRequestHeader("Authorization", "UpToken " + e)
				},
				data: t,
				success: function(e) {
					i.resolve(e)
				},
				error: function(e) {
					i.reject(e)
				}
			}),
			i.promise
		},
		i
	}
	n.$inject = ["$http", "HOST", "$q"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource.ui", [n(157), n(164), n(199), n(224), n(231)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.resource", []).directive("eqxResourceNav",
	function() {
		return {
			template: n(158)
		}
	}).directive("eqxResourceCategory",
	function() {
		return {
			template: n(159)
		}
	}).directive("eqxResourceTags",
	function() {
		return {
			template: n(160)
		}
	}).directive("eqxResourcePagination",
	function() {
		return {
			template: n(161)
		}
	}).directive("eqxResourceLoading",
	function() {
		return {
			template: n(162)
		}
	}).directive("eqxResourceNone",
	function() {
		return {
			template: n(163)
		}
	}).name
},
function(e, t) {
	e.exports = '<ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a data-toggle=tab>图片库</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click=setTab(TAB.my)><a data-toggle=tab>我的图片</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a data-toggle=tab>最近使用</a></li><eqx-image-action></eqx-image-action><eqx-image-upload></eqx-image-upload></ul>'
},
function(e, t) {
	e.exports = '<div class="category_list clearfix"><ul class="category_list_container clearfix"><li class=category_item ng-class="{\'active\': vm.category === category}" ng-repeat="category in vm.categoryList" ng-click=setCategory(category) ng-hide="category.id === \'search\' || category.id === 1103 || category.id === 200 || category.id === 216">{{category.name}}</li></ul><div style=float:right;margin-top:10px;position:relative;font-size:12px;margin-bottom:10px ng-if=vm.showSearch><input style="width:200px;height:30px;border:1px solid #ccd5db;border-radius:2px" class="search pl10" placeholder=搜索 ng-model=vm.search ng-keypress=searchMaterial($event)> <span ng-if="vm.title != \'字体素材\'" style=position:absolute;top:9px;right:8px class=eqf-search ng-click=searchMaterial();></span> <span ng-if="vm.title == \'字体素材\'" style=position:absolute;top:9px;right:8px class=eqf-search big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=字体搜索 categorythreeid=2 actiontype=4 ng-click=searchMaterial();></span></div></div>'
},
function(e, t) {
	e.exports = '<div class="cat_two_list clearfix" ng-class="{showTags: vm.category.showTags}"><ul ng-show=vm.category.showTags><li ng-repeat="tag in vm.category.list" ng-show="tag.id != \'bgColor\' || !vm.disableBgColor" ng-class="{\'active\': $index == vm.tagIndex}" ng-click=setTagIndex($index); style=cursor:pointer>{{tag.name}}</li></ul></div>'
},
function(e, t) {
	e.exports = '<div class="modal-footer bg-pagination clearfix no-line"><div class="fl mr20" ng-show="vm.tag.count > 0 && vm.tag.count > vm.tag.pageSize"><pagination style=float:left previous-text=&lsaquo; next-text=&rsaquo; first-text=首页 last-text=尾页 max-size=5 items-per-page=vm.tag.pageSize ng-model=vm.pageNo boundary-links=true total-items=vm.tag.count ng-change=onPageNoChange()></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=vm.toPage ng-keyup="$event.keyCode == 13 ? setPageNo(vm.toPage) : null"> <span class=fl>页</span> <a ng-click=setPageNo(vm.toPage) class=go>确定</a></div></div><a ng-hide="vm.title==\'字体素材\'" class=modal-cancle ng-click=close()>取消</a> <a ng-hide="vm.title==\'字体素材\'" class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	e.exports = "<div style=position:absolute;top:0;right:0;bottom:0;left:0><div style=width:98px;height:60px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;text-align:center><img src=data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E><p>加载中，请稍后</p></div></div>"
},
function(e, t) {
	e.exports = "<div style=position:absolute;top:0;right:0;bottom:0;left:0;text-align:center><img style=padding-top:110px src=data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2297.062%22%20height%3D%2275%22%20viewBox%3D%220%200%2097.062%2075%22%3E%0A%20%20%3Cmetadata%3E%3C%3Fxpacket%20begin%3D%22%uFEFF%22%20id%3D%22W5M0MpCehiHzreSzNTczkc9d%22%3F%3E%0A%3Cx%3Axmpmeta%20xmlns%3Ax%3D%22adobe%3Ans%3Ameta/%22%20x%3Axmptk%3D%22Adobe%20XMP%20Core%205.6-c138%2079.159824%2C%202016/09/14-01%3A09%3A01%20%20%20%20%20%20%20%20%22%3E%0A%20%20%20%3Crdf%3ARDF%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%3E%0A%20%20%20%20%20%20%3Crdf%3ADescription%20rdf%3Aabout%3D%22%22/%3E%0A%20%20%20%3C/rdf%3ARDF%3E%0A%3C/x%3Axmpmeta%3E%0A%3C%3Fxpacket%20end%3D%22w%22%3F%3E%3C/metadata%3E%0A%3Cdefs%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20.cls-1%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%23ccd5db%3B%0A%20%20%20%20%20%20%20%20fill-rule%3A%20evenodd%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20id%3D%22%u4E3A%u7A7A%u72B6%u6001%22%20class%3D%22cls-1%22%20d%3D%22M1003.21%2C496.206a8.191%2C8.191%2C0%2C0%2C1%2C2.19-.141q32.835%2C0%2C65.67%2C0a2.321%2C2.321%2C0%2C0%2C1%2C2.22%2C1.681q6.3%2C19.127%2C12.57%2C38.266a8.521%2C8.521%2C0%2C0%2C1%2C.12%2C2.312q0.015%2C15.056.01%2C30.109A2.312%2C2.312%2C0%2C0%2C1%2C1083.4%2C571q-45.48-.009-90.976%2C0c-0.918%2C0-2.019.094-2.715-.638-0.761-.694-0.692-1.831-0.688-2.776%2C0-10.033.019-20.065-.008-30.1a7.028%2C7.028%2C0%2C0%2C1%2C.608-2.9q6.038-18.414%2C12.079-36.83a2.3%2C2.3%2C0%2C0%2C1%2C1.51-1.552h0m2.09%2C4.149q-5.625%2C17.122-11.24%2C34.248%2C14.115%2C0%2C28.22%2C0a2.518%2C2.518%2C0%2C0%2C1%2C1.85.6%2C2.957%2C2.957%2C0%2C0%2C1%2C.77%2C2.275%2C12.828%2C12.828%2C0%2C0%2C0%2C5.17%2C9.641%2C12.489%2C12.489%2C0%2C0%2C0%2C16.91-1.894%2C12.735%2C12.735%2C0%2C0%2C0%2C3.14-7.98%2C2.772%2C2.772%2C0%2C0%2C1%2C.68-1.965%2C2.511%2C2.511%2C0%2C0%2C1%2C1.93-.675q14.115%2C0.006%2C28.22%2C0-5.625-17.121-11.24-34.248-32.2-.006-64.41%2C0h0m-12.053%2C38.532q0%2C13.914%2C0%2C27.827%2C44.255%2C0%2C88.513%2C0V538.887q-13.77%2C0-27.54%2C0a17.124%2C17.124%2C0%2C0%2C1-7.98%2C12.491%2C16.668%2C16.668%2C0%2C0%2C1-21.3-3.226%2C17.147%2C17.147%2C0%2C0%2C1-4.15-9.266q-13.77%2C0-27.543%2C0h0m0%2C0h0Z%22%20transform%3D%22translate%28-988.938%20-496%29%22/%3E%0A%3C/svg%3E%0A><p style=padding-top:20px;color:#A3AFB7>未找到结果，请尝试其他关键词！</p></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource.ui.image", [n(165), n(171), n(177)]).directive("qnImg", n(183)).directive("ytImg", n(184)).directive("qiankuImg", n(187)).factory("imageModalFactory", n(190)).directive("imageSingleSelect", n(197)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.image.tpl", []).directive("eqxImageHeader",
	function() {
		return {
			template: n(166)
		}
	}).directive("eqxImageNav",
	function() {
		return {
			template: n(167)
		}
	}).directive("eqxImageAction",
	function() {
		return {
			template: n(168)
		}
	}).directive("eqxImageUpload",
	function() {
		return {
			template: n(169)
		}
	}).directive("eqxImageList",
	function() {
		return {
			template: n(170)
		}
	}).name
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=close()><span aria-hidden=true>×</span></button><div class="modal-title h4"><span>素材库</span> <a class=bbs-help-tip-media target=_blank ng-href={{vm.hintHref}}><span class=eqf-exclaquestion-sign></span> </a><span ng-show=vm.error class=action ng-class="{\'modal-error\': vm.error}">{{ vm.error }}</span></div></div>'
},
function(e, t) {
	e.exports = '<div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a data-toggle=tab>图片库</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click=setTab(TAB.myPurchase)><a data-toggle=tab>我的购买</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click=setTab(TAB.my)><a data-toggle=tab>我的上传</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a data-toggle=tab>最近使用</a></li><eqx-image-action></eqx-image-action><eqx-image-upload></eqx-image-upload></ul></div>'
},
function(e, t) {
	e.exports = '<li class="add-tag clearfix"><a ng-href="{{ vm.onlineHref }}" target=_blank><span class=eqf-write></span> 在线制作</a></li>'
},
function(e, t) {
	e.exports = '<li class="my-bg-upload bg-img-upload" id=upload-image eqx-upload=vm.uploadOptions><div class="bg-img-upload-btn hint--top hint--rounded" data-hint=大小不超过3M，支持格式：jpg、png、gif，一次最多上传10张><div id=upload-progress class=progress style=width:0></div><span class=eqf-update></span> <em>{{vm.uploadOptions.uploadTips}}</em></div></li>'
},
function(e, t) {
	e.exports = '<div class="img_list img_list2"><eqx-resource-none ng-show="vm.itemList.length <= 0 && vm.category.id === \'search\' && !vm.showLoading"></eqx-resource-none><eqx-resource-loading ng-show=vm.showLoading></eqx-resource-loading><div image-single-select ng-if="vm.tag.id != \'bgColor\'" image-list=vm.itemList selected-image-lists=vm.selectedImageLists select-count=vm.selectCount select-image=selectImage></div><div class="img_list_container photo_list" ng-if="vm.tag.id == \'bgColor\'"><ul class="img_box clearfix"><li ng-repeat="bg in vm.itemList" ng-click=selectBg(bg)><div ng-style="{\'background-color\': bg.color}" style="position:relative;height:100%;width:63px;margin:0 auto;background-color:#6366c3"></div></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.crop", []).factory("imageCropFactory", n(172)).directive("eqxCropPreview", n(175)).service("imageCropService", n(176)).name
},
function(e, t, n) {
	"use strict";
	var i = n(173),
	o = n(174);
	e.exports = ["modalService", "delayLoadService",
	function(e, t) {
		"ngInject";
		function n(n, a) {
			return t.imgJcrop().then(function() {
				return e.open({
					windowClass: "console seven-contain pictures1",
					template: o,
					controller: i,
					backdrop: "static",
					resolve: {
						obj: function() {
							return JSON.parse(JSON.stringify(n))
						},
						cropOption: function() {
							return a
						}
					}
				})
			})
		}
		return {
			openCropModal: n
		}
	}]
},
function(e, t) {
	"use strict";
	e.exports = ["obj", "$scope", "cropOption", "HOST", "$rootScope",
	function(e, t, n, i, o) {
		"ngInject";
		return n ? (t.cropOption = n, t.cropSize = e.properties, t.HOST = i, n.currentItem = n.cropItems[0], t.cropItemChange = function(e) {
			null === e.lock && n.cropItems[7] && (n.cropItems[7].lock = !1),
			n.currentItem = e,
			o.$broadcast("cropItem.change", e)
		},
		t.ok = function() {
			e.properties.pageLength && (e.properties.type = n.currentItem.value),
			e.subType && delete e.subType,
			o.$broadcast("cropImage.ok", e)
		},
		void(t.cancel = function() {
			t.$dismiss()
		})) : t.$dismiss()
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{cropOption.title}} <span class=action>{{cropOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class="image_crop crop-img-cut" ctype={{cropOption.type}} ng-class="{\'bg-crop\': !cropOption.showItems}"><img id=target eqx-crop-preview ng-src="{{HOST.FILE + cropOption.imgSrc}}"></div><div class=cut-size ng-show=cropOption.showItems><ul><li ng-repeat="item in cropOption.cropItems"><input type=radio id={{item.desc}} name=cropSize ng-model=cropOption.currentItem ng-value=item ng-change=cropItemChange(item)><label for={{item.desc}}>{{item.desc}}</label><span ng-if="item.lock != null"><input type=checkbox id=lock ng-model=item.lock ng-change=cropItemChange(item)><label for=lock>锁定</label></span></li></ul></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e, t) {
			i(e, t),
			e.$on("$destroy",
			function() {
				g = !1
			}),
			e.$on("cropItem.change",
			function(e, t) {
				a(t)
			}),
			e.$on("cropImage.ok",
			function(n, i) {
				g || (d = i, r(e, t))
			}),
			e.$on("crop.success",
			function(t, n) {
				4 !== d.type && "4" !== d.type || (u && (n.radioValue = u.value, u.lock && "" + u.value == "8" && (n.lock = !0)), s(n)),
				"" + d.type == "3" && "" + d.properties.type == "2" && (n.type = 2, n.pageLength = d.properties.pageLength),
				e.$close({
					image: n,
					obj: d
				})
			})
		}
		function i(e, t) {
			t.hide().load(function() {
				t.show();
				var n = $(".image_crop"),
				i = {
					width: n.width(),
					height: n.height()
				},
				a = i.width / i.height;
				l = {
					width: this.width,
					height: this.height
				};
				var r, s = l.width / l.height;
				l.width > i.width || l.height > i.height ? s > a ? (t.css({
					width: i.width,
					height: i.width / s
				}), r = {
					position: "absolute",
					top: "50%",
					marginTop: -i.width / s / 2
				}) : (t.css({
					width: i.height * s,
					height: i.height
				}), r = {
					margin: "auto"
				}) : r = {
					position: "absolute",
					left: "50%",
					top: "50%",
					marginLeft: -l.width / 2,
					marginTop: -l.height / 2
				},
				p = {
					width: t.width(),
					height: t.height()
				},
				o(e, t, r)
			})
		}
		function o(e, t, n) {
			var i, o, a = t.parent().attr("ctype"),
			r = e.cropSize,
			s = {};
			r && (s = e.cropSize.cropSize),
			i = p.width,
			o = p.height;
			var l = e.cropOption.currentItem;
			if (s && (s.w > i && (s.w = i, s.h = i / l.ratio), s.h > o && (s.h = o, s.w = o * l.ratio), s.x2 = s.x + s.w, s.y2 = s.y + s.h), "" + a == 3 || "" + a == "square") i > o ? i = o * l.ratio: o = i / l.ratio,
			t.Jcrop({
				keySupport: !1,
				aspectRatio: l.ratio,
				allowSelect: !1,
				setSelect: s ? [s.x, s.y, s.x2, s.y2] : [0, 0, i, o],
				onRelease: function() {
					this.setOptions({
						setSelect: [0, 0, i, o]
					})
				}
			},
			function() {
				c = this
			});
			else {
				t.Jcrop({
					keySupport: !1,
					aspectRatio: l.ratio,
					allowSelect: !1,
					setSelect: s ? [s.x, s.y, s.x2, s.y2] : [0, 0, i, o],
					onRelease: function() {
						this.setOptions({
							setSelect: [0, 0, i, o]
						})
					}
				},
				function() {
					c = this
				});
				var d;
				l.ratio === -1 && (d = {
					aspectRatio: s.w / s.h,
					setSelect: [s.x, s.y, s.x2, s.y2]
				},
				c.setOptions(d))
			}
			$(".jcrop-holder").css(n)
		}
		function a(e) {
			var t, n = p.width,
			i = p.height;
			if (u = e, e.ratio === -1) {
				var o = c.tellSelect();
				t = e.lock ? {
					aspectRatio: o.w / o.h,
					setSelect: [0, 0, o.w, o.h]
				}: {
					aspectRatio: 0,
					setSelect: [0, 0, o.w, o.h]
				}
			} else 0 === e.ratio ? t = {
				aspectRatio: n / i,
				setSelect: [0, 0, n, i]
			}: (n > i ? n = i * e.ratio: i = n / e.ratio, t = {
				aspectRatio: n / i,
				setSelect: [0, 0, n, i]
			});
			c.setOptions(t)
		}
		function r(n, i) {
			var o = c.tellSelect(),
			a = {};
			$.extend(a, o);
			var r = n.cropSize.cropSize;
			if (r && parseInt(r.x, 10) === parseInt(o.x, 10) && parseInt(r.w, 10) === parseInt(o.w, 10) && parseInt(r.y, 10) === parseInt(o.y, 10) && parseInt(r.h, 10) === parseInt(o.h, 10)) return void n.$dismiss(d.properties.src);
			if (0 === o.w && 0 === o.h) {
				if (!d) return;
				return void n.$dismiss(d.properties.src)
			}
			if ("" + d.type == "3" && Math.abs(o.w - p.width) <= 2 && Math.abs(o.h - p.height) <= 2) {
				var s = {
					type: d.properties.type,
					src: d.properties.src,
					pageLength: d.properties.pageLength,
					id: d.properties.id
				};
				return void n.$close({
					image: s
				})
			}
			var u = l.width / p.width;
			a.ratio = u,
			o.w = parseInt(o.w * u, 10),
			o.h = parseInt(o.h * u, 10),
			o.x = parseInt(o.x * u, 10),
			o.y = parseInt(o.y * u, 10),
			o.y < 0 && (o.y = 0),
			o.x < 0 && (o.x = 0),
			o.src = i.attr("src").split(t.FILE)[1],
			o.x + o.w > l.width && (o.w = l.width - o.x),
			o.y + o.h > l.height && (o.h = l.height - o.y),
			"" + d.type == "3" ? o.fileType = 0 : o.fileType = 1,
			delete o.x2,
			delete o.y2,
			d.cw && (o.cw = d.cw),
			o.name = d.properties.name || "default.png",
			e.cropImage(o, a)
		}
		function s(e) {
			var n = d;
			n.properties.src = e.src,
			n.properties.id = e.id,
			e.originSrc && (n.properties.originSrc = e.originSrc, n.properties.cropSize = e.cropSize),
			e.radioValue && (n.properties.radioValue = e.radioValue),
			e.lock ? n.properties.lock = e.lock: n.properties.lock = !1;
			var i = e.width / e.height,
			o = $("#" + n.id),
			a = $("#inside_" + n.id),
			r = a.width(),
			s = a.height(),
			c = r / s;
			i >= c ? (s = r / i, a.height(s), n.css.height = s, n.properties.height = s, o.outerHeight(s), o.outerWidth(r), o.css("marginLeft", 0), o.css("marginTop", 0)) : (r = s * i, a.width(r), n.css.width = r, n.properties.width = r, o.outerWidth(r), o.outerHeight(s), o.css("marginTop", 0), o.css("marginLeft", 0)),
			o.attr("src", t.FILE + e.src + "/strip"),
			n.properties.imgStyle = {},
			n.properties.imgStyle.width = o.outerWidth(),
			n.properties.imgStyle.height = o.outerHeight(),
			n.properties.imgStyle.marginTop = o.css("marginTop"),
			n.properties.imgStyle.marginLeft = o.css("marginLeft")
		}
		var c, l, p, d, u, g = !1;
		return {
			link: n
		}
	}
	n.$inject = ["imageCropService", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		var t = {};
		return t.cropImage = function(t, n) {
			var i = "?imageMogr2/auto-orient/crop/!" + t.w + "x" + t.h + "a" + t.x + "a" + t.y;
			i = t.src.indexOf("?imageMogr2") >= 0 ? i.replace(/\?/, "|") : i;
			var o = {
				width: t.w,
				height: t.h,
				src: t.src + i,
				id: t.id,
				originSrc: t.src,
				cropSize: {
					x: n.x,
					y: n.y,
					w: n.w,
					h: n.h
				}
			};
			e.$broadcast("crop.success", o)
		},
		t
	}
	n.$inject = ["$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.image.imagemanagement", []).directive("imageManagement", n(178)).directive("imgGroup", n(181)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o) {
		"ngInject";
		function a(n) {
			function a() {
				for (var e = [], t = n.vm.selectedImageLists, i = 0; i < t.length; i++) e.push(t[i].id);
				return e
			}
			function r() {
				n.vm.tag.list = [];
				var e = n.vm.tagIndex;
				n.vm.tagIndex = null,
				n.setTagIndex(e),
				n.vm.selectedImageLists = []
			}
			n.assignImgGroup = function(t) {
				n.vm.currentGroupId = null;
				var o = a();
				if (t) return 0 === o.length ? void(n.vm.error = "请先点击管理选择一张图片再进行分组") : void e.assignImgGroup(t, o).then(function(e) {
					i.add("移动成功"),
					n.vm.selectedImageLists = [];
					for (var o = 0; o < n.vm.category.list.length; o++) n.vm.category.list[o].id === t && (n.vm.category.list[o].list = [])
				})
			},
			n.deleteFile = function() {
				var s = a(),
				c = "删除所选图片";
				return 0 === s.length ? void(n.vm.error = "选中图片后再进行删除操作!") : ("my-all" === n.vm.tag.id && (c = o.permission("deleteImgTips") ? "确定删除图片吗？": "删除所选图片后,该图片将在回收站中保留15天"), void t.openConfirmDialog({
					msg: c,
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.deleteFile(n.vm.tag.id, s).then(function(e) {
						i.add(e.data.msg),
						r()
					})
				}))
			},
			n.clearImgTag = function(n) {
				var a = "确定清空改组下所有图片";
				"my-all" === n && (a = o.permission("deleteImgTips") ? "确认删除图片吗？": "删除的图片,将在回收站中保留15天"),
				t.openConfirmDialog({
					msg: a,
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.clearImgTag(n, 1).then(function(e) {
						i.add(e.data.msg),
						r()
					})
				})
			},
			n.cacelManagement = function() {
				n.vm.managingImgStatus = !1,
				n.vm.selectCount = 1,
				n.vm.selectedImageLists = []
			},
			n.manageGroup = function() {
				n.vm.manageGroupStatus = !0
			},
			n.backImgList = function() {
				n.vm.category = null,
				n.setTab(n.TAB.my, !0),
				n.vm.manageGroupStatus = !1,
				n.vm.managingImgStatus = !1,
				n.vm.selectCount = 1,
				n.vm.selectedImageLists = []
			}
		}
		return {
			template: n(180),
			replace: !0,
			restrict: "E",
			link: a
		}
	}
	i.$inject = ["imgGroupService", "modalService", "i18nNotifications", "authorityService"],
	n(179),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=image-management-content ng-class="{\'image-management-hidden\':!$parent.vm.managingImgStatus}"><div class=move-img-group ng-if=!vm.manageGroupStatus><eqx-select class="select-sm select-contain border-width fl" model=vm.currentGroupId change=assignImgGroup(vm.currentGroupId)><eqx-select-option value=null>移动至</eqx-select-option><eqx-select-option value=group.id ng-repeat="group in vm.category.list" ng-if="group.id !=\'my-all\'">{{group.name}}</eqx-select-option></eqx-select></div><div class="set-group-btn image-management-btn" ng-click=manageGroup() ng-if=!vm.manageGroupStatus><span>分组管理</span></div><div class="set-group-btn image-management-btn" ng-click=backImgList() ng-if=vm.manageGroupStatus><span>取消分组管理</span></div><div class="img-delete-all image-management-btn" ng-if=!vm.manageGroupStatus ng-click=clearImgTag(vm.tag.id)><span>清空</span></div><div class="img-delete-select image-management-btn" ng-click=deleteFile() ng-if=!vm.manageGroupStatus><span>删除</span></div><div class="cacel-set-group-btn image-management-btn" ng-click=cacelManagement() ng-if=!vm.manageGroupStatus><span>取消管理</span></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o) {
		"ngInject";
		function a(n) {
			function a(e) {
				for (var t = 0; t < n.vm.category.list.length; t++) if (n.vm.category.list[t].id == e) return [t, n.vm.category.list[t]]
			}
			n._vm = {
				createGroupText: ""
			},
			n.createImgGroup = function() {
				return i(n._vm.createGroupText) > 16 ? void(n.vm.error = "分类名称不能超过16个字符") : n.vm.category.list.length > 8 ? (n.vm.error = "最多能创建8个自定义分组!", void(n._vm.createGroupText = "")) : void(n._vm.createGroupText && e.createImgGroup(n._vm.createGroupText).then(function(e) {
					o.add(e.data.msg),
					n.vm.category.list.push({
						bizType: 0,
						count: -1,
						id: e.data.obj,
						isBusy: !1,
						isLastPage: !1,
						list: [],
						name: n._vm.createGroupText,
						pageSize: 18,
						sort: 0
					}),
					n._vm.createGroupText = ""
				}))
			},
			n.deleteImgGroup = function(i) {
				t.openConfirmDialog({
					msg: "确定删除此分组",
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.deleteImgGroup(i).then(function(e) {
						o.add(e.data.msg),
						n.vm.category.list.splice(a(i)[0], 1)
					})
				})
			},
			n.editImgGroup = function(e, t) {
				n._vm[e] = !0,
				$(t.target).closest("div").attr("contenteditable", !0).focus()
			},
			n.editBlur = function(t, r, s) {
				if (s = $(t.target).text(), n._vm[r] = !1, $(t.target).removeAttr("contenteditable"), a(r)[1].name !== s) return i(s) > 16 ? (n.vm.error = "分类名称不能超过16个字符", void $(t.target).text(a(r)[1].name)) : void e.modifyTagName(r, s).then(function(e) {
					o.add(e.data.msg),
					a(r)[1].name = s
				})
			}
		}
		return {
			template: n(182),
			replace: !0,
			restrict: "E",
			link: a
		}
	}
	i.$inject = ["imgGroupService", "modalService", "validCharacterNumFilter", "i18nNotifications"],
	n(179),
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=img-create-group><div class=img-group-content><div class=create-img-group><input class="create-img-input create-img-border" placeholder=新建分组名称 ng-change=maxLength10() type=text ng-model=_vm.createGroupText /> <a class="create-img-btn create-img-border" ng-click=createImgGroup()><em class="eqf-plus2 add-img-group"></em>新建</a></div><ul class=img-group-list><li class=img-group-item ng-repeat="group in vm.category.list" ng-if="group.id !=\'my-all\'"><div class=img-group-edit ng-class="{\'img-group-edit\': !_vm[group.id], \'img-group-edit2\': _vm[group.id]}" ng-blur="editBlur($event, group.id, group.name)" ng-model=group.name>{{group.name}} <em class=eqf-wrong2 ng-click=deleteImgGroup(group.id)></em> <em class=eqf-xiuziti ng-click="editImgGroup(group.id, $event)"></em></div></li></ul></div></div>'
},
function(e, t) {
	"use strict";
	e.exports = ["HOST", "imgUtil",
	function(e, t) {
		"ngInject";
		return {
			restrict: "EA",
			scope: {
				img: "=qnImg"
			},
			template: '<div class="loading-img"></div>',
			replace: !0,
			link: function(e, n, i) {
				var o = e.img;
				if (o && o.tmbPath) {
					var a = i.size;
					/\d+x\d+/.test(a) || (a = "115x115");
					var r = t.getImgSrc(o, a);
					n.css({
						background: "url(" + r + ") no-repeat center/contain",
						width: "100%",
						height: "100%"
					})
				}
			}
		}
	}]
},
function(e, t, n) {
	"use strict";
	e.exports = function() {
		return {
			template: n(185),
			replace: !0,
			restrict: "EA"
		}
	}
},
function(e, t, n) {
	e.exports = '<span class=imagesYiTo><a href="http://www.yituw.com/searchs/DoSearch/?search=search&Srange_zh=chinese+new+year+2016&mode=&keyword=chinese+new+year+2016&Srange=" target=_blank tooltip-placement=right tooltip=亿图网正版授权 class=YiToLogo ng-click=$event.stopPropagation();><img src=' + n(186) + " /> </a></span>"
},
function(e, t, n) {
	e.exports = n.p + "images/1tu-faac25.png"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			template: n(188),
			replace: !0,
			restrict: "EA"
		}
	}
	e.exports = i
},
function(e, t, n) {
	e.exports = '<span class=imagesYiTo><a href="http://588ku.com/?m=element&keyword=qixi&h=eqxiu" target=_blank tooltip-placement=right data-hint=千库网正版授权 class=YiToLogo ng-click=$event.stopPropagation();><img src=' + n(189) + " /> </a></span>"
},
function(e, t, n) {
	e.exports = n.p + "images/qianku-7a78ae.svg"
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, o, a, r) {
		"ngInject";
		function s(o) {
			o = Object.assign({
				resourceName: "image"
			},
			o);
			var s = t[o.resourceName];
			return e.open({
				windowClass: "console img_console",
				template: n(194),
				controller: n(195),
				resolve: {
					imageConfig: function() {
						return o
					}
				}
			}).then(function(e) {
				return s.addUseHistory.apply(s, i(e)),
				r.all(e.map(function(e) {
					return a.getImgShape(e).then(function(t) {
						return e.shape = t,
						e
					})["catch"](function() {
						return null
					})
				})).then(function(e) {
					return e = e.filter(function(e) {
						return !! e
					}).map(function(e) {
						return JSON.parse(JSON.stringify(e))
					}),
					e.length ? e: r.reject("no images")
				})
			})
		}
		function c(e) {
			return e = Object.assign({
				resourceName: "bg"
			},
			e),
			s(e).then(function(e) {
				return e[0]
			})
		}
		function l(e) {
			return s(e).then(function(e) {
				return e[0]
			})
		}
		function p(e) {
			return l(e).then(function(e) {
				if (e.shape.width === e.shape.height) return e.path;
				var t = {
					type: "square",
					title: "图片裁切",
					desc: "",
					showItems: !1,
					imgSrc: e.path,
					cropItems: [{
						ratio: 1,
						desc: "正方形比例"
					}]
				};
				return o.openCropModal({
					properties: {},
					cw: 250
				},
				t).then(function(e) {
					var t = e.image;
					return t.src
				})
			})
		}
		return {
			getImages: s,
			getSquareImage: p,
			getImage: l,
			getBg: c
		}
	}
	o.$inject = ["modalService", "imageService", "imageCropFactory", "imgUtil", "$q"],
	n(191),
	e.exports = o
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<eqx-image-header></eqx-image-header><div class=dialog-contain id=container><div class="dialog-content bg_console sound-flex clearfix"><eqx-image-nav></eqx-image-nav><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head"><div class=img_list ng-class="{my_img_list: vm.tab == TAB.my}"><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if=!vm.managingImgStatus></eqx-resource-category><eqx-resource-tags ng-if=!vm.managingImgStatus></eqx-resource-tags><image-management ng-if=vm.managingImgStatus></image-management></div><span ng-class="{\'hidden-img_manage_btn\': vm.managingImgStatus}" class=img_manage_btn ng-if="vm.tab == TAB.my && config.manageGroup" ng-click=managingImg()>管理</span></div></div><eqx-image-list ng-if=!vm.manageGroupStatus></eqx-image-list><img-group ng-if=vm.manageGroupStatus></img-group></div><eqx-resource-pagination ng-if=!vm.manageGroupStatus></eqx-resource-pagination></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		var a = n[t.resourceName];
		t = Object.assign({
			disableBgColor: !0,
			manageGroup: !0,
			min: 1,
			max: 1,
			images: []
		},
		t || {},
		a.config),
		o(e, a, t),
		e.config = t;
		var r = Object.assign(e.vm, {
			hintHref: "http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696",
			onlineHref: i.HOST + "site/print/create",
			disableBgColor: t.disableBgColor,
			managingImgStatus: !1,
			error: null,
			selectCount: t.max,
			selectedImageLists: t.images,
			uploadOptions: {
				tokenType: "image",
				extensions: "jpg,gif,png,jpeg",
				maxFileSize: 3,
				uploadBtn: "upload-image",
				uploadCon: "container",
				maxCount: 10,
				uploadTips: "上传",
				msg: "一次最多上传10张图片",
				success: function(t) {
					var n = r.tag.id; (n + "").includes("-all") && (n = 0);
					var i = Object.assign({},
					t, {
						fileType: 1,
						bizType: 0,
						tagId: n
					});
					e.setTab(e.TAB.my),
					a.saveFileInfo(i)
				}
			}
		});
		e.selectImage = function() {
			e.$close(r.selectedImageLists)
		},
		e.selectBg = function(t) {
			e.$close([t])
		},
		e.confirm = function() {
			r.selectedImageLists.length > t.max ? r.error = "最多可选择" + t.max + "张图片": (r.error = null, e.$close(r.selectedImageLists))
		},
		e.managingImg = function() {
			e.vm.managingImgStatus = !0,
			e.vm.selectCount = 2
		},
		e.$watch("vm",
		function() {
			e.vm.tab != e.TAB.my && 1 === e.config.max && (e.vm.selectCount = 1, e.vm.managingImgStatus = !1, e.vm.manageGroupStatus = !1)
		},
		!0)
	}
	i.$inject = ["$scope", "imageConfig", "imageService", "HOST"];
	var o = n(196);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			return m.filter(function(e) {
				return e.id !== b.my && e.id !== b.recently && e.id !== b.myPurchase
			})
		}
		function o(e) {
			return m.find(function(t) {
				return t.id === e
			})
		}
		function a(e) {
			return m.find(function(t) {
				return t.name === e
			})
		}
		function r() {
			return o(b.my)
		}
		function s() {
			return o(b.myPurchase)
		}
		function c() {
			return o(b.recently)
		}
		function l() {
			n.tab === y.sys ? (x.showLoading = !0, t.$getCategories().then(function() {
				if (n.categoryName) var t = a(n.categoryName);
				t || (t = 1 === n.fileType || 2 === n.fileType || 4 === n.fileType ? m[1] : m[0]),
				e.setCategory(t, n.tagName)
			})) : d(n.tab)
		}
		function p(e, n) {
			t.config[e] = n
		}
		function d(n) {
			var i = null;
			switch (n) {
			case y.my:
				i = Promise.resolve(r());
				break;
			case y.recently:
				i = Promise.resolve(c());
				break;
			case y.myPurchase:
				i = Promise.resolve(s());
				break;
			default:
				i = t.$getCategories().then(function() {
					return m[0]
				})
			}
			i.then(function(t) {
				e.setCategory(t),
				x.tab = n
			})
		}
		var u = {
			showSearch: !0,
			tab: 1,
			categoryName: "",
			tagName: "",
			selectPageNo: 1
		},
		g = !0;
		n = Object.assign(u, n || {});
		var m = e.categories = t.categories,
		f = [],
		h = {
			id: -1,
			name: "",
			bizType: -1,
			showTags: !1,
			list: []
		},
		v = {},
		y = e.TAB = {
			sys: 1,
			my: 2,
			recently: 3,
			myPurchase: 4
		},
		b = t.ID,
		x = e.vm = {
			showLoading: !0,
			tagIndex: -1,
			pageNo: -1,
			toPage: 1,
			tab: y.sys,
			showSearch: n.showSearch,
			search: n.search,
			get categoryList() {
				return x.tab === y.sys ? i() : x.tab === y.my ? [r()] : x.tab === y.recently ? [c()] : x.tab === y.myPurchase ? [s()] : void 0
			},
			get tag() {
				return x.category && x.category.list[x.tagIndex] || v
			},
			get itemList() {
				return x.tag && (x.tag.list || {})[x.pageNo] || f
			},
			category: h
		};
		e.setTab = function(e, n) { (x.tab !== e || n) && (t.config.selectPageNo = 1, p("tab", e), d(e))
		},
		e.setCategory = function(n) {
			var i = arguments.length <= 1 || void 0 === arguments[1] ? "全部": arguments[1],
			o = arguments[2];
			return x.showLoading = !0,
			x.category === n ? void(x.showLoading = !1) : (x.category = n, x.tagIndex = -1, x.pageNo = -1, x.toPage = 1, p("categoryName", n.name), void t.$getTags(n.id).then(function(t) {
				var n = t.findIndex(function(e) {
					return e.name === i
				});
				n < 0 && (n = 0),
				e.setTagIndex(n, o)
			}))
		},
		e.setTagIndex = function(e, i) {
			if (x.tagIndex !== e) {
				x.showLoading = !0,
				x.tagIndex = e;
				var o = x.category,
				a = o.list[x.tagIndex];
				p("tagName", a.name),
				g ? x.pageNo = n.selectPageNo: x.pageNo = 1,
				x.toPage = x.pageNo,
				t.$getMoreItems(o.id, a.id, x.pageNo, i).then(function() {
					g = !1,
					x.showLoading = !1,
					n.itemListCallback && n.itemListCallback()
				})
			}
		},
		e.setPageNo = function(t) {
			t = parseInt(t),
			t !== t && (t = x.pageNo);
			var n = x.tag.count,
			i = x.tag.pageSize,
			o = 1,
			a = Math.ceil(n / i);
			t > a && (t = a),
			t < o && (t = o),
			x.toPage = t,
			x.pageNo !== t && (x.pageNo = t, e.loadMoreItems(t))
		},
		e.loadMoreItems = function(i) {
			x.showLoading = !0;
			var o = x.category,
			a = o.list[x.tagIndex];
			a && t.$getMoreItems(o.id, a.id, i, e.vm.search).then(function() {
				x.showLoading = !1,
				p("selectPageNo", x.pageNo),
				n.itemListCallback && n.itemListCallback()
			})
		},
		e.onPageNoChange = function() {
			x.toPage = x.pageNo,
			p("selectPageNo", x.pageNo),
			e.loadMoreItems(x.pageNo)
		},
		l(),
		e.close = function() {
			e.$dismiss()
		},
		e.searchMaterial = function(n) {
			var i = null;
			if (x.search && x.search.length > 0 && (!n || n && 13 === n.keyCode)) {
				p("search", x.search),
				x.category = x.categoryList[0];
				for (var o = 0; o < x.categoryList.length; o++)"search" === x.categoryList[o].id && (i = x.categoryList[o], t.clearTag(i.id, i.list[0].id));
				e.setCategory(i, 0, x.search)
			}
		}
	}
	n.$inject = ["$scope", "resourceService", "resourceConfig"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t(e) {
			e.chooseImage = function(t) {
				if (e.selectCount < 2) return e.selectedImageLists.push(t),
				void e.selectImage();
				var n = e.selectedImageLists.findIndex(function(e) {
					return e.id == t.id
				});
				n > -1 ? e.selectedImageLists.splice(n, 1) : e.selectedImageLists.push(t)
			},
			e.isSelected = function(t) {
				return e.selectedImageLists.find(function(e) {
					return e.id == t.id
				})
			}
		}
		return {
			template: n(198),
			replace: !0,
			restrict: "EA",
			scope: {
				managingImgStatus: "=",
				imageList: "=",
				selectedImageLists: "=",
				selectCount: "=",
				selectImage: "="
			},
			link: t
		}
	}
	i.$inject = ["$rootScope"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="img_list_container photo_list"><ul class="img_box clearfix"><li ng-repeat="img in imageList" class="my-tpl-self imageList" resource=img style=position:relative;overflow:hidden><div qn-img=img qn-size=115x115></div><div class=img-mask ng-if="selectCount > 1" ng-class="{\'selected-active\': isSelected(img)}"></div><div eqx-material-status obj=img success-fn=chooseImage select-count=selectCount type="\'pic\'" selected-image-lists=selectedImageLists></div></li></ul></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(200).size;
	e.exports = angular.module("resource.ui.music", [n(201)]).factory("musicModal", n(210)).directive("eqxCropPanel", n(221)).directive("eqxAudio", n(223)).filter("size",
	function() {
		return function(e) {
			return i(parseFloat(e))
		}
	}).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		return "number" != typeof e && (e = parseFloat(e)),
		parseFloat(e.toFixed(t))
	}
	function i(e) {
		return n(e, 0)
	}
	function o(e) {
		return n(e, 1)
	}
	function a(e) {
		return n(e, 2)
	}
	function r(e) {
		return e.toFixed(2)
	}
	function s(e) {
		return (!e || e < 0) && (e = 0),
		e < 1024 ? e + " KB": (e /= 1024, e < 1024 ? r(e) + " MB": (e /= 1024, e < 1024 ? r(e) + " GB": (e /= 1024, r(e) + " TB")))
	}
	e.exports = {
		toFixed: n,
		toFixed1: o,
		toFixed2: a,
		toInt: i,
		size: s
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.music.tpl", []).directive("eqxMusicHeader",
	function() {
		return {
			template: n(202)
		}
	}).directive("eqxMusicCategory",
	function() {
		return {
			template: n(203)
		}
	}).directive("eqxMusicNav",
	function() {
		return {
			template: n(204)
		}
	}).directive("eqxMusicList",
	function() {
		return {
			template: n(205)
		}
	}).name
},
function(e, t) {
	e.exports = '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{vm.title}} <span ng-show=vm.error class=action>{{vm.error}}</span></h4></div>'
},
function(e, t) {
	e.exports = '<div class="clearfix category_list"><audio style="margin:25px 0 0 20px;height:30px" eqx-audio></audio><div class=music-cate><ul class=clearfix ng-show="vm.tab == TAB.sys"><li ng-repeat="category in vm.categoryList" ng-class="{active: vm.category === category}" ng-click=setCategory(category) ng-hide="category.id === \'search\'">{{category.name}}</li></ul><div class=search-box ng-show="vm.tab == TAB.sys"><input class="search pl10 search-music" placeholder={{vm.searchTips}} ng-model=vm.search ng-keypress=searchMaterial($event)> <span class="eqf-search search-icon" ng-click=searchMaterial();></span></div></div></div>'
},
function(e, t) {
	e.exports = '<div class=cate-title style=width:160px;height:412px;background-color:#f7f7f7><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a>{{vm.nav.sys}}</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click=setTab(TAB.myPurchase)><a>{{vm.nav.myPurchase}}</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click=setTab(TAB.my)><a>{{vm.nav.my}}</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a>最近使用</a></li><li class=my-bg-upload><div id=upload-progress class=upload-progress-music></div><div class="sound-upload form" id=upload-music><span class=eqf-update eqx-upload=vm.uploadOptions></span><em>{{vm.uploadOptions.uploadTips}}</em></div><div class=form-menus style=z-index:3><div class="popover right" style=top:-5px;left:194px><div class=arrow></div><div class=popover-content style=font-size:12px><i>通过本地电脑上传或者添加外链，大小不超过4M，格式为MP3。链接如何减少文件大小，请查看</i><a style=padding:0;font-size:12px;display:inline;margin:0;height:20px;line-height:20px;border:none;color:#08a1ef!important href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target=_blank>如何裁剪音乐</a></div></div></div></li><li class="add-tag blue" ng-click=openLink()><a><span class=eqf-link style=padding-right:10px></span> <span>添加外链</span></a></li></ul></div>'
},
function(e, t, n) {
	e.exports = '<div class=tab-content id=bg_contain><div class="tab-pane tab-head active" style=margin:0;padding-top:15px><div class=tab-pane style=height:300px><div class=img_list><div class="sound-list clearfix" ng-show=vm.itemList.length><ul style=border-bottom:none><li style=cursor:pointer ng-repeat="music in vm.itemList" ng-class="{active: isSelectedMusic(music)}" ng-click=setMusic(music)><span><a class="del eqf-scene-settingII" title=裁切 ng-show="vm.tab == TAB.my || vm.tab == TAB.myPurchase" ng-click=crop(music)></a> <a class="sound eqf-play" title="{{music.isPlaying ? (\'暂停\') : (\'播放\')}}" ng-class="{\'eqf-play2\': !music.isPlaying, \'eqf-stop\': music.isPlaying}" ng-click=togglePlay(music)></a> <a class="del eqf-wrong2" ng-show="vm.tab == TAB.my" title=删除 ng-click=delete(music)></a></span><div class=linkName title={{music.name}}>{{music.name}}<eqx-material-status obj=music type="\'audio\'"></eqx-material-status><span ng-if="music.libType == 4" style=color:#666>（音乐来源: <a class=hint--right data-hint=更多音频定制点击天声第一网 href=http://www.tianshengdiyi.com/ target=_blank><img src=' + n(206) + ' style=width:24px;height:18px> </a>） </span><span ng-if="music.libType == 5" style=color:#666>（音乐来源: <a class=hint--right data-hint=松巴音乐提供正版授权 href=http://www.songba.org/ target=_blank><img src=' + n(207) + ' style=width:24px;height:18px> </a>） </span><span ng-if="music.libType == 6" style=color:#666>（音乐来源: <a class=hint--right data-hint=看见音乐提供正版授权 href=http://star.kanjian.com/ target=_blank><img src=' + n(208) + ' style=width:24px;height:18px> </a>） </span><span ng-if="music.libType == 7" style=color:#666>（音乐来源: <a class=hint--right data-hint=天音在线提供正版授权 href=http://www.tianyinzaixian.com/ target=_blank><img src=' + n(209) + ' style=width:24px;height:18px> </a>）</span></div></li></ul></div></div><eqx-resource-none ng-show="vm.itemList.length <= 0 && vm.category.id === \'search\' && !vm.showLoading"></eqx-resource-none><eqx-resource-loading ng-show=vm.showLoading></eqx-resource-loading><div class=sound-action ng-show="vm.itemList.length === 0 && vm.category.id !== \'search\' && !vm.showLoading"><p>通过本地电脑上传或者添加外链，大小不超过4M，格式为MP3.注意：音乐大小会影响打开速度。查看 <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target=_blank>如何改变大小</a></p></div></div></div></div>'
},
function(e, t, n) {
	e.exports = n.p + "images/jinnuojiayin-884f5d.jpg"
},
function(e, t, n) {
	e.exports = n.p + "images/songba-643cd1.png"
},
function(e, t, n) {
	e.exports = n.p + "images/kanjian-508fb5.png"
},
function(e, t, n) {
	e.exports = n.p + "images/tianyinzaixian-bec889.png"
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(i, o) {
				return e.open({
					windowClass: "console music_console",
					template: n(212),
					controller: n(213),
					resolve: {
						musicJson: function() {
							if (i) {
								var e = i.id,
								t = i.name;
								return {
									id: e,
									name: t,
									url: i.path || i.url
								}
							}
							return {}
						},
						fileType: function() {
							return o
						}
					}
				}).then(function(e) {
					return e ? (e.fileType = o, t[o].addUseHistory(e), e) : {}
				})
			},
			openLink: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(214),
					controller: n(215),
					resolve: {
						fileType: function() {
							return t
						}
					}
				})
			},
			openCrop: function(t, i) {
				return e.open({
					windowClass: "upload-console",
					template: n(216),
					backdrop: "static",
					controller: n(217),
					resolve: {
						sound: function() {
							return t
						},
						cropConfig: function() {
							return i || {}
						}
					}
				})
			}
		}
	}
	i.$inject = ["modalService", "musicService"],
	n(211),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<eqx-music-header></eqx-music-header><div class=dialog-contain id=container><div class="dialog-content bg_console clearfix"><div class="sound-flex sound-panel"><eqx-music-nav></eqx-music-nav><div class="cate-list bg-rig" style=height:506px;padding-bottom:116px><div id=bg_contain><div class="tab-pane active tab-head"><audio style="margin:25px 0 0 20px;height:30px" eqx-audio></audio><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if=!vm.managingImgStatus></eqx-resource-category><eqx-music-list></eqx-music-list></div></div></div></div></div><div style=font-size:12px;height:40px;line-height:40px;overflow:hidden;position:absolute;bottom:76px;left:206px;right:0 ng-if=vm.music.id><span><i>已选择: </i>{{vm.music.name | maxLength: 16}} <a class=eqf-wrong2 style=margin-left:10px title=清除 ng-click=setMusic(null)></a></span></div><eqx-resource-pagination></eqx-resource-pagination></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s, c, l, p) {
		"ngInject";
		function d(t, n) {
			e.$broadcast("sound.toggle", t, n)
		}
		function u(t) {
			e.$broadcast("sound.pause", t)
		}
		function g() {
			x.tab == e.TAB.myPurchase ? f.clearTag(f.ID.myPurchase, f.ID.myPurchase + "-all") : f.clearTag(f.ID.my, f.ID.my + "-all")
		}
		function m() {
			x.tab == e.TAB.myPurchase ? e.setTab(e.TAB.myPurchase, !0) : e.setTab(e.TAB.my, !0),
			e.loadMoreItems(1)
		}
		var f = i[n],
		h = Object.assign({},
		f.config);
		if (o(e, f, h), 2 == n) var v = "音乐素材",
		y = "音乐搜索",
		b = {
			sys: "音乐库",
			my: "我的上传",
			myPurchase: "我的购买"
		};
		else v = "音效素材",
		y = "音效搜索",
		b = {
			sys: "音效库",
			my: "我的上传",
			myPurchase: "我的购买"
		};
		var x = Object.assign(e.vm, {
			title: v,
			searchTips: y,
			nav: b,
			music: Object.assign(t, {
				fileType: n,
				path: t.url
			}),
			uploadOptions: {
				tokenType: "audio",
				extensions: "mp3",
				maxFileSize: 4,
				uploadBtn: "upload-music",
				uploadCon: "container",
				maxCount: 10,
				uploadTips: "上传",
				success: function(e) {
					var t = Object.assign({},
					e, {
						fileType: n,
						bizType: 0,
						tagId: 0
					});
					u(),
					a.openCrop(t).then(g).then(m)
				}
			}
		});
		e.isSelectedMusic = function(e) {
			return !! x.music && ( !! x.music.id && x.music.id == e.id)
		},
		e.setMusic = function(e) {
			x.music = e
		},
		e.togglePlay = function(t) {
			return x.tab === e.TAB.my ? r.getCropInfo(t.id).then(function(e) {
				var n = e.data.obj,
				i = n ? n.url: null;
				d(t, i)
			}) : void d(t)
		},
		e["delete"] = function(t) {
			s.openConfirmDialog({
				msg: "确定删除此音乐吗？"
			}).then(function() {
				f.deleteMySound(t.id).then(function() {
					x.music === t && e.setMusic(null),
					u(t)
				}).then(g).then(m)
			})
		},
		e.crop = function(e) {
			r.getCropInfo(e.id).then(function(t) {
				u();
				var n = {
					soundId: e.id,
					lastCropInfo: t.data.obj
				};
				a.openCrop(e, n).then(m)
			})
		},
		e.confirm = function() {
			x.music && x.music.price ? l.checkPurchased(x.music.id).then(function(t) {
				if (t.data.map.isPurchase) s.openConfirmDialog({
					msg: "用户已购买，是否立即使用？",
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.$close(x.music),
					l.checkProductExist(n, {
						id: x.music.id,
						name: x.music.name,
						path: x.music.path,
						fileType: n,
						price: x.music.price
					}),
					f.clearTag("myPurchase", "myPurchase-all")
				});
				else {
					var i = {
						id: x.music.id,
						price: x.music.price,
						buyItem: "购买音乐",
						name: ""
					};
					c.buyMaterial(i).then(function(e) {
						var t = {
							id: i.id,
							orderId: e.data.map.orderId,
							name: x.music.name || x.music.title,
							path: x.music.path,
							price: i.price,
							source: 2,
							prodType: 4,
							musicType: n
						};
						return l.saveToMyResource(t)
					}).then(function(t) {
						if (1 == t.data.map.status) {
							p.add("支付成功，已保存至我的购买");
							var n = JSON.parse(JSON.stringify(x.music));
							delete n.price,
							f.clearTag("myPurchase", "myPurchase-all"),
							e.$close(x.music)
						} else s.openMsgDialog({
							msg: t.data.map.error || "网络繁忙,请稍后再试"
						})
					})
				}
			}) : x.music && x.music.id ? r.getCropInfo(x.music.id).then(function(t) {
				var n = t.data.obj;
				n && n.url && (x.music.path = n.url),
				e.$close(x.music)
			}) : e.$close()
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.openLink = function() {
			return a.openLink(n).then(m)
		}
	}
	i.$inject = ["$scope", "musicJson", "fileType", "musicService", "musicModal", "audioAPI", "modalService", "buyService", "materialAPI", "i18nNotifications"];
	var o = n(196);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>外部链接 <span ng-show=!vm.error class=action>可从外部使用链接添加音乐</span> <span ng-show=vm.error class=action>{{vm.error}}</span></h4></div><div class=dialog-contain><div class=dialog-content><form class=form-contain role=form><div class="form-list audio_area clearfix"><lable class=form-label>链接地址:</lable><div class=form-input><input type=text class=link ng-model=vm.src placeholder=请输入mp3格式的音乐链接></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = t[n],
		o = e.vm = {
			error: "",
			src: ""
		};
		e.confirm = function() {
			var t = o.src;
			return t.length ? /^http?:\/\/.*\.mp3$/.test(t) ? void i.addMusicLink(t).then(function() {
				e.$close("")
			})["catch"](function(e) {
				o.error = e.data.msg,
				$(".link").focus()
			}) : (o.error = "请输入正确的的音乐链接(mp3格式)", void $(".link").focus()) : (o.error = "链接地址不能为空", void $(".link").focus())
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "musicService", "fileType"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><h4 class=modal-title>音频裁切</h4></div><div class="dialog-contain cropimage crop-sound"><div class="crop-content dialog-content clearfix"><div class=sound-title>{{title}}</div><eqx-crop-panel></eqx-crop-panel><div class=set-point-wrapper><em ng-class="{\'eqf-play2\': state != \'start\', \'eqf-stop\': state == \'start\'}" ng-click=play();></em><div><span ng-click=setStartTime()>设当前播放为起点</span> 起点: <input class=from-point type=number min=0 ng-model=minuteS ng-change=changeStartTime()> 分 <input type=number max=59 min=0 ng-model=secondS ng-change=changeStartTime()>秒</div><div class=set-point><span ng-click=setEndTime();>设当前播放为终点</span> 终点: <input type=number min=0 ng-model=minuteE ng-change=changeEndTime()> 分 <input type=number ng-change=changeEndTime() ng-model=secondE max=59 min=0>秒</div></div><div class=sound-len><h6>音乐长度</h6><h1>{{cropLen}}</h1><h6>（建议长度控制在20秒内</h6></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s) {
		"ngInject";
		function c(n, i) {
			var o = {
				id: n,
				url: i,
				start: e.startTime,
				duration: Math.abs(e.endTime - e.startTime),
				rate: ""
			};
			return t.saveCropInfo(o)
		}
		e.startTime = 0,
		e.endTime = 0,
		e.currentTime = 0,
		e.minuteS = 0,
		e.secondS = 0,
		e.minuteE = 0,
		e.secondS = 0,
		e.soundSrc = i.FILE + r.path,
		e.title = r.name,
		e.cropLen = "0:00",
		e.resourceType = "mp3",
		e.soundType = r.fileType,
		e.lastCropInfo = s.lastCropInfo,
		e.ok = function() {
			var i = e.startTime,
			o = e.endTime - e.startTime;
			return o <= 0 ? void a.openMsgDialog({
				msg: "裁切长度不能为0。"
			}) : (o >= e.duration && (i = null, o = null), void t.crop(r.path, i, o).then(function(i) {
				var o = i.data.obj;
				$("#loading").show(),
				t.pollingStatus(o).then(function(e) {
					return $("#loading").hide(),
					s.soundId ? c(s.soundId, e) : n.saveFileInfo(r).then(function(t) {
						var n = t.data.obj;
						return c(n.id, e)
					})
				},
				function() {
					$("#loading").hide(),
					a.openMsgDialog({
						msg: "裁切失败"
					}),
					e.$close()
				}).then(function(t) {
					e.$close(t)
				})
			}))
		},
		e.play = function() {
			"start" !== e.state ? e.state = "start": e.state = "pause"
		},
		e.changeStartTime = function() {
			e.secondS || (e.secondS = 0),
			e.secondS = Math.floor(e.secondS),
			e.startTime = 60 * e.minuteS + e.secondS,
			e.startTime > e.endTime && (e.minuteS = Math.floor(e.endTime / 60), e.secondS = Math.round(e.endTime % 60), e.startTime = e.endTime)
		},
		e.changeEndTime = function() {
			e.secondE || (e.secondE = 0),
			e.secondE = Math.floor(e.secondE),
			e.endTime = 60 * e.minuteE + e.secondE,
			e.endTime > e.duration ? (e.minuteE = Math.floor(e.duration / 60), e.secondE = Math.round(e.duration % 60), e.endTime = e.duration) : e.endTime < e.startTime && (e.minuteE = Math.floor(e.startTime / 60), e.secondE = Math.round(e.startTime % 60), e.endTime = e.startTime)
		},
		e.setStartTime = function() {
			e.startTime = e.currentTime
		},
		e.setEndTime = function() {
			e.endTime = e.currentTime
		},
		e.$watch("startTime",
		function(t, n) {
			t !== n && (e.minuteS = Math.floor(t / 60), e.secondS = Math.round(t % 60), e.cropLen = o(Math.abs(e.endTime - e.startTime)))
		}),
		e.$watch("endTime",
		function(t, n) {
			t !== n && (e.minuteE = Math.floor(t / 60), e.secondE = Math.round(t % 60), e.cropLen = o(Math.abs(e.endTime - e.startTime)))
		}),
		e.cancel = function() {
			e.$dismiss()
		}
	}
	i.$inject = ["$scope", "audioAPI", "fileAPI", "HOST", "modalService", "sound", "cropConfig"],
	n(218);
	var o = n(220).toMinute;
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	"use strict";
	function n(e) {
		return Math.round(e % 60) >= 10 ? Math.floor(e / 60) + ":" + Math.round(e % 60) : Math.floor(e / 60) + ":0" + Math.round(e % 60)
	}
	e.exports = {
		toMinute: n
	}
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(222),
			link: function(e, t) {
				function n(e) {
					r = e,
					v = t.offset().left
				}
				function i(t) {
					if (r) {
						var n = t.clientX - v;
						"s" === r ? (n >= f ? n = f: n <= 0 && (n = 0), e.startTime = Math.round(n / 850 * e.duration)) : "e" === r ? (n <= m ? n = m: n >= 850 && (n = 850), e.endTime = Math.round(n / 850 * e.duration)) : (n <= m ? n = m: n >= f && (n = f), e.currentTime = Math.round(n / 850 * e.duration)),
						e.$apply()
					}
				}
				function a(t) {
					var n = l.position().left;
					n >= 800 ? l.css({
						zIndex: 2
					}) : l.css({
						zIndex: 1
					}),
					r && ("s" === r ? (m = t.clientX - v, m >= f ? m = f: m <= 0 && (m = 0), e.startTime = Math.round(m / 850 * e.duration)) : "e" === r ? (f = t.clientX - v, f <= m ? f = m: f >= 850 && (f = 850), e.endTime = Math.round(f / 850 * e.duration)) : (h = t.clientX - v, h < m && (h = m), c.currentTime = e.currentTime), r = null)
				}
				var r, s = t.find("audio"),
				c = s.get(0),
				l = t.find(".bar-s"),
				p = t.find(".bar-c"),
				d = t.find(".bar-e"),
				u = t.find(".left-distance"),
				g = t.find(".right-distance"),
				m = 0,
				f = 850,
				h = 0,
				v = 0,
				y = e.lastCropInfo;
				e.curT = "0:00",
				e.endT = "0:00",
				s.attr("src", e.soundSrc),
				p.hide(),
				l.on("mousedown",
				function() {
					return n("s")
				}),
				d.on("mousedown",
				function() {
					return n("e")
				}),
				p.on("mousedown",
				function() {
					return n("c")
				}),
				t.on("mousemove", i),
				t.on("mouseup mouseleave", a),
				s.on("error",
				function(t) {
					switch (t.target.error.code) {
					case t.target.error.MEDIA_ERR_ABORTED:
						console.error("You aborted the video playback.");
						break;
					case t.target.error.MEDIA_ERR_NETWORK:
						console.error("A network error caused the video download to fail part-way.");
						break;
					case t.target.error.MEDIA_ERR_DECODE:
						console.error("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");
						break;
					case t.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
						console.error("The video could not be loaded, either because the server or network failed or because the format is not supported.");
						break;
					default:
						console.error("An unknown error occurred.")
					}
					e.$dismiss()
				}),
				s.on("loadedmetadata",
				function() {
					if (!isNaN(c.duration)) {
						var t = Math.floor(c.duration),
						n = "";
						2 == e.soundType ? n = t < 90 ? t: 90 : 4 == e.soundType && (n = t < 15 ? t: 15),
						y ? (e.startTime = y.start, e.endTime = y.start + y.duration, e.currentTime = e.lastCropInfo.start) : (e.endTime = n, e.startTime = 0, e.currentTime = 0),
						e.duration = t,
						e.endT = o(e.endTime);
						for (var i = 850 / e.duration,
						a = e.duration / 6 + 1,
						r = [], s = 1; s <= a; s++) r.push(o(6 * s));
						e.timeline = r,
						e.liW = 6 * i + "px",
						e.endLi = 850 - 6 * i * (Math.floor(a) - 1) + "px",
						e.$apply()
					}
				}),
				s.on("timeupdate",
				function() {
					"c" !== r && (e.currentTime = c.currentTime, e.$apply())
				}),
				e.$watch("state",
				function(t) {
					"start" == t ? (e.currentTime >= e.endTime && (c.currentTime = e.startTime), c.currentTime < e.startTime && (c.currentTime = e.startTime), p.show(), c.play()) : "pause" == t && c.pause()
				}),
				e.$watch("endTime",
				function(t) {
					e.endT = o(t),
					f = t / e.duration * 850,
					f = f > 850 ? 850 : f,
					d.css("left", f - 5 + "px"),
					g.css("width", 850 - f + "px"),
					f < h && (e.currentTime = t, c.currentTime = t)
				}),
				e.$watch("startTime",
				function(t) {
					m = t / e.duration * 850,
					m = m > 850 ? 850 : m,
					l.css("left", m - 5 + "px"),
					u.css("width", m + "px"),
					h < m && (e.currentTime = t, c.currentTime = t)
				}),
				e.$watch("currentTime",
				function(t) {
					e.curT = o(t),
					h = Math.round(t / e.duration * 850),
					h >= f && (h = f, e.state = "pause"),
					p.css("left", h - 5 + "px")
				}),
				e.$watch("soundSrc",
				function(t, n) {
					t !== n && (p.hide(), s.attr("src", t), e.state = "pause")
				})
			}
		}
	}
	var o = n(220).toMinute;
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=crop-panel><ul class=time-line><li ng-class="{\'s-scale\': ($index+1) % 5 != 0, \'l-scale\': ($index+1) % 5 == 0}" ng-style="{\'width\': ($index+1) != timeline.length ? liW : endLi}" ng-repeat="scale in timeline"><span ng-if="$index == 0" class=time-line-0>0:00</span> <span ng-if="($index+1) % 5 == 0">{{scale}}</span></li></ul><em class=bar-s><em class=triangle></em> <em class=line></em> </em><em class=bar-c><em class=triangle></em> <em class=line></em> </em><em class=bar-e><em class=triangle></em> <em class=line></em></em><div class=left-distance></div><div class=right-distance></div></div><span>{{curT}}/<span>{{endT}}</span></span><audio></audio>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, n) {
			function i(e) {
				e && e.pause && e.pause()
			}
			function o(t, n, i, o) {
				var a, r = {};
				r.src = o ? o: n.src || n.url || n.path || n.tmbPath,
				a = /^https?/.test(r.src) ? r.src: e.FILE + r.src;
				var s = a.substr(a.lastIndexOf("/") + 1),
				c = i.src.substr(a.lastIndexOf("/") + 1);
				null === t.id ? s === c && n.isPlaying ? i.pause() : s !== c || n.isPlaying ? (i.src = a, i.play(), t.isPlaying = !1, n.isPlaying = !0) : i.play() : t.id === n.id && n.isPlaying ? i.pause() : t.id !== n.id || n.isPlaying ? (i.src = a, i.play(), t.isPlaying = !1, n.isPlaying = !0) : (i.src = a, i.play())
			}
			var a = {};
			n.on("pause",
			function() {
				n.attr("src") && t.$apply(function() {
					return a.isPlaying = !1
				})
			}).on("play",
			function() {
				n.attr("src") && t.$apply(function() {
					return a.isPlaying = !0
				})
			}),
			t.$on("sound.toggle",
			function(e, t, i, r) {
				o(a, t, n[0], i, r),
				a = t
			}),
			t.$on("sound.pause",
			function(e) {
				e && e.id == a.id && i(n[0])
			}),
			t.$on("$destroy",
			function() {
				a && a.id && (a.isPlaying = !1)
			})
		}
		return {
			link: t
		}
	}
	n.$inject = ["HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("resource.ui.shape", [n(225)]).factory("shapeModalFactory", n(228)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.shape.tpl", []).directive("eqxShapeHeader",
	function() {
		return {
			template: n(226)
		}
	}).directive("eqxShapeNav",
	function() {
		return {
			template: n(227)
		}
	}).name
},
function(e, t) {
	e.exports = "<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>形状库 <span ng-show=!authError class=action>矢量素材，可更换颜色，放大不失真</span> <span ng-show=authError class=action>{{authError}}</span></h4></div>"
},
function(e, t) {
	e.exports = '<div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab== TAB.sys}" ng-click=setTab(TAB.sys)><a href="">形状库</a></li></ul><ul class="nav tabs-left user-tabs" style=padding-top:0><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a href="">最近使用</a></li></ul></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i(e) {
			var n = o(e);
			return a().then(function(e) {
				return t.parse(e.path).then(function(t) {
					return Object.assign(n.properties, {
						src: e.path,
						id: e.id,
						items: t.items
					}),
					Object.assign(n.css, {
						height: t.height,
						width: t.width
					}),
					n
				})
			})
		}
		function o(e) {
			return JSON.parse(JSON.stringify(e))
		}
		function a() {
			return e.open({
				windowClass: "console img_console",
				template: n(229),
				controller: n(230)
			}).then(function(e) {
				return t.addUseHistory(e),
				e
			})
		}
		return {
			getSvg: a,
			getShapeJson: i
		}
	}
	i.$inject = ["modalService", "shapeService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<eqx-shape-header></eqx-shape-header><div class=dialog-contain><div class="dialog-content bg_console sound-flex clearfix"><eqx-shape-nav></eqx-shape-nav><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head"><div class=img_list><eqx-resource-category ng-show="vm.tab == TAB.sys"></eqx-resource-category><eqx-resource-tags></eqx-resource-tags></div></div><div class=img_list><div class="img_list_container photo_list"><ul class="img_box clearfix" style=height:333px><li ng-repeat="img in vm.itemList" style="width:100px;height:100px;position:relative;display:inline-block;background:#e6ebed no-repeat center/contain" ng-style="{backgroundImage: \'url(\' + HOST.FILE+ img.path + \')\'}" ng-click=selectSvg(img)></li></ul></div></div></div></div><eqx-resource-pagination></eqx-resource-pagination></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n) {
		"ngInject";
		var i = Object.assign({
			showSearch: !1
		},
		n.config);
		o(e, n, i),
		e.HOST = t,
		e.selectSvg = function(t) {
			e.$close(t)
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	i.$inject = ["$scope", "HOST", "shapeService"];
	var o = n(196);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	n(200).size;
	e.exports = angular.module("resource.ui.font", [n(232)]).factory("fontModalFactory", n(236)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.font.tpl", []).directive("eqxFontHeader",
	function() {
		return {
			template: n(233)
		}
	}).directive("eqxFontNav",
	function() {
		return {
			template: n(234)
		}
	}).directive("eqxFontList",
	function() {
		return {
			template: n(235)
		}
	}).name
},
function(e, t) {
	e.exports = '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{vm.title}} <span ng-show=vm.error class=action>{{vm.error}}</span></h4></div>'
},
function(e, t) {
	e.exports = '<div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a data-toggle=tab>字体库</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click=setTab(TAB.myPurchase)><a data-toggle=tab>我的字体</a></li></ul></div>'
},
function(e, t) {
	e.exports = '<div class=font_list><eqx-resource-none ng-show="vm.itemList.length <= 0 && vm.category.id === \'search\' && !vm.showLoading"></eqx-resource-none><eqx-resource-loading ng-show=vm.showLoading></eqx-resource-loading><div style=height:355px;margin-left:15px><ul><li ng-repeat="font in vm.itemList" class=font_box><div class=font-name><div class=font-display><span ng-style="{fontFamily: font.font_family? font.font_family : font.fontFamily }">{{vm.fontDisplay ? vm.fontDisplay : font.preview_text}}</span></div><span ng-class="{true: \'fontName-ellipsis\',false: \'fontName\'}[vm.tab == TAB.sys]">{{font.name}}</span> <a ng-if="vm.tab == TAB.sys" class=fontBuy ng-click=buyFont(font)>购买</a> <span ng-if="vm.tab == TAB.sys" class=fontPrice>{{font.price}}秀点/年</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 0" class="fontType fontPersonal" ng-class="{\'fontOverTime\': font.expStatus == 0}">个人</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 1 && font.fontType != 0" class="fontType fontBusiness" ng-class="{\'fontOverTime\': font.expStatus == 0}">企业</span><div ng-if="vm.tab == TAB.myPurchase" class="fr switch fontSwitch" ng-class="font.status == 1 ? \'switch-open\' : \'switch-close\'" ng-click=openOrClose(font)><div class=circle-con><i class=circle></i></div></div></div></li></ul></div><div class=display-time><span>实时预览</span> <input placeholder=请输入文字预览字体效果 ng-model=vm.previewFont check-count=20 ng-keypress=displayPreviewFont($event)> <span class=font-count>{{(vm.previewFont?countCharacters(vm.previewFont.trim()):0)}}/20</span> <a class="btn btn-primary" ng-click=displayPreviewFont() big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=字体预览 categorythreeid=3 actiontype=4>确认</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i() {
			return e.open({
				windowClass: "console img_console",
				template: n(239),
				controller: n(240)
			})
		}
		function o(e) {
			return void 0 !== e.price && null !== e.price || (e.price = 0),
			void 0 !== e.business_price && null !== e.business_price || (e.business_price = 0),
			t.open({
				template: n(241),
				controller: n(242),
				resolve: {
					font: function() {
						return e
					}
				}
			}).result
		}
		return {
			openFontMarket: i,
			buyFont: o
		}
	}
	i.$inject = ["modalService", "$modal"],
	n(237),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<eqx-font-header></eqx-font-header><div class=dialog-contain id=container><div class="dialog-content bg_console sound-flex clearfix"><eqx-font-nav></eqx-font-nav><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head"><div class=font_list><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if=!vm.managingImgStatus></eqx-resource-category><eqx-resource-tags ng-if=!vm.managingImgStatus></eqx-resource-tags></div></div></div><eqx-font-list ng-if=!vm.manageGroupStatus></eqx-font-list></div></div><eqx-resource-pagination></eqx-resource-pagination></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s) {
		"ngInject";
		function c(e) {
			var t = document.getElementById("fontFacePreview"),
			n = document.head || document.getElementsByTagName("head")[0];
			t && n.removeChild(t),
			t = document.createElement("style"),
			t.type = "text/css",
			t.id = "fontFacePreview",
			n.appendChild(t);
			var i = document.createTextNode(e);
			t.appendChild(i)
		}
		var l = t;
		e.cancel = function() {
			e.$dismiss()
		},
		e.countCharacters = a,
		e.buyFont = function(e) {
			i.getFontLicense(e.sourceId).then(function(i) {
				return 1 == i.data.obj ? n.add("当前字体已经购买，请到字体工具栏中使用。") : (e.license = i.data.obj, t.buyFont(e))
			})
		},
		e.displayPreviewFont = function(t) {
			if (!t || t && 13 === t.keyCode) {
				var n = "",
				i = "http://font.eqh5.com/store/fonts/";
				d.itemList.forEach(function(t) {
					var o = t.font_family ? t.font_family: t.fontFamily,
					a = null;
					a = e.vm.previewFont ? e.vm.previewFont: t.preview_text ? t.preview_text: "易企秀免费简单好用",
					d.fontDisplay = a,
					a = encodeURIComponent(a);
					var r = new Date;
					n = n + "@font-face{font-family:'" + o + "';src: url('" + i + o + ".woff?text=" + a + "&date=" + r.getTime() + "') format('woff');}"
				}),
				c(n)
			}
		};
		var p = Object.assign({
			itemListCallback: e.displayPreviewFont
		},
		l.config);
		o(e, l, p);
		var d = Object.assign(e.vm, {
			title: "字体素材",
			previewFont: ""
		});
		e.openOrClose = function(e) {
			if (0 == e.expStatus) s.openConfirmDialog({
				msg: "当前字体已过期，是否重新购买？",
				confirmName: "立即购买",
				cancelName: "取消"
			}).then(function() {
				l.buyFont(e).then(function() {
					l.myFont.myFontLists = [],
					l.$getMoreItems("myPurchase", "myPurchase-all")
				})
			});
			else {
				var t = 1;
				t = 1 === e.status ? 0 : 1,
				r.openCloseFontStatus(e.id, t).then(function(n) {
					n.data.success ? (e.status = t, l.myFont.myFontLists = [], s.openMsgDialog({
						msg: "操作成功"
					})) : s.openMsgDialog({
						msg: "网络繁忙,请稍后再试"
					})
				})
			}
		}
	}
	i.$inject = ["$scope", "fontService", "i18nNotifications", "materialAPI", "validCharacterNumFilter", "fontAPI", "modalService"];
	var o = n(196);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>购买字体</h4></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class=buy-font-info><div ng-if="(font.license == null || (font.license != null && font.expStatus == 0)) && disableBuyPersonalFont()" class="hint--top hint--rounded" data-hint=企业用户及公共用户只允许购买企业授权版本><input type=radio ng-model=usage.type value=personal ng-checked="usage.type === \'personal\'" ng-disabled=true> <span class=disable-buy-peronal>购买个人授权版本，不可用于商业用途({{font.price}}秀点/年)</span></div><div ng-if="(font.license == null || (font.license != null && font.expStatus == 0)) && !disableBuyPersonalFont()"><input type=radio ng-model=usage.type value=personal ng-checked="usage.type === \'personal\'"> <span>购买个人授权版本，不可用于商业用途({{font.price}}秀点/年)</span></div><div ng-if="font.license == 0 && font.expStatus != 0"><span>已购买个人授权版本,不可用于商业用途</span></div><div ng-show="font.license !=1 || font.expStatus == 0"><input type=radio ng-model=usage.type value=business ng-checked="usage.type === \'business\'"> <span>购买企业授权版本，授权范围内可用于商业用途({{font.business_price }}秀点/年）</span></div><div ng-if="font.brandId === 10"><input type=checkbox ng-model=acceptFZFont.value>已阅读并接受<a style=color:#08a1ef ng-click=openFZAgreement()>《方正字库知识产权用户许可协议》</a></div></div></div><div class="btn-contain btn-small"><button ng-show="font.license == null || ( font.license == 0 && userType != 21 && userType != 51) || font.expStatus == 0" ng-disabled="(font.brandId === 10) && (!acceptFZFont.value)" ng-click=confirmBuyFont(); class="btn btn-main" style=width:100px;height:36px>立即购买</button> <a ng-click=cancel(); class=btn-grey0>取消</a></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o, a, r, s, c, l, p, d) {
		"ngInject";
		function u(t) {
			return a.saveToMyResource(t).then(function(t) {
				1 == t.data.map.status ? (c.add("当前字体购买成功，请到字体工具栏中使用。"), o.clearTag("myPurchase", "myPurchase-all"), o.myFont.myFontLists = [], e.ok()) : r.openMsgDialog({
					msg: t.data.map.error || "网络繁忙,请稍后再试"
				})
			})
		}
		e.font = s,
		e.usage = {},
		e.acceptFZFont = {
			value: !1
		},
		e.userType = l.getCurrentUser().type,
		1 === e.userType && 0 != e.font.license ? e.usage.type = "personal": e.usage.type = "business",
		e.ok = function() {
			e.$close(e.usage.license)
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.confirmBuyFont = function() {
			e.usage.type || (21 !== e.userType && 51 !== e.userType ? e.usage.type = "business": e.usage.type = "personal");
			var n = {
				id: s.id,
				buyItem: s.name || "购买字体"
			};
			"personal" === e.usage.type ? (e.usage.price = e.font.price, e.usage.license = 0) : (e.usage.price = e.font.business_price, e.usage.license = 1, n.signUrl = t.MALL_HOST + "api/m/order/sign_business"),
			n.price = e.usage.price;
			var o = {
				id: s.id,
				license: e.usage.license,
				price: e.usage.price,
				source: 2,
				prodType: 3
			};
			return 0 == n.price ? (o.orderId = "", u(o)) : void i.buyMaterial(n).then(function(e) {
				return e ? (o.orderId = e.data.map.orderId, u(o)) : void r.openMsgDialog({
					msg: "网络繁忙,请稍后再试"
				})
			})
		},
		e.openFZAgreement = function() {
			p.open({
				windowClass: "login-container seven-contain",
				template: n(243)
			})
		},
		e.disableBuyPersonalFont = function() {
			return d.permission("disableBuyPersonalFont")
		}
	}
	i.$inject = ["$scope", "HOST", "buyService", "fontService", "materialAPI", "modalService", "font", "i18nNotifications", "userService", "$modal", "authorityService"],
	e.exports = i
},
function(e, t) {
	e.exports = "<style>.fz-font-agreement{line-height:2;margin:40px 80px}.fz-font-agreement p{text-indent:2em}.fz-font-agreement h6{font-weight:700}</style><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=$close()><span aria-hidden=true>×</span></button><h4 class=modal-title style=text-align:center>方正字库知识产权用户许可协议</h4></div><div class=dialog-contain eqd-scroll disable-mouse=true prevent-exception=true style=height:520px;margin-bottom:40px><ul class=fz-font-agreement><li><h6>用户须知：</h6><p style=font-weight:700>本《方正字库知识产权用户许可协议》（以下简称“协议”）是您与北京北大方正电子有限公司（以下简称“方正电子公司”）之间有关安装、使用本协议附随的“方正字库”（以下简称“字库软件”）的法律协议。您在使用本“字库软件”的所有或任何部分前，应接受本协议中规定的所有条款和条件，特别是其中对下列内容的规定：（a）使用（第3、4 部分）；（b）知识产权（第5部分）；（c）保证（第6部分）及责任（第7部分）。安装、使用本字库软件的行为表示您同意接受本协议的条款，并遵守本协议。否则，请不要安装和/或使用本字库软件。</p><br/><p>方正字库软件依据国家法律既包含字体美术作品著作权，又包含计算机软件著作权，因此方正电子公司享有本字库软件所有的知识产权。方正电子公司只允许您在遵守本协议各项条款的前提下使用本字库软件。</p><br/><h6>1．说明</h6><p>1.1 计算机软件说明：</p><p>本“字库软件”指附随了本协议、包含一款或多款字体的字库软件的文件、软盘、光盘或其他形式介质储存的所有内容，包括但不限于计算机软件、字体、说明书等印刷材料，以及光盘封套等包装材料（其他代理商、销售商等非方正电子公司自行印制的印刷材料及包装材料等除外）。本字库软件中所涉及的字库格式包括但不限于True type格式、Open type格式、PostScript Type 1、Type 0格式和CID格式</p><p>1.2 美术作品说明</p><p>字库软件所实现的字是美术作品，因此您对该美术作品的使用要遵循《中华人民共和国著作权法》以及《中华人民共和国著作权法实施条例》有关规定。</p><p>本字库软件中不同字体所包含的字符数量可能因遵循不同规格标准而有不同。此种字符数量差异并不属于质量瑕疵，用户之选择代表对所选字体规格的认可。</p><br/><h6>2．定义</h6><p>北京中网易企秀科技有限公司是方正电子公司许可的经销商，易企秀是北京中网易企秀科技有限公司拥有的在线设计平台</p><p>2.1“用户”或“您”是指在易企秀平台、向北京中网易企秀科技有限公司购买正版软件产品的复制件，并直接在计算机上安装、使用本字库软件及本字库软件所包含字体的自然人、法人或其他组织。</p><p>用户应依照本协议安装、使用本字库软件及本字库软件所包含的字体</p><p>2.2 “设计作品”是指通过在易企秀平台的“场景”中进行设计而得来的设计案。</p><h6>3．字库软件的使用</h6><p>如您在易企秀平台处获得字库软件，并且以您遵守本协议的条款为前提，方正电子公司即授予您以下关于本字库软件的非独占性许可，允许您按照本协议规定的如下用途使用本字库软件：</p><p>3.1安装使用：您仅可以在易企秀平台的场景中使用本字库软件；</p><p>3.2设计作品的传播：我们许可您通过各种途径对在易企秀平台的场景中所创作的设计作品进行传播。但如果您在易企秀平台之外，商业性地传播上述设计作品，您需要得到额外授权。</p><p style=font-weight:700>如果您对方正字体的使用需求超出了本协议的使用许可范围，尤其是，您出于商业目的为他人而复制、发行或者展览了本协议中的方正字体，请与我们联系以获取方正字库知识产权的相应授权。</p><br/><h6>4．字库软件的使用限制</h6><p>4.1您不得对本字库软件进行复制、修改、仿制、反编译、反汇编、反向工程、转换、翻译、拆分，或以其他方式试图从本软件取得源代码，或从本软件文档中摘取其实质部分作其他应用；</p><p>4.2您不得单独或者附带地以出售、出租、出借等方式向公众发行或通过赠与、转让以及有线或者无线网络传播本字库软件；</p><p>4.3 您不得单独或者附带地将本字库软件及其所包含的字体提供给未经方正电子公司许可的第三人，使该第三人以向公众展览、展示、放映、表演等方式使用本字库软件及其字体，不论您的提供行为是出于商业目的还是非商业目的。</p><p>4.4未经方正电子公司的书面许可，您不得将所购买的字库产品以任何形式内嵌在所开发的游戏内。</p><p>4.5根据字库软件中字体的美术作品属性，如果您没有获得方正电子公司的明确的授权许可不得实施下述行为，包括但不限于：发表、署名、修改、复制、发行、出租、展览、放映、广播、信息网络传播、摄制、改编、翻译、汇编等。</p><p>如果您在向公众做如下形式（包括但不限于）的发布时需要使用方正字体的，必须事先获得方正电子公司的书面授权许可：</p><p>4.3.1 将方正字体直接、格式转换或修改后用于企业名称、商标、标识；</p><p>4.3.2 将方正字体直接、格式转换或修改后用于企业宣传册；</p><p>4.3.3将方正字体直接、格式转换或修改后用于产品包装、附加标牌；</p><p>4.3.4将方正字体直接、格式转换或修改后用于产品说明书；</p><p>4.3.5将方正字体直接、格式转换或修改后用于发布卖场海报、平面广告、电视广告、户外广告、网络广告等；</p><p>4.3.6将方正字体直接、格式转换或修改后用于企业自有网站；</p><p>4.3.7将方正字体直接、格式转换或修改后用于发布音像制品、展览、展示中；</p><p>4.3.8其他应当由方正电子公司书面许可的情况。</p><p>4.6 其他依法应被禁止或者限制的行为。</p><br/><h6>5．知识产权</h6><p>本字库软件及其所包含的字体以及方正电子公司授权您制作的任何副本均为方正电子公司享有知识产权的作品（在本“字库软件”产品中另有知识产权声明的除外），本字库软件的结构、组织和代码以及与本字库软件相关的所有信息均为方正电子公司的商业秘密。本字库软件及其所包含的字体（即美术作品）受《中华人民共和国著作权法》、《计算机软件保护条例》和其他知识产权法律法规及国际公约、条约的保护。除本协议中明确的许可，方正电子公司不授予您对本字库软件其他的知识产权权利。</p><br/><h6>6．保证</h6><p>6.1在您遵守本协议条款的前提下，方正电子公司保证：</p><p>(a) 本字库软件符合附随书面材料所述的功能；</p><p>(b) 为您提供的支持服务与附随的书面材料中所述相符；</p><p>6.2 方正电子公司及其授权供应商对您所承担的全部责任，以及您所享有的所有补偿以下列两者之一为限：</p><p>(a) 退还您购买不符合本协议第6.1条规定的字库软件产品时已支付的价款（如有）；</p><p>(b) 修正或更换不符合本协议第6.1条规定的字库软件。经更换的字库软件产品的保证期限为原保证期剩余的期限或自更换日起计三十天（以时间较长者为准）。</p><p>进行索赔时，您必须在购得本字库软件后九十（90）天内、且仅在可提供购买本字库软件发票的情况下，向方正电子公司或其授权供应商提出</p><p>6.3本字库软件因事故、不当使用或错误操作而造成无法使用的，不适用本协议的保证条款。</p><p>6.4前述保证规定了当方正电子公司违反本协议第6.1条保证规定时的唯一和专有的赔偿方式。在适用法律所允许的最大范围内，方正电子公司就本字库软件不做其他明示或默示的保证，其中包括（但不限于）对字库软件产品的适销性、适用性、所有权或无侵权的默示保证以及提供或未提供支持服务。</p><br/><h6>7．责任限制</h6><p>方正电子公司在任何情况下都不对任何损失、索赔或费用或任何因果的、特殊的、意外的、间接的、惩罚性的或其他任何损失（包括但不限于利润损失、营业中断、商业信息的遗失或任何其他金钱上的损失）承担任何责任，也不对任何第三方的索赔或费用承担赔偿责任，即使方正电子公司事先被告知该损害发生的可能性。不论任何情况，方正电子公司依照本协议任何条款下所承担的全部责任，均限于您购买本软件产品所实际已付的价款（如果有的话）。但是，如果您已经与方正电子公司就授权许可使用达成书面协议，则方正电子公司的赔偿责任应以该协议条款为准。</p><br/><h6>8．许可终止</h6><p>一旦您违反本协议的条款，方正电子公司随时可能终止本协议、收回授权，并要求您承担相应法律责任。</p><br/><h6>9．适用法律与管辖</h6><p>本协议适用中华人民共和国的法律。</p><p>如您与方正电子公司就本字库软件的相关问题发生争议，您与方正电子公司均有权向北京市海淀区人民法院 提起诉讼。</p><br/><br/><br/><p>如果您对本协议有任何疑问或者希望获得有关字体授权许可的任何信息，请通过如下方式与方正电子公司联系：</p><p>北京北大方正电子有限公司</p><p>地址： 北京市海淀区上地5街9号 方正大厦</p><p>邮编：100085</p><p>电话：4006-516763</p><p>邮箱：font_sales@founder.com</p><p>网址：http://www.foundertype.com</p><br/><br/><br/><br/></li></ul></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("business.material", [n(245), n(250), n(257)]).name
},
function(e, t, n) {
	"use strict";
	var i = n(246);
	e.exports = angular.module("business.material.status", []).directive("eqxMaterialStatus", i).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				obj: "=",
				type: "=",
				selectCount: "=",
				successFn: "=",
				selectedImageLists: "="
			},
			controller: a
		}
	}
	var o = n(247),
	a = n(248);
	n(249),
	e.exports = i
},
function(e, t) {
	e.exports = "<div ng-if=\"type === 'tpl'\"><div ng-show=obj.price class=price><span>{{obj.price}}秀点</span></div><div ng-show=obj.price class=overlay ng-click=$event.stopPropagation()><div class=cover><div eqx-material-preview obj=obj type=type success-fn=successFn></div><div eqx-material-buy-process obj=obj type=type preview=false success-fn=successFn></div></div></div></div><div ng-if=\"type === 'pic'\"><div ng-show=obj.price class=price><span>{{obj.price}}秀点</span></div><div class=overlay ng-click=$event.stopPropagation()><div class=cover><div eqx-material-preview obj=obj type=type success-fn=successFn selected-image-lists=selectedImageLists></div><div ng-show=obj.price eqx-material-buy-process obj=obj type=type preview=false success-fn=successFn selected-image-lists=selectedImageLists></div><div ng-show=!obj.price><a class=use ng-click=successFn(obj)>{{getButStr()}}</a></div></div></div></div><span ng-if=\"type === 'audio'\" ng-show=obj.price>{{obj.price}}秀点</span>"
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		e.getButStr = function() {
			return e.selectedImageLists.find(function(t) {
				return t.id == e.obj.id
			}) ? "取消": e.selectCount > 1 ? "选择": "使用"
		}
	}
	n.$inject = ["$scope"],
	e.exports = n
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = n(251),
	o = n(254),
	a = n(255);
	e.exports = angular.module("business.material.buyProcess", []).directive("eqxMaterialBuyProcess", i).controller("materialBuyMessageCtrl", o).factory("buyMessageFact", a).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				obj: "=",
				type: "=",
				preview: "=",
				successFn: "=",
				previewCancel: "=",
				selectedImageLists: "="
			},
			controller: a
		}
	}
	var o = n(252),
	a = n(253);
	e.exports = i
},
function(e, t) {
	e.exports = '<a ng-show="!preview && !isSelected()" class=buy ng-click=buyMaterial(price)>购买</a> <a ng-show="!preview && isSelected()" class=use ng-click=successFn(obj)>取消</a> <a ng-show="preview && !isSelected()" class="btn btn-sm green" ng-click=buyMaterial(price);>立即购买</a> <a ng-show="preview && isSelected()" class="btn btn-sm green" ng-click=successFn(obj);>取消使用</a>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s) {
		"ngInject";
		e.buyMaterial = function() {
			"pic" == e.type ? i.checkPurchased(e.obj.id).then(function(t) {
				if (t.data.map.isPurchase) s.openConfirmDialog({
					msg: "用户已购买，是否立即使用？",
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.obj.path = t.data.map.product.authedPath;
					var n = e.obj;
					i.checkProductExist(1, {
						id: n.id,
						name: n.name,
						path: n.path,
						price: n.price,
						libType: n.libType,
						fileType: 1
					}),
					a.image.clearTag("myPurchase", "myPurchase-all"),
					e.successFn(e.obj),
					e.previewCancel && e.previewCancel()
				});
				else {
					var c = {
						id: e.obj.id,
						price: e.obj.price,
						buyItem: e.obj.buyItem || "购买图片"
					};
					r.buyMaterial(c).then(function(t) {
						var n = e.obj.name || e.obj.title || "图片";
						n = n.substr(0, 50);
						var o = {
							id: e.obj.id,
							name: n,
							path: t.data.obj.authedPath,
							price: t.data.obj.price,
							orderId: t.data.map.orderId,
							source: 2,
							prodType: 1
						};
						return e.obj.path = t.data.obj.authedPath,
						i.saveToMyResource(o)
					}).then(function(t) {
						1 == t.data.map.status ? (o.add("支付成功，已保存至我的购买"), a.image.clearTag("myPurchase", "myPurchase-all"), e.successFn(e.obj), n.$broadcast("material.buy.success", {
							type: e.type,
							obj: e.obj
						})) : s.openMsgDialog({
							msg: t.data.map.error || "网络繁忙,请稍后再试"
						})
					})
				}
			}) : t.openMessage(e.obj, e.type, e.successFn)
		},
		e.isSelected = function() {
			return !! e.selectedImageLists && e.selectedImageLists.find(function(t) {
				return t.id == e.obj.id
			})
		}
	}
	n.$inject = ["$scope", "buyMessageFact", "$rootScope", "materialAPI", "i18nNotifications", "imageService", "buyService", "modalService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c) {
		"ngInject";
		e.price = t.price,
		o.userXd().then(function(t) {
			e.userXd = t,
			e.buyXD = e.userXd < e.price
		}),
		e.acceptCopyrightAgreement = {
			value: !0
		},
		e.ok = function() {
			e.$close()
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.confirmBuyMaterial = function() {
			e.buyXD ? (o.buyXd(), e.cancel()) : a.buyMaterial(t.id, n).then(function() {
				t.isPaid = 1,
				r.add("购买成功"),
				e.ok(),
				i(t),
				c.$broadcast("material.buy.success", {
					type: n,
					obj: t
				})
			})["catch"](function(e) {
				var t = e.data.msg ? e.data.msg: "网络繁忙";
				s.openMsgDialog({
					msg: t
				})
			})
		}
	}
	n.$inject = ["$scope", "obj", "type", "successFn", "XDService", "materialAPI", "i18nNotifications", "modalService", "$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t(t, n, i) {
			return e.open({
				windowClass: "console agreement_console",
				template: o,
				controller: "materialBuyMessageCtrl",
				resolve: {
					obj: function() {
						return t
					},
					type: function() {
						return n
					},
					successFn: function() {
						return i
					}
				}
			}).result
		}
		return {
			openMessage: t
		}
	}
	i.$inject = ["$modal"];
	var o = n(256);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>购买</h4></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class=buy-font-info style=margin-left:0><div style=text-align:center;padding-top:10px><span>当前需消耗秀点 <span style=color:#ff6e6e>{{price}}</span> 个，账户秀点余额 <span ng-show=!buyXD style=color:#ff6e6e>{{userXd}}个。</span> <span ng-show=buyXD>不足 (<span style=color:#ff6e6e>{{userXd}} </span>)。</span> <span ng-show=buyXD>请充值！</span></span></div></div></div><div class="btn-contain btn-small" style="padding:15px 0"><a ng-click=cancel(); class=btn-grey0>取消</a> <button ng-show="!acceptCopyrightAgreement.value && !buyXD" ng-disabled=true ng-click=confirmBuyMaterial(); class="btn btn-main hint--right hint--rounded" style=width:100px;height:36px data-hint=请勾选易企秀版权说明>购买</button> <button ng-show="acceptCopyrightAgreement.value && !buyXD" ng-click=confirmBuyMaterial(); class="btn btn-main" style=width:100px;height:36px>购买</button> <button ng-show=buyXD ng-click=confirmBuyMaterial(); class="btn btn-main" style=width:100px;height:36px>充值</button></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class=buy-font-info style=margin-left:0;text-align:center;font-size:12px;margin-bottom:10px><div ng-show=!buyXD><input type=checkbox ng-model=acceptCopyrightAgreement.value><span></span>购买版权仅限本账号使用。</div></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(258),
	o = n(263);
	e.exports = angular.module("business.material.preview", []).directive("eqxMaterialPreview", i).controller("previewDetailCtrl", o).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				obj: "=",
				type: "=",
				successFn: "=",
				selectedImageLists: "="
			},
			controller: a
		}
	}
	var o = n(259),
	a = n(260);
	e.exports = i
},
function(e, t) {
	e.exports = "<a class=preview ng-click=preview()>预览</a>"
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		e.preview = function() {
			var n = "version_frame";
			"tpl" === e.type && (n = "six-contain"),
			t.open({
				windowClass: n,
				template: o,
				controller: "previewDetailCtrl",
				resolve: {
					obj: function() {
						return e.obj
					},
					type: function() {
						return e.type
					},
					successFn: function() {
						return e.successFn
					},
					selectedImageLists: function() {
						return e.selectedImageLists
					}
				}
			})
		}
	}
	i.$inject = ["$scope", "$modal"],
	n(261);
	var o = n(262);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=pay-tpl-preview><span class="eqf-wrong cancel" ng-click=cancel()></span><div class=information><div class=title>预览</div><div class=bug><div ng-show=obj.price class=price><span class=activePrice>{{obj.price}}</span> <span class=measureUnit>秀点</span></div><div ng-show=!obj.price style=font-size:28px;font-family:ArialMT,Arial;color:#48D5B2>免费</div><div class=createScene><div ng-show=obj.price eqx-material-buy-process obj=obj type=type preview=true preview-cancel=cancel success-fn=successFn selected-image-lists=selectedImageLists></div><div ng-show=!obj.price><a ng-show=!isSelected() class="btn btn-sm green" ng-click=use(obj)>立即使用</a> <a ng-show=isSelected() class="btn btn-sm green" ng-click=use(obj)>取消使用</a></div></div></div></div><div ng-if="type === \'tpl\'" class=wrap><div class="content nr" ng-if=obj style=height:486px thumb-tpl=obj render=true show-del=false shift-size=486 disable-use=true></div></div><div ng-if="type === \'pic\'" class=image><li><eqx-loading-image data-url="{{FILE + obj.path}}"></eqx-loading-image></li></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c) {
		"ngInject";
		e.type = n,
		e.FILE = a.FILE,
		e.successFn = i,
		e.obj = t,
		e.selectedImageLists = o,
		"tpl" === n && c.getTpl(t.id).then(function(t) {
			t.data.obj && (e.obj.elements = t.data.obj.elements)
		}),
		e.cancel = function() {
			e.$dismiss()
		},
		e.use = function(t) {
			e.successFn(t),
			e.cancel()
		},
		e.isSelected = function() {
			return !! o && o.find(function(t) {
				return t.id == e.obj.id
			})
		},
		r(function() {
			"tpl" === n && $(".pay-tpl-preview").css("height", "486")
		}),
		s.$on("material.buy.success",
		function(t, n) {
			"tpl" !== n.type && "pic" !== n.type || e.cancel()
		})
	}
	n.$inject = ["$scope", "obj", "type", "successFn", "selectedImageLists", "HOST", "$timeout", "$rootScope", "tplAPI"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.service", [n(265)]).factory("cacheService", n(273)).factory("EqxCore", n(274)).factory("fileService", n(275)).factory("sceneService", n(276)).factory("historyService", n(278)).factory("tplService", n(280)).factory("tplTagService", n(281)).factory("userService", n(282)).factory("flagService", n(283)).factory("storageService", n(284)).factory("sessionStorageService", n(285)).factory("XDService", n(286)).factory("authorityService", n(287)).factory("setCompService", n(288)).factory("bigDataService", n(289)).factory("urlParameterService", n(290)).factory("appDeleteCompService", n(291)).factory("delayLoadService", n(292)).factory("buyService", n(294)).factory("clientReportService", n(295)).factory("gravityService", n(296)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("service.XD", []).factory("buyXdModal", n(266)).factory("payModal", n(269)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function() {
				return e.open({
					windowClass: "console",
					template: n(267),
					controller: n(268),
					resolve: {}
				})
			}
		}
	}
	i.$inject = ["modalService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-body><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><div class=confirm-msg><h4 class=text-left>尊敬的易企秀用户</h4><p class="mt20 text-left ml20 mr20" style=line-height:1.5em>感谢您对易企秀的支持，您即将购买500个秀点。购买、发票等相关问题，请<a class=text-primary target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324">查看详情</a>。<br/>1.暂仅支持一次购买500秀点，费用500元；<br/>2.包年购买、优惠购买，请先<a class=text-primary href=privilege target=_blank>升级企业账号</a>；<br/>3.购买需要发票的，请联系fapiao@eqxiu.com；</p></div></div><div class="text-right pb20 btn-small"><a class="btn btn-primary mr20" ng-click=confirm()>立即购买</a></div>';
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		function a(i, a, r) {
			t.getPayXdQrCode(i, a, r).then(function(i) {
				if (e.$close(), i.data.success) {
					var a = i.data.obj;
					o.openBuy(a).then(function() {
						t.userXd()
					})
				} else {
					var r = "/upgrade/" === n.path().substring(0, 9) || "/xdBuy" === n.path();
					970301 === i.data.code && r && alert("当前用户不一致,请刷新页面再次购买!")
				}
			})
		}
		e.confirm = function() {
			a(10, 1, !1)
		},
		e.cancel = function() {
			e.$close()
		}
	}
	n.$inject = ["$scope", "XDService", "$location", "userService", "payModal"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			openBuy: function(t) {
				return e.open({
					windowClass: "console",
					template: n(271),
					controller: n(272),
					resolve: {
						qrCodeUrl: function() {
							return t.url
						},
						type: function() {
							return 10
						},
						money: function() {
							return t.price / 100
						},
						oprice: function() {
							return t.oprice / 100
						},
						method: function() {
							return "buyXd"
						},
						counts: function() {}
					}
				})
			}
		}
	}
	i.$inject = ["modalService"],
	n(270),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>请选择喜欢的支付方式进行支付</h4></div><div><ul class="nav nav-bg"><li ng-class="{active:payWay==\'alipay\'}"><a ng-click="getWeChatUrl(\'alipay\');">支付宝</a></li><li ng-class="{active:payWay==\'wechat\'}"><a ng-click="getWeChatUrl(\'wechat\');" ng-hide="type==3 || money === 6800 || money === 15600 ">微信</a></li><li ng-class="{active:payWay==\'remit\'}"><a ng-click="getWeChatUrl(\'remit\');">汇款支付</a></li><li ng-class="{active:payWay==\'unionpay\'}"><a ng-click="getWeChatUrl(\'unionpay\');">银联支付</a></li></ul><div class=tab-content><div class=tab-pane ng-class="{active:payWay==\'alipay\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url={{qrCodeUrl}}></div></div><div class=tab-pane ng-class="{active:payWay==\'wechat\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url={{qrCodeUrl}}></div></div><div class=tab-pane ng-class="{active:payWay==\'remit\'}"><h4 class="text-center mt20">需支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="remit-contain p20"><p>对公支付请按照下列步骤进行：</p><p style=padding-top:15px>步骤1：打款<br/>公司名称：北京中网易企秀科技有限公司<br/>开户行全称：中国工商银行股份有限公司北京海淀支行<br/>银行账号：0200049609201083655</p><p style=padding-top:15px><span class=action>重要说明！！！</span><br/>步骤2：发邮件到fapiao@eqxiu.com,以便易企秀更快捷给你提供相关服务。邮件内容如下：<br/>购买项目：（秀点，企业体验版，企业基础版，企业标准版，企业高级版等）<br/>购买金额，购买数量，易企秀账号，联系电话。</p></div></div><div class=tab-pane ng-class="{active:payWay==\'unionpay\'}" ng-init="paying = true;"><div ng-show=paying><h4 class="text-center mt20">需支付</h4><h3 class=text-center style=color:red;margin-top:15px;margin-bottom:20px>{{money}}元</h3><div style=text-align:center;margin-bottom:20px;width:180px;position:relative;margin-left:-90px;left:50% ng-show="counts.length>0 && payWay==\'unionpay\'"><eqx-select class="select-great select-contain border-width" model=count ng-init="count = counts[0]" change=setCount(count.value,$index)><eqx-select-option value=count ng-repeat="count in counts track by $index">{{count.name}}</eqx-select-option></eqx-select></div><div class=text-center style=padding-bottom:20px><a ng-click="paying = false" ng-href="{{HOST.SERVER_0 + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target=_blank>立即支付</a></div></div><div ng-show=!paying class="p20 text-center"><p>请在新开启的支付页面中完成支付后，点击完成支付按钮关闭对话框。<br/>未完成支付，可点击重新支付按钮再次进行支付</p><p style=margin-top:20px><a class="btn btn-primary" ng-href="{{HOST.SERVER_0 + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target=_blank>重新支付</a></p></div></div></div><div style=text-align:center;margin-bottom:20px;width:180px;position:relative;margin-left:-90px;left:50% ng-show="counts.length>0 && payWay!=\'unionpay\'"><eqx-select class="select-great select-contain border-width" model=count ng-init="count = counts[0]" change=setCount(count.value,$index)><eqx-select-option value=count ng-repeat="count in counts track by $index">{{count.name}}</eqx-select-option></eqx-select></div><div ng-show="payWay==\'alipay\'" style=padding-bottom:10px class=text-center><a ng-href="{{HOST.SERVER_0 +\'m/u/alipay/direct?goodsId=\' + type + \'&amount=\' + curentCount+ \'&goodsType=\' + goodsType}}" target=_blank>支付宝网页支付</a></div></div><div class="modal-footer pay-invoice"><a class="btn btn-primary fr" ng-click=paymented()>完成支付</a> <a ng-click=invoiceNotice()>发票须知</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c, l, p) {
		"ngInject";
		e.qrCodeUrl = n,
		e.HOST = p;
		var d = o;
		o === s ? e.money = d: e.money = s + "-" + (s - d) + "=" + d,
		e.type = i,
		1 === i ? e.payUrl = p + "download/vip1-201512.pdf": 2 === i ? e.payUrl = p + "download/vip2-201512.pdf": 3 === i ? e.payUrl = p + "download/vip4-201512.pdf": 4 === i ? e.payUrl = p + "download/vip3-201512.pdf": 10 === i && (e.payUrl = p + "download/xd-201512.pdf"),
		e.counts = r,
		e.payWay = "alipay",
		r && r.length > 0 && (e.curentCount = r[0].value);
		var u = {},
		g = {};
		u["alipay1" + e.curentCount] = n,
		g["alipay1" + e.curentCount] = e.money,
		e.paymented = function() {
			e.$close(),
			"/xdBuy" === l.path() && l.path("usercenter/member")
		},
		e.cancel = function() {
			e.$dismiss()
		},
		"member" === a ? e.goodsType = 0 : e.goodsType = 1,
		e.getWeChatUrl = function(n) {
			var o = e.payWay;
			e.payWay = n;
			var r = 1;
			if ("wechat" === e.payWay && (r = 0), u[e.payWay + "" + r + e.curentCount]) return e.qrCodeUrl = u[e.payWay + "" + r + e.curentCount],
			void(e.money = g[e.payWay + "" + r + e.curentCount]);
			if ("member" === a) {
				var s = i,
				l = e.curentCount;
				1 === i && 6 === e.curentCount && (s = 2, l = 1),
				t.getCompanyQrCode(s, r, l).then(function(t) {
					t.data.success ? (u[e.payWay + "" + r + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.price / 100 : e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({
						msg: t.data.msg
					}), e.payWay = o)
				})
			} else t.getPayXdQrCode(i, r).then(function(t) {
				t.data.success ? (u[e.payWay + "" + r + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.price / 100 : e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({
					msg: t.data.msg
				}), e.payWay = o)
			})
		},
		e.setCount = function(n) {
			var o = e.curentCount;
			e.curentCount = n;
			var a = 1;
			if ("wechat" === e.payWay && (a = 0), u[e.payWay + "" + a + e.curentCount]) return e.qrCodeUrl = u[e.payWay + "" + a + e.curentCount],
			e.money = g[e.payWay + "" + a + e.curentCount],
			void(e.curentCount = n);
			var r = i,
			s = n;
			1 === i && 6 === n && (r = 2, s = 1),
			t.getCompanyQrCode(r, a, s).then(function(t) {
				t.data.success ? (u[e.payWay + "" + a + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = g[e.payWay + "" + a + e.curentCount] = t.data.obj.price / 100 : e.money = g[e.payWay + "" + a + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({
					msg: t.data.msg
				}), e.curentCount = o)
			})
		}
	}
	n.$inject = ["$scope", "XDService", "qrCodeUrl", "type", "money", "method", "counts", "oprice", "modalService", "$location", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			get: function(e) {
				return JSON.parse(window.sessionStorage.getItem(e))
			},
			set: function(e, t) {
				return window.sessionStorage.setItem(e, JSON.stringify(t)),
				t
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return window.EqxCore
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s, c, l, p) {
		"ngInject";
		function d() {
			if (A) return A.eqxPageList[j]
		}
		function u(e) {
			var t = d();
			return t ? t.getEqxCompById(e) : void console.error("invalid page!")
		}
		function g(e) {
			return n.getSceneMeta(e)["catch"](function(e) {
				if (403 === e.data.code) var t = "场景地址有误，请确认！";
				else t = e.data.msg;
				return a.openMsgDialog({
					msg: t,
					btn: "我知道了"
				}).then(function() {
					window.open(r.HOST + "h5/list", "_self")
				}),
				s.reject()
			}).then(function(e) {
				P = e.data.map.count;
				var n = e.data,
				i = t.adaptor,
				l = i.SceneAdaptor,
				d = i.perfectMeta.perfectMeta;
				new l(n).addMetaFn(d).start(),
				E.map = n.map;
				var u = E.meta = n.meta;
				m(u) && a.openMsgDialog({
					msg: "此场景正在审核中,不能编辑",
					btn: "确定"
				}).then(function() {
					return window.open(r.HOST + "h5/list", "_self"),
					s.reject()
				}),
				delete u.property.wxAuth,
				L = o(u),
				M = JSON.parse(JSON.stringify(u));
				var g = t.core.scene.EqxScene;
				return A = new g(E, {
					mode: "edit",
					disablePageEffect: !0,
					disableCompEvent: !0,
					disableTrigger: !0,
					disableArrow: !0,
					disableCompAnim: !0,
					disableCommentManager: !0,
					initManagers: !1
				}),
				A.meta.name || (A.meta.name = "标题"),
				p.getCurrentUserPromise().then(function(e) {
					return "" + e.type != "99" && "" + e.type != "4" || !A.meta.property.editorModel || c.setEditorModel(A.meta.property.editorModel),
					A
				})
			})
		}
		function m(e) {
			return 1 === e.status && 1 === e.isExpedited
		}
		function f() {
			return a.openMsgDialog({
				msg: "此场景正在审核中,不能编辑",
				btn: "确定"
			}).then(function() {
				return window.open(r.HOST + "h5/list", "_self"),
				s.reject()
			})
		}
		function h(i) {
			var o = arguments.length <= 1 || void 0 === arguments[1] ? 1 : arguments[1];
			return n.getAllPageList(i, P).then(function(n) {
				A.setPageList(n),
				"app" === c.getEditorModel() && (A = l.deleteComp(A));
				var i = t.adaptor,
				a = i.SceneAdaptor,
				r = i.perfectPage.perfectPage,
				s = i.perfectComp.perfectComp;
				new a(E).addPageFn(r).addEleFn(s).start(),
				A.initManagers();
				var p = E.list.length;
				return e.initSceneHistory(A.sceneJson),
				o === -1 ? o = p: (!o || o < 0 || o > p) && (o = 1),
				j = o - 1,
				A.initEqxPages(),
				A
			})
		}
		function v(e) {
			delete e.property.wxAuth;
			var t = o(e);
			return L != t ? n.saveSceneSettings(e).then(function(n) {
				return L = t,
				M = JSON.parse(JSON.stringify(n.data.obj)),
				M.property = JSON.parse(M.property),
				Object.assign(A.sceneJson.meta, M),
				e
			})["catch"](function(e) {
				if (120307 == e.data.code) return f()
			}) : s.resolve(e)
		}
		function y() {
			A.syncMeta();
			var e = A.sceneJson.meta;
			return v(e)
		}
		function b(e) {
			return v(e)
		}
		function x(e, t) {
			return n.publishScene(e, t)
		}
		function w(e) {
			var t = A.getEqxPageByIndex(e),
			n = t.toPageJson();
			return i.savePage(n).then(function(e) {
				return y(),
				e
			})["catch"](function(e) {
				if (120307 == e.data.code) return f()
			})
		}
		function S(t, n) {
			var o = A.sceneJson.list,
			a = o[t].id;
			return i.createPage(a, n).then(function(n) {
				var i = A.insertPage(t, n.data.obj);
				return e.addPageHistory(i.pageJson, "初始化:创建页"),
				i
			})
		}
		function k(t) {
			var n = A.getEqxPageByIndex(t),
			o = n.getCopyJson(),
			a = o.id,
			r = o.properties.longPage;
			return i.createPage(a, r).then(function(n) {
				var i = n.data.obj;
				i.properties = o.properties,
				i.elements = o.elements;
				var a = A.insertPage(t, n.data.obj);
				return e.addPageHistory(a.pageJson, "初始化:创建页"),
				w(t + 1)["finally"](function() {
					return a
				})
			})
		}
		function C(t) {
			var n = A.sceneJson.list,
			o = n[t].id;
			return i.copyPage(o).then(function(n) {
				var i = A.insertPage(t, n.data.obj);
				return e.addPageHistory(i.pageJson, "初始化:复制页"),
				i
			})
		}
		function T(e) {
			var t = A.sceneJson.list,
			n = t[e].id;
			return i.deletePage(n).then(function() {
				y(),
				A.deletePage(e);
				var t = A.sceneJson.list.length - 1;
				return e < t ? e: t
			})
		}
		function $(e, t) {
			var n = A.sceneJson.list,
			o = n[e].id;
			return i.sortPage(o, t + 1).then(function() {
				return A.sortPage(e, t)
			})
		}
		function q(e) {
			return i.savePageName(e)
		}
		function I(e) {
			return null !== O ? s.resolve(O) : n.getSceneAddAdType(e).then(function(e) {
				return O = e.data.obj,
				e.data.obj
			})
		}
		var E = {
			meta: {},
			map: {},
			list: []
		},
		P = 0,
		A = null,
		j = -1,
		L = null,
		M = null,
		O = null;
		return {
			get currentPageIndex() {
				return j
			},
			set currentPageIndex(e) {
				j = e
			},
			get eqxScene() {
				return A
			},
			initSceneMeta: g,
			initScene: h,
			getCurrentPage: d,
			getCompById: u,
			createPage: S,
			copyPage: C,
			copyPage2: k,
			savePage: w,
			setSceneSettings: b,
			saveSceneSettings: y,
			publishScene: x,
			deletePage: T,
			sortPage: $,
			savePageName: q,
			getSceneAddAdType: I
		}
	}
	i.$inject = ["historyService", "EqxCore", "sceneAPI", "pageAPI", "modalService", "HOST", "$q", "urlParameterService", "appDeleteCompService", "userService"];
	var o = n(277).getHash;
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e) {
		var t = o(e),
		n = angular.toJson(t),
		i = 0;
		if (0 === n.length) return i;
		for (var a = 0; a < n.length; a++) {
			var r = n.charCodeAt(a);
			i = (i << 5) - i + r,
			i &= i
		}
		return i
	}
	var o = n(106).remove$key;
	e.exports = {
		getHash: i
	}
},
function(e, t, n) {
	"use strict";
	function i() {
		"ngInject";
		function e(e) {
			t(),
			(e.list || []).forEach(function(e) {
				return i(e, "初始化")
			})
		}
		function t() {
			a = {}
		}
		function n(e) {
			return a[e]
		}
		function i(e, t) {
			var n = a[e.id];
			return n || (n = a[e.id] = new o),
			n.addHistory(e, t),
			n
		}
		var a = {};
		return {
			clearHistory: t,
			initSceneHistory: e,
			getPageHistory: n,
			addPageHistory: i
		}
	}
	var o = n(279);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(277).getHash,
	r = function() {
		function e() {
			i(this, e),
			this.histories = [],
			this.index = -1
		}
		return o(e, [{
			key: "toString",
			value: function() {
				var e = this.histories.map(function(e) {
					return e.json.elements.length
				});
				return "[" + e + "] len " + e.length + " index: " + this.index
			}
		},
		{
			key: "pushHistory",
			value: function(t, n) {
				var i = (this.toString(), e.newHistory(t, n)),
				o = this.histories[this.histories.length - 1];
				if (!o || o.hash != i.hash) {
					this.histories.length = this.index + 1,
					this.histories.push(i);
					this.toString();
					return i
				}
			}
		},
		{
			key: "addHistory",
			value: function(e, t) {
				var n = this.pushHistory(e, t);
				if (n) return this.index += 1,
				n
			}
		},
		{
			key: "back",
			value: function() {
				var e = this.histories[this.index - 1];
				return e && (this.index -= 1),
				e
			}
		},
		{
			key: "forward",
			value: function() {
				var e = this.histories[this.index + 1];
				return e && (this.index += 1),
				e
			}
		},
		{
			key: "canBack",
			value: function() {
				return this.index > 0
			}
		},
		{
			key: "canForward",
			value: function() {
				return this.index < this.histories.length - 1
			}
		},
		{
			key: "nowHistory",
			value: function() {
				return this.histories[this.index]
			}
		}], [{
			key: "newHistory",
			value: function(e, t) {
				return {
					reason: t,
					time: (new Date).getTime(),
					json: JSON.parse(JSON.stringify(e)),
					hash: a(e)
				}
			}
		}]),
		e
	} ();
	e.exports = r
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o, a, r, s) {
		"ngInject";
		function c(e) {
			return {
				key: e,
				isBusy: !1,
				isLastPage: !1,
				pageNo: 0,
				list: []
			}
		}
		function l(e) {
			if (!e) throw new Error("invalid tpl key!");
			var t = k.find(function(t) {
				return t.key == e
			});
			return t || (t = c(e), k.push(t)),
			t
		}
		function p(o) {
			var a = l(o);
			if (a && !a.isLastPage && !a.isBusy) {
				a.isBusy = !0;
				var r, s = a.pageNo + 1,
				c = i.getCurrentUser();
				if (!c.property.myTplId && "myTpl" === o || !c.companyTplId && "company" === o || !c.myXbId && "myXB" === o) r = t.resolve({
					data: {
						list: []
					}
				});
				else switch (o) {
				case "myTpl":
					r = e.getCustomerPageTpls(c.property.myTplId, s, w);
					break;
				case "company":
					r = e.getCustomerPageTpls(c.companyTplId, s, w);
					break;
				case "myXB":
					r = e.getCustomerPageTpls(c.myXbId, s, w);
					break;
				case "recently":
					r = t.resolve({
						data: {
							list: g()
						}
					});
					break;
				case "myTask":
					r = e.getMyTaskTpls(s, w, 4);
					break;
				case "allTask":
					r = e.getAllTask(s, w);
					break;
				default:
					r = e.getPageTpls(o, s, w)
				}
				return r.then(function(e) {
					var t, i = e.data.list;
					return i.length < w && (a.isLastPage = !0),
					a.pageNo = s,
					(t = a.list).push.apply(t, n(i)),
					a.isBusy = !1,
					i
				})["catch"](function(e) {
					return a.isBusy = !1
				})
			}
		}
		function d(e, t) {
			"recently" === t && (u(e), f());
			var n = l(t),
			i = n.list,
			o = e.id;
			return a.deletePage(o).then(function() {
				var t = i.indexOf(e);
				t > -1 && i.splice(t, 1)
			})
		}
		function u(e) {
			var t = l("recently"),
			n = t.list.findIndex(function(t) {
				return t.id === e.id
			});
			n > -1 && t.list.splice(n, 1)
		}
		function g() {
			var e = i.getCurrentUser();
			return r.getItem("tpl-recently-" + e.id) || []
		}
		function m(e) {
			var t = l("recently");
			u(e),
			t.list.unshift(e),
			f()
		}
		function f(e) {
			if (e || (e = l("recently").list), e) {
				e.length >= 18 && (e.length = 18);
				var t = i.getCurrentUser();
				r.setItem("tpl-recently-" + t.id, e)
			}
		}
		function h(t) {
			if (S) {
				var n = S.property;
				return n && n.myTplId ? t.sceneId = n.myTplId: t.sceneId = null,
				e.saveMyTpl(t).then(function(e) {
					return n.myTplId = e.data.obj,
					x("myTpl")
				})
			}
		}
		function v(t) {
			if (S) {
				var n = parseInt(S.companyTplId, 10);
				return n ? t.sceneId = n: t.sceneId = null,
				e.saveCompanyTpl(t).then(function(e) {
					S.companyTplId = e.data.obj,
					x("company")
				})
			}
		}
		function y(e) {
			var t = parseInt(S.myXbId, 10);
			t ? e.sceneId = t: e.sceneId = null;
			var n = [],
			i = 0,
			o = 0,
			a = "";
			return angular.forEach(e.elements,
			function(t) {
				if ("9" != ("" + t.type).charAt(0) && "v" != ("" + t.type).charAt(0) && "w" != ("" + t.type).charAt(0) && "s" != ("" + t.type).charAt(0) ? (t.trigger ? (o += 1, delete t.trigger) : t.sound && (a += ", 音效", o += 1, delete t.trigger), n.push(t)) : ("9" == ("" + t.type).charAt(0) && (a += ", 音乐"), "v" == ("" + t.type).charAt(0) && (a += ", 视频"), "w" == ("" + t.type).charAt(0) && (a += ", 微信"), "s" == ("" + t.type).charAt(0) && (a += ", 音效"), i += 1), "g" == ("" + t.type).charAt(0)) if (e.properties || (e.properties = {}), t.content.indexOf("TencentGDT ")) {
					var r = /placement_id:(.*?),/g,
					s = /app_id:(.*?),/g,
					c = Number(r.exec(t.content)[1].replace(/\'/g, "").trim()),
					l = Number(s.exec(t.content)[1].replace(/\'/g, "").trim());
					e.properties.advertisement = {
						type: "tsa",
						id: l + ":" + c
					}
				} else {
					var p = t.content.indexOf("data-ad-client") + 16,
					d = t.content.substring(p, p + 23),
					u = t.content.indexOf("data-ad-slot") + 14,
					g = t.content.substring(u, u + 10);
					e.properties.advertisement = {
						type: "google",
						id: d + ":" + g
					}
				}
			}),
			o > 0 && (a += ", 触发", i += 1),
			e.properties && e.properties.trigger && (delete e.properties.trigger, 0 === o && (a += ", 触发", i += 1)),
			e.properties && (e.properties.effect || e.properties.fallingObject || e.properties.finger || e.properties.scratch) && (e.properties.effect && delete e.properties.effect, e.properties.fallingObject && delete e.properties.fallingObject, e.properties.finger && delete e.properties.finger, e.properties.scratch && delete e.properties.scratch, a += ", 特效", i += 1),
			e.elements = n,
			{
				pageJson: e,
				hasForbid: i,
				hasAnim: o,
				text: a
			}
		}
		function b(n) {
			if (!S) return t.reject();
			var i = y(n),
			n = i.pageJson,
			o = i.hasForbid,
			a = i.text;
			return o ? s.openConfirmDialog({
				msg: '秀板中不允许使用<font color="#ff6e6e">' + a.substr(2) + "</font>组件，若继续保存，被限制组件将会被删除，是否继续？",
				confirmName: "继续",
				cancelName: "取消"
			}).then(function() {
				return e.saveMyXB(n).then(function(e) {
					S.myXbId = e.data.obj,
					x("myXB")
				})
			}) : e.saveMyXB(n).then(function(e) {
				S.myXbId = e.data.obj,
				x("myXB")
			})
		}
		function x(e) {
			var t = l(e);
			if (t) return t.isBusy = !1,
			t.isLastPage = !1,
			t.pageNo = 0,
			t.list.length = 0,
			t
		}
		var w = 21,
		S = i.getCurrentUser(),
		k = (o.eqxScene.sceneJson, []);
		return {
			getTplGroupByKey: l,
			$getMoreTpls: p,
			clearTplGroup: x,
			deleteTpl: d,
			saveMyTpl: h,
			saveCompanyTpl: v,
			saveMyXB: b,
			addRecently: m,
			deleteRecently: u,
			updateRecently: f
		}
	}
	i.$inject = ["tplAPI", "$q", "userService", "sceneService", "pageAPI", "storageService", "modalService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i) {
		"ngInject";
		function o(e) {
			return p.find(function(t) {
				return t.name == e
			})
		}
		function a() {
			return p
		}
		function r(n) {
			var a = o(n);
			if (a.list.length) return t.resolve(a.list);
			var r = i.get("tplTag") || {};
			return r[n] ? s(a, r[n]) : e.getTplTags({
				type: a.type,
				bizType: a.bizType
			}).then(function(e) {
				return s(a, e.data.list)
			})
		}
		function s(e, o) {
			var a, r = e.name,
			s = i.get("tplTag") || {};
			return s[r] = o,
			i.set("tplTag", s),
			(a = e.list).push.apply(a, n(o)),
			t.resolve(o)
		}
		function c() {
			return t.all(p.map(function(e) {
				return r(e.name)
			}))
		}
		var l = {
			purpose: "用途",
			"function": "功能",
			style: "风格"
		},
		p = [{
			name: l.purpose,
			type: 1,
			bizType: 11001,
			list: []
		},
		{
			name: l["function"],
			type: 1,
			bizType: 11002,
			list: []
		},
		{
			name: l.style,
			type: 1,
			bizType: 11003,
			list: []
		}];
		return {
			getTagGroupByName: o,
			getTplTagGroups: a,
			$getAllTagList: c,
			$getTagListByGroupName: r
		}
	}
	i.$inject = ["tagAPI", "$q", "cacheService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			return "string" == typeof e.property && (e.property = JSON.parse(e.property)),
			e.property = e.property || {},
			p = e
		}
		function i() {
			return a() ? t.resolve(p) : d ? d: d = e.login().then(function(e) {
				return n(e.data.obj)
			})["catch"](function(e) {
				return console.error("login", e),
				t.reject(e)
			})["finally"](function() {
				d = null
			})
		}
		function o() {
			return p
		}
		function a() {
			return !! p
		}
		function r() {
			return ! 0
		}
		function s() {
			return ! 0
		}
		function c() {}
		function l() {
			return ! 0
		}
		var p = null,
		d = null;
		return {
			getCurrentUser: o,
			isAuthenticated: a,
			isEditor: r,
			isTplEditor: s,
			isAdvancedUser: c,
			isAllowToAccess: l,
			getCurrentUserPromise: i
		}
	}
	n.$inject = ["userAPI", "$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			sceneSetting: {
				show: !1,
				showWx: !1,
				settingTab: "常用",
				flagEqAdType: !1,
				unSLPBL: !0
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(e) {
			var t = localStorage.getItem(e);
			if ("string" == typeof t) try {
				return t = JSON.parse(t),
				r(t),
				t
			} catch(n) {
				console.warn(n)
			}
		}
		function n(e, t) {
			return r(t),
			localStorage.setItem(e, JSON.stringify(t)),
			t
		}
		function o(e) {
			var n = t(e) || {};
			return n[c]
		}
		function a(e, n) {
			r(n);
			var i = t(e) || {};
			i[c] = n,
			localStorage.setItem(e, JSON.stringify(i))
		}
		function r(e) {
			Array.isArray(e) ? e.forEach(s) : "object" === ("undefined" == typeof e ? "undefined": i(e)) && s(e)
		}
		function s(e) {
			delete e.$$hashKey
		}
		var c = e.getCurrentUser().id;
		return {
			getItem: t,
			setItem: n,
			getItemByUser: o,
			setItemByUser: a
		}
	}
	n.$inject = ["userService"];
	var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
	function(e) {
		return typeof e
	}: function(e) {
		return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol": typeof e
	};
	e.exports = n
},
function(e, t) {
	"use strict";
	e.exports = function() {
		function e(e) {
			n(e);
			var t = sessionStorage.getItem(e);
			return JSON.parse(t)
		}
		function t(e, t) {
			n(e),
			sessionStorage.setItem(e, JSON.stringify(t))
		}
		function n(e) {
			if (!i.includes(e)) throw "custom error: [" + e + "] not reg in sessionStorageService"
		}
		var i = ["editor_bg_selected_tab", "editor_image_selected_tab", "editor_music_selected_tab", "editor_sound_selected_tab"];
		return {
			getItem: e,
			setItem: t
		}
	}
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			return e.getUserXd().then(function(e) {
				return e.data.obj
			})
		}
		function o(t, n, i) {
			return e.getPayXdQrCode(t, n, i)
		}
		function a() {
			n.buy()
		}
		return {
			userXd: i,
			buyXd: a,
			getPayXdQrCode: o
		}
	}
	n.$inject = ["XDAPI", "buyXdModal", "eqxNgPay"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			if (!s || !c || !l) {
				s = r.memberType ? "" + r.type + "0" + r.memberType: r.type,
				s = parseInt(s, 10);
				var e = "normal";
				"" + r.type != "99" && "" + r.type != "4" || (e = t.getEditorModel()),
				c = "normal" === e ? 601 : "app" === e ? 602 : 601,
				l.push(c)
			}
		}
		function o(e) {
			var t = !0;
			return p[e] ? (i(), t = p[e].indexOf(s) !== -1 || p[e].indexOf(c) !== -1) : void console.error("不存在该能力", e)
		}
		function a(e) {
			if (!d[e]) return void console.error(e + "不存在");
			i();
			var t = !1;
			if (l) for (var n = l,
			o = 0; o < n.length; o++) if (d[e].indexOf(n[o]) !== -1) {
				t = !0;
				break
			}
			return t
		}
		var r = e.getCurrentUser(),
		s = null,
		c = null,
		l = [];
		r.roleIdList && (l = r.roleIdList.concat());
		var p = n.authority,
		d = {
			fillSampleCompSetting: [17, 16, 4, 602],
			selectThumbnail: [12, 15, 13, 4, 18, 22, 602],
			settingElementCharacter: [15, 13, 4, 602],
			adComp: [4, 12, 13, 15, 18]
		};
		return {
			permission: o,
			assignDesignerAuthority: a
		}
	}
	n.$inject = ["userService", "urlParameterService", "AUTHORITY"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			var t = e.getCurrentPage().pageJson.elements;
			return n(),
			$.each(t,
			function(e, t) {
				var n = Object.assign([], t);
				o[n.type] ? (n.name = n.name || o[n.type].des + o[n.type].num, o[n.type].num++, a.push(n)) : (n.name = "组件", a.push(n), console.error("组件类型为: " + n.type + "的还没有添加到数组labels中"))
			}),
			a
		}
		function n() {
			a = [],
			$.each(o,
			function(e, t) {
				t.num = 1
			})
		}
		function i(e) {
			return t().find(function(t) {
				return t.id === e
			})
		}
		var o = {
			2 : {
				des: "文本",
				num: 1
			},
			201 : {
				des: "文本",
				num: 1
			},
			3 : {
				des: "背景",
				num: 1
			},
			x: {
				des: "秀字体",
				num: 1
			},
			4 : {
				des: "图片",
				num: 1
			},
			401 : {
				des: "微信头像",
				num: 1
			},
			403 : {
				des: "微信上传替换图片",
				num: 1
			},
			h: {
				des: "图形",
				num: 1
			},
			5 : {
				des: "输入框",
				num: 1
			},
			501 : {
				des: "输入框",
				num: 1
			},
			502 : {
				des: "输入框",
				num: 1
			},
			503 : {
				des: "输入框",
				num: 1
			},
			504 : {
				des: "输入框",
				num: 1
			},
			r: {
				des: "单选框",
				num: 1
			},
			c: {
				des: "复选框",
				num: 1
			},
			p: {
				des: "图集",
				num: 1
			},
			6 : {
				des: "按钮",
				num: 1
			},
			601 : {
				des: "按钮",
				num: 1
			},
			i: {
				des: "计数器",
				num: 1
			},
			m: {
				des: "地图",
				num: 1
			},
			w: {
				des: "微信音频",
				num: 1
			},
			w01: {
				des: "微信播放语音",
				num: 1
			},
			w02: {
				des: "微信录音",
				num: 1
			},
			t: {
				des: "图表",
				num: 1
			},
			z: {
				des: "下拉列表",
				num: 1
			},
			b: {
				des: "留言板",
				num: 1
			},
			v: {
				des: "视频",
				num: 1
			},
			a: {
				des: "评分",
				num: 1
			},
			n: {
				des: "随机图片",
				num: 1
			},
			8 : {
				des: "电话",
				num: 1
			},
			l: {
				des: "链接",
				num: 1
			},
			s: {
				des: "音效",
				num: 1
			},
			d: {
				des: "阅读量",
				num: 1
			},
			g: {
				des: "广告",
				num: 1
			},
			e: {
				des: "倒计时",
				num: 1
			},
			f: {
				des: "计时",
				num: 1
			},
			k: {
				des: "投票",
				num: 1
			}
		},
		a = [];
		return {
			getPageElementById: i
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		function a(e, i, o, a, r, l, p) {
			var d = t.getCurrentUser(),
			u = n.eqxScene;
			if (d && u) {
				var g = {
					uid: d.id,
					phone: d.checkPhone.toString(),
					email: d.checkEmail.toString(),
					pubOwner: d.id,
					itemId: u.meta.id.toString()
				};
				s.categoryOneId = "1",
				s.categoryOne = "场景编辑页",
				s.categoryTwoId = e,
				s.categoryTwo = i,
				s.categoryThreeId = o,
				s.categoryThree = a,
				s.itemMaps = r,
				s.actionType = l ? l.toString() : "4",
				s.actionTime = (new Date).getTime(),
				s.refer = p,
				c.push($.extend(!0, {},
				s, g))
			}
		}
		function r(t) {
			var n = i.BIG_DATA + "logserver/v0.1/push";
			return e({
				withCredentials: !0,
				method: "POST",
				url: n,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: t
			})
		}
		var s = {
			ua: navigator.userAgent.toLowerCase(),
			netType: null,
			eqxPlatformType: "PC",
			eqxPlatformVersion: "1.0.1",
			categoryOneId: null,
			categoryOne: null,
			categoryTwoId: null,
			categoryTwo: null,
			categoryThreeId: null,
			categoryThree: null,
			itemType: "内容页",
			itemMaps: null,
			mediaType: "PC",
			refer: null,
			actionType: null,
			actionTime: null
		},
		c = [];
		return a(null, null, null, null, null, null, document.referrer),
		o(function() {
			c.length > 0 && r(c).then(function() {
				c = []
			})
		},
		6e4),
		{
			addSendList: a
		}
	}
	n.$inject = ["$http", "userService", "sceneService", "HOST", "$interval"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			r = e
		}
		function t() {
			return r
		}
		function n(e) {
			s = e
		}
		function i() {
			return s
		}
		function o(e) {
			"2" !== e && 2 !== e || (c = "app")
		}
		function a() {
			return c
		}
		var r = null,
		s = !1,
		c = "normal";
		return {
			setYQCAcceptId: e,
			getYQCAcceptId: t,
			setYQCMakeOrderTpl: n,
			getYQCMakeOrderTpl: i,
			setEditorModel: o,
			getEditorModel: a
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			return t.sceneJson.list.forEach(function(n, i) {
				var o = [];
				n.elements.forEach(function(e) {
					var t = ["p", "i", "d", "e", "f", "j", "k", "401", "403", "w01", "w02", "201", "r", "c", "z", "a", "t", "b", "v", "g"];
					if (! (t.indexOf(e.type) > -1 || "h" === e.type && e.properties.items && e.properties.items.length > 1)) {
						e.css.opacity && (e.css.opacity = 1),
						!e.css.backgroundColor || ["6", "601", "5", "501", "502", "503", "504"].indexOf("" + e.type) > -1 || (e.css.backgroundColor = "rgba(255,255,255,0)"),
						e.css.transform && (e.css.transform = "rotateZ(0deg)"),
						e.css.borderRadius && (e.css.borderRadius = "0px"),
						e.css.borderRadiusPerc && (e.css.borderRadiusPerc = 0),
						e.css.borderBottomLeftRadius && (e.css.borderBottomLeftRadius = 0),
						e.css.borderBottomRightRadius && (e.css.borderBottomRightRadius = 0),
						e.css.borderTopLeftRadius && (e.css.borderTopLeftRadius = 0),
						e.css.borderTopRightRadius && (e.css.borderTopRightRadius = 0),
						e.css.boxShadow && (e.css.boxShadow = "0px 0px 0px rgba(0,0,0,0.5)"),
						e.css.boxShadowDirection && (e.css.boxShadowDirection = 0),
						e.css.boxShadowSize && (e.css.boxShadowSize = 0),
						e.css.borderStyle && (e.css.borderStyle = "solid"),
						delete e.css.letterSpacing,
						e.properties && delete e.properties.url,
						delete e.trigger;
						var n = [];
						e.properties.anim && e.properties.anim[0] && (n.push(e.properties.anim[0]), e.properties.anim = n, "typer" === e.properties.anim[0].type && (e.properties.anim = [])),
						o.push(e)
					}
				}),
				n.elements = o;
				var a = t.getEqxPageByIndex(i),
				r = a.toPageJson();
				e.savePage(r)
			}),
			t
		}
		return {
			deleteComp: t
		}
	}
	n.$inject = ["pageAPI"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function n() {
			return o.delayLoadJSAndCSS(e.PATH.qiniu, "js").then(i)
		}
		function i() {
			return o.delayLoadJSAndCSS(e.PATH.plupload, "js")
		}
		function a() {
			return o.delayLoadJSAndCSS(e.PATH.datePickerCss, "css").then(function() {
				return o.delayLoadJSAndCSS(e.PATH.moment, "js", "moment")
			}).then(function() {
				return o.delayLoadJSAndCSS(e.PATH.datePicker, "js", "datePicker")
			})
		}
		function r() {
			return o.delayLoadJSAndCSS(e.PATH.imgJcropCss, "css").then(function() {
				return o.delayLoadJSAndCSS(e.PATH.imgJcropJs, "js", "imgJcropJs")
			})
		}
		function s() {
			return p ? t.resolve() : p = t(function(e) {
				window.qqMapCallback = function() {
					return e()
				}
			})
		}
		function c() {
			return t.all([o.delayLoadJSAndCSS(e.PATH.QQMap, "js", "QQMap"), s()])
		}
		function l() {
			return o.delayLoadJSAndCSS(e.PATH.canvg, "js").then(function() {
				return o.delayLoadJSAndCSS(e.PATH.html2canvas, "js", "html2canvasJs")
			})
		}
		var p = null;
		return {
			qiniu: n,
			datePicker: a,
			imgJcrop: r,
			qqMap: c,
			loadHtml2Canvas: l
		}
	}
	i.$inject = ["HOST", "$q"];
	var o = n(293);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		return new Promise(function(o) {
			var a = null,
			r = null,
			s = null,
			c = 0;
			if (t || (t = e.substr(e.lastIndexOf(".") + 1)), "js" === t) {
				var l = document.getElementsByTagName("script");
				for (c = 0; c < l.length; c++)(l[c].src && l[c].src.indexOf(e) != -1 || l[c].title == n) && (r = l[c], o(l[c]));
				r || (a = document.createElement("script"), a.type = "text/javascript", a.src = e, i && i(a), n && (a.title = n))
			} else if ("css" == t) {
				var p = document.getElementsByTagName("link");
				for (c = 0; c < p.length; c++)(p[c].href && p[c].href.indexOf(e) != -1 || p[c].title == n) && (s = p[c], o(p[c]));
				s || (a = document.createElement("link"), a.rel = "stylesheet", a.type = "text/css", a.href = e, n && (a.title = n), a.disabled = !1)
			} else o(!1);
			if (a) {
				var d = document.getElementsByTagName("head")[0];
				d.appendChild(a),
				a.onload = function() {
					o(a)
				}
			}
		})
	}
	e.exports = {
		delayLoadJSAndCSS: n
	}
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(i) {
			return i.orderAppId = i.orderAppId || t.MALL_BUY_ID,
			i.signUrl = i.signUrl || t.MALL_HOST + "api/m/order/sign",
			e.pay(i).then(function(e) {
				if ("errorInfo" == e.value.msgType) return ! 1;
				var t = {
					productId: i.id,
					totalFee: i.price,
					outOrderId: e.value.data.obj.merchantOrderNo,
					channel: "EDITOR"
				};
				return n.saveOrderToBusinessCity(t)
			})
		}
		return {
			buyMaterial: o
		}
	}
	n.$inject = ["eqxNgPay", "HOST", "materialAPI", "modalService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(e) {
			s.push(e)
		}
		function n(e) {
			var t = s.filter(function(t) {
				return t.type == e
			});
			console.log("remove reports", e, t),
			s = s.filter(function(t) {
				return t.type != e
			})
		}
		function i() {
			console.log("remove all reports", s),
			s.length = 0
		}
		function o(e) {
			var t = s.filter(function(t) {
				return t.type == e
			});
			if (t.length) return s = s.filter(function(t) {
				return t.type != e
			}),
			r(t)
		}
		function a() {
			var e = r(s);
			return i(),
			e
		}
		function r(t) {
			return console.log("emit reports", t),
			e({
				method: "POST",
				url: "//client-report.eqxiu.com/client/report",
				withCredentials: !1,
				headers: {
					"Content-Type": "application/json; charset=UTF-8"
				},
				data: t
			})
		}
		var s = [];
		return {
			add: t,
			remove: n,
			removeAll: i,
			emit: o,
			emitAll: a
		}
	}
	n.$inject = ["$http"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(n) {
			return i.imgList.length > 0 ? t.resolve(i.imgList) : e.getSysMaterialItems(n).then(function(e) {
				return i.imgList = e.data.list,
				e.data.list
			})
		}
		var i = {
			imgList: []
		};
		return {
			getGravityImg: n
		}
	}
	n.$inject = ["fileAPI", "$q"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.ui", [n(298), n(300), n(311), n(313), n(317), n(323), n(325), n(326), n(327)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("eqx.ui.clickFarmer", []).directive("clickFarmerSetting", ["$rootScope", "$q", "userService", "modalService", "XDService", "sceneService", "i18nNotifications", "materialAPI", "HOST",
	function(e, t, i, o, a, r, s, c, l) {
		return {
			restrict: "AE",
			template: n(299),
			scope: {
				obj: "="
			},
			link: function(t) {
				var n = r.eqxScene;
				t.timeSetting = [{
					key: 30,
					value: "30分钟"
				},
				{
					key: 60,
					value: "1小时"
				},
				{
					key: 360,
					value: "6小时"
				},
				{
					key: 1440,
					value: "1天"
				},
				{
					key: 4320,
					value: "3天"
				},
				{
					key: 10080,
					value: "7天"
				},
				{
					key: 1e6,
					value: "永久"
				}];
				var p = i.getCurrentUser();
				t.clickInterval = {},
				t.buyXd = a.buyXd,
				n.sceneJson.meta.property.clickFarmerStatus && n.sceneJson.meta.property.clickFarmerStatus > 0 ? t.clickFarmerStatus = n.sceneJson.meta.property.clickFarmerStatus: [3, 99].indexOf(p.type) > -1 || [1, 2, 3, 4, 6, 7, 8, 9].indexOf(p.memberType) > -1 ? t.clickFarmerStatus = 2 : t.clickFarmerStatus = null,
				t.obj.properties.clickFarmer ? t.clickFarmer = t.obj.properties.clickFarmer: t.clickFarmer = t.obj.properties.clickFarmer = !1,
				t.obj.properties.clickInterval ? angular.forEach(t.timeSetting,
				function(e) {
					e.key === t.obj.properties.clickInterval && (t.clickInterval = e)
				}) : (t.obj.properties.clickInterval = 1440, t.clickInterval = {
					key: 1440,
					value: "1天"
				}),
				t.setClickFarming = function() { ! t.clickFarmerStatus && t.clickFarmer ? a.userXd().then(function(i) {
						var a = i || 0;
						a >= 18 ? o.openConfirmDialog({
							msg: "当前选择需要消耗秀点18个<br>秀点余额" + a + "个，是否使用？",
							confirmName: "确定",
							cancelName: "取消"
						}).then(function() {
							c.buyClickFarmer(n.sceneJson.meta.id, t.obj.id, 1).then(function() {
								t.obj.properties.clickFarmer = t.clickFarmer = !0,
								t.clickFarmerStatus = 1,
								n.sceneJson.meta.property.clickFarmerStatus = 1,
								s.add("购买成功"),
								e.$broadcast("confirmClickFarmer")
							})
						}) : o.openMsgDialog({
							msg: '当前选择需要消耗秀点18个<br>秀点余额不足(<font color="#ff6e6e">' + (a || 0) + "</font>个)，请先充值？"
						})
					}) : c.buyClickFarmer(n.sceneJson.meta.id, t.obj.id, t.clickFarmerStatus).then(function() {
						t.obj.properties.clickFarmer = t.clickFarmer,
						e.$broadcast("confirmClickFarmer");
					})
				},
				t.convertClickFarmer = function() {
					1 === p.type ? o.openConfirmDialog({
						msg: "企业付费用户功能， 是否升级？",
						confirmName: "立即升级",
						cancelName: "我知道了"
					}).then(function() {
						window.open(l.HOST + "site/privilege", "_blank")
					}) : t.clickFarmer = !t.clickFarmer
				},
				t.$on("confirmCompCreate",
				function() {
					t.setClickFarming()
				}),
				t.changeTimeSetting = function() {
					t.obj.properties.clickInterval = t.clickInterval.key
				}
			}
		}
	}]).name
},
function(e, t) {
	e.exports = '<span class=title>禁止重复提交</span><div class=rating-choice style=line-height:36px><div class="fl switch" style=margin-top:7px ng-class="clickFarmer ? \'switch-open\' : \'switch-close\'" ng-click=convertClickFarmer()><div class=circle-con><i class=circle></i></div></div><a class="bbs-help-tip-media hint--right hint--rounded" data-hint=此功能只能在微信环境下使用，可禁止同一微信账号在提交间隔内重复提交。 style="margin:0 10px"><span class=eqf-exclaquestion-sign style=color:#ff6e6e></span></a><div class=ml20 style=display:inline-block ng-show="!clickFarmerStatus && !clickFarmer"><span>需<span style=color:#ff6e6e>18</span>秀点</span> <a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div><div class="fl title" ng-show=clickFarmer><span class=fl style="margin:0 10px">提交间隔</span><eqx-select class="select-sm select-contain border-width fl" model=clickInterval change=changeTimeSetting() style=margin-top:3px ng-show=clickFarmer><eqx-select-option value=myGroup ng-repeat="myGroup in timeSetting">{{myGroup.value}}</eqx-select-option></eqx-select></div></div>'
},
function(e, t, n) {
	"use strict";
	n(301),
	n(303),
	n(309),
	e.exports = angular.module("colorpicker.module", []).factory("Helper",
	function() {
		return {
			closestSlider: function(e) {
				var t = e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector;
				return t.bind(e)("I") ? e.parentNode: e
			},
			getOffset: function(e, t) {
				for (var n = 0,
				i = 0,
				o = 0,
				a = 0; e && !isNaN(e.offsetLeft) && !isNaN(e.offsetTop);) n += e.offsetLeft,
				i += e.offsetTop,
				t || "BODY" !== e.tagName ? (o += e.scrollLeft, a += e.scrollTop) : (o += document.documentElement.scrollLeft || e.scrollLeft, a += document.documentElement.scrollTop || e.scrollTop),
				e = e.offsetParent;
				return {
					top: i,
					left: n,
					scrollX: o,
					scrollY: a
				}
			},
			stringParsers: [{
				re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				parse: function(e) {
					return [e[1], e[2], e[3], e[4]]
				}
			},
			{
				re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				parse: function(e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
				}
			},
			{
				re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
				parse: function(e) {
					return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
				}
			},
			{
				re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
				parse: function(e) {
					return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
				}
			}]
		}
	}).factory("Color", ["Helper",
	function(e) {
		"ngInject";
		return {
			value: {
				h: 1,
				s: 1,
				b: 1,
				a: 1
			},
			rgb: function t() {
				var t = this.toRGB();
				return "rgb(" + t.r + "," + t.g + "," + t.b + ")"
			},
			rgba: function() {
				var e = this.toRGB();
				return "rgba(" + e.r + "," + e.g + "," + e.b + "," + e.a + ")"
			},
			hex: function() {
				return this.toHex()
			},
			RGBtoHSB: function(e, t, n, i) {
				e /= 255,
				t /= 255,
				n /= 255;
				var o, a, r, s;
				return r = Math.max(e, t, n),
				s = r - Math.min(e, t, n),
				o = 0 === s ? null: r === e ? (t - n) / s: r === t ? (n - e) / s + 2 : (e - t) / s + 4,
				o = (o + 360) % 6 * 60 / 360,
				a = 0 === s ? 0 : s / r,
				{
					h: o || 1,
					s: a,
					b: r,
					a: i || 1
				}
			},
			setColor: function(t) {
				t = t.toLowerCase();
				for (var n in e.stringParsers) if (e.stringParsers.hasOwnProperty(n)) {
					var i = e.stringParsers[n],
					o = i.re.exec(t),
					a = o && i.parse(o);
					if (a) return this.value = this.RGBtoHSB.apply(null, a),
					!1
				}
			},
			setHue: function(e) {
				this.value.h = 1 - e
			},
			setSaturation: function(e) {
				this.value.s = e
			},
			setLightness: function(e) {
				this.value.b = 1 - e
			},
			setAlpha: function(e) {
				this.value.a = parseInt(100 * (1 - e), 10) / 100
			},
			toRGB: function(e, t, n, i) {
				e || (e = this.value.h, t = this.value.s, n = this.value.b),
				e *= 360;
				var o, a, r, s, c;
				return e = e % 360 / 60,
				c = n * t,
				s = c * (1 - Math.abs(e % 2 - 1)),
				o = a = r = n - c,
				e = ~~e,
				o += [c, s, 0, 0, s, c][e],
				a += [s, c, c, s, 0, 0][e],
				r += [0, 0, s, c, c, s][e],
				{
					r: Math.round(255 * o),
					g: Math.round(255 * a),
					b: Math.round(255 * r),
					a: i || this.value.a
				}
			},
			toHex: function(e, t, n, i) {
				var o = this.toRGB(e, t, n, i);
				return "#" + (1 << 24 | parseInt(o.r, 10) << 16 | parseInt(o.g, 10) << 8 | parseInt(o.b, 10)).toString(16).substr(1)
			}
		}
	}]).factory("Slider", ["Helper",
	function(e) {
		"ngInject";
		var t = {
			maxLeft: 0,
			maxTop: 0,
			callLeft: null,
			callTop: null,
			knob: {
				top: 0,
				left: 0
			}
		},
		n = {};
		return {
			getSlider: function() {
				return t
			},
			getLeftPosition: function(e) {
				return Math.max(0, Math.min(t.maxLeft, t.left + ((e.pageX || n.left) - n.left)))
			},
			getTopPosition: function(e) {
				return Math.max(0, Math.min(t.maxTop, t.top + ((e.pageY || n.top) - n.top)))
			},
			setSlider: function(i, o) {
				var a = e.closestSlider(i.target),
				r = e.getOffset(a, o);
				t.knob = a.children[0].style,
				t.left = i.pageX - r.left - window.pageXOffset + r.scrollX,
				t.top = i.pageY - r.top - window.pageYOffset + r.scrollY,
				n = {
					left: i.pageX,
					top: i.pageY
				}
			},
			setSaturation: function(e, n) {
				t = {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setLightness"
				},
				this.setSlider(e, n)
			},
			setHue: function(e, n) {
				t = {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setHue"
				},
				this.setSlider(e, n)
			},
			setAlpha: function(e, n) {
				t = {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setAlpha"
				},
				this.setSlider(e, n)
			},
			setKnob: function(e, n) {
				t.knob.top = e + "px",
				t.knob.left = n + "px"
			}
		}
	}]).directive("colorpicker", ["$document", "$compile", "Color", "Slider", "Helper",
	function(e, t, n, i, o) {
		"ngInject";
		return {
			scope: {
				disable: "@",
				y: "@"
			},
			require: "?ngModel",
			restrict: "A",
			link: function(a, r, s, c) {
				var l, p = {
					x: parseInt(s.x, 10) || 0,
					y: parseInt(a.y, 10) || 0
				},
				d = s.colorpicker ? s.colorpicker: "hex",
				u = angular.isDefined(s.colorpickerPosition) ? s.colorpickerPosition: "bottom",
				g = !!angular.isDefined(s.colorpickerInline) && s.colorpickerInline,
				m = !!angular.isDefined(s.colorpickerFixedPosition) && s.colorpickerFixedPosition,
				f = angular.isDefined(s.colorpickerParent) ? r.parent() : angular.element(document.body),
				h = !!angular.isDefined(s.colorpickerWithInput) && s.colorpickerWithInput,
				v = h ? '<input type="text" name="colorpicker-input">': "",
				y = g ? "": '<button type="button" class="close close-colorpicker">&times;</button>',
				b = '<div class="colorpicker dropdown" ng-click="$event.stopPropagation();"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>' + v + y + "</div></div>",
				x = angular.element(b),
				w = n,
				S = x.find("colorpicker-hue"),
				k = x.find("colorpicker-saturation"),
				C = x.find("colorpicker-preview"),
				T = x.find("i");
				if (t(x)(a), a.disable && a.$watch("disable",
				function(e, t) {
					e !== t && "false" === e && F()
				}), a.$watch("y",
				function(e, t) {
					e && e !== t && (p.y = parseInt(e, 10))
				}), h) {
					var q = x.find("input");
					q.on("mousedown",
					function(e) {
						e.stopPropagation()
					}).on("keyup",
					function(e) {
						var t = this.value;
						r.val(t),
						c && a.$apply(c.$setViewValue(t)),
						e.stopPropagation(),
						e.preventDefault()
					}),
					r.on("keyup",
					function() {
						q.val(r.val())
					})
				}
				var I = function() {
					e.on("mousemove", P),
					e.on("mouseup", A)
				};
				"rgba" === d && (x.addClass("alpha"), l = x.find("colorpicker-alpha"), l.on("click",
				function(e) {
					i.setAlpha(e, m),
					P(e)
				}).on("mousedown",
				function(e) {
					i.setAlpha(e, m),
					I()
				})),
				S.on("click",
				function(e) {
					i.setHue(e, m),
					P(e)
				}).on("mousedown",
				function(e) {
					i.setHue(e, m),
					I()
				}),
				k.on("click",
				function(e) {
					i.setSaturation(e, m),
					P(e)
				}).on("mousedown",
				function(e) {
					i.setSaturation(e, m),
					I()
				}),
				m && x.addClass("colorpicker-fixed-position"),
				x.addClass("colorpicker-position-" + u),
				"true" === g && x.addClass("colorpicker-inline"),
				f.append(x),
				c && (c.$render = function() {
					r.val(c.$viewValue)
				},
				a.$watch(s.ngModel,
				function() {
					j()
				})),
				r.on("$destroy",
				function() {
					x.remove()
				});
				var E = function() {
					try {
						C.css("backgroundColor", w[d]())
					} catch(e) {
						C.css("backgroundColor", w.toHex())
					}
					k.css("backgroundColor", w.toHex(w.value.h, 1, 1, 1)),
					"rgba" === d && (l.css.backgroundColor = w.toHex())
				},
				P = function(e) {
					var t = i.getLeftPosition(e),
					n = i.getTopPosition(e),
					o = i.getSlider();
					i.setKnob(n, t),
					o.callLeft && w[o.callLeft].call(w, t / 100),
					o.callTop && w[o.callTop].call(w, n / 100),
					E();
					var s = w[d]();
					return r.val(s),
					c && a.$apply(c.$setViewValue(s)),
					h && q.val(s),
					!1
				},
				A = function _() {
					e.off("mousemove", P),
					e.off("mouseup", _)
				},
				j = function() {
					w.setColor(r.val()),
					T.eq(0).css({
						left: 100 * w.value.s + "px",
						top: 100 - 100 * w.value.b + "px"
					}),
					T.eq(1).css("top", 100 * (1 - w.value.h) + "px"),
					T.eq(2).css("top", 100 * (1 - w.value.a) + "px"),
					E()
				},
				L = function() {
					var e, t = o.getOffset(r[0]);
					return angular.isDefined(s.colorpickerParent) && (t.left = 0, t.top = 0),
					"top" === u ? e = {
						top: t.top - 147 + p.y,
						left: t.left + p.x
					}: "right" === u ? e = {
						top: t.top + p.y,
						left: t.left + 126 + p.x
					}: "bottom" === u ? (e = {
						top: t.top + r[0].offsetHeight + 2 + p.y,
						left: t.left + p.x
					},
					"grid.color" === s.ngModel && (e.top = $(r[0]).offset().top + 30, e.left = $(r[0]).offset().left)) : "left" === u ? e = {
						top: t.top + p.y,
						left: t.left - 150 + p.x
					}: "sceneToobar" === u && (e = {
						top: t.top + p.y - 110,
						left: t.left - 150 + p.x + 40
					}),
					{
						top: e.top + "px",
						left: e.left + "px"
					}
				},
				M = function() {
					F()
				};
				g === !1 ? r.on("click",
				function() {
					j(),
					x.addClass("colorpicker-visible").css(L()),
					e.on("mousedown", M)
				}) : (j(), x.addClass("colorpicker-visible").css(L())),
				x.on("mousedown",
				function(e) {
					e.stopPropagation(),
					e.preventDefault()
				});
				var O = function(e) {
					c && a.$emit(e, {
						name: s.ngModel,
						value: c.$modelValue
					})
				},
				F = function() {
					x.hasClass("colorpicker-visible") && (x.removeClass("colorpicker-visible"), O("colorpicker-closed"), e.off("mousedown", M))
				};
				x.find("button").on("click",
				function() {
					F()
				})
			}
		}
	}]).factory("colorService",
	function() {
		"ngInject";
		function e() {
			return s
		}
		function t(e) {
			return s = e
		}
		function n() {
			return angular.copy(c)
		}
		function i(e) {
			r.indexOf(e) > -1 && r.splice(r.indexOf(e), 1),
			r.unshift(e),
			r.length > 7 && r.pop(),
			localStorage.setItem("historyColor", r.join(","))
		}
		function o() {
			return r ? r: (r = localStorage.getItem("historyColor"), r = r ? r.split(",") : [])
		}
		function a(e, t) {
			var n = e.$root.$$phase;
			"$apply" === n || "$digest" === n ? t && "function" == typeof t && t() : e.$apply(t)
		}
		var r = null,
		s = "",
		c = ["eef1f6", "ffcbd0", "bde6ff", "97ecb9", "ffc36d", "95f4e2", "ccd0ff", "eccaf1", "ffbed0", "ffffff", "a8b8d0", "e87474", "59c7f9", "56b786", "ea9924", "2ecbbe", "8d91ff", "c277d0", "ff79a2", "000000", "7a90b2", "c4433c", "2196ed", "48916c", "d67b03", "23a193", "696cb4", "a158b3", "bf4c76"];
		return {
			getCustomColor: e,
			setCustomColor: t,
			safeApply: a,
			getColors: n,
			setHistoryColors: i,
			getHistoryColors: o
		}
	}).directive("eqdColorpicker", ["$compile", "colorService", "$timeout",
	function(e, t, n) {
		"ngInject";
		function i(i, r) {
			var s = angular.element(document.getElementById("btn-toolbar"));
			i.direction = i.direction || "right",
			i.x = i.x || 0,
			i.y = i.y || 0;
			var c = t.getColors();
			i.greyColors = c.slice(0, 9),
			i.richColors = c.slice(9),
			i.historyColors = t.getHistoryColors();
			var l = e(a)(i);
			$("body").append(l),
			r.on("$destroy",
			function() {
				l && l.remove()
			}),
			r.click(function() {
				if (!i.visible) {
					t.safeApply(i,
					function() {
						i.visible = !0
					}),
					i.colorpicker.css("transform", ""),
					i.picker.colorpicker("setValue", i.selectColor || "transparent"),
					i.setColorpickerPos(i, r, i.colorpicker),
					o.bind("mousedown",
					function() {
						t.safeApply(i,
						function() {
							i.visible = !1;
							var e = t.getCustomColor();
							e && t.setHistoryColors(e.slice(1))
						}),
						o.unbind("mousedown")
					}),
					s.bind("mousedown",
					function() {
						t.safeApply(i,
						function() {
							i.visible = !1;
							var e = t.getCustomColor();
							e && t.setHistoryColors(e.slice(1))
						})
					});
					var e = $(".eqc-colorpicker .content input");
					e.keydown(function(e) {
						8 !== e.keyCode && 37 !== e.keyCode && 38 !== e.keyCode && 39 !== e.keyCode && 40 !== e.keyCode && 46 !== e.keyCode || e.stopPropagation(),
						n(function() {
							e.target.focus()
						},
						200)
					})
				}
			})
		}
		var o = $(document),
		a = '<div class="eqc-colorpicker {{isToolbarColorPicker}}" ng-show="visible" ><div class="content"><div class="color" ng-click="chooseColor($event)"><div class="select"><ul><li class="clear"></li><li ng-repeat="color in greyColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}"></li><li ng-repeat="color in richColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}"></li></ul></div><div class="history"><ul><div class="more">最近使用</div><li ng-repeat="color in historyColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}" ></li></ul></div><input eqd-color-more /><div class="subHistory"><li ng-style="{backgroundColor: \'#\' + selectColor}" color="{{selectColor}}" ></li><li ng-style="{backgroundColor: \'#\' + historyColors[0]}" color="{{historyColors[0]}}" ></li></div></div></div></div>';
		return {
			scope: {
				selectColor: "=",
				notify: "@",
				direction: "@",
				isToolbarColorPicker: "=",
				x: "@",
				y: "@",
				isConvertTransparent: "@"
			},
			link: i
		}
	}]).directive("eqdColorMore", ["$rootScope", "colorService",
	function(e, t) {
		"ngInject";
		function n(n, o) {
			var a = n.colorpicker = o.closest(".eqc-colorpicker");
			a.mousedown(function(e) {
				if (e.stopPropagation(), $(e.target).hasClass("eqc-colorpicker")) {
					var t = a.get(0).style.transform;
					t = /translate3d/.test(t) ? t: "translate3d(0,0,0)",
					t = /translate3d\((-?\d+)(px)?,\s*(-?\d+)(px)?,\s*(-?\d+)(px)?\)/.exec(t);
					var n = {
						pageX: e.pageX,
						pageY: e.pageY,
						translateX: parseInt(t[1], 10),
						translateY: parseInt(t[3], 10)
					};
					i.mousemove(function(e) {
						var t = e.pageX - n.pageX,
						i = e.pageY - n.pageY;
						a.css("transform", "translate3d(" + (n.translateX + t) + "px," + (n.translateY + i) + "px,0")
					}),
					i.mouseup(function() {
						i.unbind("mousemove mouseup")
					})
				}
			});
			var r = n.picker = o.colorpicker({
				inline: !0,
				format: "rgba",
				container: a.children(".content"),
				customClass: "colorpicker-2x",
				sliders: {
					saturation: {
						maxLeft: 150,
						maxTop: 150
					},
					hue: {
						maxTop: 150
					},
					alpha: {
						maxTop: 150
					}
				}
			});
			a.click(function(e) {
				e.stopPropagation()
			}),
			r.on("changeColor",
			function(e) {
				t.safeApply(n,
				function() {
					var t = e.color.toRGB();
					n.selectColor = "rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")"
				})
			}),
			r.on("completeColor",
			function(i) {
				e.$broadcast("completeColor", n.notify);
				var o = i.color.toHex();
				t.setCustomColor(o)
			}),
			o.on("$destroy",
			function() {
				r.colorpicker("destroy")
			}),
			n.$on("colorpicker.hide",
			function() {
				t.safeApply(n,
				function() {
					n.visible = !1
				})
			}),
			n.chooseColor = function(i) {
				i.stopPropagation();
				var o = $(i.target);
				if (o.is("li")) {
					var a = o.attr("color");
					if (a) {
						var s = "#" + a;
						n.selectColor = s,
						t.setCustomColor(s),
						r.colorpicker("setValue", s)
					} else n.selectColor = "",
					r.colorpicker("setValue", "transparent");
					setTimeout(function() {
						e.$broadcast("completeColor", n.notify),
						n.$apply()
					},
					10)
				}
			},
			n.setColorpickerPos = function(e, t, n) {
				var i = {},
				o = {
					width: 234,
					height: 425
				},
				a = t.offset(),
				r = {
					top: a.top,
					left: a.left,
					width: t.width(),
					height: t.height()
				};
				switch (e.direction) {
				case "top":
					i.top = r.top - o.height,
					i.left = r.left;
					break;
				case "bottom":
					i.top = r.top + r.height,
					i.left = r.left;
					break;
				case "left":
					i.top = r.top,
					i.left = r.left - o.width;
					break;
				case "right":
					i.top = r.top,
					i.left = r.left + r.width
				}
				i.top + o.height > window.screen.availHeight && (i.top = window.screen.availHeight - o.height),
				i.left + o.width > document.body.clientWidth && (i.left = document.body.clientWidth - o.width),
				n.css({
					top: i.top + parseInt(e.y, 10),
					left: i.left + parseInt(e.x, 10)
				})
			}
		}
		var i = $(document);
		return {
			restrict: "EA",
			link: n
		}
	}]).directive("eqdInputColor",
	function() {
		"ngInject";
		return {
			restrict: "E",
			template: n(310),
			replace: !0,
			controller: ["$scope", "$attrs",
			function(e, t) {
				e.x = t.x || 151,
				e.y = t.y || -2,
				e.w = t.w || 144,
				e.h = t.h || 28,
				e.colorMode = t.colorMode || "rgba",
				e.direction = t.direction || "right",
				e.theme = t.theme || "",
				e.notify = t.notify || "",
				e.idName = t.toolcolorpicker || "normalColorPicker",
				e.isConvertTransparent = t.isconverttransparent || "false"
			}],
			scope: {
				selectColor: "=",
				defaultColor: "=",
				theme: "@"
			}
		}
	}).name
},
function(e, t, n) {
	var i, o, a, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
	function(e) {
		return typeof e
	}: function(e) {
		return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol": typeof e
	};
	/*!
	 * Bootstrap Colorpicker
	 * http://mjolnic.github.io/bootstrap-colorpicker/
	 *
	 * Originally written by (c) 2012 Stefan Petre
	 * Licensed under the Apache License v2.0
	 * http://www.apache.org/licenses/LICENSE-2.0.txt
	 *
	 * @todo Update DOCS
	 */
	!
	function(s) {
		"use strict";
		"object" === r(t) ? e.exports = s(window.jQuery) : (o = [n(302)], i = s, a = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== a && (e.exports = a)))
	} (function(e) {
		"use strict";
		var t = function(t, n) {
			this.value = {
				h: 0,
				s: 0,
				b: 0,
				a: 1
			},
			this.origFormat = null,
			n && e.extend(this.colors, n),
			t && (void 0 !== t.toLowerCase ? (t += "", this.setColor(t)) : void 0 !== t.h && (this.value = t))
		};
		t.prototype = {
			constructor: t,
			colors: {
				aliceblue: "#f0f8ff",
				antiquewhite: "#faebd7",
				aqua: "#00ffff",
				aquamarine: "#7fffd4",
				azure: "#f0ffff",
				beige: "#f5f5dc",
				bisque: "#ffe4c4",
				black: "#000000",
				blanchedalmond: "#ffebcd",
				blue: "#0000ff",
				blueviolet: "#8a2be2",
				brown: "#a52a2a",
				burlywood: "#deb887",
				cadetblue: "#5f9ea0",
				chartreuse: "#7fff00",
				chocolate: "#d2691e",
				coral: "#ff7f50",
				cornflowerblue: "#6495ed",
				cornsilk: "#fff8dc",
				crimson: "#dc143c",
				cyan: "#00ffff",
				darkblue: "#00008b",
				darkcyan: "#008b8b",
				darkgoldenrod: "#b8860b",
				darkgray: "#a9a9a9",
				darkgreen: "#006400",
				darkkhaki: "#bdb76b",
				darkmagenta: "#8b008b",
				darkolivegreen: "#556b2f",
				darkorange: "#ff8c00",
				darkorchid: "#9932cc",
				darkred: "#8b0000",
				darksalmon: "#e9967a",
				darkseagreen: "#8fbc8f",
				darkslateblue: "#483d8b",
				darkslategray: "#2f4f4f",
				darkturquoise: "#00ced1",
				darkviolet: "#9400d3",
				deeppink: "#ff1493",
				deepskyblue: "#00bfff",
				dimgray: "#696969",
				dodgerblue: "#1e90ff",
				firebrick: "#b22222",
				floralwhite: "#fffaf0",
				forestgreen: "#228b22",
				fuchsia: "#ff00ff",
				gainsboro: "#dcdcdc",
				ghostwhite: "#f8f8ff",
				gold: "#ffd700",
				goldenrod: "#daa520",
				gray: "#808080",
				green: "#008000",
				greenyellow: "#adff2f",
				honeydew: "#f0fff0",
				hotpink: "#ff69b4",
				indianred: "#cd5c5c",
				indigo: "#4b0082",
				ivory: "#fffff0",
				khaki: "#f0e68c",
				lavender: "#e6e6fa",
				lavenderblush: "#fff0f5",
				lawngreen: "#7cfc00",
				lemonchiffon: "#fffacd",
				lightblue: "#add8e6",
				lightcoral: "#f08080",
				lightcyan: "#e0ffff",
				lightgoldenrodyellow: "#fafad2",
				lightgrey: "#d3d3d3",
				lightgreen: "#90ee90",
				lightpink: "#ffb6c1",
				lightsalmon: "#ffa07a",
				lightseagreen: "#20b2aa",
				lightskyblue: "#87cefa",
				lightslategray: "#778899",
				lightsteelblue: "#b0c4de",
				lightyellow: "#ffffe0",
				lime: "#00ff00",
				limegreen: "#32cd32",
				linen: "#faf0e6",
				magenta: "#ff00ff",
				maroon: "#800000",
				mediumaquamarine: "#66cdaa",
				mediumblue: "#0000cd",
				mediumorchid: "#ba55d3",
				mediumpurple: "#9370d8",
				mediumseagreen: "#3cb371",
				mediumslateblue: "#7b68ee",
				mediumspringgreen: "#00fa9a",
				mediumturquoise: "#48d1cc",
				mediumvioletred: "#c71585",
				midnightblue: "#191970",
				mintcream: "#f5fffa",
				mistyrose: "#ffe4e1",
				moccasin: "#ffe4b5",
				navajowhite: "#ffdead",
				navy: "#000080",
				oldlace: "#fdf5e6",
				olive: "#808000",
				olivedrab: "#6b8e23",
				orange: "#ffa500",
				orangered: "#ff4500",
				orchid: "#da70d6",
				palegoldenrod: "#eee8aa",
				palegreen: "#98fb98",
				paleturquoise: "#afeeee",
				palevioletred: "#d87093",
				papayawhip: "#ffefd5",
				peachpuff: "#ffdab9",
				peru: "#cd853f",
				pink: "#ffc0cb",
				plum: "#dda0dd",
				powderblue: "#b0e0e6",
				purple: "#800080",
				red: "#ff0000",
				rosybrown: "#bc8f8f",
				royalblue: "#4169e1",
				saddlebrown: "#8b4513",
				salmon: "#fa8072",
				sandybrown: "#f4a460",
				seagreen: "#2e8b57",
				seashell: "#fff5ee",
				sienna: "#a0522d",
				silver: "#c0c0c0",
				skyblue: "#87ceeb",
				slateblue: "#6a5acd",
				slategray: "#708090",
				snow: "#fffafa",
				springgreen: "#00ff7f",
				steelblue: "#4682b4",
				tan: "#d2b48c",
				teal: "#008080",
				thistle: "#d8bfd8",
				tomato: "#ff6347",
				turquoise: "#40e0d0",
				violet: "#ee82ee",
				wheat: "#f5deb3",
				white: "#ffffff",
				whitesmoke: "#f5f5f5",
				yellow: "#ffff00",
				yellowgreen: "#9acd32",
				transparent: "transparent"
			},
			_sanitizeNumber: function(e) {
				return "number" == typeof e ? e: isNaN(e) || null === e || "" === e || void 0 === e ? 1 : void 0 !== e.toLowerCase ? parseFloat(e) : 1
			},
			isTransparent: function(e) {
				return !! e && (e = e.toLowerCase().trim(), "transparent" === e || e.match(/#?00000000/) || e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))
			},
			rgbaIsTransparent: function(e) {
				return 0 === e.r && 0 === e.g && 0 === e.b && 0 === e.a
			},
			setColor: function(e) {
				e = e.toLowerCase().trim(),
				e && (this.isTransparent(e) ? this.value = {
					h: 0,
					s: 0,
					b: 0,
					a: 0
				}: this.value = this.stringToHSB(e) || {
					h: 0,
					s: 0,
					b: 0,
					a: 1
				})
			},
			stringToHSB: function(t) {
				t = t.toLowerCase();
				var n;
				"undefined" != typeof this.colors[t] && (t = this.colors[t], n = "alias");
				var i = this,
				o = !1;
				return e.each(this.stringParsers,
				function(e, a) {
					var r = a.re.exec(t),
					s = r && a.parse.apply(i, [r]),
					c = n || a.format || "rgba";
					return ! s || (o = c.match(/hsla?/) ? i.RGBtoHSB.apply(i, i.HSLtoRGB.apply(i, s)) : i.RGBtoHSB.apply(i, s), i.origFormat = c, !1)
				}),
				o
			},
			setHue: function(e) {
				this.value.h = 1 - e
			},
			setSaturation: function(e) {
				this.value.s = e
			},
			setBrightness: function(e) {
				this.value.b = 1 - e
			},
			setAlpha: function(e) {
				this.value.a = parseInt(100 * (1 - e), 10) / 100
			},
			toRGB: function(e, t, n, i) {
				e || (e = this.value.h, t = this.value.s, n = this.value.b),
				e *= 360;
				var o, a, r, s, c;
				return e = e % 360 / 60,
				c = n * t,
				s = c * (1 - Math.abs(e % 2 - 1)),
				o = a = r = n - c,
				e = ~~e,
				o += [c, s, 0, 0, s, c][e],
				a += [s, c, c, s, 0, 0][e],
				r += [0, 0, s, c, c, s][e],
				{
					r: Math.round(255 * o),
					g: Math.round(255 * a),
					b: Math.round(255 * r),
					a: i || this.value.a
				}
			},
			toHex: function(e, t, n, i) {
				var o = this.toRGB(e, t, n, i);
				return this.rgbaIsTransparent(o) ? "transparent": "#" + (1 << 24 | parseInt(o.r) << 16 | parseInt(o.g) << 8 | parseInt(o.b)).toString(16).substr(1)
			},
			toHSL: function(e, t, n, i) {
				e = e || this.value.h,
				t = t || this.value.s,
				n = n || this.value.b,
				i = i || this.value.a;
				var o = e,
				a = (2 - t) * n,
				r = t * n;
				return r /= a > 0 && a <= 1 ? a: 2 - a,
				a /= 2,
				r > 1 && (r = 1),
				{
					h: isNaN(o) ? 0 : o,
					s: isNaN(r) ? 0 : r,
					l: isNaN(a) ? 0 : a,
					a: isNaN(i) ? 0 : i
				}
			},
			toAlias: function(e, t, n, i) {
				var o = this.toHex(e, t, n, i);
				for (var a in this.colors) if (this.colors[a] === o) return a;
				return ! 1
			},
			RGBtoHSB: function(e, t, n, i) {
				e /= 255,
				t /= 255,
				n /= 255;
				var o, a, r, s;
				return r = Math.max(e, t, n),
				s = r - Math.min(e, t, n),
				o = 0 === s ? null: r === e ? (t - n) / s: r === t ? (n - e) / s + 2 : (e - t) / s + 4,
				o = (o + 360) % 6 * 60 / 360,
				a = 0 === s ? 0 : s / r,
				{
					h: this._sanitizeNumber(o),
					s: a,
					b: r,
					a: this._sanitizeNumber(i)
				}
			},
			HueToRGB: function(e, t, n) {
				return n < 0 ? n += 1 : n > 1 && (n -= 1),
				6 * n < 1 ? e + (t - e) * n * 6 : 2 * n < 1 ? t: 3 * n < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e
			},
			HSLtoRGB: function(e, t, n, i) {
				t < 0 && (t = 0);
				var o;
				o = n <= .5 ? n * (1 + t) : n + t - n * t;
				var a = 2 * n - o,
				r = e + 1 / 3,
				s = e,
				c = e - 1 / 3,
				l = Math.round(255 * this.HueToRGB(a, o, r)),
				p = Math.round(255 * this.HueToRGB(a, o, s)),
				d = Math.round(255 * this.HueToRGB(a, o, c));
				return [l, p, d, this._sanitizeNumber(i)]
			},
			toString: function(e) {
				e = e || "rgba";
				var t = !1;
				switch (e) {
				case "rgb":
					return t = this.toRGB(),
					this.rgbaIsTransparent(t) ? "transparent": "rgb(" + t.r + "," + t.g + "," + t.b + ")";
				case "rgba":
					return t = this.toRGB(),
					"rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")";
				case "hsl":
					return t = this.toHSL(),
					"hsl(" + Math.round(360 * t.h) + "," + Math.round(100 * t.s) + "%," + Math.round(100 * t.l) + "%)";
				case "hsla":
					return t = this.toHSL(),
					"hsla(" + Math.round(360 * t.h) + "," + Math.round(100 * t.s) + "%," + Math.round(100 * t.l) + "%," + t.a + ")";
				case "hex":
					return this.toHex();
				case "alias":
					return this.toAlias() || this.toHex();
				default:
					return t
				}
			},
			stringParsers: [{
				re: /rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,
				format: "rgb",
				parse: function(e) {
					return [e[1], e[2], e[3], 1]
				}
			},
			{
				re: /rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,
				format: "rgb",
				parse: function(e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], 1]
				}
			},
			{
				re: /rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				format: "rgba",
				parse: function(e) {
					return [e[1], e[2], e[3], e[4]]
				}
			},
			{
				re: /rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				format: "rgba",
				parse: function(e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
				}
			},
			{
				re: /hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,
				format: "hsl",
				parse: function(e) {
					return [e[1] / 360, e[2] / 100, e[3] / 100, e[4]]
				}
			},
			{
				re: /hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				format: "hsla",
				parse: function(e) {
					return [e[1] / 360, e[2] / 100, e[3] / 100, e[4]]
				}
			},
			{
				re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
				format: "hex",
				parse: function(e) {
					return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16), 1]
				}
			},
			{
				re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
				format: "hex",
				parse: function(e) {
					return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16), 1]
				}
			}],
			colorNameToHex: function(e) {
				return "undefined" != typeof this.colors[e.toLowerCase()] && this.colors[e.toLowerCase()]
			}
		};
		var n = {
			horizontal: !1,
			inline: !1,
			color: !1,
			format: !1,
			input: "input",
			container: !1,
			component: ".add-on, .input-group-addon",
			sliders: {
				saturation: {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setBrightness"
				},
				hue: {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setHue"
				},
				alpha: {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setAlpha"
				}
			},
			slidersHorz: {
				saturation: {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setBrightness"
				},
				hue: {
					maxLeft: 100,
					maxTop: 0,
					callLeft: "setHue",
					callTop: !1
				},
				alpha: {
					maxLeft: 100,
					maxTop: 0,
					callLeft: "setAlpha",
					callTop: !1
				}
			},
			template: '<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',
			align: "right",
			customClass: null,
			colorSelectors: null
		},
		i = function(i, o) {
			if (this.element = e(i).addClass("colorpicker-element"), this.options = e.extend(!0, {},
			n, this.element.data(), o), this.component = this.options.component, this.component = this.component !== !1 && this.element.find(this.component), this.component && 0 === this.component.length && (this.component = !1), this.container = this.options.container === !0 ? this.element: this.options.container, this.container = this.container !== !1 && e(this.container), this.input = this.element.is("input") ? this.element: !!this.options.input && this.element.find(this.options.input), this.input && 0 === this.input.length && (this.input = !1), this.color = new t(this.options.color !== !1 ? this.options.color: this.getValue(), this.options.colorSelectors), this.format = this.options.format !== !1 ? this.options.format: this.color.origFormat, this.options.color !== !1 && (this.updateInput(this.color), this.updateData(this.color)), this.picker = e(this.options.template), this.options.customClass && this.picker.addClass(this.options.customClass), this.options.inline ? this.picker.addClass("colorpicker-inline colorpicker-visible") : this.picker.addClass("colorpicker-hidden"), this.options.horizontal && this.picker.addClass("colorpicker-horizontal"), "rgba" !== this.format && "hsla" !== this.format && this.options.format !== !1 || this.picker.addClass("colorpicker-with-alpha"), "right" === this.options.align && this.picker.addClass("colorpicker-right"), this.options.inline === !0 && this.picker.addClass("colorpicker-no-arrow"), this.options.colorSelectors) {
				var a = this;
				e.each(this.options.colorSelectors,
				function(t, n) {
					var i = e("<i />").css("background-color", n).data("class", t);
					i.click(function() {
						a.setValue(e(this).css("background-color"))
					}),
					a.picker.find(".colorpicker-selectors").append(i)
				}),
				this.picker.find(".colorpicker-selectors").show()
			}
			this.picker.on("mousedown.colorpicker touchstart.colorpicker", e.proxy(this.mousedown, this)),
			this.picker.appendTo(this.container ? this.container: e("body")),
			this.input !== !1 && (this.input.on({
				"keyup.colorpicker": e.proxy(this.keyup, this)
			}), this.input.on({
				"change.colorpicker": e.proxy(this.change, this)
			}), this.component === !1 && this.element.on({
				"focus.colorpicker": e.proxy(this.show, this)
			}), this.options.inline === !1 && this.element.on({
				"focusout.colorpicker": e.proxy(this.hide, this)
			})),
			this.component !== !1 && this.component.on({
				"click.colorpicker": e.proxy(this.show, this)
			}),
			this.input === !1 && this.component === !1 && this.element.on({
				"click.colorpicker": e.proxy(this.show, this)
			}),
			this.input !== !1 && this.component !== !1 && "color" === this.input.attr("type") && this.input.on({
				"click.colorpicker": e.proxy(this.show, this),
				"focus.colorpicker": e.proxy(this.show, this)
			}),
			this.update(),
			e(e.proxy(function() {
				this.element.trigger("create")
			},
			this))
		};
		i.Color = t,
		i.prototype = {
			constructor: i,
			destroy: function() {
				this.picker.remove(),
				this.element.removeData("colorpicker").off(".colorpicker"),
				this.input !== !1 && this.input.off(".colorpicker"),
				this.component !== !1 && this.component.off(".colorpicker"),
				this.element.removeClass("colorpicker-element"),
				this.element.trigger({
					type: "destroy"
				})
			},
			reposition: function() {
				if (this.options.inline !== !1 || this.options.container) return ! 1;
				var e = this.container && this.container[0] !== document.body ? "position": "offset",
				t = this.component || this.element,
				n = t[e]();
				"right" === this.options.align && (n.left -= this.picker.outerWidth() - t.outerWidth()),
				this.picker.css({
					top: n.top + t.outerHeight(),
					left: n.left
				})
			},
			show: function(t) {
				return ! this.isDisabled() && (this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"), this.reposition(), e(window).on("resize.colorpicker", e.proxy(this.reposition, this)), !t || this.hasInput() && "color" !== this.input.attr("type") || t.stopPropagation && t.preventDefault && (t.stopPropagation(), t.preventDefault()), this.options.inline === !1 && e(window.document).on({
					"mousedown.colorpicker": e.proxy(this.hide, this)
				}), void this.element.trigger({
					type: "showPicker",
					color: this.color
				}))
			},
			hide: function() {
				this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),
				e(window).off("resize.colorpicker", this.reposition),
				e(document).off({
					"mousedown.colorpicker": this.hide
				}),
				this.update(),
				this.element.trigger({
					type: "hidePicker",
					color: this.color
				})
			},
			updateData: function(e) {
				return e = e || this.color.toString(this.format),
				this.element.data("color", e),
				e
			},
			updateInput: function(e) {
				if (e = e || this.color.toString(this.format), this.input !== !1) {
					if (this.options.colorSelectors) {
						var n = new t(e, this.options.colorSelectors),
						i = n.toAlias();
						"undefined" != typeof this.options.colorSelectors[i] && (e = i)
					}
					this.input.prop("value", e)
				}
				return e
			},
			updatePicker: function(e) {
				void 0 !== e && (this.color = new t(e, this.options.colorSelectors));
				var n = this.options.horizontal === !1 ? this.options.sliders: this.options.slidersHorz,
				i = this.picker.find("i");
				if (0 !== i.length) return this.options.horizontal === !1 ? (n = this.options.sliders, i.eq(1).css("top", n.hue.maxTop * (1 - this.color.value.h)).end().eq(2).css("top", n.alpha.maxTop * (1 - this.color.value.a))) : (n = this.options.slidersHorz, i.eq(1).css("left", n.hue.maxLeft * (1 - this.color.value.h)).end().eq(2).css("left", n.alpha.maxLeft * (1 - this.color.value.a))),
				i.eq(0).css({
					top: n.saturation.maxTop - this.color.value.b * n.saturation.maxTop,
					left: this.color.value.s * n.saturation.maxLeft
				}),
				this.picker.find(".colorpicker-saturation").css("backgroundColor", this.color.toHex(this.color.value.h, 1, 1, 1)),
				this.picker.find(".colorpicker-alpha").css("backgroundColor", this.color.toHex()),
				this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor", this.color.toString(this.format)),
				e
			},
			updateComponent: function(e) {
				if (e = e || this.color.toString(this.format), this.component !== !1) {
					var t = this.component.find("i").eq(0);
					t.length > 0 ? t.css({
						backgroundColor: e
					}) : this.component.css({
						backgroundColor: e
					})
				}
				return e
			},
			update: function(e) {
				var t;
				return this.getValue(!1) === !1 && e !== !0 || (t = this.updateComponent(), this.updateInput(t), this.updateData(t), this.updatePicker()),
				t
			},
			setValue: function(e) {
				this.color = new t(e, this.options.colorSelectors),
				this.update(!0),
				this.element.trigger({
					type: "changeColor",
					color: this.color,
					value: e
				})
			},
			getValue: function(e) {
				e = void 0 === e ? "#000000": e;
				var t;
				return t = this.hasInput() ? this.input.val() : this.element.data("color"),
				void 0 !== t && "" !== t && null !== t || (t = e),
				t
			},
			hasInput: function() {
				return this.input !== !1
			},
			isDisabled: function() {
				return !! this.hasInput() && this.input.prop("disabled") === !0
			},
			disable: function() {
				return !! this.hasInput() && (this.input.prop("disabled", !0), this.element.trigger({
					type: "disable",
					color: this.color,
					value: this.getValue()
				}), !0)
			},
			enable: function() {
				return !! this.hasInput() && (this.input.prop("disabled", !1), this.element.trigger({
					type: "enable",
					color: this.color,
					value: this.getValue()
				}), !0)
			},
			currentSlider: null,
			mousePointer: {
				left: 0,
				top: 0
			},
			mousedown: function(t) {
				t.pageX || t.pageY || !t.originalEvent || (t.pageX = t.originalEvent.touches[0].pageX, t.pageY = t.originalEvent.touches[0].pageY),
				t.stopPropagation(),
				t.preventDefault();
				var n = e(t.target),
				i = n.closest("div"),
				o = this.options.horizontal ? this.options.slidersHorz: this.options.sliders;
				if (!i.is(".colorpicker")) {
					if (i.is(".colorpicker-saturation")) this.currentSlider = e.extend({},
					o.saturation);
					else if (i.is(".colorpicker-hue")) this.currentSlider = e.extend({},
					o.hue);
					else {
						if (!i.is(".colorpicker-alpha")) return ! 1;
						this.currentSlider = e.extend({},
						o.alpha)
					}
					var a = i.offset();
					this.currentSlider.guide = i.find("i")[0].style,
					this.currentSlider.left = t.pageX - a.left,
					this.currentSlider.top = t.pageY - a.top,
					this.mousePointer = {
						left: t.pageX,
						top: t.pageY
					},
					e(document).on({
						"mousemove.colorpicker": e.proxy(this.mousemove, this),
						"touchmove.colorpicker": e.proxy(this.mousemove, this),
						"mouseup.colorpicker": e.proxy(this.mouseup, this),
						"touchend.colorpicker": e.proxy(this.mouseup, this)
					}).trigger("mousemove")
				}
				return ! 1
			},
			mousemove: function(e) {
				e.pageX || e.pageY || !e.originalEvent || (e.pageX = e.originalEvent.touches[0].pageX, e.pageY = e.originalEvent.touches[0].pageY),
				e.stopPropagation(),
				e.preventDefault();
				var t = Math.max(0, Math.min(this.currentSlider.maxLeft, this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left))),
				n = Math.max(0, Math.min(this.currentSlider.maxTop, this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)));
				return this.currentSlider.guide.left = t + "px",
				this.currentSlider.guide.top = n + "px",
				this.currentSlider.callLeft && this.color[this.currentSlider.callLeft].call(this.color, t / this.currentSlider.maxLeft),
				this.currentSlider.callTop && this.color[this.currentSlider.callTop].call(this.color, n / this.currentSlider.maxTop),
				"setAlpha" === this.currentSlider.callTop && this.options.format === !1 && (1 !== this.color.value.a ? (this.format = "rgba", this.color.origFormat = "rgba") : (this.format = "hex", this.color.origFormat = "hex")),
				this.update(!0),
				this.element.trigger({
					type: "changeColor",
					color: this.color
				}),
				!1
			},
			mouseup: function(t) {
				return t.stopPropagation(),
				t.preventDefault(),
				e(document).off({
					"mousemove.colorpicker": this.mousemove,
					"touchmove.colorpicker": this.mousemove,
					"mouseup.colorpicker": this.mouseup,
					"touchend.colorpicker": this.mouseup
				}),
				this.element.trigger({
					type: "completeColor",
					color: this.color
				}),
				!1
			},
			change: function(e) {
				this.keyup(e)
			},
			keyup: function(e) {
				38 === e.keyCode ? (this.color.value.a < 1 && (this.color.value.a = Math.round(100 * (this.color.value.a + .01)) / 100), this.update(!0)) : 40 === e.keyCode ? (this.color.value.a > 0 && (this.color.value.a = Math.round(100 * (this.color.value.a - .01)) / 100), this.update(!0)) : (this.color = new t(this.input.val(), this.options.colorSelectors), this.color.origFormat && this.options.format === !1 && (this.format = this.color.origFormat), this.getValue(!1) !== !1 && (this.updateData(), this.updateComponent(), this.updatePicker())),
				this.element.trigger({
					type: "changeColor",
					color: this.color,
					value: this.input.val()
				})
			}
		},
		e.colorpicker = i,
		e.fn.colorpicker = function(t) {
			var n, o = arguments,
			a = this.each(function() {
				var a = e(this),
				s = a.data("colorpicker"),
				c = "object" === ("undefined" == typeof t ? "undefined": r(t)) ? t: {};
				s || "string" == typeof t ? "string" == typeof t && (n = s[t].apply(s, Array.prototype.slice.call(o, 1))) : a.data("colorpicker", new i(this, c))
			});
			return "getValue" === t ? n: a
		},
		e.fn.colorpicker.constructor = i
	})
},
function(e, t) {
	e.exports = jquery
},
function(e, t) {},
, , , , ,
function(e, t) {},
function(e, t) {
	e.exports = '<div class="eqc-input-color {{theme}}" ng-style="{backgroundColor: selectColor, width: w - 2,height: h}"><div x={{x}} y={{y}} ng-style="{width: w - 2, height: h}" select-color=selectColor notify={{notify}} eqd-colorpicker={{colorMode}} direction={{direction}} colorpicker-with-input=true is-toolbar-color-picker=idName istoolbarcolor={{idName}} is-convert-transparent={{isConvertTransparent}}></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("eqx.ui.dropDown", []).directive("eqdSelect", ["$rootScope",
	function(e) {
		"ngInject";
		function t(t, n) {
			function i() {
				a.unbind("click", i),
				r.removeClass("visible")
			}
			function o(e) {
				var n = e.index();
				t.current = t.list[n],
				r.removeClass("visible")
			}
			var a = $(document),
			r = n.find(".eqc-drop-down-list"),
			s = r.find(".iScrollIndicator");
			n.on("$destroy",
			function() {
				a.unbind("click", i)
			}),
			t.showList = function(n) {
				return n.stopPropagation(),
				r.hasClass("visible") ? void i() : (e.$broadcast("iscroll.refresh." + t.scrollType), $(".eqc-drop-down-list").removeClass("visible"), r.addClass("visible"), a.click(i), void s.click(function(e) {
					e.stopPropagation()
				}))
			},
			t.selectItem = function(e) {
				e.stopPropagation();
				var t = e.target,
				n = t.tagName.toLowerCase(),
				i = $(t);
				"li" == n ? o(i) : "div" == n && (i = i.closest("li"), o(i))
			}
		}
		return {
			restrict: "E",
			replace: !0,
			template: n(312),
			scope: {
				list: "=",
				current: "=",
				scrollType: "@",
				fontFamily: "=",
				isBorder: "@",
				x: "@"
			},
			link: t
		}
	}]).controller("SimpleSelectController", ["$scope", "$element", "$attrs", "$parse", "$timeout",
	function(e, t, n, i, o) {
		"ngInject";
		var a = this;
		e.list = [],
		e.current = null,
		a.addSelectChoice = function(t) {
			e.list.push(t)
		},
		a.removeSelectChoice = function(t) {
			var n = e.list.indexOf(t);
			n !== -1 && e.list.splice(n, 1)
		};
		var r;
		a.setObjectConfig = function(e) {
			void 0 === r && (r = e)
		},
		e.setDefaultSelectedValue = function() {
			angular.forEach(e.list,
			function(t) {
				t.value == e.model && (e.current = t)
			})
		};
		var s = e.$watchCollection("list",
		function() {
			e.setDefaultSelectedValue()
		}),
		c = e.$watch("current",
		function(t) {
			t && e.model != t.value && (e.model = t.value, o(function() {
				n.change && e.$parent.$eval(n.change)
			},
			100))
		}),
		l = e.$watch("model",
		function(t) {
			t && e.setDefaultSelectedValue()
		});
		e.$on("$destroy",
		function() {
			s(),
			c(),
			l()
		}),
		e.$watch("model",
		function(t, n) {
			t != n && angular.forEach(e.list,
			function(t) {
				t.value == e.model && (e.current = t)
			})
		})
	}]).directive("eqxSelect", ["$compile",
	function(e) {
		"ngInject";
		var t = '<eqd-select list="list" class="select-contain" current="current"></eqd-select>';
		return {
			restrict: "E",
			scope: {
				model: "="
			},
			controller: "SimpleSelectController",
			compile: function(n, i) {
				var o = i["class"];
				return n.removeClass(o),
				function(n, i) {
					i.append(e(angular.element(t).addClass(o))(n))
				}
			}
		}
	}]).directive("eqxSelectOption", ["$parse", "$interpolate",
	function(e, t) {
		"ngInject";
		return {
			restrict: "E",
			require: "^eqxSelect",
			compile: function(n, i) {
				var o, a;
				return i.ngRepeat && (o = e(i.value), a = t(n.html())),
				function(e, t, n, i) {
					t.css("display", "none");
					var r;
					if (o) {
						var s = o(e);
						i.setObjectConfig(angular.isObject(s)),
						r = {
							name: a(e),
							value: s
						}
					} else r = {
						name: t.html(),
						value: e.$parent.$eval(n.value)
					};
					i.addSelectChoice(r),
					t.on("$destroy",
					function() {
						i.removeSelectChoice(r)
					})
				}
			}
		}
	}]).name
},
function(e, t) {
	e.exports = '<div class=clearfix><div class=eqc-mask ng-click=showList($event)><div class=eqc-name>{{current.name}}</div><span class="more eqf-more"></span></div><div class="eqc-drop-down-list transform-change"><div class=list><div class=eqc-scroll eqd-scroll={{scrollType}}><ul class=clearfix ng-click=selectItem($event)><li ng-repeat="item in list" ng-class="{active: item == current}" ng-style="{fontFamily: item.fontFamily}" class=eqc-target>{{item.name}}</li></ul></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("eqx.ui.modal", []).factory("modalService", n(314)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i(t) {
			return e.open(t).result
		}
		function o(e) {
			return i({
				backdrop: "static",
				keyboard: !1,
				backdropClick: !1,
				windowClass: "confirm-dialog",
				template: n(315),
				controller: ["$scope", "confirmObj", "$sce",
				function(e, t, n) {
					e.confirmObj = t,
					e.ok = function() {
						e.$close()
					},
					e.cancel = function() {
						e.$dismiss()
					},
					e.confirmObj.msg = n.trustAsHtml(e.confirmObj.msg)
				}],
				resolve: {
					confirmObj: function() {
						return e
					}
				}
			})
		}
		function a(e) {
			return i({
				backdrop: "static",
				keyboard: !1,
				backdropClick: !1,
				windowClass: "message-dialog",
				template: n(316),
				controller: ["$scope", "msgObj",
				function(e, t) {
					e.msgObj = t,
					e.close = function() {
						e.$close()
					},
					e.cancel = function() {
						e.$dismiss()
					}
				}],
				resolve: {
					msgObj: function() {
						return e
					}
				}
			})
		}
		return {
			open: i,
			openConfirmDialog: o,
			openMsgDialog: a
		}
	}
	i.$inject = ["$modal", "$q"];
	n(119);
	e.exports = i
},
function(e, t) {
	e.exports = "<div class=modal-body ng-if=confirmObj.msg><div class=confirm-msg compile ng-bind-html=confirmObj.msg></div></div><div class=\"btn-contain btn-small\"><a ng-click=ok(); class=btn-main ng-class=\"{deletePage: confirmObj.delete}\">{{confirmObj.confirmName || ('确定')}} </a><a ng-click=cancel(); class=btn-grey0 ng-class={cancelDeletePage:confirmObj.delete}>{{confirmObj.cancelName || ('取消')}}</a></div>"
},
function(e, t) {
	e.exports = "<div class=modal-header><span class=\"glyphicon glyphicon-exclamation-sign\"></span> <span>{{msgObj.title || ('提示')}}</span></div><div class=modal-body ng-if=msgObj.msg><div class=msg ng-class=\"msgObj.title ? '' : 'msg-padding'\" ng-bind-html=msgObj.msg></div></div><div class=modal-footer><a ng-click=close(); class=\"btn btn-primary\" style=width:88px>{{msgObj.btn || ('关闭')}}</a></div>"
},
function(e, t, n) {
	"use strict";
	var i = n(318),
	o = n(319),
	a = n(320);
	e.exports = angular.module("ui.notify", []).directive("notificationFadeout", o).directive("eqxNotification", a).factory("notifications", ["$rootScope",
	function(e) {
		"ngInject";
		var t = {
			STICKY: [],
			ROUTE_CURRENT: [],
			ROUTE_NEXT: []
		},
		n = {},
		i = function(e, t) {
			if (!angular.isObject(t)) throw new Error("Only object can be added to the notification service");
			return e.push(t),
			t
		};
		return e.$on("$routeChangeSuccess",
		function() {
			t.ROUTE_CURRENT.length = 0,
			t.ROUTE_CURRENT = angular.copy(t.ROUTE_NEXT),
			t.ROUTE_NEXT.length = 0
		}),
		n.getCurrent = function() {
			return [].concat(t.STICKY, t.ROUTE_CURRENT)
		},
		n.pushForCurrentRoute = function(e) {
			return i(t.ROUTE_CURRENT, e)
		},
		n.remove = function(e) {
			angular.forEach(t,
			function(t) {
				var n = t.indexOf(e);
				n > -1 && t.splice(n, 1)
			})
		},
		n.removeAll = function() {
			angular.forEach(t,
			function(e) {
				e.length = 0
			})
		},
		n
	}]).factory("i18nNotifications", ["notifications",
	function(e) {
		"ngInject";
		var t = function(e, t, n, o) {
			return angular.extend({
				message: i.get(e, n),
				type: i.get(t, n)
			},
			o)
		};
		return {
			pushForCurrentRoute: function(n, i, o, a) {
				return e.pushForCurrentRoute(t(n, i, o, a))
			},
			add: function(t, n) {
				return e.pushForCurrentRoute({
					message: t,
					type: n || "success"
				})
			},
			getCurrent: function() {
				return e.getCurrent()
			},
			remove: function(t) {
				return e.remove(t)
			},
			removeAll: function() {
				return e.removeAll()
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			get: function(t, n) {
				var a = i[t];
				return a ? e(a)(n) : o(a, t)
			}
		}
	}
	n.$inject = ["$interpolate"];
	var i = {
		"notify.success": "success",
		"notify.info": "info",
		"notify.danger": "danger",
		"notify.warning": "warning",
		"notify.tip": "tip",
		"errors.route.changeError": "Route change error",
		"crud.user.save.success": "A user with id '{{id}}' was saved successfully.",
		"crud.user.remove.success": "A user with id '{{id}}' was removed successfully.",
		"crud.user.remove.error": "Something went wrong when removing user with id '{{id}}'.",
		"crud.user.save.error": "Something went wrong when saving a user...",
		"crud.project.save.success": "A project with id '{{id}}' was saved successfully.",
		"crud.project.remove.success": "A project with id '{{id}}' was removed successfully.",
		"crud.project.save.error": "Something went wrong when saving a project...",
		"login.reason.notAuthorized": "离开久了，麻烦再登录一次吧！",
		"login.reason.notAuthenticated": "为了保障您的账号安全，请登录！",
		"login.error.invalidCredentials": "登录失败，请检查邮箱和密码是否正确。",
		"login.error.serverError": "There was a problem with authenticating: {{exception}}.",
		"register.error.serverError": "There was a problem with authenticating: {{exception}}.",
		"login.reset.notmatch": "新密码和重复密码不匹配",
		"register.error.match": "两次输入密码不一致",
		"register.error.agreement": "请先同意注册协议再完成注册",
		"file.bg.pageSize": "12",
		"scene.save.success.published": "场景已保存成功！",
		"scene.save.success.nopublish": "保存成功，还需要发布哦！",
		"scene.save.success.companyTpl": "成功生成企业样例",
		"scene.clear.success.companyTpl": "成功取消企业样例",
		"companytpl.setting.success": "成功生成企业模板",
		"mytpl.setting.success": "成功生成我的模板",
		"scene.publish.success": "场景发布成功",
		"account.success": "提交成功！",
		"branch.open.success": "账号打开成功！",
		"branch.close.success": "账号关闭成功！",
		"dept.create.success": "部门创建成功！",
		"dept.update.success": "修改成功！",
		"branch.create.success": "账号创建成功！",
		"branch.update.success": "账号修改成功！",
		"scene.setting.success": "场景设置成功！",
		"data.assign.success": "分组成功！",
		"data.delete.success": "数据删除成功！",
		"group.delete.data": "分组内素材移除成功！",
		"custom.data.delete": "此条客户数据删除成功！",
		"group.delete.success": "分组删除成功！",
		"group.create.success": "分组创建成功！",
		"group.edit.success": "分组修改成功！",
		"group.scene.success": "成功将此场景移动至分组",
		"rel.tip": "您的账号还没有绑定邮箱，去用户中心->账号管理，马上绑定",
		"page.change.success": "页面名称修改成功！",
		"email.save.success": "邮箱绑定成功！",
		"bbs.save.success": "论坛账号绑定成功！",
		"reset.psw.success": "密码修改成功！",
		"save.success": "保存成功！",
		"upload.success": "上传成功！",
		"mail.rel.success": "关联成功！",
		"mail.unbind.success": "解除关联成功！",
		"file.assign.success": "分组成功！",
		"already.rel": "此账号已经关联过邮箱",
		"branch.reset.success": "子账号密码重置成功！",
		"already.bind.error": "{{msg}}",
		"reject.crop.image": "不支持裁剪GIF格式图片！",
		"visitor.apply": "信息已经提交审核，审核通过后会更新秀客信息，请耐心等待。",
		"select.trigger.source": "请选择触发源",
		"scratch.percentage.overflow": "涂抹比例不能大于100%",
		"invitation.sendemail.success": "邮件发送成功!",
		"invitation.sendemail.error": "邮件发送失败!",
		"outbox.warning": "红色警告：超出虚线外边框的内容，将无法在手机中被看到",
		"outbox.tip": "橙色警告：超出虚线内边框的内容，在部分老机型手机中将无法看到",
		"already.apply.discovery": "您已申请加入秀场，暂时不能再申请！",
		"already.apply.sample": "您已申请过成为样例，暂时不能再申请！",
		"already.apply.activity": "您已申请过成为活动，暂时不能再申请！",
		"phone.message": "成功开通短信提醒",
		"scene.apply.success": "申请成功",
		"xd.insufficient": "秀点余额不足，去用户中心－>会员服务进行充值",
		"customer.name.overflow": "姓名不能超过50个字符",
		"scene.deny.apply": "审核未通过的场景不能申请活动",
		"scene.incheck.apply": "审核中的场景不能申请活动",
		"scene.accessCode.apply": "加密设置的场景不能加入活动",
		"scene.accessClose.apply": "关闭的场景不能加入活动",
		"spread.share.messagecustomer": "请选择收件人",
		"spread.share.messageless": "可用短信数量不足,请兑换短信",
		"spread.share.messagecontent": "请先选择短信内容!",
		"spread.share.messagesendsuccess": "发送成功",
		"spread.share.messagebuylayout": "请选择购买类型",
		"spread.share.messagebuyxdless": "秀点余额不足,请先购买秀点!",
		"spread.share.guaranteeSucc": "申请保障服务成功",
		"spread.share.guaranteeClose": "取消保障服务成功",
		"print.scene.images.fail": "请先保存预览图",
		"print.shop.images.fail": "印刷需保存预览图",
		"print.images.number": "只能选择两张图片",
		"print.images.null": "未选择任何图片",
		"print.images": "敬请期待！",
		"spread.share.guaranteeBuyXd": "购买保障服务成功",
		"spread.share.guaranteeApplyError": "您的场景保障服务剩余次数不足,请先购买",
		"spread.share.guaranteeApplyUnPublice": "场景未发布,不能参加保障服务",
		"spread.share.guaranteeApplyCheck": "审核关闭的场景,不能参加保障服务",
		"spread.share.guaranteeApplyUnCheck": "审核驳回的场景,不能参加保障服务",
		"delete.scene.guarantee": "场景已经静态化,不能删除",
		"transfer.scene.guarantee": "场景已经静态化,不能转送",
		"usercenter.buybranch.success": "子帐号购买成功",
		"usercenter.buybranch.notcompany": "{{errMsg}}",
		"rel.register.account.success": "设置成功"
	},
	o = function(e, t) {
		return e || "?" + t + "?"
	};
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "EA",
			link: function(t, n) {
				n.fadeOut(4e3,
				function() {
					e.remove(t.notification)
				})
			}
		}
	}
	n.$inject = ["i18nNotifications"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(321);
	n(322),
	e.exports = function() {
		return {
			restrict: "EA",
			template: i,
			controller: ["$scope", "i18nNotifications",
			function(e, t) {
				"ngInject";
				e.notifications = t,
				e.removeNotification = function(e) {
					t.remove(e)
				}
			}]
		}
	}
},
function(e, t) {
	e.exports = "<div class=position:relative><div style=z-index:2000 class=eqx-notify ng-if=notifications.getCurrent().length><div ng-class=\"['alert', 'alert-'+notification.type]\" ng-repeat=\"notification in notifications.getCurrent()\" notification-fadeout><button class=close ng-click=removeNotification(notification)>×</button> {{notification.message}}</div></div></div>"
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i() {
		"ngInject";
		return {
			require: "ngModel",
			template: '<div class="slider-con"></div>',
			link: function(e, t, n, i) {
				var o = $(document);
				t.on("$destroy",
				function() {
					t.unbind("mousedown")
				});
				var a = "string" == typeof n.min ? parseFloat(n.min) : -Number.MAX_VALUE,
				r = "string" == typeof n.max ? parseFloat(n.max) : Number.MAX_VALUE,
				s = "string" == typeof n.step ? parseFloat(n.step) : 1,
				c = r / 100,
				l = "string" == typeof n.max ? parseFloat(n.fixed) : 1;
				i.$render = function() {
					t.find(".slider-con").css("width", 100 * (i.$modelValue || 0) / r + "%")
				},
				t.mousedown(function(t) {
					t.stopPropagation();
					var n, p = t.offsetX,
					d = t.pageX,
					u = function(t) {
						t.stopPropagation(),
						n = t.pageX - d;
						var o = (p + n) * c / s;
						o = parseFloat(o.toFixed(l)),
						o > r ? o = r: o < a && (o = a),
						i.$viewValue !== o && (i.$setViewValue(o), i.$render(), e.$apply())
					},
					g = function m() {
						o.unbind("mouseup", m),
						o.unbind("mousemove", u)
					};
					o.mousemove(u),
					o.mouseup(g)
				}),
				t.click(function(t) {
					t.stopPropagation();
					var n = Math.abs(t.offsetX * r / 100 / s).toFixed(l) * s;
					n > r ? n = Math.abs(r) : n < a && (n = Math.abs(a)),
					i.$setViewValue(n),
					i.$render(),
					e.$apply()
				})
			}
		}
	}
	n(324),
	e.exports = angular.module("ui.slider", []).directive("uiSliderT", i).name
},
function(e, t) {},
function(e, t) {
	"use strict";
	e.exports = angular.module("ui.uiSlider", []).directive("uiSlider", ["$timeout",
	function(e) {
		var t = {};
		return {
			require: "ngModel",
			compile: function() {
				return function(n, i, o, a) {
					function r(e, t) {
						return t ? parseFloat(e) : parseInt(e, 10)
					}
					function s() {
						i.slider("destroy")
					}
					var c = angular.extend(n.$eval(o.uiSlider) || {},
					t),
					l = {
						min: null,
						max: null
					},
					p = ["min", "max", "step"],
					d = !angular.isUndefined(o.useDecimals),
					u = function() {
						angular.isArray(a.$viewValue) && c.range !== !0 && (console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."), c.range = !0),
						angular.forEach(p,
						function(e) {
							angular.isDefined(o[e]) && (c[e] = r(o[e], d))
						}),
						i.slider(c),
						u = angular.noop
					};
					angular.forEach(p,
					function(e) {
						o.$observe(e,
						function(t) {
							t && (u(), c[e] = r(t, d), i.slider("option", e, r(t, d)), a.$render())
						})
					}),
					o.$observe("disabled",
					function(e) {
						u(),
						i.slider("option", "disabled", !!e)
					}),
					n.$watch(o.uiSlider,
					function(e) {
						u(),
						void 0 !== e && i.slider("option", e)
					},
					!0),
					e(u, 0, !0),
					i.bind("slide",
					function(e, t) {
						a.$setViewValue(t.values || t.value),
						n.$apply()
					}),
					a.$render = function() {
						u();
						var e = c.range === !0 ? "values": "value";
						c.range || !isNaN(a.$viewValue) || a.$viewValue instanceof Array ? c.range && !angular.isDefined(a.$viewValue) && (a.$viewValue = [0, 0]) : a.$viewValue = 0,
						c.range === !0 && (angular.isDefined(c.min) && c.min > a.$viewValue[0] && (a.$viewValue[0] = c.min), angular.isDefined(c.max) && c.max < a.$viewValue[1] && (a.$viewValue[1] = c.max), a.$viewValue[0] > a.$viewValue[1] && (l.min >= a.$viewValue[1] && (a.$viewValue[0] = l.min), l.max <= a.$viewValue[0] && (a.$viewValue[1] = l.max)), l.min = a.$viewValue[0], l.max = a.$viewValue[1]),
						i.slider(e, a.$viewValue)
					},
					n.$watch(o.ngModel,
					function() {
						c.range === !0 && a.$render()
					},
					!0),
					i.bind("$destroy", s);
					var g = $('<div class="ui-slider-progress-bar"></div>');
					i.append(g);
					var m = n.$watch(o.ngModel,
					function() {
						setTimeout(function() {
							g.css("width", $(".ui-slider-handle", i).css("left"))
						})
					},
					!0);
					i.bind("$destroy",
					function() {
						m()
					})
				}
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("ui.switch", []).directive("switchBtn",
	function() {
		return {
			require: "ngModel",
			restrict: "AE",
			template: '<div class="switch" ng-click="switch()"><div class="circle-con"><i class="circle"></i></div></div>',
			link: function(e, t, n, i) {
				var o = t.find(".switch");
				i.$render = function() {
					o.toggleClass("switch-open", angular.equals(i.$modelValue, "enable")),
					o.toggleClass("switch-close", angular.equals(i.$modelValue, "disable"))
				},
				o.bind("click",
				function() {
					var t = o.hasClass("switch-open");
					e.$apply(function() {
						i.$setViewValue(t ? "disable": "enable"),
						i.$render()
					})
				})
			}
		}
	}).name
},
function(e, t, n) {
	"use strict";
	var i = n(328);
	n(329),
	e.exports = angular.module("time2.directive", []).directive("datePicker",
	function() {
		"ngInject";
		function e(e, t, n, o) {
			function a(e) {
				var n = e.enableClear,
				o = e.startDate,
				a = (e.minDate, e.maxDate, e.format),
				l = e.singleDatePicker,
				p = e.drops,
				d = e.timePicker,
				u = void 0 === d || d,
				g = e.timePicker24Hour,
				m = e.timePickerIncrement,
				f = e.startDateDefault,
				h = void 0 === f ? i.nowTime() : f,
				v = !1;
				o || (v = !0, o = h);
				var y = {
					singleDatePicker: l || !0,
					timePicker: u,
					timePicker24Hour: g || !0,
					timePickerIncrement: m || 1,
					startDate: new Date(o),
					drops: p || "down",
					linkedCalendars: !1,
					locale: {
						format: a || c,
						applyLabel: "确定",
						cancelLabel: "取消",
						daysOfWeek: ["日", "一", "二", "三", "四", "五", "六"],
						monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"]
					}
				};
				n && (y.locale.cancelLabel = "清除"),
				t.daterangepicker(y),
				v && s(),
				n && t.on("cancel.daterangepicker",
				function(e, t) {
					r()
				})
			}
			function r() {
				e.$apply(function() {
					s()
				})
			}
			function s() {
				t.val(""),
				o.$setViewValue("")
			}
			var c = "YYYY-MM-DD HH:mm";
			e.$watchCollection("timeConfig",
			function(e) {
				a(e)
			}),
			t.on("$destroy",
			function() {
				t.data("daterangepicker").remove()
			})
		}
		return {
			restrict: "A",
			require: "ngModel",
			scope: {
				timeConfig: "=datePicker"
			},
			link: e
		}
	}).name
},
function(e, t) {
	"use strict";
	function n() {
		var e = new Date;
		return e.setHours(23, 59, 59, 999),
		e
	}
	function i() {
		var e = new Date;
		return e.setHours(0, 0, 0, 0),
		e
	}
	function o() {
		return n().getTime()
	}
	function a() {
		return i().getTime()
	}
	function r() {
		return (new Date).getTime()
	}
	e.exports = {
		nowTime: r,
		endDateOfToday: n,
		startDateOfToday: i,
		endTimeOfToday: o,
		startTimeOfToday: a
	}
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = n(331);
	e.exports = angular.module("common.filter", []).filter("validCharacterNum",
	function() {
		return i
	}).name
},
function(e, t) {
	"use strict";
	function n(e) {
		var t = 0;
		if (!e) return 0;
		for (var n = 0; n < e.length; n++) {
			var i = e.charCodeAt(n);
			i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++:t += 2
		}
		return t
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(333),
	o = n(334),
	a = n(335),
	r = n(336),
	s = n(337),
	c = n(338),
	l = n(339),
	p = n(340),
	d = n(341),
	u = n(342);
	e.exports = angular.module("app.config", []).factory("loadingService", n(343)).config(i).config(a).config(s).config(r).config(u).config(["$httpProvider",
	function(e) {
		"ngInject";
		e.interceptors.push(p),
		e.interceptors.push(c),
		e.interceptors.push(l),
		e.interceptors.push(d)
	}]).run(o).run(["$rootScope", "HOST",
	function(e, t) {
		"ngInject";
		e.HOST = t
	}]).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = t.HOST,
		i = n.length;
		"/" === n[i - 1] && (n = n.slice(0, i - 1)),
		e.setConfig({
			host: n
		})
	}
	n.$inject = ["eqxNgAuthProvider", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			e = e || "/",
			window.location.href = e
		}
		function i() {
			o || (o = t.showAuth({
				type: "login"
			}).then(function() {
				e.retryAll()
			},
			function() {
				e.cancelAll(),
				n()
			})["finally"](function() {
				o = null
			}))
		}
		var o = null;
		e.onItemAddedCallbacks.push(function() {
			e.hasMore() && i()
		})
	}
	n.$inject = ["securityRetryQueue", "eqxNgAuth"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		t.html5Mode(!0),
		e.when("/support", {
			template: "<editor-support></editor-support>"
		}).when("/:sceneId", {
			reloadOnSearch: !1,
			template: "<editor-scene></editor-scene>",
			resolve: {
				user: ["userService", "HOST",
				function(e, t) {
					return e.getCurrentUserPromise().then(function(e) {
						return [2, 21].indexOf(e.type) > -1 && (t.SERVER_0 = t.SERVER_0_VIP),
						e
					})
				}],
				eqxScene: ["sceneService", "$route", "$q", "$location",
				function(e, t, n, i) {
					function o() {
						var e = navigator.userAgent;
						return ! window.sessionStorage || "false" !== sessionStorage.getItem("h5editor.needsSupport") && (!(document.documentMode >= 11) && !/chrome|safari/i.test(e))
					}
					var a = t.current.params.sceneId;
					return o() ? (window.sessionStorage.setItem("h5editor.sceneId", a), i.path("support"), n.reject("")) : e.initSceneMeta(a)
				}]
			}
		}).otherwise({
			redirectTo: "/support"
		})
	}
	n.$inject = ["$routeProvider", "$locationProvider"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = t.$get(),
		i = "application/x-www-form-urlencoded";
		e.defaults.withCredentials = !0,
		e.defaults.headers.post["Content-Type"] = i,
		e.defaults.transformRequest.unshift(function(e, t) {
			return t("content-type") == i ? n(e) : e
		})
	}
	n.$inject = ["$httpProvider", "$httpParamSerializerProvider"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e.httpOptions({
			_isTemplate: !0
		}),
		t.decorator("$templateCache", ["$delegate",
		function(e) {
			var t = e.get;
			return e.get = function(e) {
				var n;
				if (n = t(e), !n) throw new Error("Wrong Template URL " + e);
				return n
			},
			e
		}])
	}
	n.$inject = ["$templateRequestProvider", "$provide"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			response: function(t) {
				if (t.config._isTemplate) return t;
				if (t.data.constructor === Object) {
					var n = t.data;
					if ("list" in n && (n.list = n.list || []), n.success === !1) return n.msg = n.msg || "无错误信息",
					n.code = n.code || 500,
					e.reject(t)
				}
				return t
			},
			responseError: function(t) {
				return null === t.data && (t.data = {
					success: !1,
					code: 500,
					msg: "服务器未响应"
				}),
				e.reject(t)
			}
		}
	}
	n.$inject = ["$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(t) {
			return n.pushRetryFn(function() {
				return e.get("$http")(t.config)
			},
			"unauthorized-server")
		}
		return {
			response: function(e) {
				var t = e.data.code;
				return 1001 == t || 1002 == t ? o(e) : e
			},
			responseError: function(e) {
				return 401 === e.status ? o(e) : (403 === e.status && (alert("对不起，您没有查看此内容的权限"), i.path("/home")), t.reject(e))
			}
		}
	}
	n.$inject = ["$injector", "$q", "securityRetryQueue", "$location"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			e.loading && t.show()
		}
		function i(e) {
			e.config.loading && t.hide()
		}
		return {
			request: function(e) {
				return n(e),
				e
			},
			responseError: function(t) {
				return i(t),
				e.reject(t)
			},
			response: function(e) {
				return i(e),
				e
			}
		}
	}
	n.$inject = ["$q", "loadingService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			return JSON.parse(JSON.stringify(e))
		}
		function i(e) {
			var i = e.config.url;
			if (o(i) || a(i)) {
				var r = t.get("userService"),
				s = t.get("clientReportService");
				console.log("=== addSceneReport");
				var c = n(r.getCurrentUser()),
				l = n(e.config);
				delete l.withCredentials,
				delete l.headers,
				delete l.transformResponse,
				delete l.transformRequest;
				var p = {
					type: "h5editor.sceneDataError",
					priority: 10,
					content: "编辑器场景数据异常",
					ext: {
						user: c,
						ua: window.navigator.userAgent,
						href: window.location.href,
						httpReq: l
					}
				},
				d = n(e.data);
				o(i) && d.list.forEach(function(e) {
					delete e.elements
				}),
				p.ext.httpRes = d,
				s.add(p)
			}
		}
		var o = function(e) {
			return e.indexOf("m/scene/pages/") > -1
		},
		a = function(e) {
			return e.indexOf("m/scene/detail/") > -1
		};
		return {
			response: function(e) {
				return i(e),
				e
			},
			responseError: function(t) {
				return i(t),
				e.reject(t)
			}
		}
	}
	n.$inject = ["$q", "$injector"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = t.PAY_HOST,
		i = n.length;
		"/" === n[i - 1] && (n = n.slice(0, i - 1)),
		e.setConfig({
			host: n
		})
	}
	n.$inject = ["eqxNgPayProvider", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e() {
			$("#loading").show(),
			n++
		}
		function t() {
			n--,
			n || $("#loading").hide()
		}
		var n = 1;
		return {
			show: e,
			hide: t
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	n(345);
	var i = n(119),
	o = [n(348), n(493), n(508), n(680), n(705), n(714), n(766), n(774)];
	i.DEBUG || o.push(n(809)),
	e.exports = angular.module("app.scene", o).directive("editorScene", ["loadingService", "$timeout", "authorityService", "sceneService", "$route", "orderAPI", "$rootScope", "$location", "$q",
	function(e, t, i, o, a, r, s, c, l) {
		"ngInject";
		var p = i.permission("disablePsd"),
		d = n(812);
		return p && (d = d.replace(/<eqx-psd-loading.*><\/eqx-psd-loading>/, "")),
		{
			restrict: "EA",
			template: d,
			link: function() {
				t(function() {
					function n() {
						var e = a.current.params,
						t = e.sceneId,
						n = e.i;
						return o.initScene(parseInt(t), parseInt(n) || 1)
					}
					l.all([n()]).then(function() {
						s.$broadcast("eqxScene.ready"),
						t(function() {
							e.hide()
						},
						500)
					})
				})
			}
		}
	}]).name
},
function(e, t) {},
, ,
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.workspace", [n(349), n(363), n(413), n(419), n(424), n(429), n(453), n(458)]).factory("compService", n(462)).factory("disableService", n(463)).factory("selectService", n(464)).factory("copyService", n(465)).factory("copyAnimService", n(466)).factory("workspaceService", n(467)).factory("warnService", n(468)).factory("zoomService", n(469)).directive("eqxWorkspace", n(470)).directive("eqxWsScroll", n(474)).directive("eqxSelectBox", n(475)).directive("compClick", n(477)).directive("compDrag", n(478)).directive("imageSize", n(479)).directive("panelDraggable", n(480)).directive("eqxKeymap", n(481)).directive("eqxWsPhone", n(482)).directive("disableContextMenu", n(486)).directive("eqxThumbnail", n(487)).directive("eqxSettingTpl", n(490)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.resize", []).directive("compResize", n(350)).directive("compRotate", n(362)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		function o(n, o, g) {
			function m() {
				o.find(".resizable.circle").toArray().forEach(function(e, t) {
					var n = $(e);
					u(n, y) && h(v, n, t)
				}),
				o.find(".resizable.line").toArray().forEach(function(e, t) {
					var n = $(e);
					u(n, y) && h(v, n, t, !0)
				})
			}
			function f(e) {
				var t = {
					".line-n": [".circle-nw", ".circle-ne"],
					".line-e": [".circle-ne", ".circle-se"],
					".line-s": [".circle-se", ".circle-sw"],
					".line-w": [".circle-sw", ".circle-nw"]
				};
				o.find(".resizable.circle").css({
					"z-index": ""
				}),
				o.find(".resizable.line").css({
					"z-index": ""
				});
				var n = Object.keys(t).find(function(t) {
					return e.is(t)
				});
				n && t[n].forEach(function(e) {
					return $(e).css({
						"z-index": parseInt($(e).css("zIndex") + 1)
					})
				}),
				e.css({
					"z-index": parseInt(e.css("z-index")) + 1
				})
			}
			function h(t, i, o, d) {
				i.on("mousedown.compResize",
				function(u) {
					u.stopPropagation(),
					f(i);
					var g = t.$li,
					m = t.compJson.css,
					h = l.parseTransform(m.transform).rotate,
					v = new r(m.left, m.top, m.width, m.height),
					y = v.rotate2(h),
					b = y.nw,
					C = y.ne,
					T = y.se,
					$ = y.sw;
					x = new c(b, C),
					w = new c(C, T),
					S = new c(T, $),
					k = new c(b, $);
					var q = ["nw", "ne", "se", "sw"],
					I = y[q[o]],
					E = q[(o + 2) % 4],
					P = y[E],
					A = new c(P, y[q[(o + 3) % 4]]),
					j = A.whichSide(I),
					L = new a(I),
					M = new a(u.pageX, u.pageY),
					O = null,
					F = {};
					p.on("mousemove.compResize",
					function(i) {
						O = new a(i.pageX, i.pageY);
						var o = M.offset(O);
						L.x = I.x + o.x,
						L.y = I.y + o.y;
						var r = A.whichSide(L),
						c = x.distanceTo(L),
						l = w.distanceTo(L),
						p = S.distanceTo(L),
						u = k.distanceTo(L),
						f = null,
						v = null,
						y = 0 != j && j * r <= 0 || 0 == j && r < 0,
						b = 1;
						switch (E) {
						case "nw":
							v = c,
							(y || v < b) && (v = b),
							f = d ? m.width: m.width / m.height * v;
							break;
						case "ne":
							d ? (v = m.height, f = l, (y || f < b) && (f = b)) : (v = c, (y || v < b) && (v = b), f = m.width / m.height * v);
							break;
						case "se":
							v = p,
							(y || v < b) && (v = b),
							f = d ? m.width: m.width / m.height * v;
							break;
						case "sw":
							d ? (v = m.height, f = u, (y || f < b) && (f = b)) : (v = p, (y || v < b) && (v = b), f = m.width / m.height * v);
							break;
						default:
							console.error("invalid vertex")
						}
						var C = Math.round(v),
						T = Math.round(f),
						$ = s(E, P, f, v, h);
						F = {
							left: Math.round($.x),
							top: Math.round($.y),
							width: T,
							height: C
						},
						g.css(F),
						n.$apply(function() {
							e.$broadcast("compResize.move", t, m, F)
						})
					}),
					p.on("mouseup.compResize",
					function() {
						p.off(".compResize"),
						g.css(F),
						n.$apply(function() {
							e.$broadcast("compResize.move", t, m, F),
							e.$broadcast("compResize.end", t, F)
						})
					})
				}),
				i.on("$destroy",
				function() {
					i.unbind(".compResize")
				})
			}
			var v = t.getCompById(g.compId);
			if (v && !v.$compResize) {
				n.comp = v,
				v.$compResize = !0,
				n.accessResizeRotate = i.permission("resizeRotate");
				var y = n.show = d(g.compResize || ""),
				b = v.$li;
				b.css({
					position: "absolute"
				}),
				o.on("$destroy",
				function() {
					v.$compResize = !1,
					b.css({
						position: ""
					})
				});
				var x, w, S, k;
				m()
			}
		}
		var p = $(document);
		return {
			template: n(361),
			restrict: "EA",
			scope: {},
			link: o,
			replace: !0
		}
	}
	i.$inject = ["$rootScope", "compService", "authorityService"],
	n(351);
	var o = n(353),
	a = o.Point,
	r = o.Rect,
	s = o.fixedPointToNW,
	c = o.Line,
	l = n(358),
	p = n(359),
	d = p.getResizeShowMap,
	u = p.isEnabled;
	e.exports = i
},
function(e, t) {},
,
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, o) {
		var a = c(n, i) / 2,
		u = m(l(i / n)),
		f = g(u + o),
		h = g(u - o),
		v = a * d(f),
		y = a * p(f),
		b = a * d(h),
		x = a * p(h);
		switch (e) {
		case "nw":
			var w = t.x + v,
			S = t.y + y;
			return new r(s(w - n / 2), s(S - i / 2));
		case "se":
			return w = t.x - v,
			S = t.y - y,
			new r(s(w - n / 2), s(S - i / 2));
		case "ne":
			return w = t.x - b,
			S = t.y + x,
			new r(s(w - n / 2), s(S - i / 2));
		case "sw":
			return w = t.x + b,
			S = t.y - x,
			new r(s(w - n / 2), s(S - i / 2))
		}
	}
	var o = n(354),
	a = n(357),
	r = n(355),
	s = n(200).toInt,
	c = Math.hypot,
	l = Math.atan,
	p = Math.sin,
	d = Math.cos,
	u = n(356),
	g = u.deg2arc,
	m = u.arc2deg;
	e.exports = {
		Point: r,
		Line: a,
		Rect: o,
		fixedPointToNW: i
	}
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(355),
	r = n(200).toInt,
	s = Math.abs,
	c = Math.hypot,
	l = Math.atan,
	p = Math.sin,
	d = Math.cos,
	u = n(356),
	g = u.deg2arc,
	m = u.arc2deg,
	f = function() {
		function e() {
			i(this, e);
			for (var t = arguments.length,
			n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
			switch (n.length) {
			case 1:
				var r = new a(n[0].p1),
				s = new a(n[0].p2);
				break;
			case 2:
				r = new a(n[0]),
				s = new a(n[1]);
				break;
			case 3:
				r = new a(n[0]),
				s = new a(r.x + n[1], r.y + n[2]);
				break;
			case 4:
				r = new a(n[0], n[1]),
				s = new a(r.x + n[2], r.y + n[3]);
				break;
			default:
				throw new Error("Invalid args for Rect")
			}
			var c = r.x,
			l = s.x,
			p = r.y,
			d = s.y;
			if (c > l || p > d) {
				if (c > l) {
					var u = [l, c];
					c = u[0],
					l = u[1]
				}
				if (p > d) {
					var g = [d, p];
					p = g[0],
					d = g[1]
				}
				r = new a(c, p),
				s = new a(l, d)
			}
			this.p1 = r,
			this.p2 = s,
			this.width = s.x - r.x,
			this.height = s.y - r.y
		}
		return o(e, [{
			key: "toString",
			value: function() {
				return "p1: " + this.p1 + " p2: " + this.p2 + " w: " + this.width + " h: " + this.height + " center: " + this.center()
			}
		},
		{
			key: "contains",
			value: function(t) {
				return t instanceof a ? this.containsPoint(t) : t instanceof e && this.containsRect(t)
			}
		},
		{
			key: "move",
			value: function(e, t) {
				this.p1.x += e,
				this.p2.x += e,
				this.p1.y += t,
				this.p2.y += t
			}
		},
		{
			key: "moveX",
			value: function(e) {
				this.move(e, 0)
			}
		},
		{
			key: "moveY",
			value: function(e) {
				this.move(0, e)
			}
		},
		{
			key: "containsPoint",
			value: function(e) {
				return e.x >= this.p1.x && e.x <= this.p2.x && e.y >= this.p1.y && e.y <= this.p2.y
			}
		},
		{
			key: "containsRect",
			value: function(e) {
				return this.containsPoint(e.p1) && this.containsPoint(e.p2)
			}
		},
		{
			key: "center",
			value: function() {
				var e = (this.p1.x + this.p2.x) / 2,
				t = (this.p1.y + this.p2.y) / 2;
				return new a(e, t)
			}
		},
		{
			key: "rotate",
			value: function(t) {
				var n = this.width,
				i = this.height,
				o = this.center(),
				u = o.x,
				f = o.y,
				h = c(n, i),
				v = m(l(i / n)),
				y = g(v + t),
				b = g(v - t),
				x = s(h * d(y) / 2),
				w = s(h * p(y) / 2),
				S = s(h * d(b) / 2),
				k = s(h * p(b) / 2),
				C = function(e, t) {
					return e - t
				},
				T = [x, S].reduce(function(e, t) {
					return e.concat(u + t, u - t)
				},
				[]).sort(C),
				$ = [w, k].reduce(function(e, t) {
					return e.concat(f + t, f - t)
				},
				[]).sort(C),
				q = new a(r(T[0]), r($[0])),
				I = new a(r(T[T.length - 1]), r($[$.length - 1]));
				return new e(q, I)
			}
		},
		{
			key: "rotate2",
			value: function(e) {
				var t = this.width,
				n = this.height,
				i = this.center(),
				o = i.x,
				s = i.y,
				u = c(t, n),
				f = m(l(n / t)),
				h = g(f + e),
				v = g(f - e),
				y = u * d(h) / 2,
				b = u * p(h) / 2,
				x = u * d(v) / 2,
				w = u * p(v) / 2;
				return {
					nw: new a(r(o - y), r(s - b)),
					ne: new a(r(o + x), r(s - w)),
					se: new a(r(o + y), r(s + b)),
					sw: new a(r(o - x), r(s + w))
				}
			}
		}], [{
			key: "getContainingRect",
			value: function(t) {
				var n = Number.MAX_VALUE,
				i = Number.MAX_VALUE,
				o = Number.MIN_VALUE,
				r = Number.MIN_VALUE,
				s = [];
				return t.forEach(function(t) {
					t instanceof e && s.push(t.p1, t.p2),
					t instanceof a && s.push(t)
				}),
				s.forEach(function(e) {
					var t = e.x,
					a = e.y;
					t < n && (n = t),
					t > o && (o = t),
					a < i && (i = a),
					a > r && (r = a)
				}),
				new e(new a(n, i), new a(o, r))
			}
		}]),
		e
	} ();
	e.exports = f
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(354),
	r = function() {
		function e() {
			i(this, e);
			for (var t = arguments.length,
			n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
			if (1 == n.length) {
				var a = n[0];
				this.x = a.x,
				this.y = a.y
			} else {
				if (2 != n.length) throw new(Function.prototype.bind.apply(Error, [null].concat(["Invalid args for Point"], n)));
				this.x = n[0],
				this.y = n[1]
			}
		}
		return o(e, [{
			key: "toString",
			value: function() {
				return "(" + this.x + ", " + this.y + ")"
			}
		},
		{
			key: "moveX",
			value: function(e) {
				return this.move(e, 0)
			}
		},
		{
			key: "moveY",
			value: function(e) {
				return this.move(0, e)
			}
		},
		{
			key: "move",
			value: function(e, t) {
				return this.x += e,
				this.y += t,
				this
			}
		},
		{
			key: "offset",
			value: function(t) {
				return new e(t.x - this.x, t.y - this.y)
			}
		},
		{
			key: "update",
			value: function(e, t) {
				this.x = e,
				this.y = t
			}
		},
		{
			key: "equals",
			value: function(e) {
				return this.x === e.x && this.y === e.y
			}
		},
		{
			key: "between",
			value: function(e, t) {
				return new a(e, t).contains(this)
			}
		},
		{
			key: "inRect",
			value: function(e) {
				return e.contains(this)
			}
		}]),
		e
	} ();
	e.exports = r
},
function(e, t) {
	"use strict";
	function n(e) {
		return e / 180 * Math.PI
	}
	function i(e) {
		return 180 * e / Math.PI
	}
	e.exports = {
		deg2arc: n,
		arc2deg: i
	}
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(355),
	r = Math.abs,
	s = Math.sqrt,
	c = function() {
		function e() {
			i(this, e);
			for (var t = arguments.length,
			n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
			switch (n.length) {
			case 2:
				var a = n[0],
				r = a.x,
				s = a.y,
				c = n[1],
				l = c.x,
				p = c.y;
				this.A = s - p,
				this.B = l - r,
				this.C = r * p - l * s;
				break;
			case 3:
				var d = n[0],
				u = n[1],
				g = n[2];
				this.A = d,
				this.B = u,
				this.C = g;
				break;
			default:
				throw new Error("invalid args for Line")
			}
		}
		return o(e, [{
			key: "distanceTo",
			value: function(t) {
				var n = s(this.A * this.A + this.B * this.B);
				if (t instanceof a) return r(this.A * t.x + this.B * t.y + this.C) / n;
				if (t instanceof e) return r(this.C - t.C) / n;
				throw new Error("unknown geo type")
			}
		},
		{
			key: "whichSide",
			value: function(e) {
				return this.A * e.x + this.B * e.y + this.C
			}
		}]),
		e
	} ();
	e.exports = c
},
function(e, t, n) {
	"use strict";
	function i() {
		var e = arguments.length <= 0 || void 0 === arguments[0] ? "": arguments[0],
		t = {};
		return e = e.replace(p,
		function(e, n) {
			return t.rotate = g(n)
		}),
		e = e.replace(d,
		function(e, n, i) {
			return t.scale = {
				x: g(n),
				y: g(i)
			}
		}),
		e.replace(u,
		function(e, n, i, o) {
			return t.translate3d = {
				x: g(n),
				y: g(i),
				z: g(o)
			}
		}),
		t
	}
	function o(e) {
		return void 0 !== e ? "rotateZ(" + e + "deg)": ""
	}
	function a(e) {
		if (e) {
			var t = e.x,
			n = void 0 === t ? 1 : t,
			i = e.y,
			o = void 0 === i ? 1 : i;
			return "scale(" + n + ", " + o + ")"
		}
		return ""
	}
	function r(e) {
		if (e) {
			var t = e.x,
			n = void 0 === t ? 0 : t,
			i = e.y,
			o = void 0 === i ? 0 : i,
			a = e.z,
			r = void 0 === a ? 0 : a;
			return "translate3d(" + n + "px, " + o + "px, " + r + "px)"
		}
		return ""
	}
	function s(e) {
		var t = [r(e.translate3d), o(e.rotate), a(e.scale)].join(" ");
		return c(t)
	}
	function c(e) {
		return e.trim().replace(/\s{2,}/, " ")
	}
	function l(e, t) {
		var n = i(e),
		o = Object.assign({},
		n, t);
		return s(o)
	}
	var p = /rotateZ\((-?\d*\.?\d*)deg\)/,
	d = /scale\((-?\d+),\s?(\d+)\)/,
	u = /translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),\s?(-?\d*(?:px)?)\)/,
	g = n(200).toInt;
	e.exports = {
		rotateReg: p,
		scaleReg: d,
		translate3dReg: u,
		parseTransform: i,
		getRotateStr: o,
		getScaleStr: a,
		getTranslate3dStr: r,
		getTransformStr: s,
		trimTransformStr: c,
		updateTransformStr: l
	}
},
function(e, t, n) {
	"use strict";
	function i(e) {
		var t = {};
		return e.split(",").forEach(function(e) {
			return e ? t[e] = !0 : void 0
		}),
		t
	}
	function o(e) {
		var t = [".line-n", ".circle-ne", ".line-e", ".circle-se", ".line-s", ".circle-sw", ".line-w", ".circle-nw"],
		n = t.find(function(t) {
			return e.is(t)
		});
		if (n) return /-(\w+)$/.exec(n)[1]
	}
	function a(e, t) {
		var n = o(e);
		return !! n && t[n]
	}
	function r(e, t, n) {
		var i = l.parseTransform(t[0].style.transform).rotate,
		o = e.find(".line.resizable").toArray(),
		r = e.find(".circle.resizable").toArray(),
		s = parseInt((i + 45 + 360) / 90 % 2);
		c(o, s).forEach(function(e, t) {
			var i = $(e);
			a(i, n) && i.css("cursor", t % 2 ? "ew-resize": "ns-resize")
		}),
		c(r, s).forEach(function(e, t) {
			var i = $(e);
			a(i, n) && i.css("cursor", t % 2 ? "nesw-resize": "nwse-resize")
		})
	}
	function s(e, t) {
		var n = t.x - e.x,
		i = t.y - e.y,
		o = Math.abs(n / i),
		a = Math.atan(o) / (2 * Math.PI) * 360;
		return n > 0 && i < 0 ? a = 360 + a: n > 0 && i > 0 ? a = 180 - a: n < 0 && i > 0 ? a = 180 + a: n < 0 && i < 0 && (a = 360 - a),
		a > 360 && (a -= 360),
		p(a)
	}
	var c = n(360).rotateArray,
	l = n(358),
	p = n(200).toInt;
	e.exports = {
		getResizeShowMap: i,
		updateCursor: r,
		calAngle: s,
		isEnabled: a,
		getBarDir: o
	}
},
function(e, t) {
	"use strict";
	function n(e, t) {
		if (t > 0) for (; t > 0;) {
			var n = e.pop();
			e.unshift(n),
			t -= 1
		} else for (; t < 0;) n = e.shift(),
		e.push(n),
		t += 1;
		return e
	}
	e.exports = {
		rotateArray: n
	}
},
function(e, t) {
	e.exports = '<div class=eqc-select ng-show=comp.$$resize><div class=rotate-circle ng-show="show.r && !accessResizeRotate"></div><div class=rotate-line ng-show="show.r && !accessResizeRotate"></div><div class="bar bar-m-line"></div><div class="line-n line resizable"><div class=circle ng-show=show.n></div></div><div class="line-e line resizable"><div class=circle ng-show=show.e></div></div><div class="line-s line resizable"><div class=circle ng-show=show.s></div></div><div class="line-w line resizable"><div class=circle ng-show=show.w></div></div><div class="circle-nw circle resizable" ng-show=show.nw></div><div class="circle-ne circle resizable" ng-show=show.ne></div><div class="circle-se circle resizable" ng-show=show.se></div><div class="circle-sw circle resizable" ng-show=show.sw></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function n(n, r, p) {
			var d = t.getCompById(p.compRotate);
			if (d) {
				var u = d.$li,
				g = r.find(".rotate-circle");
				g.on("$destroy",
				function() {
					g.off(".compRotate")
				});
				var m = n.show = l(p.compResize || "");
				s(r, u, m),

				n.$on("compSetting.rotate",
				function(e, t) {
					t === d && s(r, u, m)
				}),
				g.on("mousedown.compRotate",
				function(t) {
					t.stopPropagation();
					var n = d.eqxScene.$ele,
					l = n.offset(),
					p = new o(t.pageX, t.pageY),
					g = new o(p.x, p.y),
					f = d.compJson.css,
					h = new o(l.left + f.left + f.width / 2, l.top + f.top + f.height / 2),
					v = c(h, p),
					y = c(h, g),
					b = a.parseTransform(d.$li[0].style.transform).rotate,
					x = b,
					w = r.find(".bar-m-line");
					i.on("mousemove.compRotate",
					function(t) {
						g = new o(t.pageX, t.pageY),
						y = c(h, g);
						var n = y - v,
						i = (b + n + 360) % 360;
						x = "rotateZ(" + i + "deg)",
						u.css({
							transform: x
						}),
						e.$broadcast("compRotate.move", d, x),
						i < 1 || i > 359 ? w.show() : w.hide()
					}),
					i.on("mouseup.compRotate",
					function() {
						i.unbind(".compRotate"),
						s(r, u, m),
						e.$broadcast("compRotate.move", d, x),
						e.$broadcast("compRotate.end", d, x),
						w.hide()
					})
				})
			}
		}
		var i = $(document);
		return {
			link: n
		}
	}
	i.$inject = ["$rootScope", "compService"];
	var o = n(355),
	a = n(358),
	r = n(359),
	s = r.updateCursor,
	c = r.calAngle,
	l = r.getResizeShowMap;
	e.exports = i
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.compSetting", [n(364), n(367), n(398)]).directive("eqxCompSetting", n(408)).directive("limitInput",
	function() {
		return {
			require: "ngModel",
			link: function(e, t, n, i) {
				e.$watch(function() {
					return $(t).val()
				},
				function(e) {
					Math.abs(e) > n.max && (i.$setViewValue(n.max), i.$render()),
					Math.abs(e) < n.min && (i.$setViewValue(n.min), i.$render())
				})
			}
		}
	}).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("compSetting.anim", []).directive("compSettingAnim", n(365)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {
				comp: "=eqxComp",
				confirm: "&"
			},
			template: n(366),
			controller: ["$scope", "$timeout", "modalService", "musicModal", "authorityService",
			function(e, t, n, i, o) {
				"ngInject";
				function a(e) {
					var t = l[e],
					n = 4;
					i.open(t.sound, n).then(function(e) {
						if (e.id && e.name && (e.path || e.url)) {
							var n = e.id,
							i = e.name,
							o = e.path || e.url;
							t.sound = {
								id: n,
								name: i,
								path: o
							}
						} else delete t.sound
					})
				}
				var r = e.comp,
				s = e.ANIMATIONS = [{
					type: -1,
					name: "无"
				},
				{
					type: 0,
					name: "淡入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 1,
					name: "移入",
					cat: "进入",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 2,
					name: "弹入",
					cat: "进入",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 20,
					name: "翻转进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 3,
					name: "中心弹入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 4,
					name: "中心放大",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 12,
					name: "翻滚进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 24,
					name: "翻开进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 13,
					name: "光速进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 26,
					name: "魔幻进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 27,
					name: "缩小进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 31,
					name: "旋转进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 6,
					name: "摇摆",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 5,
					name: "抖动",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 7,
					name: "旋转",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					linear: !0,
					sound: !0
				},
				{
					type: 8,
					name: "翻转",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 9,
					name: "悬摆",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 23,
					name: "闪烁",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 29,
					name: "下滑",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 30,
					name: "上滑",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 21,
					name: "放大抖动",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 22,
					name: "倾斜摆动",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 10,
					name: "淡出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 17,
					name: "移出",
					cat: "退出",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 19,
					name: "弹出",
					cat: "退出",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 11,
					name: "翻转消失",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 14,
					name: "中心消失",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 18,
					name: "中心缩小",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 15,
					name: "翻滚退出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 25,
					name: "翻开消失",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 16,
					name: "光速退出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 28,
					name: "放大退出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				}];
				o.permission("animationTyper") || s.push({
					type: "typer",
					name: "文本: 打字机",
					cat: "特殊",
					interval: !0,
					delay: !0,
					sound: !0
				}),
				e.DIRECTIONS = [{
					type: 0,
					name: "从左向右"
				},
				{
					type: 1,
					name: "从上到下"
				},
				{
					type: 2,
					name: "从右向左"
				},
				{
					type: 3,
					name: "从下到上"
				}];
				var c = r.compJson,
				l = e.anims = c.properties.anim;
				l.forEach(function(e) {
					e.$show = !0
				}),
				e.showFeature = function(e, t) {
					return !! s.find(function(t) {
						return t.type === e
					})[t]
				},
				e.checkboxValue = {
					"true": 1,
					"false": 0
				},
				e.toggleCount = function(e) {
					e.count = !e.count
				},
				e.removeAnim = function(e) {
					l.splice(e, 1)
				},
				e.onAnimTypeChange = function(t) {
					"typer" === e.anims[t].type && 2 != c.type ? (n.openMsgDialog({
						msg: "当前选择仅适用于文本组件!"
					}), e.removeAnim(t)) : e.previewAnim(t)
				},
				e.addAnim = function() {
					o.permission("styleAnimationOnly") ? l.length < 1 && l.push({
						type: -1,
						direction: 0,
						duration: 2,
						delay: 0,
						countNum: 1,
						interval: 0,
						count: 0,
						$show: !0
					}) : l.push({
						type: -1,
						direction: 0,
						duration: 2,
						delay: 0,
						countNum: 1,
						interval: 0,
						count: 0,
						$show: !0
					})
				},
				e.previewAnim = function(e) {
					r.stopAnimation(),
					t(function() {
						return r.startAnimation({
							index: e,
							reset: !0,
							maxCount: 1
						})
					},
					0)
				},
				e.removeInvalidAnim = function() {
					l = e.anims = c.properties.anim = l.filter(function(e) {
						return e.type !== -1
					})
				},
				e.clear = function() {
					r.stopAnimation(),
					l.length = []
				},
				e.$on("$destroy",
				function() {
					e.removeInvalidAnim()
				}),
				e.confirmAnim = function() {
					e.removeInvalidAnim(),
					e.confirm()
				},
				e.chooseSound = a
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div><div style=height:430px><div style=height:100% eqd-scroll><div class=anim_area><div class=anim-panels style=padding-top:10px ng-if=anims.length><section ng-repeat="anim in anims"><div class="style_list pr20 pl20 border-bottom" ng-click="anim.$show = !anim.$show"><em>动画</em>&nbsp;{{$index+1}}<div class="animation-opera fr"><span title=删除此动画 class=eqf-wrong style=margin-right:10px ng-click=removeAnim($index)></span> <b class=caret ng-class="{\'off\': anim.$show}"></b></div></div><div class="pl20 pr20" style=background-color:#fff ng-show=anim.$show><div class="style_list_angel clearfix"><label>方式</label><div class="flo_lef touming"><select style="width:100px;border:1px solid #C9C9C9" ng-model=anim.type ng-change=onAnimTypeChange($index) ng-options="temp.type as temp.name group by temp.cat for temp in ANIMATIONS"><option value=-1>无</option></select></div></div><div class="style_list_angel clearfix" ng-show="showFeature(anim.type, \'linear\')"><label>速度</label><div class="clearfix touming"><div class=num style=text-align:right;margin-top:4px><input type=checkbox name=linear title=linear ng-model=anim.linear ng-true-value=1 ng-false-value=0 style=margin-right:2px;margin-top:0> <em>匀速</em></div></div></div><div class="style_list_angel clearfix" ng-show="showFeature(anim.type, \'direction\')"><label>方向</label><div class="flo_lef touoming"><select style="width:100px;border:1px solid #C9C9C9" ng-model=anim.direction ng-options="dir.type as dir.name for dir in DIRECTIONS"></select></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'duration\')"><label>时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 limit-input ng-model=anim.duration /></p><div class=slider ui-slider-t ng-model=anim.duration fixed=1 min=0 max=20></div></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'interval\')"><label>间隔时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 limit-input ng-model=anim.interval onfocus=this.select() /></p><div class=slider ui-slider-t ng-model=anim.interval fixed=1 min=0 max=20></div></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'delay\')"><label>延迟</label><div class="touming clearfix"><p class=num><input class="form-control input_kuang short" type=number step=0.1 min=0 max=20 limit-input ng-model=anim.delay /></p><div class=slider ui-slider-t ng-model=anim.delay fixed=1 min=0 max=20></div></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'countNum\')"><label>次数</label><div class="touming clearfix"><p class=num style=float:left;margin-right:10px><input ng-disabled=anim.count limit-input class="form-control input_kuang short" type=number min=1 max=10 limit-input ng-model=anim.countNum /></p><div class=checkbox-square style=margin-left:50px ng-class="{checked: anim.count}"><em class=eqf-yes2></em> <input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=anim.count></div><em ng-click=toggleCount(anim)>循环</em></div></div><div class=style_list_angel ng-if=false><label>伴随音效</label><div class="touming clearfix"><div style=padding-top:4px;cursor:pointer ng-click=chooseSound($index) ng-bind="anim.sound.name || \'选择音效\'"></div></div></div></div></section></div><div class=add-anim><a class="btn btn-sm green mr20" style=float:left ng-click=addAnim()><span class=eqf-plus2></span>添加动画</a> <a class="btn btn-sm blue" ng-click=previewAnim()><span class=eqf-play2></span>预览动画</a></div></div></div></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirmAnim()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除动画</a></div></div>';
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("compSetting.style", [n(368), n(375)]).directive("compSettingStyle", n(379)).directive("compSettingBorder", n(382)).directive("compSettingBoxShadow", n(384)).directive("compSettingComment", n(386)).directive("compSettingMap", n(388)).directive("compSettingWx", n(390)).directive("compSettingShapeColor", n(392)).directive("compSettingDropDown", n(394)).directive("fillCompStyle", n(396)).name
},
function(e, t, n) {
	"use strict";
	n(369);
	var i = n(370),
	o = n(374);
	e.exports = angular.module("compSetting.style.chart", []).directive("compSettingChart", i).directive("legendStyle", o).name
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i() {
		"ngInject";
		return {
			restrict: "E",
			template: n(373),
			controller: o
		}
	}
	var o = n(371);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function o(t) {
			var n = d.options;
			n.scaleFontColor = t.options.scaleFontColor,
			n.onAnimationComplete = function() {
				var e = this.chart.ctx,
				n = this.segments;
				e.textAlign = "start",
				e.textBaseline = "middle";
				for (var i = 0,
				o = 0; o < n.length; o++) i += parseFloat(n[o].value);
				for (e.fillText(i, e.width / 2 - 20, e.height / 2, 100), o = 0; o < n.length; o++) {
					var a = n[o].startAngle + (n[o].endAngle - n[o].startAngle) / 2,
					r = (n[o].outerRadius - n[o].innerRadius) / 1.5 + n[o].innerRadius,
					s = n[o].x + Math.cos(a) * r,
					c = n[o].y + Math.sin(a) * r;
					e.textAlign = "center",
					e.textBaseline = "middle",
					e.fillStyle = t.options.scaleFontColor,
					e.font = "normal 12px Helvetica",
					e.fillText(n[o].value, s, c)
				}
			},
			d.destroy(),
			d = new Chart(e.ctx).Pie(t.segments, n),
			p.data("pieChart", d)
		}
		function a(e, t) {
			if (e.sectorNum !== t.sectorNum) {
				var n = 0;
				if (e.sectorNum > t.sectorNum) {
					n = e.sectorNum - t.sectorNum;
					for (var i = 0; i < n; i++) {
						var a = Math.floor(100 * Math.random() + 10);
						d.addData({
							label: "扇区" + (parseInt(t.sectorNum, 10) + i + 1),
							value: a,
							color: e.colors[parseInt(t.sectorNum, 10) + i]
						}),
						e.segments.push({
							label: "扇区" + (parseInt(t.sectorNum, 10) + i + 1),
							value: a,
							color: e.colors[parseInt(t.sectorNum, 10) + i]
						})
					}
				} else for (n = t.sectorNum - e.sectorNum, e.segments = e.segments.slice(0, e.sectorNum), i = 0; i < n; i++) d.removeData(d.segments.length - 1)
			} else if (e.options.scaleFontColor !== t.options.scaleFontColor) o(e);
			else {
				for (var r = 0,
				s = d.segments.length; r < s; r++) d.segments[r].label = e.segments[r].label,
				isNaN(e.segments[r].value) || e.segments[r].value < 0 ? d.segments[r].value = "": d.segments[r].value = e.segments[r].value,
				d.segments[r].fillColor = jQuery.Color(e.segments[r].color).toString(),
				d.segments[r].highlightColor = jQuery.Color(e.segments[r].color).toString();
				d.update(),
				l.find("#legend-" + c.id).html(d.generateLegend())
			}
			c.properties.pieChart = e,
			c.properties.pieChart.options = d.options
		}
		function r(t) {
			for (var n, i = [], o = [], a = [], r = [], s = "", d = "", g = "", m = 0; m < t.segments.length; m++) n = t.segments[m],
			s = isNaN(n.value1) || n.value1 < 0 ? "": n.value1,
			d = isNaN(n.value2) || n.value2 < 0 ? "": n.value2,
			g = isNaN(n.value3) || n.value3 < 0 ? "": n.value3,
			(n.label || s || d || g) && (r.push(n.label), i.push(s), o.push(d), a.push(g));
			var f = {
				labels: r,
				datasets: [{
					fillColor: t.fillColors[0],
					strokeColor: "rgba(0,0,0,0)",
					data: i,
					label: t.lengends[0]
				},
				{
					fillColor: t.fillColors[1],
					strokeColor: "rgba(0,0,0,0)",
					data: o,
					label: t.lengends[1]
				},
				{
					fillColor: t.fillColors[2],
					strokeColor: "rgba(0,0,0,0)",
					data: a,
					label: t.lengends[2]
				}]
			};
			u.destroy(),
			u = new Chart(e.ctx).Bar(f, t.options),
			l.find("#legend-" + c.id).html(u.generateLegend()),
			c.properties.barChart = t,
			c.properties.barChart.options = u.options,
			p.data("barChart", u),
			e.comp.barChart = u
		}
		function s(t) {
			var n, i = [],
			o = [],
			a = [],
			r = [],
			s = "",
			d = "",
			u = "",
			m = [],
			f = [];
			g.datasets.forEach(function(e) {
				m.push(e.strokeColor),
				f.push(e.fillColor)
			});
			for (var h = 0; h < t.lengends.length; h++)"" + e.charts.chartType == "line" ? m[h] = t.fillColors[h] : f[h] = t.fillColors[h];
			for (var v = 0; v < t.segments.length; v++) n = t.segments[v],
			s = isNaN(n.value1) || n.value1 < 0 ? 0 : n.value1,
			d = isNaN(n.value2) || n.value2 < 0 ? 0 : n.value2,
			u = isNaN(n.value3) || n.value3 < 0 ? 0 : n.value3,
			(n.label || s || d || u) && (r.push(n.label), i.push(s), o.push(d), a.push(u));
			var y = {
				labels: r,
				datasets: [{
					label: t.lengends[0],
					fillColor: f[0],
					strokeColor: m[0],
					pointColor: m[0],
					pointStrokeColor: "#fff",
					data: i
				},
				{
					label: t.lengends[1],
					fillColor: f[1],
					strokeColor: m[1],
					pointColor: m[1],
					pointStrokeColor: "#fff",
					data: o
				},
				{
					label: t.lengends[2],
					fillColor: f[2],
					strokeColor: m[2],
					pointColor: m[2],
					pointStrokeColor: "#fff",
					data: a
				}]
			};
			g.destroy(),
			g = new Chart(e.ctx).Line(y, t.options),
			g.datasets.forEach(function(e) {
				var t = !0;
				e.points.forEach(function(e) {
					e.value && (t = !1)
				}),
				t ? e.points.length = 0 : e.points.forEach(function(e) {
					e.value || (e.value = 0)
				})
			}),
			g.update(),
			l.find("#legend-" + c.id).html(g.generateLegend()),
			c.properties.lineChart = t,
			c.properties.lineChart.options = g.options,
			p.data("lineChart", g)
		}
		if (e.confirm = function() {
			e.$close()
		},
		!e.$parent.charts) {
			var c = e.elemDef = e.comp.compJson || {
				css: {}
			},
			l = $(".workspace #chart-" + c.id),
			p = $(".workspace").find("#" + c.id),
			d = e.comp.pieChart,
			u = e.comp.barChart,
			g = e.comp.lineChart;
			if (c.type + "" == "t") {
				e.charts = {},
				e.charts.options = {},
				e.charts.chartType = c.properties.chartType,
				e.charts.colors = ["#57c7d4", "#3aa99e", "#f2a654", "#f96868", "#926dde", "#62a8ea", "#F978A6", "#F8E59B"],
				e.charts.segments = [],
				e.charts.sectorNum = 2,
				e.charts.chartTitle = l.find(".chart-title").html(),
				e.ctx = p.get(0).getContext("2d"),
				c.properties.legPosition ? e.charts.legPosition = c.properties.legPosition: (e.charts.legPosition = "position-left", c.properties.legPosition = "position-left");
				var m = [],
				f = [],
				h = [],
				v = [],
				y = [],
				b = [],
				x = 0,
				w = [];
				if (d) {
					if (e.charts.options = d.options, d.segments) {
						e.charts.sectorNum = "" + d.segments.length,
						x = d.segments.length;
						for (var S = 0; S < x; S++) e.charts.segments.push({
							label: d.segments[S].label,
							value: d.segments[S].value,
							color: e.comp.compJson.properties.pieChart && e.comp.compJson.properties.pieChart.segments[S] ? e.comp.compJson.properties.pieChart.segments[S].color: d.segments[S].fillColor
						})
					}
					c.properties.pieChart = e.charts
				}
				if (u) {
					if (e.charts.options = u.options, u.datasets) {
						for (w = u.datasets, x = w[0].bars.length, S = 0; S < x; S++) m.push(w[0].bars[S].label);
						for (S = 0; S < w.length; S++) {
							f.push(w[S].label),
							h.push(w[S].fillColor);
							for (var k = w[S].bars.length, C = 0; C < k; C++) 0 === S ? v.push(w[S].bars[C].value) : 1 === S ? y.push(w[S].bars[C].value) : b.push(w[S].bars[C].value)
						}
					}
					c.properties.barChart = e.charts
				}
				if (g) {
					if (e.charts.options = g.options, g.datasets) {
						for (w = g.datasets, S = 0; S < w.length; S++) if (x = w[S].points.length, 0 !== x) {
							for (C = 0; C < x; C++) m.push(w[S].points[C].label);
							break
						}
						for (S = 0; S < w.length; S++) {
							f.push(w[S].label),
							"" + e.charts.chartType == "line" ? h.push(w[S].strokeColor) : h.push(w[S].fillColor);
							var T = w[S].points.length;
							for (C = 0; C < T; C++) 0 === S ? v.push(w[S].points[C].value) : 1 === S ? y.push(w[S].points[C].value) : b.push(w[S].points[C].value)
						}
					}
					c.properties.lineChart = e.charts
				}
				if (u || g) {
					e.charts.lengends = f,
					e.charts.fillColors = h;
					for (var q = 0; q < m.length; q++) e.charts.segments.push({
						label: m[q],
						value1: v[q],
						value2: y[q],
						value3: b[q]
					});
					for (; e.charts.segments.length < 12;) e.charts.segments.push({
						label: "",
						value1: "",
						value2: "",
						value3: ""
					})
				}
				c.properties.chartTitle = e.charts.chartTitle
			}
			e.$watch("charts",
			function(t, n) {
				c.type + "" == "t" && t && t !== n && (l.find(".chart-title").html(t.chartTitle), c.properties.chartTitle = t.chartTitle, "" + e.charts.chartType == "pie" ? a(t, n) : "" + e.charts.chartType == "bar" && u.datasets ? r(t) : "" + e.charts.chartType != "line" && "" + e.charts.chartType != "curve" || !g.datasets || s(t), p.attr("width") && (p.removeAttr("width"), p.css("width", "100%")), p.attr("height") && (p.removeAttr("height"), p.css("height", "50%")), "" + e.charts.chartType == "pie" ? d.update() : "" + e.charts.chartType == "bar" ? u.update() : "" + e.charts.chartType != "line" && "" + e.charts.chartType != "curve" || g.update())
			},
			!0),
			e.maxLength20 = function() {
				for (var t = e.charts.segments,
				n = 0; n < t.length; n++) t[n].label = e.substtrCharacters(t[n].label);
				e.charts.legendName && (e.charts.legendName = e.substtrCharacters(e.charts.legendName))
			},
			e.substtrCharacters = function(e) {
				if (e && (e = e.replace(/\n|\r/g, " ")), e && e.length > 10) {
					var t = e.replace(/[^\x00-\xff]/g, "xx");
					if (t.length > 20) {
						var n = t.substring(0, 20).replace(/xx/g, "中").length;
						e = e.substring(0, n)
					}
				}
				return e
			},
			e.showEditDataView = function() {
				t.open({
					windowClass: "six-contain",
					template: n(372),
					controller: i,
					scope: e
				})
			}
		}
	}
	i.$inject = ["$scope", "$modal"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=viewData><div class=explain>表格中的一行代表x轴上一个关键点数；一列代表一个类型的数据</div><table id=chart-table ng-if="elemDef.properties.chartType!=\'pie\'"><tr><td>图例名</td><td><input type=text ng-model=charts.lengends[0] ng-change=maxLength20() /></td><td><input type=text ng-model=charts.lengends[1] ng-change=maxLength20() /></td><td><input type=text ng-model=charts.lengends[2] ng-change=maxLength20() /></td></tr><tr><td>填充色</td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color=charts.fillColors[0] direction=left theme=flo_lef notify=grid x=-1 w=114 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color=charts.fillColors[1] direction=left theme=flo_lef notify=grid x=-1 w=114 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color=charts.fillColors[2] direction=left theme=flo_lef notify=grid x=-1 w=114 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td></tr><tr ng-repeat="segment in charts.segments"><td><input type=text ng-model=segment.label ng-change=maxLength20() /></td><td><input class=chart-input type=number ng-model=segment.value1 /></td><td><input class=chart-input type=number ng-model=segment.value2 /></td><td><input class=chart-input type=number ng-model=segment.value3 /></td></tr></table><a class="btn btn-sm btn-chart green" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	e.exports = '<div class="style_list_angel charts_group clearfix" style="padding:7px 20px"><div ng-show="elemDef.properties.chartType==\'pie\'"><label>扇区个数</label><select class=chart-select ng-model=charts.sectorNum><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option></select></div><div class="style_list_angel clearfix"><label>标题名</label><input type=text ng-model=charts.chartTitle style=width:150px /></div><div class="style_list_angel clearfix"><label>图例设置</label><select legend-style class=chart-select ng-model=charts.legPosition><option value=position-align>横向排列</option><option value=position-left>纵向居左</option><option value=position-right>纵向居右</option><option value=position-none>不显示</option></select></div><div class="style_list_angel clearfix"><label style=width:85px>标签字体颜色</label><div class="color_select clearfix"><eqd-input-color select-color=charts.options.scaleFontColor direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=flo_right style=width:90px style-input elem-id={{elemDef.id}} ng-model=charts.options.scaleFontColor type=text /></div></div><table class=pie-table ng-if="elemDef.properties.chartType==\'pie\'"><tr ng-repeat="segment in charts.segments"><td><input class=data-label type=text ng-model=segment.label ng-change=maxLength20() /></td><td><input class=data-value type=text ng-model=segment.value /></td><td ng-if="elemDef.properties.chartType==\'pie\'"><div class="color_select clearfix"><eqd-input-color select-color=segment.color direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td></tr></table><a ng-if="elemDef.properties.chartType!=\'pie\'" class="btn btn-primary" ng-click=showEditDataView(); style=margin-top:10px>编辑表单数据</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			restrict: "AE",
			link: function(e, t) {
				var n = $("#legend-" + e.elemDef.id);
				e.$watch(function() {
					return t.val()
				},
				function(t, i) {
					t !== i && (n.removeAttr("class"), "" + t == "position-align" ? n.addClass("position-align") : "" + t == "position-right" ? n.addClass("position-right") : "" + t == "position-none" && n.addClass("position-none"), e.elemDef.properties.legPosition = t)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(376),
	o = n(378);
	e.exports = angular.module("adSetting.style", []).directive("compSettingAd", i).directive("advertisementContent", o).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(377),
			controller: ["$scope",
			function(e) {
				"ngInject";
				function t(t) {
					for (var i = 0; i < e.adSizes.length; i++) if (e.adSizes[i].value === t) return n.css.width = e.adSizes[i].width,
					n.css.height = e.adSizes[i].height,
					e.comp.update$li(n.css),
					e.adSizes[i]
				}
				var n = e.elemDef = e.comp.compJson || {
					css: {}
				};
				e.proModel = {},
				e.model = {},
				e.adSizes = [{
					name: "大矩形",
					value: 1,
					width: 336,
					height: 280
				},
				{
					name: "大型移动横幅",
					value: 2,
					width: 320,
					height: 100
				},
				{
					name: "大型摩天大楼",
					value: 3,
					width: 300,
					height: 600
				},
				{
					name: "中等矩形",
					value: 4,
					width: 300,
					height: 250
				}],
				e.proModel.content = n.content,
				e.proModel.size = n.properties.size,
				e.$watch("proModel",
				function() {
					var i = {};
					if ($.extend(!0, i, e.proModel), i.size && i.size !== n.properties.size) {
						var o = t(i.size);
						e.model.width = o.width,
						e.model.height = o.height
					}
					n.content = e.proModel.content,
					n.properties.size = e.proModel.size;
					var a = $("#nr #iframe-" + e.target).get(0);
					a && $(a).remove(),
					a = e.$parent.comp.iframeDiv,
					a = a.get(0),
					a.onload = function() {
						jQuery = a.contentWindow.jQuery,
						$body = jQuery(a.contentDocument.body),
						$body.append(jQuery(i.content))
					},
					$("#nr #" + e.target + " .ad-contain").append(a)
				},
				!0)
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei><div class="style_list_angel clearfix"><label>广告代码</label><div class="color_select clearfix"><textarea class=flo_right style=height:120px advertisement-content content={{proModel.content}} target={{elemDef.id}} elem-id={{elemDef.id}} ng-model=proModel.content>\n            </textarea><input style=display:none style-input elem-id={{elemDef.id}} ng-model=model.width css-item=width type=text /> <input style=display:none style-input elem-id={{elemDef.id}} ng-model=model.height css-item=height type=text /></div></div><div class="style_list_angel clearfix"><label>广告尺寸</label><div class="color_select clearfix"><select class=flo_right ng-change=changeSize(size) ng-model=proModel.size style="width:150px;border:1px solid #C9C9C9" ng-options="size.value as size.name for size in adSizes"></select></div></div></div>'
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			scope: {
				target: "@",
				content: "@"
			},
			restrict: "A",
			link: function(e) {
				var t, n, i = $("#nr #iframe-" + e.target).get(0);
				e.$watch("content",
				function(o, a) {
					o !== a && (i && $(i).remove(), i = e.$parent.comp.iframeDiv, i = i.get(0), i.onload = function() {
						n = i.contentWindow.jQuery,
						t = n(i.contentDocument.body),
						t.append(n(o))
					},
					$("#nr #" + e.target + " .ad-contain").append(i))
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			scope: {
				comp: "=eqxComp",
				confirm: "&"
			},
			template: n(381),
			controller: ["$scope", "$rootScope", "authorityService",
			function(e, t, n) {
				"ngInject";
				function i(e) {
					var t = o.parseTransform(e || "");
					return r(t.rotate) || 0
				}
				e.styleFillSampleCompSetting = n.assignDesignerAuthority("fillSampleCompSetting"),
				e.styleLineHeight = n.permission("styleLineHeight"),
				e.styleBackground = n.permission("styleBackground"),
				["6", "601", "5", "501", "502", "503", "504"].indexOf("" + e.comp.compJson.type) > -1 && (e.styleBackground = !1),
				e.styleOpacity = n.permission("styleOpacity"),
				e.styleFixedComp = n.permission("styleFixedComp"),
				e.stylePaddingTop = n.permission("stylePaddingTop"),
				e.styleBoxShadow = n.permission("styleBoxShadow"),
				e.styleBoxBorderRadian = n.permission("styleBoxBorderRadian"),
				e.styleBoxBorderRotate = n.permission("styleBoxBorderRotate"),
				e.styleBoxBorderStyle = n.permission("styleBoxBorderStyle");
				var s = e.comp,
				c = e.css = s.compJson.css;
				e.compProp = s.compJson.properties,
				e.ability = (s.$ability || {}).style;
				var l = s.eqxPage;
				e.pageProp = l.pageJson.properties;
				var p = e.TAB = {
					none: 0,
					base: 1,
					border: 2,
					boxShadow: 3,
					fillCompStyle: 4
				};
				e.boxShadow = a.parseBoxShadow(c.boxShadow, c.boxShadowSize, c.boxShadowDirection);
				var d = e.vm = {
					tab: p.base,
					maxBorderRadius: Math.min(c.width, c.height) / 2,
					rotate: i(c.transform),
					opacity: 100 - 100 * c.opacity
				};
				e.setTab = function(e) {
					d.tab = d.tab === e ? p.none: e
				},
				e.$watch("css.backgroundColor",
				function(e) {
					s.update$boxDiv({
						backgroundColor: e
					})
				}),
				e.$watch("css.color",
				function(e) {
					s.update$boxDiv({
						color: e
					})
				}),
				e.$watch("vm.opacity",
				function(e) {
					s.update$li({
						opacity: (100 - e) / 100
					})
				}),
				e.$watch("css.paddingTop",
				function(e) {
					s.update$boxDiv({
						paddingTop: e
					})
				}),
				e.$watch("css.lineHeight",
				function(e) {
					s.update$boxDiv({
						lineHeight: e
					})
				}),
				e.$watch("boxShadow",
				function(e) {
					var t = a.getBoxShadowStr(e);
					s.update$boxDiv({
						boxShadow: t
					});
					var n = e.direction,
					i = e.size;
					s.updateCss({
						boxShadowDirection: n,
						boxShadowSize: i
					})
				},
				!0),
				e.$watch("css.borderWidth",
				function(e) {
					"4" == s.type && s.updateSize(c, {
						borderWidth: e
					}),
					s.update$boxDiv({
						borderWidth: e
					})
				}),
				e.$watch("css.borderRadius",
				function(e) {
					s.update$boxDiv({
						borderRadius: e,
						borderTopLeftRadius: e,
						borderTopRightRadius: e,
						borderBottomRightRadius: e,
						borderBottomLeftRadius: e
					})
				}),
				e.$watch("css.borderStyle",
				function(e) {
					s.update$boxDiv({
						borderStyle: e
					})
				}),
				e.$watch("css.borderColor",
				function(e) {
					s.update$boxDiv({
						borderColor: e
					})
				}),
				e.$watch("vm.rotate",
				function(e) {
					var n = o.parseTransform(c.transform);
					n.rotate = e,
					c.transform = o.getTransformStr(n),
					s.update$li({
						transform: c.transform
					}),
					t.$broadcast("compSetting.rotate", s)
				}),
				e.$on("compRotate.move",
				function(t, n, o) {
					d.rotate = i(o),
					e.$apply()
				}),
				e.clear = function() {
					s.resetStyle()
				}
			}]
		}
	}
	var o = n(358),
	a = n(380),
	r = n(200).toInt;
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i() {
		var e = arguments.length <= 0 || void 0 === arguments[0] ? "0px 0px 0px rgba(0,0,0,0.5)": arguments[0],
		t = arguments[1],
		n = arguments[2],
		i = "";
		e = e.replace(c,
		function(e) {
			return i = e,
			""
		});
		var o = e.trim().split(" "),
		s = parseFloat(o[0]),
		l = parseFloat(o[1]),
		p = r(Math.atan(l / s)) || 0;
		return s < 0 && (p += 180),
		s > 0 && l < 0 && (p = 360 + p),
		p = (p + 270) % 360,
		n && (p = n),
		{
			direction: a(p),
			size: a(t || Math.hypot(s, l)),
			blur: a(o[2]),
			color: i
		}
	}
	function o(e) {
		var t = (e.direction + 90) % 360,
		n = a(e.size * Math.cos(s(t))),
		i = a(e.size * Math.sin(s(t)));
		return n + "px " + i + "px " + e.blur + "px " + e.color
	}
	var a = n(200).toInt,
	r = n(356).arc2deg,
	s = n(356).deg2arc,
	c = /rgba\([^)]*\)/;
	e.exports = {
		parseBoxShadow: i,
		getBoxShadowStr: o
	}
},
function(e, t) {
	e.exports = '<div><div class=yangshi><section><div class="style_list border-bottom pl20" ng-click=setTab(TAB.base) ng-if="(ability.backgroundColor && !styleBackground)\r\n            || ability.color || (ability.opacity && !styleOpacity)\r\n            || (ability.paddingTop && !stylePaddingTop) || (ability.lineHeight && !styleLineHeight)\r\n            || !styleFixedComp"><span>基础样式</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.base}"></b></div><div ng-class="{\'h-scroll\': vm.tab == TAB.base}"><div eqd-scroll style=height:100%;max-height:260px disable-mouse=true prevent-exception=true><div><div class=style_con_hei ng-if="vm.tab == TAB.base"><div class="style_list_angel clearfix" ng-if="ability.backgroundColor && !styleBackground"><label>背景颜色</label><div class="color_select clearfix"><eqd-input-color select-color=css.backgroundColor direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=flo_right style=width:100px ng-model=css.backgroundColor type=text /></div></div><div class="style_list_angel clearfix" ng-if=ability.color><label>文字颜色</label><div class="color_select clearfix"><eqd-input-color select-color=css.color direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=flo_right style=width:100px ng-model=css.color type=text /></div></div><div class="style_list_angel clearfix" ng-if="ability.opacity && !styleOpacity"><label>透明度</label><div class="touming clearfix"><p class=num><input class=short type=number min=0 max=100 limit-input ng-model=vm.opacity /></p><div class=slider ui-slider-t ng-model=vm.opacity min=0 max=100></div></div></div><div class="style_list_angel clearfix" ng-if="ability.paddingTop && !stylePaddingTop"><div><label>边距</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max=20 limit-input ng-model=css.paddingTop /></p><div class=slider ui-slider-t ng-model=css.paddingTop min=0 max=20></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.lineHeight && !styleLineHeight"><div><label>行高</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number step=0.1 min=0 max=3 limit-input ng-model=css.lineHeight /></p><div class=slider ui-slider-t ng-model=css.lineHeight fixed=1 min=0 max=3></div></div></div></div><div class="style_list_angel clearfix" ng-if=!styleFixedComp><div><label>固定组件</label><div class="touming clearfix" ng-show=pageProp.longPage><input class=short type=checkbox ng-model=compProp.lock style=float:left;width:20px /><div style=padding-top:4px>固定组件位置(长页面)</div></div><div ng-show=!pageProp.longPage class="touming clearfix" tooltip-placement=top tooltip=固定组件只能在长页面内使用><input disabled=true class=short type=checkbox ng-model=compProp.lock style=float:left;width:20px /><div style=padding-top:4px>固定组件位置(长页面)</div></div></div></div><comp-setting-shape-color ng-if="comp.type == \'h\'"></comp-setting-shape-color></div></div></div></div></section><comp-setting-border ng-if="ability.border || ability.rotate"></comp-setting-border><comp-setting-box-shadow ng-if=ability.boxShadow></comp-setting-box-shadow><comp-setting-comment ng-if="comp.type == \'b\'"></comp-setting-comment><comp-setting-map ng-if="comp.type == \'m\'"></comp-setting-map><comp-setting-chart ng-if="comp.type == \'t\'"></comp-setting-chart><comp-setting-wx ng-if="comp.type == \'201\' || comp.type == \'401\'"></comp-setting-wx><comp-setting-ad ng-if="comp.type == \'g\'"></comp-setting-ad><comp-setting-drop-down ng-if="comp.type == \'z\'"></comp-setting-drop-down><fill-comp-style ng-if=styleFillSampleCompSetting></fill-comp-style></div><div class=btn-option ng-if="comp.type !== \'z\'"><a class="btn btn-sm green" ng-click=confirm()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除样式</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(383)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<section><div class="style_list border-bottom pl20" ng-click=setTab(TAB.border)><span>边框样式</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.border}"></b></div><div class=style_con_hei ng-show="vm.tab == TAB.border"><div class="style_list_angel clearfix" ng-if=ability.border><label>尺寸</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max=20 limit-input ng-model=css.borderWidth /></p><div class=slider ui-slider-t ng-model=css.borderWidth min=0 max=20></div></div></div><div class="style_list_angel clearfix" ng-if="ability.border && !styleBoxBorderRadian"><label>弧度</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max={{vm.maxBorderRadius}} limit-input ng-model=css.borderRadius /></p><div class=slider ui-slider-t ng-model=css.borderRadius min=0 max={{vm.maxBorderRadius}}></div></div></div><div class="style_list_angel clearfix" ng-if="ability.border && !styleBoxBorderStyle"><label>样式</label><div class=touming><select style="border:1px solid #ccc;height:20px;width:155px" ng-model=css.borderStyle><option value=none>----无-----</option><option value=solid>直线</option><option value=dashed>破折线</option><option value=dotted>点状线</option><option value=double>双划线</option><option value=groove>3D凹槽</option><option value=ridge>3D垄状</option><option value=inset>3D内嵌</option><option value=outset>3D外嵌</option></select></div></div><div class="style_list_angel clearfix" ng-if=ability.border><label>颜色</label><div class="color_select clearfix"><input class="flo_right short" style=width:100px ng-model=css.borderColor type=text /><eqd-input-color select-color=css.borderColor direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker></eqd-input-color></div></div><div class="style_list_angel clearfix" ng-if="ability.rotate && !styleBoxBorderRotate"><div><label>旋转</label><div class="touming clearfix"><p class=num><input min=0 max=359 step=1 limit-input class="input_kuang short" type=number ng-model=vm.rotate /></p><div class=slider ng-model=vm.rotate ui-slider-t min=0 max=360></div></div></div></div></div></section>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(385)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<section ng-if=!styleBoxShadow><div class="style_list border-bottom border-top pl20" ng-click=setTab(TAB.boxShadow)><span>阴影样式</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.boxShadow}"></b></div><div class=style_con_hei ng-show="vm.tab == TAB.boxShadow"><div class="style_list_angel clearfix"><label>大小</label><div class="touming clearfix"><div class=slider ui-slider-t ng-model=boxShadow.size min=0 max=20></div><p class=num><input type=number class="input_kuang short" min=0 max=20 limit-input ng-model=boxShadow.size /></p></div></div><div class="style_list_angel clearfix"><label>模糊</label><div class="touming clearfix"><div class=slider ui-slider-t ng-model=boxShadow.blur min=0 max=20 limit-input></div><p class=num><input type=number class="input_kuang short" min=0 max=20 limit-input ng-model=boxShadow.blur /></p></div></div><div class="style_list_angel clearfix"><label>颜色</label><div class="clearfix color_select"><input class="flo_right short" style=width:100px ng-model=boxShadow.color type=text /><eqd-input-color select-color=boxShadow.color direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker></eqd-input-color></div></div><div class="style_list_angel clearfix"><label>方向</label><div class="touming clearfix"><div class=slider ui-slider-t ng-model=boxShadow.direction min=0 max=359></div><p class=num><input class="input_kuang short" type=number min=0 max=359 limit-input ng-model=boxShadow.direction /></p></div></div></div></section>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(387),
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.boardsModel = {
					style: e.comp.compJson.properties.style,
					meslabel: e.comp.compJson.properties.meslabel,
					morelabel: e.comp.compJson.properties.morelabel
				};
				var t = $("#nr #inside_" + e.comp.compJson.id + " > .element-box");
				e.vm = {};
				e.$watch("boardsModel",
				function() {
					var n = {};
					$.extend(!0, n, e.boardsModel),
					e.comp.compJson.properties.style !== n.style && ("pink" === n.style ? e.vm.backgroundColor = "#F6DCF0": "black" === n.style ? e.vm.backgroundColor = "#252525": e.vm.backgroundColor = "#F0F3F4", t.css("backgroundColor", e.vm.backgroundColor), t.find(".boards-" + e.comp.compJson.properties.style).removeClass("boards-" + e.comp.compJson.properties.style).addClass("boards-" + n.style), e.comp.compJson.properties.style = n.style, e.comp.compJson.css.backgroundColor = e.vm.backgroundColor),
					e.comp.compJson.properties.meslabel !== n.meslabel && (e.comp.compJson.properties.meslabel = n.meslabel, t.find(".replay").html(n.meslabel)),
					e.comp.compJson.properties.morelabel !== n.morelabel && (e.comp.compJson.properties.morelabel = n.morelabel, t.find(".more").html(n.morelabel))
				},
				!0)
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei><div class="style_list_angel clearfix" ng-init="styles=[{name:\'默认\',value:\'default\'},{name:\'黑色\',value:\'black\'},{name:\'粉色\',value:\'pink\'}]"><label>配色风格</label><div class="color_select clearfix"><select class=flo_right ng-model=boardsModel.style style="width:140px;border:1px solid #C9C9C9" ng-options="style.value as style.name for style in styles"></select></div></div><div class="style_list_angel clearfix"><label>我要留言</label><div class="color_select clearfix"><input class=flo_right style=width:140px ng-model=boardsModel.meslabel maxlength=10 type=text /> <span str=boardsModel.meslabel strlen class=strlen max=10>{{boardsModel.meslabel.length}}/10</span></div></div><div style=border-bottom:none class="style_list_angel clearfix"><label>更多留言</label><div class="color_select clearfix"><input class=flo_right style=width:140px ng-model=boardsModel.morelabel maxlength=10 type=text /> <span str=boardsModel.morelabel strlen class=strlen max=10>{{boardsModel.morelabel.length}}}/10</span></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(389),
			controller: ["$scope", "$rootScope", "selectService",
			function(e, t, n) {
				"ngInject";
				var i = e.vm = {
					content: e.comp.compJson.content,
					address: e.comp.compJson.properties.address
				};
				e.settingContent = function() {
					var t = e.comp.label;
					if (i.content) {
						var n = e.comp.map;
						t ? (t.setContent(i.content), t.getMap() || t.setMap(n)) : t = new qq.maps.Label({
							position: n.getCenter(),
							map: n,
							content: i.content
						})
					} else t && t.setMap(null);
					e.comp.compJson.content = i.content
				},
				e.setPosition = function() {
					t.$broadcast("wsComp.edit", n.comps[0])
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei ng-disabled=!comp.map><div class="style_list_angel clearfix"><label>标签内容</label><div class="color_select clearfix"><input class=flo_right style=width:140px style-input elem-id={{comp.compJson.id}} ng-model=vm.content css-item=content type=text ng-change=settingContent() /></div></div><div style=border-bottom:none class="style_list_angel clearfix"><label>地图位置</label><div class="color_select clearfix" style=text-align:right><i class=eqf-map style=margin-right:5px></i> <a class=primary style=text-decoration:underline;line-height:20px ng-click=setPosition()>{{vm.address}}</a></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(391),
			controller: ["$scope", "sceneService",
			function(e, t) {
				"ngInject";
				var n = t.getCurrentPage(),
				i = e.vm = {
					content: e.comp.compJson.content,
					type: e.comp.compJson.properties.type
				},
				o = e.comp.compJson;
				e.settingNiketype = function() {
					o.properties.type = i.type;
					var e = o.properties.id,
					t = n.getCompJsonById(e);
					t.properties.type = i.type
				},
				e.settingContent = function() {
					e.comp.updateContent(i.content)
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei><div class="style_list_angel clearfix" ng-show="comp.type == \'201\'"><label>文字内容</label><div class="color_select clearfix"><input class=flo_right style=width:155px ng-model=vm.content ng-change=settingContent() type=text /></div></div><div class="style_list_angel clearfix"><label>昵称类型</label><div class="touming clearfix"><select style="border:1px solid #ccc;height:20px;width:155px" ng-model=vm.type ng-change=settingNiketype()><option value=own>浏览者昵称头像</option><option value=share>分享者昵称头像</option></select></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(393),
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.shapeAttrs = e.comp.compJson.properties.items;
				var t = $("#nr #inside_" + e.comp.compJson.id + " > .element-box");
				e.scrollShow = !1,
				e.changePos = function(t) {
					e.scrollTop = t.y,
					e.$apply()
				},
				e.shapeAttrs && e.shapeAttrs.length > 6 && (e.scrollShow = !0),
				e.$watch("shapeAttrs",
				function(n, i) {
					if (n && n !== i) {
						var o = n.length,
						a = e.comp.compJson.properties.src;
						if (a) {
							if (!o) return;
							var r = t.find("[fill], [style*='fill']");
							$.each(r,
							function(e) {
								for (var t = 0; t < o; t++) for (var i = n[t].elements, a = 0; a < i.length; a++) e === i[a] && r.eq(e).css({
									fill: jQuery.Color(n[t].fill).toString()
								})
							})
						}
					}
				},
				!0)
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="style_list_angel clearfix" ng-repeat="shapeColor in shapeAttrs"><label>形状颜色{{$index+1}}</label><div class="color_select clearfix"><eqd-input-color select-color=shapeColor.fill direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker></eqd-input-color><input class=flo_right style=width:100px style-input elem-id={{elemDef.id}} ng-model=shapeColor.fill type=text /></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(395),
			controller: ["$scope", "$timeout", "modalService", "validCharacterNumFilter",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					var t = 0;
					angular.forEach(e.model.choices.options,
					function(n, i) {
						n.label === e.comp.compJson.showText && (t++, e.currentParam.selectedOption = n)
					}),
					t < 1 && (e.currentParam.selectedOption = "空", e.model.placeholderText = e.comp.compJson.showText)
				}
				function a() {
					null === e.currentParam.selectedOption || "空" === e.currentParam.selectedOption ? e.comp.compJson.showText = e.model.placeholderText: e.comp.compJson.showText = e.currentParam.selectedOption.label,
					e.comp.compJson.placeholderText = e.model.placeholderText,
					$("#selectedSpan" + e.comp.compJson.id).text(e.comp.compJson.showText)
				}
				e.comp.compJson.selectedOption = "",
				e.model = {
					choices: e.comp.compJson.choices,
					placeholderText: "请选择"
				},
				e.currentParam = {
					placeholderAvaiable: !0,
					selectedOption: "空"
				},
				e.checkPlaceholder = function() {
					null !== e.currentParam.selectedOption ? (e.currentParam.placeholderAvaiable = !1, e.comp.compJson.showText = e.currentParam.selectedOption.label, e.comp.compJson.placeholderText = e.model.placeholderText, $("#selectedSpan" + e.comp.compJson.id).text(e.currentParam.selectedOption.label)) : e.currentParam.placeholderAvaiable = !0
				},
				e.addNewOption = function(t) {
					e.model.choices.options.length < 10 ? (++e.model.choices.seq, e.model.choices.options.splice(t + 1, 0, {
						id: e.model.choices.seq,
						label: "请输入内容"
					})) : n.openMsgDialog({
						msg: "您可以添加十个选项，每个选项最多请不要超过20字符。"
					})
				},
				e.deleteTheOption = function(t) {
					e.model.choices.options.length > 1 && n.openConfirmDialog({
						msg: "您确定要删除内容为“" + e.model.choices.options[t].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"
					}).then(function() {
						e.model.choices.options.splice(t, 1)
					})
				},
				e.countCharacters = i,
				e.clear = function() {
					e.model.choices = {
						seq: 3,
						options: [{
							id: 1,
							label: "请输入内容"
						},
						{
							id: 2,
							label: "请输入内容"
						},
						{
							id: 3,
							label: "请输入内容"
						}]
					},
					e.currentParam.selectedOption = "空",
					e.model.placeholderText = "请选择"
				},
				e.$watch("model.choices.options",
				function() {
					e.comp.compJson.choices = e.model.choices,
					t(function() {})
				},
				!0),
				e.$watch("model.placeholderText",
				function() {
					a()
				},
				!0),
				e.$watch("currentParam.selectedOption",
				function() {
					a()
				},
				!0),
				o()
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div><div class=styleDropdown><section><div class=mainAttribute><div class=component><label class=componentLabel>默认选项</label><div><select class=componentSelect ng-change=checkPlaceholder(); ng-model=currentParam.selectedOption ng-options="option.label for option in model.choices.options"><option value="">空</option></select></div></div><div class=component><label class=componentLabel>占位文本</label><input class="flo_right placeHolderInput" type=text check-count=20 ng-model=model.placeholderText ng-disabled="currentParam.placeholderAvaiable ===false"/> <span class=countSpan>{{(model.placeholderText?countCharacters(model.placeholderText.trim()):0)}}/20</span></div><div class=component style=height:37px><label class=componentLabel>必填</label><div class=checkbox-square ng-class="{checked: comp.compJson.required}" style=margin-top:2px><em class=eqf-yes2></em> <input type=checkbox ng-model=comp.compJson.required name=iCheck></div></div><div class=component style=margin-right:0;border-bottom:0><div><div class=optionTitle><span text>选项</span></div><div><div eqd-scroll style=height:220px disable-mouse=true prevent-exception=true><div><div class=optionPart ng-repeat="option in model.choices.options"><input class=optionInput type=text check-count=20 stop-propagation ng-model=option.label /> <span class=optionSpan>{{(option.label?countCharacters(option.label.trim()):0)}}/20</span><div class=iconPart><a class=iconPlus><span class="eqf-plus iconBlue" ng-click=addNewOption($index)></span></a> <a class=iconMinus><span class="eqf-delete2 iconRed" ng-click=deleteTheOption($index)></span></a></div></div></div></div><div class=anim_area style="transition-timing-function:cubic-bezier(.1,.57,.1,1);transition-duration:0s;transform:translate(0,0) translateZ(0)"><div class=add-anim style=padding-left:0><a class="btn btn-sm green mr20" style=float:left ng-click=addNewOption(model.choices.options.length)><span class=eqf-plus2></span>增加选项</a></div></div></div></div></div></div></section></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirm()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除属性</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n) {
		return t in e ? Object.defineProperty(e, t, {
			value: n,
			enumerable: !0,
			configurable: !0,
			writable: !0
		}) : e[t] = n,
		e
	}
	function o() {
		return {
			restrict: "E",
			template: n(397),
			controller: ["$scope", "setCompService", "$rootScope", "$timeout", "authorityService",
			function(e, t, n, o, a) {
				"ngInject";
				var r = e.comp.compJson.css;
				e.styleFillFontWeight = a.permission("styleFillFontWeight"),
				e.styleFillFontItalic = a.permission("styleFillFontItalic"),
				e.styleFillUnderLine = a.permission("styleFillUnderLine"),
				e.styleFillLineThrough = a.permission("styleFillLineThrough"),
				e.styleFillAddLink = a.permission("styleFillAddLink"),
				e.styleFillRemoveLink = a.permission("styleFillRemoveLink"),
				e.styleFillLetterSpacing = a.permission("styleFillLetterSpacing"),
				e.styleFillName = a.permission("styleFillName"),
				e.styleFillStatus = a.permission("styleFillStatus"),
				e.styleFillRemark = a.permission("styleFillRemark"),
				e.fillvm = {
					currentElement: t.getPageElementById(e.comp.compJson.id),
					letterSpacing: r.letterSpacing || "0",
					fontSize: r.fontSize || 12
				},
				2 == e.comp.compJson.type || 4 == e.comp.compJson.type ? e.statusArr = [{
					name: "可控可替换",
					value: 1
				},
				{
					name: "可控不可替换",
					value: 2
				},
				{
					name: "不可控可替换",
					value: 3
				},
				{
					name: "不可控不可替换",
					value: 4
				}] : e.statusArr = [{
					name: "可控",
					value: 2
				},
				{
					name: "不可控",
					value: 4
				}],
				e.wordLineList = [{
					name: "0%",
					value: "0"
				},
				{
					name: "10%",
					value: "0.1em"
				},
				{
					name: "25%",
					value: "0.25em"
				},
				{
					name: "50%",
					value: "0.5em"
				},
				{
					name: "75%",
					value: "0.75em"
				},
				{
					name: "100%",
					value: "1em"
				}],
				e.fillvm.currentElement && !e.fillvm.currentElement.properties.setstatus && (e.fillvm.currentElement.properties.setstatus = 4),
				e.setName = function() {
					e.comp.compJson.name = e.fillvm.currentElement.name
				},
				e.setRemark = function() {
					e.comp.compJson.properties.setremark = e.fillvm.currentElement.properties.setremark
				},
				e.setStatus = function() {
					e.comp.compJson.properties.setstatus = e.fillvm.currentElement.properties.setstatus
				},
				e.boldItalic = function(t, n) {
					r[t] ? r[t] = "": r[t] = n,
					e.comp.update$boxDiv(i({},
					t, r[t]))
				},
				e.underDelLine = function(t) {
					var n = $.trim(r.textDecoration);
					n && n.indexOf(t) !== -1 ? r.textDecoration = n.replace(t, "") : r.textDecoration = n + " " + t,
					e.comp.update$boxDiv({
						textDecoration: r.textDecoration
					})
				},
				e.textAlign = function(t) {
					r.textAlign = t,
					e.comp.update$boxDiv({
						textAlign: t
					})
				},
				e.addLink = function() {
					e.comp && n.$broadcast("wsComp.edit.link", e.comp)
				},
				e.removeLink = function() {
					delete e.comp.compJson.properties.url
				},
				e.wordLine = function(t) {
					r.letterSpacing = t,
					e.comp.update$boxDiv({
						letterSpacing: t
					})
				},
				e.changeFontSize = function() {
					var t = null,
					n = null;
					e.fillvm.fontSize = e.fillvm.fontSize.replace(/[^\d]/g, "");
					var i = parseInt(e.fillvm.fontSize);
					t = i ? i < 12 ? 12 : i > 96 ? 96 : i: 12,
					e.fillvm.fontSize || o(function() {
						e.fillvm.fontSize = e.fillvm.fontSize || 12
					},
					750),
					e.comp.update$boxDiv({
						fontSize: t
					}),
					e.comp.update$boxDiv({
						lineHeight: n
					})
				}
			}]
		}
	}
	e.exports = o
},
function(e, t) {
	e.exports = '<section><div class="style_list border-bottom border-top pl20" ng-click=setTab(TAB.fillCompStyle)><span>填空设置</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.fillCompStyle}"></b></div><div class=style_con_hei ng-show="vm.tab == TAB.fillCompStyle"><div class="style_list_angel clearfix" ng-hide=styleFillName><label>名称</label><div class="color_select clearfix"><input class=flo_right check-count=16 style=width:140px ng-model=fillvm.currentElement.name type=text ng-blur=setName(); maxlength=16 /> <span class=countSpan>{{fillvm.currentElement.name.length}}/16</span></div></div><div class="style_list_angel clearfix" ng-hide=styleFillStatus><label>状态</label><div class="color_select clearfix"><select style="width:140px;border:1px solid #C9C9C9;float:right" ng-model=fillvm.currentElement.properties.setstatus ng-options="status.value as status.name for status in statusArr" ng-change=setStatus();></select></div></div><div class="style_list_angel clearfix" ng-hide=styleFillRemark><label>备注</label><div class="color_select clearfix"><input class=flo_right style=width:140px ng-model=fillvm.currentElement.properties.setremark type=text ng-blur=setRemark(); /></div></div><div class="style_list_angel clearfix"><label>字体大小</label><div class="color_select clearfix"><input class=flo_right style=width:140px type=text ng-model=fillvm.fontSize ng-change=changeFontSize(); /></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2 && !styleFillLetterSpacing"><label>字间距</label><div class="color_select clearfix"><select style="width:140px;border:1px solid #C9C9C9;float:right" ng-model=fillvm.letterSpacing ng-options="wordLine.value as wordLine.name for wordLine in wordLineList" ng-change=wordLine(fillvm.letterSpacing)></select></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2"><div ng-hide=styleFillFontWeight class="css-font hint--bottom hint--rounded" data-hint=加粗 ng-click="boldItalic(\'fontWeight\', \'bold\');"><i class=eqf-b></i></div><div ng-hide=styleFillFontItalic class="css-font hint--bottom hint--rounded" data-hint=倾斜 ng-click="boldItalic(\'fontStyle\', \'italic\');"><i class=eqf-I></i></div><div ng-hide=styleFillUnderLine class="css-font hint--bottom hint--rounded" data-hint=下划线 ng-click="underDelLine(\'underline\');"><i class=eqf-U></i></div><div ng-hide=styleFillLineThrough class="css-font hint--bottom hint--rounded" data-hint=删除线 ng-click="underDelLine(\'line-through\');;"><i class=eqf-del2></i></div><div class="css-font hint--bottom hint--rounded" data-hint=居左 ng-click="textAlign(\'left\');"><i class=eqf-leftword></i></div><div class="css-font hint--bottom hint--rounded" data-hint=居中 ng-click="textAlign(\'center\');"><i class=eqf-minddleword></i></div><div class="css-font hint--bottom hint--rounded" data-hint=居右 ng-click="textAlign(\'right\');"><i class=eqf-rightword></i></div><div ng-hide=styleFillLineThrough class="css-font hint--bottom hint--rounded" data-hint=添加超链接 ng-click=addLink();><i class=eqf-link></i></div><div ng-hide=styleFillRemoveLink class="css-font hint--bottom hint--rounded" data-hint=清除超链接 ng-click=removeLink()><i class=eqf-linkout></i></div></div></div></section>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("compSeting.trigger", []).directive("compSettingTrigger", n(399)).directive("triggerElemList", n(404)).directive("highlightElement", n(407)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {
				comp: "=eqxComp",
				confirm: "&"
			},
			template: n(403),
			controller: ["$scope", "$rootScope", "sceneService", "$compile",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					var e = [];
					return d.eqxCompList.forEach(function(t) { ["2", "4", "x", "h"].indexOf("" + t.type) !== -1 && e.push(t)
					}),
					e
				}
				function a() {
					var t = [];
					return m.sends.forEach(function(n) {
						var i = {};
						i.delay = n.delay,
						i.type = n.type,
						i.triggerElements = [],
						n.handles.forEach(function(t) {
							1 == t.type || 2 == t.type ? (i.title = e.eventTypes[0].title, i.eventType = 1) : 3 == t.type && (i.title = e.eventTypes[1].title, i.eventType = 2),
							t.ids.forEach(function(n) {
								var o = d.eqxCompList.filter(function(e) {
									return e.compJson.id == n
								})[0];
								i.triggerElements.push({
									comp: o,
									type: t.type
								}),
								2 == t.type ? e.addHideIcon(o) : e.addShowIcon(o)
							})
						}),
						t.push(i)
					}),
					t
				}
				function r() {
					var t = [];
					return e.triggerEvents.forEach(function(e, n) {
						var i = {
							ids: [],
							type: 1
						},
						o = {
							ids: [],
							type: 2
						},
						a = {
							ids: [],
							type: 3
						},
						r = {
							delay: e.delay,
							type: e.type,
							sendIndex: n + 1,
							handles: []
						};
						e.triggerElements.forEach(function(e) {
							i.type == e.type && i.ids.push(e.comp.compJson.id),
							o.type == e.type && o.ids.push(e.comp.compJson.id),
							a.type == e.type && a.ids.push(e.comp.compJson.id),
							l(e.comp.compJson.id, g, e.type)
						}),
						i.ids.length && r.handles.push(i),
						o.ids.length && r.handles.push(o),
						a.ids.length && r.handles.push(a),
						t.push(r)
					}),
					m.sends && s(t),
					t
				}
				function s(e) {
					m.sends.forEach(function(t) {
						t.handles.forEach(function(t) {
							t.ids.forEach(function(t) {
								var n = !1;
								e.forEach(function(e) {
									e.handles.forEach(function(e) {
										e.ids.forEach(function(e) {
											e == t && (n = !0)
										})
									})
								}),
								n || c(t)
							})
						})
					})
				}
				function c(e) {
					var t = d.pageJson.elements.filter(function(t) {
						return t.id == e
					})[0];
					if (t && t.trigger && t.trigger.receives) {
						var n = t.trigger.receives;
						n.forEach(function(e, t) {
							var i = e.ids.indexOf(g);
							i != -1 && (e.ids.splice(i, 1), 0 == e.ids.length && n.splice(t, 1))
						}),
						0 == n.length && (delete t.trigger.receives, t.trigger.sends || delete t.trigger)
					}
				}
				function l(e, t, n) {
					var i = [],
					o = d.pageJson.elements.filter(function(t) {
						return t.id == e
					})[0];
					if (o) {
						o.trigger = o.trigger || {},
						i = o.trigger.receives = o.trigger.receives || [];
						var a = i.filter(function(e) {
							return e.type == n
						})[0];
						a ? a.ids.indexOf(t) == -1 && a.ids.push(t) : (a = {
							ids: [t],
							type: n
						},
						i.push(a)),
						i.forEach(function(e, o) {
							e.type != n && e.ids.indexOf(t) != -1 && (e.ids.splice(e.ids.indexOf(t), 1), 0 == e.ids.length && i.splice(o, 1))
						})
					}
				}
				function p() {
					var t = [];
					return e.triggerSources.forEach(function(n) {
						var i = !1;
						if (e.triggerEvents.forEach(function(e) {
							e.triggerElements.forEach(function(e) {
								n == e.comp && (i = !0)
							})
						}), !i) {
							var o = 1;
							1 == e.sendType.value && n == e.comp && (o = 2),
							t.push({
								comp: n,
								type: o,
								checked: !1
							})
						}
					}),
					t
				}
				var d = n.getCurrentPage(),
				u = e.comp.compJson,
				g = u.id,
				m = u.trigger = u.trigger || {};
				m.sends = m.sends || [],
				e.sendTypes = [{
					name: "click",
					value: 1,
					title: "点击"
				},
				{
					name: "shake",
					value: 2,
					title: "摇一摇"
				}],
				e.sendType = e.sendTypes[0],
				e.eventTypes = [{
					name: "existElement",
					value: 1,
					title: "选择界面已有元素",
					children: [{
						type: "SHOW",
						title: "显示"
					},
					{
						type: "HIDE",
						title: "隐藏"
					}]
				},
				{
					name: "randomEvent",
					value: 2,
					title: "随机图片"
				}],
				e.addShowIcon = function(t) {
					e.removeIcon(t),
					$('<div class="boom"></div>').appendTo(t.$li)
				},
				e.addHideIcon = function(t) {
					e.removeIcon(t),
					$('<div class="boom1"></div>').appendTo(t.$li)
				},
				e.removeIcon = function(e) {
					e.$li.children(".boom1").remove(),
					e.$li.children(".boom").remove()
				},
				e.triggerSources = o(),
				e.changeTriggerType = function(t) {
					1 == t.value ? (g = u.id, m = u.trigger = u.trigger || {},
					m.sends = m.sends || []) : (g = d.pageJson.id, m = d.pageJson.properties.trigger = d.pageJson.properties.trigger || {},
					m.sends = m.sends || []),
					e.triggerEvents = a()
				},
				e.triggerEvents = a(),
				e.formatTrigger = function() {
					m.sends = r(),
					0 == m.sends.length && delete m.sends,
					m.receives && 0 == m.receives.length && delete m.receives,
					m.sends || m.receives || (1 == e.sendType.value ? delete u.trigger: delete d.pageJson.properties.trigger)
				},
				e.changeTriggerSource = function(t) {
					e.comp = t,
					e.comp.$li.trigger("mousedown.compClick")
				},
				e.switchShow = function(t) {
					1 == t.type ? (t.type = 2, e.addHideIcon(t.comp)) : 2 == t.type && (t.type = 1, e.addShowIcon(t.comp)),
					e.formatTrigger()
				},
				e.removeTriggerElem = function(t, n) {
					var i = e.triggerEvents.indexOf(n),
					o = e.triggerEvents[i].triggerElements.indexOf(t);
					1 == e.triggerEvents[i].triggerElements.length ? e.removeTrigger(e.triggerEvents[i]) : (e.triggerEvents[i].triggerElements.splice(o, 1), e.formatTrigger()),
					e.removeIcon(t.comp)
				},
				e.removeTriggerRandom = function(n) {
					e.removeTrigger(n);
					var i = n.triggerElements[0].comp;
					i && (e.removeIcon(i), t.$broadcast("wsComp.delete", i))
				},
				e.removeTrigger = function(t) {
					var n = e.triggerEvents.indexOf(t);
					e.triggerEvents.splice(n, 1),
					t.triggerElements.forEach(function(t) {
						e.removeIcon(t.comp)
					}),
					e.formatTrigger()
				},
				e.$on("$destroy",
				function() {
					d.eqxCompList.forEach(function(t) {
						e.removeIcon(t)
					})
				}),
				e.editorTriggerEvent = function(t) {
					e.editorTriggerElements = p(),
					t.triggerElements.forEach(function(t) {
						e.editorTriggerElements.push({
							comp: t.comp,
							type: t.type,
							checked: !0
						})
					}),
					e.triggerEvent = t,
					i('<div class="trigger-elem-list" trigger-elem-list panel-draggable></div>')(e).appendTo(".main .content"),
					$('<div class="mask-trigger">').insertAfter("#nr .edit_area")
				},
				e.addTriggerEvent = function(t) {
					e.triggerEvent = {
						delay: 0,
						type: e.sendType.value,
						eventType: t.value,
						title: e.eventTypes[0].title,
						triggerElements: []
					},
					e.triggerEvents.push(e.triggerEvent),
					e.editorTriggerElements = p(),
					i('<div class="trigger-elem-list" trigger-elem-list panel-draggable></div>')(e).appendTo(".main .content"),
					$('<div class="mask-trigger">').insertAfter("#nr .edit_area")
				},
				e.addTriggerElement = function(t) {
					e.triggerEvent = {
						delay: 0,
						type: e.sendType.value,
						eventType: e.eventTypes[1].value,
						title: e.eventTypes[1].title,
						triggerElements: []
					},
					e.triggerEvents.push(e.triggerEvent),
					e.triggerEvent.triggerElements.push({
						comp: t,
						type: 3
					}),
					e.formatTrigger()
				},
				e.confirmTrigger = function() {
					e.confirm()
				},
				e.clearTrigger = function() {
					e.triggerEvents.splice(0, e.triggerEvents.length),
					e.formatTrigger()
				}
			}]
		}
	}
	n(400),
	e.exports = i
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<div><div style=height:410px><div eqd-scroll style=height:100% disable-mouse=true prevent-exception=true><div class=trigger-area><div class=trigger-panels><div class="style_list_angel clearfix pl20"><label style=width:100px;margin-top:5px>浏览页面时，当</label><div class="flo_lef touming"><eqx-select class="select-sm border-width select-contain" model=sendType change=changeTriggerType(sendType)><eqx-select-option value=sendType ng-repeat="sendType in sendTypes">{{sendType.title}}</eqx-select-option></eqx-select></div></div><div class="style_list_angel clearfix pl20" ng-show="sendType.value!=2"><label style=margin-top:5px>页面元素</label><div class="flo_lef touming"><eqx-select class="select-sm border-width select-contain" model=comp change=changeTriggerSource(comp)><eqx-select-option value=triggerSource ng-repeat="triggerSource in triggerSources">{{triggerSource.compJson.name}}</eqx-select-option></eqx-select></div></div></div><div class=event-list><div ng-repeat="triggerEvent in triggerEvents"><div class=select-exist-elem ng-show="triggerEvent.eventType == 1"><section><div class="style_list pl20" ng-class={active:opea.show} ng-init="opea.show=true" ng-click="opea.show=!opea.show">{{triggerEvent.title}} <span ng-click="editorTriggerEvent(triggerEvent);opea.show=!opea.show;">&nbsp;&nbsp;&nbsp;&nbsp;编辑</span> <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b> <span style=margin-left:35px class=eqf-wrong ng-click=removeTrigger(triggerEvent)></span></div><div ng-if=opea.show><form role=form><div class="style_list_angel ml20 mr20"><label>延迟时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model=triggerEvent.delay /></p><div class=slider ui-slider-t ng-model=triggerEvent.delay min=0 max=20></div></div></div><div class="select-trigger-item ml20 mr20"><ul ng-show=triggerEvent.triggerElements.length><li ng-repeat="triggerElement in triggerEvent.triggerElements | orderBy : \'comp.compJson.name\'"><div style="padding:10px 20px"><span hover-element={{triggerElement.comp.compJson.id}} style=cursor:pointer><span>{{triggerElement.comp.compJson.name}}</span></span><div class=fr><span style=padding-right:5px class=fl>{{triggerElement.type == 1 ? \'显示\':\'隐藏\'}}</span><div class=switch style=float:left ng-if="comp!=triggerElement.comp || sendType.value == 2" ng-class="{\'switch-open\':triggerElement.type==1,\'switch-close\':triggerElement.type==2}" ng-click=switchShow(triggerElement)><div class=circle-con><i class=circle></i></div></div><span style=padding-left:10px class=eqf-wrong ng-click="removeTriggerElem(triggerElement, triggerEvent);"></span></div></div></li></ul></div></form></div></section></div><div class=random-event ng-show="triggerEvent.eventType == 2"><section><div class="style_list pr20 pl20" ng-class={active:opea.show} ng-init="opea.show=true" ng-click="opea.show=!opea.show">{{triggerEvent.title}} <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b> <span style=margin-left:34px class=eqf-wrong ng-click=removeTriggerRandom(triggerEvent)></span></div><div ng-if=opea.show><form role=form><div class="style_list_angel ml20 mr20"><label>延迟时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model=triggerEvent.delay /></p><div class=slider ui-slider-t ng-model=triggerEvent.delay min=0 max=20></div></div></div><div class=select-trigger-item><div ng-show=triggerEvent.triggerElements.length><div ng-repeat="triggerElement in triggerEvent.triggerElements"><span style="cursor:pointer;padding:10px 20px" hover-element={{triggerElement.comp.compJson.id}}><span>随机图片</span> {{$index+1}}</span> <a style=display:inline ng-click=removeTriggerRandom(triggerEvent);>取消</a></div></div></div></form></div></section></div></div></div><div ng-show=triggerSources.includes(comp) class="trigger-btn pl20" ng-mouseleave="obj.showTriggerPanel = false"><div class=event-panel style=margin-bottom:5px><div class=add-trigger ng-click="obj.showTriggerPanel = true;$event.stopPropagation();">添加触发 <span class=clickmore></span></div><div><ul ng-show=obj.showTriggerPanel><li ng-repeat="eventType in eventTypes" ng-click="obj.showTriggerPanel = false;"><span style=display:inline-block;width:100% ng-if="eventType.value == 1" ng-click=addTriggerEvent(eventType)>{{eventType.title}}</span><eqx-random style=display:inline-block;width:100% ng-if="eventType.value == 2" add-element=addTriggerElement(eqxRandomEvent)>{{eventType.title}}</eqx-random></li></ul></div></div></div></div></div></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirmTrigger()>确定</a> <a class="btn btn-sm out-red" ng-click=clearTrigger()>清除</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			template: n(406),
			replace: !1,
			link: function(e) {
				var t = e.triggerEvent;
				e.addTriggerEle = function(n, i) {
					if (i) {
						var o = {
							comp: n.comp,
							type: n.type
						};
						t.triggerElements.push(o),
						1 == n.type ? e.addShowIcon(n.comp) : e.addHideIcon(n.comp)
					} else t.triggerElements.forEach(function(i, o) {
						i.comp == n.comp && (t.triggerElements.splice(o, 1), e.removeIcon(i.comp))
					})
				},
				e.switchEditorShow = function(n) {
					var i = t.triggerElements.filter(function(e) {
						return e.comp == n.comp
					})[0];
					1 == n.type ? n.type = 2 : n.type = 1,
					e.switchShow(i)
				},
				e.confirmList = function() {
					$(".mask-trigger").remove(),
					$(".trigger-list").remove(),
					0 == t.triggerElements.length ? e.triggerEvents.pop() : e.formatTrigger()
				}
			}
		}
	}
	n(405),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=trigger-list><div class=modal-header><h4 class=modal-title>选择触发哪些元素显示或隐藏</h4></div><div class=modal-body><ul highlight-element><li class=trigger-elem ng-repeat="editorTriggerElement in editorTriggerElements" id="{{\'trigger_\' + editorTriggerElement.comp.compJson.id}}"><div><div class="square one-line"><div class=checkbox-square ng-class="{checked: editorTriggerElement.checked}"><em class=eqf-yes2></em> <input type=checkbox ng-model=editorTriggerElement.checked ng-change="addTriggerEle(editorTriggerElement, editorTriggerElement.checked)"/></div><label>{{editorTriggerElement.comp.compJson.name}}</label><div class=fr ng-if=editorTriggerElement.checked><a style=padding-right:5px class=fl>{{editorTriggerElement.type == 1 ? \'显示\':\'隐藏\'}}</a><div class=switch style=float:left ng-if="sendType.value == 2 || comp != editorTriggerElement.comp" ng-class="{\'switch-open\':editorTriggerElement.type==1,\'switch-close\':editorTriggerElement.type==2}" ng-click="switchEditorShow( editorTriggerElement)"><div class=circle-con><i class=circle></i></div></div></div></div></div></li></ul></div><div class=modal-footer><a class="btn btn-primary" ng-click=confirmList()><span>确定</span></a></div></div>'
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e(e, t) {
			var n, i = {};
			e.editorTriggerElements.forEach(function(e) {
				var t = e.comp.compJson;
				i[t.id] = t.css.zIndex || 1
			}),
			i[e.comp.compJson.id] = e.comp.compJson.css.zIndex || 1,
			setTimeout(function() {
				t.find(".trigger-elem").hover(function() {
					n = $(this).attr("id").substring(8),
					e.triggerSources.forEach(function(t) {
						t != e.comp ? t.$li.css({
							zIndex: "",
							backgroundColor: ""
						}) : t.$li.css({
							zIndex: "10001",
							backgroundColor: "rgba(8, 161, 239, .9)"
						})
					});
					var t = $("#inside_" + n);
					t.css({
						zIndex: "10001",
						backgroundColor: "rgba(255,255,255,0.9)"
					})
				},
				function() {
					e.editorTriggerElements.forEach(function(e) {
						e.comp.$li.css({
							zIndex: "10001",
							backgroundColor: "rgba(255,255,255,0.9)"
						})
					})
				})
			},
			0),
			t.on("$destroy",
			function() {
				e.editorTriggerElements.forEach(function(e) {
					e.comp.$li.css({
						zIndex: i[e.comp.compJson.id],
						backgroundColor: ""
					})
				}),
				e.comp.$li.css({
					zIndex: i[e.comp.compJson.id],
					backgroundColor: ""
				})
			})
		}
		return {
			restrict: "A",
			link: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			restrict: "AE",
			replace: !0,
			scope: {},
			template: n(412),
			link: function(n, i) {
				function o() {
					var t = e.getItem("compSettingCss") || {
						top: 100,
						left: 180
					};
					t.top < 51 && (t.top = 51),
					t.left < 0 && (t.left = 0),
					i.css(t)
				}
				o(),
				n.accessStyleTrigger = t.permission("styleTrigger"),
				n.updatePosition = function() {
					var t = parseFloat(i.css("top") || 100),
					n = parseFloat(i.css("left") || 180);
					e.setItem("compSettingCss", {
						top: t,
						left: n
					})
				}
			},
			controller: ["$rootScope", "selectService", "$scope", "$timeout",
			function(e, t, n, i) {
				function a() {
					g || c(n,
					function() {
						if (1 !== t.comps.length) u.comp = null;
						else {
							var e = t.comps[0];
							e !== u.comp && (u.comp = e, u.show = !0, n.setTab(o))
						}
						l()
					})
				}
				function r(t) {
					e.$broadcast("compStyle.save", t || u.comp)
				}
				function s() {
					l(),
					c(n,
					function() {
						return u.comp = null
					})
				}
				function c(e, t) {
					var n = e.$root.$$phase;
					"$apply" === n || "$digest" === n ? t && "function" == typeof t && t() : e.$apply(t)
				}
				function l() {
					n.updatePosition && n.updatePosition()
				}
				var p = n.TAB = {
					style: 1,
					anim: 2,
					trigger: 3
				},
				d = ["p"],
				u = n.vm = {
					tab: o,
					show: !0,
					color: "#FFFFFF",
					comp: null,
					count: 1
				};
				n.setTab = function(e) {
					if (u.comp) {
						var t = u.comp.$ability; (!t.anim && e === p.anim || !t.trigger && e === p.trigger) && (e = p.style)
					}
					u.tab = e,
					o = e
				},
				n.showCompSetting = function() {
					return !! u.comp && !d.includes(u.comp.compJson.type) && u.show
				},
				n.cancel = function() {
					u.show = !1
				},
				n.confirm = function() {
					u.show = !1
				},
				n.$watch("vm.comp",
				function(e, t) {
					t && !e && r(t)
				}),
				n.$watch("vm.show",
				function(e, t) {
					t && !e && r()
				});
				var g = !1;
				n.$on("replacePage", a),
				n.$on("selectService.add", a),
				n.$on("selectService.remove",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.includes(u.comp) && s()
				}),
				n.$on("selectBox.end",
				function() {
					g = !1,
					a()
				}),
				n.$on("selectBox.start",
				function() {
					g = !0
				}),
				n.$on("contextMenu.style",
				function() {
					return n.setTab(p.style)
				}),
				n.$on("contextMenu.anim",
				function() {
					return n.setTab(p.anim)
				}),
				n.$on("contextMenu.trigger",
				function() {
					return n.setTab(p.trigger)
				}),
				n.$on("closeCompSetting",
				function(e, t) {
					t && u.comp && t == u.comp && s()
				})
			}]
		}
	}
	i.$inject = ["storageService", "authorityService"],
	n(409);
	var o = 1;
	e.exports = i
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<div class=comp-setting ng-show=showCompSetting()><div class=cancel><span class=set-title>组件设置</span> <span class="set-close eqf-wrong" ng-click=cancel()></span></div><ul class="nav nav-tabs"><li ng-class="{active: vm.tab == TAB.style}"><a class=all-change ng-click=setTab(TAB.style)>样式</a></li><li ng-class="{active: vm.tab == TAB.anim}" ng-if=vm.comp.$ability.anim><a class=all-change ng-click=setTab(TAB.anim);>动画</a></li><li ng-class="{active: vm.tab == TAB.trigger}" ng-if="vm.comp.$ability.trigger && !accessStyleTrigger"><a class=all-change ng-click=setTab(TAB.trigger)>触发</a></li></ul><div class=style_content ng-if=vm.comp><comp-setting-style ng-if="vm.tab == TAB.style" confirm=confirm() eqx-comp=vm.comp></comp-setting-style><comp-setting-anim ng-if="vm.tab == TAB.anim" confirm=confirm() eqx-comp=vm.comp></comp-setting-anim><comp-setting-trigger ng-if="vm.tab == TAB.trigger" confirm=confirm() eqx-comp=vm.comp></comp-setting-trigger><eqd-drop-down></eqd-drop-down></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.assist", []).directive("eqxAssistLines", n(414)).directive("eqxAssistGrid", n(416)).factory("assistLineService", n(417)).factory("assistGridService", n(418)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		function o(e, t) {
			var n = e.left,
			i = e.top,
			o = e.width,
			c = e.height,
			l = e.transform,
			p = t.x,
			d = t.y,
			u = new r(n + p, i + d),
			g = new r(u.x + o, u.y + c),
			m = new a(u, g);
			if (l) {
				var f = s.parseTransform(l);
				if (f && f.rotate) return m.rotate(f.rotate)
			}
			return m
		}
		return {
			template: '<div class="assist-lines"></div>',
			replace: !0,
			link: function(p, d) {
				function u() {
					for (var a = arguments.length,
					s = Array(a), c = 0; c < a; c++) s[c] = arguments[c];
					if (t.getAssistLineState()) {
						v = !1;
						var l = f.$ele,
						p = d.offset(),
						u = l.offset();
						m = new r(p.left, p.top).offset(new r(u.left, u.top));
						var g = i.getScale(),
						y = m.x,
						b = m.y;
						y /= g,
						b /= g,
						m.x = y,
						m.y = b;
						var x = {
							left: 0,
							top: 0,
							width: l.width(),
							height: l.height()
						},
						w = o(x, m);
						t.addPoints(w.p1, w.p2, w.center()),
						h = e.getCurrentPage(),
						h.eqxCompList.filter(function(e) {
							return s.indexOf(e) === -1
						}).forEach(function(e) {
							var n = e.compJson.css,
							i = o(n, m);
							t.addPoints(i.p1, i.p2, i.center())
						});
						var S = h.pageJson.properties,
						k = 320,
						C = S.longPage || 486,
						T = n.getXsYs(k, C, 1),
						$ = T.xs,
						q = T.ys;
						t.addXs($.map(function(e) {
							return e + m.x
						})),
						t.addYs(q.map(function(e) {
							return e + m.y
						}));
						var I = t.$vLineMap,
						E = t.$hLineMap;
						t.xs.forEach(function(e) {
							if (!I[e]) {
								var n = t.get$vLine(e);
								I[e] = n,
								n.appendTo(d)
							}
						}),
						t.ys.forEach(function(e) {
							if (!E[e]) {
								var n = t.get$hLine(e);
								E[e] = n,
								n.appendTo(d)
							}
						})
					}
				}
				function g(e) {
					if (e === y.id) {
						var n = y.p1,
						i = y.p2,
						r = y.comps;
						t.hide$vLines(),
						t.hide$hLines();
						var p = {
							x: m.x + i.x - n.x,
							y: m.y + i.y - n.y
						},
						d = r.map(function(e) {
							e.$translate3d = null;
							var t = e.compJson.css;
							return o(t, p)
						}),
						u = a.getContainingRect(d),
						g = u.center(),
						f = t.nearXs(u.p1.x, u.p2.x, g.x),
						h = t.nearYs(u.p1.y, u.p2.y, g.y),
						v = t.hintMaxLines;
						f.length > v && (f.length = v),
						h.length > v && (h.length = v);
						var b = t.minDiff(f, [u.p1.x, u.p2.x, g.x]),
						x = t.minDiff(h, [u.p1.y, u.p2.y, g.y]);
						t.show$vLines(f),
						t.show$hLines(h),
						b = c(b),
						x = c(x);
						var w = l(b) <= t.attractThreshold,
						S = l(x) <= t.attractThreshold;
						t.getAttractState() && (w || S) && r.forEach(function(e) {
							var t = e.$li,
							n = t[0].style.transform,
							i = s.parseTransform(n);
							w && (i.translate3d.x -= b),
							S && (i.translate3d.y -= x),
							e.$translate3d = i.translate3d;
							var o = s.updateTransformStr(n, i);
							t.css("transform", o)
						})
					}
				}
				var m, f = e.eqxScene,
				h = null,
				v = !0,
				y = {
					p1: null,
					p2: null,
					comps: null,
					id: 0
				};
				p.$on("compDrag.end",
				function() {
					t.getAssistLineState() && (v = !0, t.clear())
				}),
				p.$on("compDrag.start",
				function(e, t) {}),
				p.$on("compDrag.move",
				function(e, n, i) {
					for (var o = arguments.length,
					a = Array(o > 3 ? o - 3 : 0), r = 3; r < o; r++) a[r - 3] = arguments[r];
					if (t.getAssistLineState()) {
						if (v) return u.apply(void 0, a);
						var s = y.id + 1;
						y.id = s,
						y.p1 = n,
						y.p2 = i,
						y.comps = a,
						g(s)
					}
				})
			}
		}
	}
	i.$inject = ["sceneService", "assistLineService", "assistGridService", "zoomService"],
	n(415);
	var o = n(353),
	a = o.Rect,
	r = o.Point,
	s = n(358),
	c = n(200).toInt,
	l = Math.abs;
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, n, i, o) {
			if (t) {
				var a = e.getXsYs(n, i, o),
				r = a.xs,
				s = a.ys,
				c = {
					width: Math.round(n * o),
					height: Math.round(i * o)
				};
				t.css(c).attr(c);
				var l = t.get(0).getContext("2d");
				l.clearRect(0, 0, c.width, c.height),
				l.fillStyle = e.getColor(),
				r.forEach(function(e) {
					l.fillRect(e, -20, .5, c.height + 40)
				}),
				s.forEach(function(e) {
					l.fillRect(0, e, c.width, .5)
				})
			}
		}
		return {
			scope: {
				eqxPage: "="
			},
			link: function(n, i) {
				function o(e) {
					var i = n.eqxPage;
					if (i && a) {
						var o = i.getPageWidth(),
						r = e || i.getPageHeight(),
						s = 1;
						t(a, o, r, s)
					}
				}
				var a = null;
				n.$watch("eqxPage",
				function() {
					o()
				}),
				n.$on("longPageAdjust.move",
				function(e, t) {
					o(t)
				}),
				n.$watch(function() {
					return e.getColor() + e.getGridState()
				},
				function() {
					o()
				}),
				a = $('<canvas class="eqx-assist-grid">').appendTo(i)
			}
		}
	}
	n.$inject = ["assistGridService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			t.forEach(function(e) {
				C.some(function(t) {
					return t.equals(e)
				}) || (C.push(e), i(T, e.x), i(q, e.y))
			})
		}
		function a(e) {
			e.forEach(function(e) {
				return i(T, e)
			})
		}
		function r(e) {
			e.forEach(function(e) {
				return i(q, e)
			})
		}
		function s() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			return p(T, t)
		}
		function c(e, t) {
			var n = 100,
			i = 100;
			return e.forEach(function(e) {
				t.forEach(function(t) {
					i = t - e,
					o(i) < o(n) && (n = i)
				})
			}),
			n
		}
		function l() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			return p(q, t)
		}
		function p(e, t) {
			var n = e.filter(function(e) {
				return t.some(function(t) {
					return o(e - t) < S
				})
			});
			return n
		}
		function d() {
			var e = t.getScale(),
			n = 1,
			i = n * e;
			return i < n && (i = n),
			i
		}
		function u(e) {
			var t = d();
			return $("<div></div>").css({
				display: "none",
				position: "absolute",
				left: e,
				height: "100%",
				"border-right-width": t + "px",
				"border-right-style": "solid",
				"border-right-color": "rgba(255,227,0,1)"
			})
		}
		function g(e) {
			var t = d();
			return $("<div></div>").css({
				display: "none",
				position: "absolute",
				top: e,
				width: "100%",
				"border-top-width": t + "px",
				"border-top-style": "solid",
				"border-top-color": "rgba(255,227,0,1)"
			})
		}
		function m() {
			y(I)
		}
		function f() {
			y(E)
		}
		function h(e) {
			b(I, e)
		}
		function v(e) {
			b(E, e)
		}
		function y(e) {
			Object.keys(e).forEach(function(t) {
				return e[t].hide()
			})
		}
		function b(e, t) {
			t.forEach(function(t) {
				return e[t] && e[t].show()
			})
		}
		function x() {
			C.length = 0,
			T.forEach(function(e) {
				var t = I[e];
				t && (t.remove(), delete I[e])
			}),
			q.forEach(function(e) {
				var t = E[e];
				t && (t.remove(), delete E[e])
			}),
			T.length = 0,
			q.length = 0
		}
		var w = 3,
		S = 2,
		k = 3,
		C = [],
		T = [],
		q = [],
		I = {},
		E = {};
		return {
			getAssistLineState: function() {
				var t = e.getItem("assistLineState");
				return void 0 !== t && null !== t || (t = !0),
				t
			},
			setAssistLineState: function(t) {
				return e.setItem("assistLineState", t)
			},
			getAttractState: function() {
				var t = e.getItem("attractState");
				return void 0 !== t && null !== t || (t = !0),
				t
			},
			setAttractState: function(t) {
				return e.setItem("attractState", t)
			},
			attractThreshold: w,
			hintThreshold: S,
			hintMaxLines: k,
			points: C,
			xs: T,
			ys: q,
			$vLineMap: I,
			$hLineMap: E,
			clear: x,
			addPoints: n,
			addXs: a,
			addYs: r,
			nearXs: s,
			nearYs: l,
			show$vLines: h,
			show$hLines: v,
			hide$vLines: m,
			hide$hLines: f,
			get$vLine: u,
			get$hLine: g,
			minDiff: c
		}
	}
	function i(e, t) {
		for (var n = e.length,
		i = 0; i < n; i++) {
			var o = e[i];
			if (t < o) return e.splice(i, 0, t),
			t;
			if (t === o) return - 1
		}
		e.push(t)
	}
	n.$inject = ["storageService", "zoomService"];
	var o = Math.abs;
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			e.setItem("grid.state", t)
		}
		function n() {
			var t = e.getItem("grid.state");
			return void 0 !== t && null !== t || e.setItem("grid.state", !0),
			e.getItem("grid.state")
		}
		function i(t) {
			e.setItem("grid.color", t)
		}
		function o() {
			return e.getItem("grid.color") || "rgba(150, 150, 150, 0.2)"
		}
		function a() {
			return parseInt(e.getItem("grid.cellSize") || "36")
		}
		function r(t) {
			e.setItem("grid.cellSize", t)
		}
		function s(e, t, i) {
			var o = [],
			r = [];
			if (!n()) return {
				xs: o,
				ys: r
			};
			for (var s = {
				width: Math.round(e * i),
				height: Math.round(t * i)
			},
			c = a(), l = Math.ceil(s.height / c / 2), p = Math.ceil(s.width / c / 2), d = 0; d < p; d++) {
				var u = Math.round(s.width / 2 - d * c);
				o.push(u),
				d > 0 && (u = Math.round(s.width / 2 + d * c), o.push(u))
			}
			for (var g = 0; g < l; g++) {
				var m = Math.round(s.height / 2 - g * c);
				r.push(m),
				g > 0 && (m = Math.round(s.height / 2 + g * c), r.push(m))
			}
			return {
				xs: o,
				ys: r
			}
		}
		return {
			setGridState: t,
			getGridState: n,
			setColor: i,
			getColor: o,
			getCellSize: a,
			setCellSize: r,
			getXsYs: s
		}
	}
	n.$inject = ["storageService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.contextMenu", []).directive("eqxContextMenu", n(420)).directive("eqxContextMenuTrigger", n(423)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e) {
		"ngInject";
		return {
			restrict: "E",
			template: n(422),
			replace: !0,
			scope: {},
			controller: ["$scope", "$rootScope", "selectService", "sceneService", "copyService", "copyAnimService", "$timeout", "authorityService",
			function(e, t, n, o, a, r, s, c) {
				function l() {
					return a.getJsons().length > 0
				}
				function p() {
					return !! r.getCopyAnim()
				}
				var d = {
					none: 0,
					single: 1,
					multi: 2
				},
				u = {
					edit: [!1, !0, !1],
					style: [!1, !0, !1],
					anim: [!1, !0, !1],
					sound: [!1, !0, !1],
					trigger: [!1, !0, !1],
					link: [!1, !0, !1],
					copy: [!1, !0, !0],
					paste: [!0, !0, !0],
					cut: [!1, !0, !1],
					copyAnim: [!1, !0, !1],
					pasteAnim: [!1, !0, !0],
					zIndex: [!1, !0, !1]
				},
				g = e.vm = {
					show: !1,
					mode: d.none
				};
				e.accessContextMenuLink = c.permission("contextMenuLink"),
				e.accessContextMenuTrigger = c.permission("contextMenuTrigger"),
				e.edit = function() {
					if (g.mode === d.single) {
						var i = n.comps[0];
						i && t.$broadcast("wsComp.edit", i)
					}
					e.hide()
				},
				e.openAnim = function() {
					t.$broadcast("contextMenu.anim"),
					e.hide()
				},
				e.openStyle = function() {
					t.$broadcast("contextMenu.style"),
					e.hide()
				},
				e.openTrigger = function() {
					t.$broadcast("contextMenu.trigger"),
					e.hide()
				},
				e.openSound = function() {
					if (g.mode === d.single) {
						var i = n.comps[0];
						i && t.$broadcast("wsComp.edit.sound", i)
					}
					e.hide()
				},
				e.openLink = function() {
					if (g.mode === d.single) {
						var i = n.comps[0];
						i && t.$broadcast("wsComp.edit.link", i)
					}
					e.hide()
				},
				e.copyComps = function() {
					a.addJsons.apply(a, i(n.comps)),
					e.hide()
				},
				e.pasteComps = function() {
					t.$broadcast("contextMenu.paste"),
					e.hide()
				},
				e.copyAnim = function() {
					r.setCopyAnim(n.comps[0].compJson.properties.anim),
					e.hide(),
					e.openAnim()
				},
				e.pasteAnim = function() {
					var t = r.getCopyAnim();
					t && n.comps.forEach(function(e) {
						var n = JSON.parse(JSON.stringify(t));
						e.stopAnimation(),
						s(function() {
							var t, o = e.compJson.properties;
							o.anim.length = 0,
							(t = o.anim).push.apply(t, i(n)),
							e.startAnimation({
								maxCount: 1,
								reset: !0
							})
						},
						0)
					}),
					e.hide()
				},
				e.updateIndex = function(e) {
					var i = o.getCurrentPage(),
					a = n.comps[0];
					i.updateCompZIndex(a, e),
					t.$broadcast("contextMenu.zIndex")
				},
				e["delete"] = function() {
					var i = n.comps[0];
					i && t.$broadcast("wsComp.delete", i),
					e.hide()
				},
				e.cropComp = function() {
					var i = n.comps[0];
					i && t.$broadcast("wsComp.crop", i),
					e.hide()
				},
				e.showFeature = function(e) {
					var t = u[e][g.mode];
					if (t) {
						if ("paste" === e) return l();
						if ("pasteAnim" === e) return p();
						if (g.mode === d.single) {
							var i = n.comps[0];
							if (i) {
								var o = i.compJson.type,
								a = i.$ability;
								if (["anim", "trigger", "sound", "link"].includes(e)) return !! a[e];
								if ("copyAnim" === e) return a.anim;
								if ("style" === e) return a.style && Object.keys(a.style).length;
								if ("cut" === e) return 4 == o
							}
						}
					}
					return t
				},
				e.update = function() {
					var t = n.comps.length;
					return g.mode = t > 1 ? 2 : t,
					Object.keys(u).some(function(t) {
						return e.showFeature(t)
					})
				}
			}],
			link: function(t, n) {
				function i(n, i, o) {
					function a(e) {
						return e - u.p1.x
					}
					function s() {
						return o - u.p1.y
					}
					var c = n.parent(),
					l = c.offset(),
					p = c.scrollTop(),
					d = c.scrollLeft();
					l = {
						left: l.left - d,
						top: l.top - p
					};
					var u = new r(l.left, l.top, c.width(), c.height());
					e(function() {
						var e = {
							width: n.width(),
							height: n.height()
						};
						i = a(i),
						o = s(o),
						n.css({
							left: i,
							top: o
						}),
						o + e.height > u.height - 10 && n.css("top", o - e.height - 2),
						i + e.width > u.width + 40 && n.css("left", i - e.width - 2),
						t.show(),
						c.on("mousemove.contextMenu",
						function(i) {
							var o = n.offset(); (i.pageX < o.left - 20 || i.pageX > o.left + e.width + 20 || i.pageY < o.top - 20 || i.pageY > o.top + e.height + 20) && (t.hide(), c.off(".contextMenu"))
						})
					},
					0)
				}
				function o() {
					n.on("mousedown.contextMenu",
					function(e) {
						e.stopPropagation(),
						e.preventDefault()
					}),
					n.on("$destroy",
					function(e) {
						return n.off(".contextMenu")
					}),
					t.hide()
				}
				t.show = function() {
					n.css("visibility", "visible")
				},
				t.hide = function() {
					n.css("visibility", "hidden")
				},
				t.$on("contextMenu",
				function(o, a) {
					var r = t.update();
					r && e(function() {
						return i(n, a.pageX, a.pageY)
					},
					0)
				}),
				t.$on("selectBox.start",
				function() {
					t.hide()
				}),
				o()
			}
		}
	}
	o.$inject = ["$timeout"];
	var a = n(353),
	r = a.Rect;
	n(421),
	e.exports = o
},
function(e, t) {},
function(e, t) {
	e.exports = '<ul id=popMenu class=dropdown-menu style=min-width:150px;display:block;z-index:1042><li ng-click=edit() ng-show="showFeature(\'edit\')"><a role=menuitem tabindex=-1><div class=eqf-write></div>编辑</a></li><li ng-click=openStyle() ng-show="showFeature(\'style\')"><a role=menuitem tabindex=-1><div class=eqf-type></div>样式</a></li><li ng-click=openAnim() ng-show="showFeature(\'anim\')"><a role=menuitem tabindex=-1><div class=eqf-move></div>动画</a></li><li ng-click=openSound() eqx-comp-sound ng-show="showFeature(\'sound\')"><a role=menuitem tabindex=-1><div class=eqf-music></div>音效</a></li><li ng-click=openTrigger() ng-show="showFeature(\'trigger\') && !accessContextMenuTrigger"><a role=menuitem tabindex=-1><div class=eqf-chufa></div>触发</a></li><li ng-click=openLink() eqx-comp-link ng-show="showFeature(\'link\') && !accessContextMenuLink"><a role=menuitem tabindex=-1><div class=eqf-link></div>链接</a></li><li ng-click=copyComps() ng-show="showFeature(\'copy\')"><a role=menuitem tabindex=-1><div class=eqf-scene-copy></div>复制</a></li><li ng-click=pasteComps() ng-show="showFeature(\'paste\')"><a role=menuitem tabindex=-1><div class=eqf-scene-copy></div>粘贴</a></li><li ng-click=cropComp() ng-show="showFeature(\'cut\')"><a role=menuitem tabindex=-1><div class=eqf-cut></div>裁切</a></li><li ng-click=copyAnim() ng-show="showFeature(\'copyAnim\')"><a role=menuitem tabindex=-1><div class=eqf-copy-animation></div>复制动画</a></li><li ng-click=pasteAnim() ng-show="showFeature(\'pasteAnim\')"><a role=menuitem tabindex=-1><div class=eqf-copy-animation></div>粘贴动画</a></li><li class=bottom_bar ng-show="showFeature(\'zIndex\')"><a title=置顶 ng-click="updateIndex(\'++\')"><div class="eqf-top up-all"></div></a><a title=上移一层 ng-click="updateIndex(\'+1\')"><div class="eqf-up up"></div></a><a title=下移一层 ng-click="updateIndex(\'-1\')"><div class="eqf-down down"></div></a><a title=置底 ng-click="updateIndex(\'--\')"><div class="eqf-under down-all"></div></a><a title=删除 ng-click=delete()><div class="eqf-scene-delete remove"></div></a></li></ul>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			priority: 0,
			link: function(t, n) {
				$(document).contextmenu(function(e) {
					e.preventDefault(),
					e.stopPropagation()
				}),
				n.contextmenu(function(t) {
					t.preventDefault(),
					t.stopPropagation(),
					e.$broadcast("contextMenu", t)
				})
			}
		}
	}
	n.$inject = ["$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.multiSelect", []).directive("eqxMultiSelectPanel", n(425)).directive("eqxAlign", n(428)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o() {
		return {
			restrict: "E",
			replace: !0,
			scope: {},
			template: n(427),
			controller: ["$scope", "$rootScope", "selectService", "copyService",
			function(e, t, n, o) {
				"ngInject";
				e.comps = n.comps;
				var a = e.vm = {
					canPaste: !1
				};
				e.$watch(function() {
					return o.getJsons().length > 0
				},
				function(e) {
					return a.canPaste = e
				}),
				e.copyComps = function() {
					o.addJsons.apply(o, i(n.comps))
				},
				e.pasteComps = function() {
					t.$broadcast("multiSelect.paste")
				},
				e["delete"] = function() {
					t.$broadcast.apply(t, ["wsComp.delete"].concat(i(n.comps)))
				}
			}]
		}
	}
	n(426),
	e.exports = o
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=select-panel ng-show="comps.length > 1"><div class="modal-header ng-scope"><span>多选操作</span></div><div class=select-content><ul><li><a class="hint--bottom hint--rounded" eqx-align data-hint=左对齐><span class=eqf-putleft></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=水平居中对齐><span class=eqf-putmiddle></span> </a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=右对齐><span class=eqf-putright></span> </a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=上对齐><span class=eqf-puttop></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=垂直居中对齐><span class=eqf-putcenter></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=下对齐><span class=eqf-putunder></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=竖直均分><span class=eqf-chuizhijunfen></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=水平均分><span class=eqf-shuipingjunfen></span></a></li></ul><ul><li ng-click=copyComps()><a class="hint--bottom hint--rounded" data-hint=复制><span class=eqf-scene-copy></span></a></li><li ng-click=pasteComps()><a class="hint--bottom hint--rounded" data-hint=粘贴 ng-class="{disabled: !vm.canPaste}"><span class=eqf-print></span></a></li><li ng-click=delete()><a class="hint--bottom hint--rounded" data-hint=删除 eqx-delete-more><span class=eqf-scene-delete></span></a></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "selectService",
			function(e, t, n) {
				"ngInject";
				e.align = function(e) {
					var o = n.comps,
					c = o.length;
					if (! (c < 1)) {
						for (var l = Number.POSITIVE_INFINITY,
						p = Number.NEGATIVE_INFINITY,
						d = Number.POSITIVE_INFINITY,
						u = Number.NEGATIVE_INFINITY,
						g = 0; g < c; g++) {
							var m = o[g],
							f = m.compJson.css,
							h = f.left,
							v = f.top,
							y = f.width,
							b = f.height,
							x = f.transform;
							m.$rect1 = new a({
								x: h,
								y: v
							},
							y, b);
							var w = r.parseTransform(x).rotate;
							w && (m.$rect1 = m.$rect1.rotate(w));
							var S = m.$rect2 = new a(m.$rect1);
							m.$center = m.$rect2.center(),
							S.p1.x < l && (l = S.p1.x),
							S.p1.y < d && (d = S.p1.y),
							S.p2.x > p && (p = S.p2.x),
							S.p2.y > u && (u = S.p2.y)
						}
						var k = s((l + p) / 2),
						C = s((d + u) / 2);
						switch (e) {
						case "左对齐":
							o.forEach(function(e) {
								return e.$rect2.moveX(l - e.$rect2.p1.x)
							});
							break;
						case "右对齐":
							o.forEach(function(e) {
								return e.$rect2.moveX(p - e.$rect2.p2.x)
							});
							break;
						case "上对齐":
							o.forEach(function(e) {
								return e.$rect2.moveY(d - e.$rect2.p1.y)
							});
							break;
						case "下对齐":
							o.forEach(function(e) {
								return e.$rect2.moveY(u - e.$rect2.p2.y)
							});
							break;
						case "水平居中对齐":
							o.forEach(function(e) {
								return e.$rect2.moveX(k - e.$center.x)
							});
							break;
						case "垂直居中对齐":
							o.forEach(function(e) {
								return e.$rect2.moveY(C - e.$center.y)
							});
							break;
						case "水平均分":
							if (c < 2) return;
							var T = o.map(function(e) {
								return e
							}).sort(function(e, t) {
								return e.$center.x - t.$center.x
							});
							l = T[0].$center.x,
							p = T[c - 1].$center.x;
							var $ = (p - l) / (c - 1);
							T.forEach(function(e, t) {
								var n = l + $ * t - e.$center.x;
								e.$rect2.moveX(n)
							});
							break;
						case "竖直均分":
							if (c < 2) return;
							T = o.map(function(e) {
								return e
							}).sort(function(e, t) {
								return e.$center.y - t.$center.y
							}),
							d = T[0].$center.y,
							u = T[c - 1].$center.y,
							$ = (u - d) / (c - 1),
							T.forEach(function(e, t) {
								var n = d + $ * t - e.$center.y;
								e.$rect2.moveY(n)
							})
						}
						t.$broadcast.apply(t, ["align"].concat(i(o)))
					}
				}
			}],
			link: function(e, t, n) {
				var i = n.hint;
				t.on("click.align",
				function() {
					e.$apply(function() {
						return e.align(i)
					})
				}),
				t.on("$destroy",
				function() {
					return t.off(".align")
				})
			}
		}
	}
	var a = n(354),
	r = n(358),
	s = n(200).toInt;
	e.exports = o
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.tool", [n(430)]).directive("eqxWsTool", n(435)).directive("eqxToolBg", n(438)).directive("eqxToolEffect", n(440)).directive("eqxToolBgm", n(442)).directive("eqxToolGrid", n(444)).directive("eqxToolZoom", n(446)).directive("eqxZoomTip", n(448)).directive("eqxZoomWs", n(451)).directive("fixedTool", n(452)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("tool.psd", []).factory("psdValidation", n(431)).factory("psdService", n(432)).directive("eqdToolPsd", n(433)).name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			if (t.length > 1) return e.openMsgDialog({
				msg: "您每次上传只能添加一个PSD格式的图片！"
			}),
			!1;
			if (t.length < 1) return e.openMsgDialog({
				msg: "您还没有添加PSD格式的图片！"
			}),
			!1;
			var n = t[0].name.substr(t[0].name.lastIndexOf(".")).toLowerCase();
			return ".psd" !== n ? (e.openMsgDialog({
				msg: "您上传的不是PSD格式图片，请添加PSD格式的图片！"
			}), !1) : !(t[0].size > 31457280) || (e.openMsgDialog({
				msg: "psd文件大小超过30M了，上传文件不可以超过30M。"
			}), !1)
		}
		function n(t) {
			var n = t.filter(function(e) {
				if ("string" == typeof e) return e
			});
			if (n.length > 0) {
				var i = n.join(",");
				e.openMsgDialog({
					msg: '图层 "' + i + '" 超过5M，我们已经屏蔽掉了！'
				})
			}
		}
		return {
			validationPsd: t,
			removeLayerWarning: n
		}
	}
	n.$inject = ["modalService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			function t(e) {
				if (e.childless())"layer" === e.type && 0 !== e.width && 0 !== e.height && n.push(e);
				else for (var i = e.children().length - 1; i > -1; i--) e.children()[i].visible() === !0 && t(e.children()[i])
			}
			var n = [];
			return t(e),
			n
		}
		function t(t) {
			var n = require1("psd");
			return n.fromDroppedFile(t).then(function(t) {
				return e(t.tree())
			})
		}
		function n(e) {
			return t(e[0])
		}
		return {
			psdDecompose: n
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, a, r, s, c, l) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(434),
			scope: {},
			link: function(n) {
				function p() {
					var e = "//lib.eqh5.com/psd.js/3.1.0/psd.min.js";
					return new Promise(function(t) {
						o.delayLoadJSAndCSS(e, "js").then(function(e) {
							if (e) {
								var n = document.createElement("script");
								n.type = "text/javascript",
								n.text = "var require1 = require";
								var i = document.getElementsByTagName("head")[0];
								i.appendChild(n),
								t()
							}
						})
					})
				}
				function d(e) {
					return i.psdDecompose(e)
				}
				function u(e) {
					return e.length > 0 ? a.getUploadToken("image").then(function(t) {
						return Promise.all(e.map(function(e, n) {
							var i = e.layer.image.toBase64().substring(22);
							return i.length > 5242880 ? Promise.resolve(e.name) : a.uploadBase64(t, i).then(function(t) {
								var n = {
									fileType: "1",
									bizType: 0,
									path: t.key,
									tmbPath: t.key,
									tagId: 0,
									name: e.name.substr(0, 50),
									size: Math.ceil(t.size / 1024)
								};
								return r.saveFileInfo(n)
							}).then(function(t) {
								var i = t.data.obj;
								return i.top = e.layer.top / 2,
								i.left = e.layer.left / 2,
								i.width = e.layer.width / 2,
								i.height = e.layer.height / 2,
								s.setCurrent(n + 1),
								i
							})["catch"](function(e) {
								return e
							})
						}))
					})["catch"](function(e) {
						return e
					}) : e
				}
				function g(t) {
					t.map(function(t) {
						e.$broadcast("psd.image", t)
					})
				}
				function m(e) {
					p().then(function() {
						return d(e)
					}).then(function(e) {
						return s.setTotal(e.length),
						s.setShowLoading(!0),
						u(e)
					}).then(function(e) {
						s.setShowLoading(!1),
						g(e),
						t.removeLayerWarning(e),
						l.image.clearTag(l.image.ID.my, l.image.ID.my + "-all")
					})["catch"](function(e) {
						s.setShowLoading(!1),
						alert(e)
					})
				}
				n.reminder = !1,
				n.openRemind = function() {
					n.reminder = !n.reminder,
					s.setTotal(0),
					s.setCurrent(0)
				},
				n.psdAccessController = c.permission("disablePsd"),
				n.fileNameChanged = function(e) {
					$(e.target).parent().find("input").remove();
					var i = $('<input type="file" style="display:none;" accept=".psd"/>');
					$(e.target).parent().append(i),
					i.trigger("click"),
					i.change(function() {
						i.remove(),
						t.validationPsd(this.files) && m(this.files)
					}),
					n.openRemind()
				}
			}
		}
	}
	i.$inject = ["$rootScope", "psdValidation", "psdService", "uploaderService", "fileAPI", "psdLoadingService", "authorityService", "imageService"];
	var o = n(293);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=psdTool ng-click=openRemind(); ng-if=!psdAccessController big-data-event categorytwoid=33 categorytwo=psd文件上传 actiontype=4><em class="imp heart" ng-if=showPhoneTip></em> <i class=eqf-ps style=font-size:15px></i></div><div ng-class={showin:reminder} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=openRemind();><span aria-hidden=true>×</span></button><h4 class=modal-title>PSD上传</h4></div><div class=modal-body><p style=line-height:30px;text-align:left>1. 建议上传单页PSD尺寸为640*1008px。<br/>2. 为保证上传速度，PSD文件大小不超过30M，图层不能超过30个，且每个图层不能够超过5M。<br/>3. 为保证图片质量，建议上传前尽量将效果合并至图层中。</p></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=fileNameChanged($event);>确定</button></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			replace: !0,
			scope: {
				showPhone: "=",
				eqxPage: "="
			},
			template: n(437),
			controller: ["$scope", "$rootScope", "$q", "$timeout", "selectService", "historyService", "workspaceService", "warnService",
			function(e, t, n, i, o, a, r, s) {
				"ngInject";
				function c() {
					if (l) {
						var e = l.pageJson.id;
						p = a.getPageHistory(e)
					} else p = null
				}
				var l = null,
				p = null;
				e.vm = {
					get showPhone() {
						if (l) {
							var e = l.pageJson.properties;
							if (e.longPage) return ! 1
						}
						return r.showPhone
					},
					get warn() {
						return s.state
					}
				},
				e.canBack = function() {
					return !! p && p.canBack()
				},
				e.canForward = function() {
					return !! p && p.canForward()
				},
				e.back = function() {
					t.$broadcast("tool.back")
				},
				e.forward = function() {
					t.$broadcast("tool.forward")
				},
				e.preview = function() {
					l && (l.eqxCompList.forEach(function(e) {
						return e.stopAnimation()
					}), i(function() {
						l.eqxCompList.forEach(function(e) {
							return e.startAnimation({
								maxCount: 1,
								reset: !0
							})
						})
					},
					1))
				},
				e.copyPage = function() {
					t.$broadcast("tool.copyPage")
				},
				e.togglePhone = function() {
					if (l) {
						var e = l.pageJson.properties;
						if (e.longPage) return
					}
					r.showPhone = !r.showPhone
				},
				e.$watch("eqxPage",
				function() {
					l = e.eqxPage,
					c()
				})
			}]
		}
	}
	n(436),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=ws-tool fixed-tool><a data-hint=撤消(ctrl+z) ng-class="{active: canBack()}" class="hint--right hint--rounded" big-data-event categorytwoid=26 categorytwo=撤消 actiontype=4 ng-click=back()><i class=eqf-bg style=font-size:12px></i> </a><a data-hint=恢复(ctrl+y) ng-class="{active: canForward()}" class="hint--right hint--rounded" ng-click=forward() big-data-event categorytwoid=27 categorytwo=恢复 actiontype=4><i class=eqf-back style=font-size:12px></i> </a><a data-hint=刷新预览 class="active hint--right hint--rounded" ng-click=preview() big-data-event categorytwoid=28 categorytwo=刷新预览 actiontype=4><i class=eqf-play2></i> </a><a data-hint=复制当前页 style=margin-bottom:1px class="active hint--right hint--rounded" ng-click=copyPage() big-data-event categorytwoid=29 categorytwo=复制当前页 actiontype=4><i class=eqf-scene-copy></i></a><eqx-tool-bg></eqx-tool-bg><eqx-tool-bgm></eqx-tool-bgm><eqx-tool-effect></eqx-tool-effect><eqx-tool-grid></eqx-tool-grid><eqx-tool-zoom></eqx-tool-zoom><a data-hint=手机边框 class="hint--right hint--rounded" ng-click=togglePhone() ng-class="{active: vm.showPhone}" big-data-event categorytwoid=32 categorytwo=手机边框 actiontype=4><i class=eqf-phone style=font-size:15px></i></a><eqd-tool-psd></eqd-tool-psd><a id=warn data-hint=警告 class="hint--right hint--rounded" ng-class=vm.warn><i class=eqf-exclamation-sign></i></a></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(439),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService",
			function(e, t, n) {
				"ngInject";
				function i() {
					var e = n.getCurrentPage();
					if (e) return e.pageJson.elements.find(function(e) {
						return "3" == e.type
					})
				}
				var o = e.vm = {
					get bgJson() {
						return i()
					},
					showPanel: !1,
					showEffectPanel: !1
				};
				e.toggle = function() {
					o.bgJson ? o.showPanel = !0 : (e.changeBg(), o.showPanel = !1)
				},
				e.closePanel = function() {
					o.showPanel = !1,
					o.showEffectPanel = !1
				},
				e.changeBg = function() {
					e.closePanel(),
					t.$broadcast("bg.edit")
				},
				e.cutBg = function() {
					e.closePanel(),
					t.$broadcast("bg.cut", o.bgJson)
				},
				e.showEffect = function() {
					return 2 != o.bgJson.properties.croptype
				},
				e.changeEffect = function(n) {
					e.closePanel(),
					e.showEffect() && t.$broadcast("bg.effect", n)
				},
				e.removeBg = function() {
					e.closePanel(),
					t.$broadcast("bg.delete")
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=背景 ng-click=toggle() class="hint--right hint--rounded" ng-class="{active: !!vm.bgJson}" big-data-event categorytwoid=2 categorytwo=背景 actiontype=4><i class=eqf-top-background style=font-size:13px></i></a><div class=background-container ng-mouseenter="vm.showEffectPanel = false;" ng-if=vm.showPanel outside-click=closePanel() ng-class="{\'on\': vm.showPanel}"><div class=background-panel><div class=setting-group ng-if=vm.bgJson.properties.imgSrc ng-mouseenter="vm.showEffectPanel = false;" ng-click=cutBg()><div class=setting-btn><span class=eqf-cut></span></div><span>裁剪</span></div><div class=setting-group ng-mouseenter="vm.showEffectPanel = false;" ng-click=changeBg()><div class=setting-btn><span class=eqf-refresh></span></div><span>更换</span></div><div class=setting-group ng-if=showEffect() ng-mouseenter="vm.showEffectPanel = true;" ng-click=changeEffect()><div class=setting-btn><span class=eqf-xiaoguo></span></div><span>效果</span></div><div class=setting-group ng-mouseenter="vm.showEffectPanel = false;" ng-click=removeBg($event)><div class=setting-btn><span class=eqf-scene-delete></span></div><span>删除</span></div></div></div><div class=bgoption-container ng-class="{\'on\':  vm.showPanel && vm.showEffectPanel }"><div class=bgoption-panel><div class=setting-group ng-class="{active: vm.bgJson.effect && vm.bgJson.effect.type == \'scaleUp\' }" ng-click="changeEffect(\'scaleUp\')"><div class=setting-btn><span class=eqf-bigger></span></div><span>放大</span></div><div class=setting-group ng-class="{active: vm.bgJson.effect && vm.bgJson.effect.type == \'scaleDown\' }" ng-click="changeEffect(\'scaleDown\')"><div class=setting-btn><span class=eqf-small></span></div><span>缩小</span></div><div class=setting-group ng-if=vm.bgJson.effect ng-click=changeEffect()><div class=setting-btn><span class=eqf-wrong></span></div><span>删除</span></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(441),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = e.vm = {
					get showEffect() {
						var e = n.getCurrentPage();
						if (e) return !! e.pageJson.properties.effect
					},
					showPanel: !1
				};
				e.toggle = function() {
					i.showEffect ? i.showPanel = !0 : (e.changeEffect(), i.showPanel = !1)
				},
				e.closePanel = function() {
					i.showPanel = !1
				},
				e.changeEffect = function() {
					i.showPanel = !1,
					t.$broadcast("pageEffect.edit")
				},
				e.removeEffect = function() {
					i.showPanel = !1,
					t.$broadcast("pageEffect.delete")
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=特效 class="hint--right hint--rounded" style=margin-bottom:1px ng-click=toggle() ng-class="{active: vm.showEffect}" big-data-event categorytwoid=9 categorytwo=特效 actiontype=4><i class=eqf-top-star style=font-size:16px></i></a><div class=effects-container ng-if=vm.showPanel ng-class="{\'on\':vm.showPanel}" outside-click=closePanel()><div class=effects-panel><div class=setting-group ng-click=changeEffect() data-event=12033><div class=setting-btn><span class=eqf-refresh></span></div><span>更换</span></div><div class=setting-group ng-click=removeEffect() data-event=12033><div class=setting-btn><span class=eqf-scene-delete></span></div><span>删除</span></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(443),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = n.eqxScene,
				o = e.vm = {
					get showBgm() {
						return !! i.sceneJson.meta.bgAudio
					},
					showPanel: !1
				};
				e.toggle = function() {
					o.showBgm ? o.showPanel = !0 : (e.changeBgm(), o.showPanel = !1)
				},
				e.closePanel = function() {
					o.showPanel = !1
				},
				e.changeBgm = function() {
					o.showPanel = !1,
					t.$broadcast("bgm.edit")
				},
				e.removeBgm = function() {
					o.showPanel = !1,
					t.$broadcast("bgm.delete")
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=音乐 class="hint--right hint--rounded" ng-click=toggle() ng-class="{active: vm.showBgm}" big-data-event categorytwoid=3 categorytwo=音乐 actiontype=4><i class=eqf-top-music></i></a><div class=music-container ng-class="{\'on\': vm.showPanel }" ng-if=vm.showPanel outside-click=closePanel()><div class=music-panel><div class=setting-group ng-click=changeBgm() data-event=12032><span>更换</span><div class=setting-btn><span class=eqf-refresh></span></div></div><div class=setting-group ng-click=removeBgm() data-event=12032><span>删除</span><div class=setting-btn><span class=eqf-scene-delete></span></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(445),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService", "assistLineService", "assistGridService",
			function(e, t, n, i, o) {
				"ngInject";
				var a = o,
				r = i,
				s = e.vm = {
					get gridState() {
						return a.getGridState() ? "enable": "disable"
					},
					set gridState(e) {
						return a.setGridState("enable" == e)
					},
					get gridColor() {
						return a.getColor()
					},
					set gridColor(e) {
						a.setColor(e)
					},
					get attractState() {
						return r.getAttractState() ? "enable": "disable"
					},
					set attractState(e) {
						r.setAttractState("enable" == e),
						r.getAttractState() && r.setAssistLineState(!0)
					},
					get assistLineState() {
						return r.getAssistLineState() ? "enable": "disable"
					},
					set assistLineState(e) {
						r.setAssistLineState("enable" == e),
						r.getAssistLineState() || r.setAttractState(!1)
					},
					get showGrid() {
						return r.getAttractState() || r.getAssistLineState() || a.getGridState()
					},
					showPanel: !1
				};
				e.toggle = function() {
					s.showPanel = !0
				},
				e.closePanel = function() {
					s.showPanel = !1
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=网格设置 class="hint--right hint--rounded grid-guide" ng-click=toggle() ng-class="{active: vm.showGrid}" big-data-event categorytwoid=30 categorytwo=网格设置 actiontype=4><i class=eqf-wangge style=font-size:13px></i></a><div class="grid-guide-container on" ng-if=vm.showPanel outside-click=closePanel()><div class=grid-guide-setting><div class=setting-group><span>网格开关</span><div class=setting-choice><switch-btn ng-model=vm.gridState></switch-btn></div></div><div class=setting-group><span style=height:24px>网格颜色</span></div><div class=setting-group style=height:44px><eqd-input-color select-color=vm.gridColor direction=left theme=flo_lef notify=grid x=-18 w=128 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div><div class=setting-group><span>智能参考</span><div class=setting-choice><switch-btn ng-model=vm.assistLineState></switch-btn></div></div><div class=setting-group><span>吸附效果</span><div class=setting-choice><switch-btn ng-model=vm.attractState></switch-btn></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			scope: {},
			template: o,
			controller: ["$scope", "zoomService", "$rootScope", "authorityService",
			function(e, t, n, i) {
				"ngInject";
				var o = e.vm = {
					scale: 1,
					showPanel: !1
				};
				e.toolZoomAccessController = i.permission("toolZoom"),
				e.showPanel = function() {
					o.showPanel = !0
				},
				e.closePanel = function() {
					o.showPanel = !1
				},
				e.update = function() {
					n.$broadcast("updateScale", t.getScale())
				},
				e.setDefault = function() {
					t.setDefault(),
					e.update(),
					e.closePanel()
				},
				e.zoomOut = function() {
					t.zoomOut(),
					e.update(),
					e.closePanel()
				},
				e.zoomIn = function() {
					t.zoomIn(),
					e.update(),
					e.closePanel()
				}
			}]
		}
	}
	var o = n(447);
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=编辑区域缩放 ng-if=!toolZoomAccessController ng-click=showPanel() eqx-red-dot-trigger=zoom class="hint--right hint--rounded active"><em eqx-red-dot=zoom></em> <i class=eqf-search style=font-size:15px></i></a><div class="zoom-container on" ng-if=vm.showPanel outside-click=closePanel()><div class=zoom-panel><a ng-click=zoomOut()><i class=eqf-bigger></i></a> <a ng-click=zoomIn()><i class=eqf-small></i></a> <a ng-click=setDefault()>默认</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			scope: {},
			replace: !0,
			template: o,
			link: function(e, t) {
				e.$on("updateScale",
				function() {
					e.showZoomTip(t)
				})
			},
			controller: ["$scope", "zoomService",
			function(e, t) {
				"ngInject";
				function n(e) {
					return parseInt(100 * e, 10) + "%"
				}
				e.vm = {
					tip: n(t.getScale())
				};
				var i = null;
				e.showZoomTip = function(e) {
					e.html(n(t.getScale())),
					e.fadeIn(800),
					i && clearTimeout(i),
					i = setTimeout(function() {
						e.fadeOut(800)
					},
					2500)
				}
			}]
		}
	}
	n(449);
	var o = n(450);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=zoom-tip>{{vm.tip}}</div>"
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		return {
			scope: {},
			link: function(n, i) {
				function o(e) {
					i.css("transform", "scale(" + e + ")"),
					console.log("transform", "scale(" + e + ")"),
					setTimeout(function() {
						var t = c.getBoundingClientRect(),
						n = t.left + t.width / 2,
						o = t.top + t.height / 2,
						a = i[0].getBoundingClientRect(),
						r = a.left + a.width / 2,
						s = a.top + a.height / 2,
						l = r - n,
						p = s - o;
						e > 1 && (p /= 2),
						l >= 0 ? c.scrollLeft = l: c.scrollLeft = 0,
						p >= 0 ? c.scrollTop = p: c.scrollTop = 0
					}),
					e < 1 ? i.css({
						height: s
					}) : 1 === e ? i.css({
						height: s
					}) : i.css({
						height: s * e
					})
				}
				var a = 0;
				i.parent().scroll(function() {
					var e = $(this).scrollLeft();
					a !== e && (a = e, n.$apply(function() {
						t.$broadcast("wsHorizontal")
					}))
				});
				var r = 50,
				s = $(document).height() - r;
				i.css({
					height: s
				});
				var c = i.parent()[0];
				n.$watch(function() {
					return e.getScale()
				},
				function(e, t) {
					e !== t && o(e)
				}),
				o(e.getScale())
			}
		}
	}
	n.$inject = ["zoomService", "$rootScope"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		return {
			restrict: "A",
			link: function(n, i) {
				function o(e) {
					var n = $(".eqx-assist-grid")[0],
					o = n.getBoundingClientRect(),
					a = o.left + o.width + 2;
					o.top;
					if (!e) {
						var r = t.getScale();
						a += 24 * r,
						r > 1 && (a += 2 * r)
					}
					i.css({
						position: "fixed",
						top: "50%",
						left: a,
						marginTop: "-200px"
					})
				}
				n.$watch("showPhone",
				function(e) {
					o(e)
				}),
				n.$watch("eqxPage",
				function() {
					e(function() {
						return o(n.showPhone)
					})
				}),
				["compDrag.move", "selectBox.move", "wsComp.add", "wsComp.delete.end", "compResize.move", "wsHorizontal"].forEach(function(e) {
					n.$on(e,
					function() {
						o(n.showPhone)
					})
				}),
				n.$on("updateScale",
				function() {
					e(function() {
						o(n.showPhone)
					},
					0)
				}),
				$(window).resize(function() {
					o(n.showPhone)
				})
			}
		}
	}
	n.$inject = ["$timeout", "zoomService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.outbox", []).directive("eqxWsOutbox", n(454)).directive("outboxCss", n(457)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(456),
			scope: {
				eqxPage: "="
			},
			controller: ["$scope", "warnService", "$timeout", "WARN_TYPE",
			function(e, t, n, i) {
				"ngInject";
				function a() {
					if (!c) {
						var n = e.eqxPage;
						if (!n) return void t.updateState(i.normal);
						var a = n.pageJson.properties,
						s = a.longPage,
						l = 374,
						p = 320;
						if (s) d = s,
						u = d + 17;
						else var d = 486,
						u = 520;
						var g = new r(0, 0, p, d),
						m = new r(( - 27), ( - 17), l, u),
						f = !1,
						h = !1;
						n.eqxCompList.forEach(function(e) {
							var t = e.compJson.css,
							n = o(t, {
								x: 0,
								y: 0
							});
							g.contains(n) || (f = !0),
							m.contains(n) || (h = !0)
						}),
						t.updateState(h ? i.alert: f ? i.warn: i.normal),
						c = !1
					}
				}
				var s = e.vm = {
					get state() {
						return t.state
					},
					get outboxClass() {
						return s.state === i.alert ? "alerting": ""
					},
					get inboxClass() {
						return s.state === i.warn ? "warning": ""
					}
				},
				c = !1; ["compResize.end", "compRotate.end", "keymap.dirMove", "compDrag.end", "wsComp.delete", "keymap.delete", "wsComp.add", "align", "pageManager.changePage", "tool.forward", "tool.back", "keymap.forward", "keymap.back", "longPageAdjust.up"].forEach(function(t) {
					return e.$on(t,
					function() {
						return n(a)
					})
				})
			}]
		}
	}
	function o(e, t) {
		var n = e.left,
		i = e.top,
		o = e.width,
		a = e.height,
		l = e.transform,
		p = new s(n + t.x, i + t.y),
		d = new s(p.x + o, p.y + a),
		u = new r(p, d);
		if (l) {
			var g = c.parseTransform(l);
			if (g && g.rotate) return u.rotate(g.rotate)
		}
		return u
	}
	n(455);
	var a = n(353),
	r = a.Rect,
	s = a.Point,
	c = n(358);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div outbox-css class=outer-box ng-class=vm.outboxClass><div class=internal-box ng-class=vm.inboxClass></div></div>"
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			link: function(e, t) {
				function n(t) {
					var n = e.eqxPage;
					if (n) {
						if (!t) {
							var a = n.pageJson.properties;
							t = a.longPage
						}
						t ? (i.css({
							height: t + 17,
							"margin-bottom": 230
						}), o.css({
							"border-bottom": "none",
							height: t
						})) : (i.css({
							height: 520,
							"margin-bottom": 50
						}), o.css({
							height: 486,
							border: "1px dashed #586077"
						}))
					}
				}
				var i = t,
				o = t.find(".internal-box");
				e.$on("longPageAdjust.move",
				function(e, t) {
					n(t)
				}),
				e.$watch("eqxPage",
				function() {
					n()
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.longPageAdjust", []).directive("eqxLongPageAdjust", n(459)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			restrict: "E",
			template: n(461),
			scope: {
				eqxPage: "="
			},
			replace: !0,
			link: function(t, n) {
				function i() {
					for (var n = arguments.length,
					i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
					t.$apply(function() {
						e.$broadcast.apply(e, i)
					})
				}
				function o(e) {
					return e + p
				}
				var a = t.vm = {
					show: !1,
					move: !1,
					showTip: !1
				},
				r = $(document),
				s = 2430,
				c = 502,
				l = 0,
				p = 16;
				t.$watch("eqxPage",
				function() {
					a.move = !1;
					var e = t.eqxPage;
					if (e) {
						e.$newPageHeight && (a.showTip = !0),
						a.show = e.isLongPage();
						var i = l = e.getPageHeight();
						n.css("top", o(i));
					} else a.show = !1,
					a.showTip = !1
				}),
				n.on("mousedown.adjust",
				function(e) {
					e.stopPropagation();
					var p = t.eqxPage,
					d = p.getPageHeight(),
					u = e.pageY,
					g = e.pageY,
					m = 0;
					a.move = !0,
					i("longPageAdjust.start", l, m),
					r.on("mousemove.adjust",
					function(e) {
						delete p.$newPageHeight,
						a.showTip = !1,
						g = e.pageY,
						m = g - u,
						l = d + m,
						l < c ? l = c: l > s && (l = s),
						i("longPageAdjust.move", l, m),
						n.css("top", o(l))
					}),
					r.on("mouseup.adjust",
					function() {
						r.off(".adjust"),
						a.move = !1,
						i("longPageAdjust.move", l, m),
						i("longPageAdjust.up", l, m)
					})
				})
			}
		}
	}
	i.$inject = ["$rootScope"],
	n(460),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=long-page-adjust ng-show=vm.show ng-class=\"{'move': vm.move}\"><div class=adjust-line></div><div class=adjust-button><div></div></div><div class=adjust-tip ng-show=vm.showTip>可拖拽调整页面长度</div></div>"
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			return e.getCompById(t)
		}
		return {
			getCompById: t
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			var t = e.getCurrentPage();
			if (t) return t.pageJson.properties.xb
		}
		function n() {
			return !! $("#btn-toolbar").length
		}
		function i() {
			return !! $("#btn-toolbar").length || document.activeElement !== document.body
		}
		function o() {
			return !! $("#btn-toolbar").length || document.activeElement !== document.body
		}
		return {
			disableOperate: t,
			disableClick: n,
			disableDrag: i,
			disableKeymap: o
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e) {
		"ngInject";
		function t(e) {
			return c.indexOf(e) > -1
		}
		function i() {
			for (var i = arguments.length,
			o = Array(i), a = 0; a < i; a++) o[a] = arguments[a];
			o = o.filter(function(e) {
				return ! t(e)
			}),
			c.push.apply(c, n(o)),
			e.$broadcast.apply(e, ["selectService.add"].concat(n(o)))
		}
		function o() {
			for (var t = [], n = arguments.length, i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
			i.forEach(function(e) {
				var n = c.indexOf(e);
				n > -1 && t.push(c.splice(n, 1)[0])
			}),
			e.$broadcast.apply(e, ["selectService.remove"].concat(t))
		}
		function a(t) {
			var i = c.splice(t, 1);
			return e.$broadcast.apply(e, ["selectService.remove"].concat(n(i))),
			i[0]
		}
		function r() {
			var t = c.splice(0, c.length);
			t.length && e.$broadcast.apply(e, ["selectService.remove"].concat(n(t)))
		}
		function s(e) {
			for (var t = 0; t < c.length;) c[t] !== e ? a(t) : t++
		}
		var c = [];
		return {
			get comps() {
				return c
			},
			has: t,
			remove: o,
			add: i,
			removeAll: r,
			removeOthers: s
		}
	}
	i.$inject = ["$rootScope"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i() {
		"ngInject";
		function e() {
			r = null
		}
		function t() {
			for (var e, t = arguments.length,
			i = Array(t), o = 0; o < t; o++) i[o] = arguments[o];
			a(),
			i = i.filter(function(e) {
				return ! ("" + e.compJson.id).includes("wx")
			}).map(function(e) {
				return JSON.parse(JSON.stringify(e.compJson))
			}),
			(e = r).push.apply(e, n(i))
		}
		function i() {
			return r
		}
		function o() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			t.forEach(function(e) {
				var t = r.findIndex(function(t) {
					return t.id === e.compJson.id
				});
				t > -1 && r.splice(t, 1)
			})
		}
		function a() {
			r.length = 0
		}
		var r = [];
		return {
			init: e,
			addJsons: t,
			getJsons: i,
			removeJsons: o,
			clearCopyComps: a
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e() {
			i = null
		}
		function t(e) {
			i = e ? JSON.parse(JSON.stringify(e)) : null
		}
		function n() {
			return i
		}
		var i = null;
		return {
			init: e,
			setCopyAnim: t,
			getCopyAnim: n
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		var t = e.getItemByUser("showPhone"),
		n = 1;
		return {
			get showPhone() {
				return void 0 === t && (t = !0),
				t
			},
			set showPhone(n) {
				t = n,
				e.setItemByUser("showPhone", n)
			},
			get scale() {
				return n
			}
		}
	}
	n.$inject = ["storageService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(e) {
			n = e
		}
		var n = e.normal;
		return {
			get state() {
				return n
			},
			updateState: t
		}
	}
	n.$inject = ["WARN_TYPE"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return l
		}
		function n() {
			l = 1,
			a()
		}
		function i() {
			var e = r.indexOf(l);
			return e++,
			e >= s && (e = s),
			l = r[e],
			a(),
			l
		}
		function o() {
			var e = r.indexOf(l);
			return e--,
			e < 0 && (e = 0),
			l = r[e],
			a(),
			l
		}
		function a() {
			e.setItemByUser(c, l)
		}
		var r = [.5, .75, 1, 1.25, 1.5, 2, 2.5, 3, 3.5, 4],
		s = r.length - 1,
		c = "editorScale2",
		l = e.getItemByUser(c) || 1;
		return r.indexOf(l) < 0 && n(),
		{
			getScale: t,
			setDefault: n,
			zoomOut: i,
			zoomIn: o
		}
	}
	n.$inject = ["storageService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, o, a, c, l, p, d, u, g, m, f, h, v, y, b) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(473),
			link: function(n, x, w) {
				function S(e) {
					var t = b.getScale(),
					n = e.compJson.css,
					i = n.left,
					o = n.top,
					a = n.width,
					c = n.height,
					l = {
						left: i * t,
						top: o * t,
						width: a * t,
						height: c * t
					},
					p = l.left + J.left,
					d = l.top + J.top,
					u = l.width,
					g = l.height,
					m = p + u,
					f = d + g,
					h = new r(new s(p, d), new s(m, f));
					return h.center()
				}
				function k(t) {
					if (t === R.id) {
						var n = R.p1,
						i = R.p2,
						o = new r(n, i),
						a = [],
						s = [];
						D.eqxCompList.forEach(function(e) {
							e.$center || (e.$center = S(e)),
							o.contains(e.$center) ? a.push(e) : s.push(e)
						}),
						e.remove.apply(e, s),
						e.add.apply(e, a)
					}
				}
				function C(e, t) {
					for (var n = t.x - e.x,
					i = t.y - e.y,
					o = arguments.length,
					a = Array(o > 2 ? o - 2 : 0), r = 2; r < o; r++) a[r - 2] = arguments[r];
					var s = a.length;
					return ! (!s || !n && !i) && (a.forEach(function(e) {
						var t = e.$translate3d;
						t ? (e.updatePos(t.x, t.y), e.$translate3d = null) : e.updatePos(n, i)
					}), !0)
				}
				function T() {
					var e = B.back();
					e && j(_, e.json)
				}
				function q() {
					var e = B.forward();
					e && j(_, e.json)
				}
				function I(e) {
					var t = ["5", "501", "502", "503", "504", "c", "r", "z", "a"];
					return e.some(function(e) {
						return t.includes(e.compJson.type + "")
					})
				}
				function E() {
					for (var n = arguments.length,
					i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
					if (I(i)) var a = c.openConfirmDialog({
						msg: "将删除已收集的数据",
						confirmName: "确定",
						cancelName: "取消"
					});
					else a = l.resolve();
					return a.then(function() {
						var n = i.length;
						return e.remove.apply(e, i),
						i.forEach(function(e) {
							D.deleteEqxComp(e)
						}),
						n && t.$broadcast("wsComp.delete.end"),
						n
					})["catch"](function() {
						return 0
					})
				}
				function P() {
					var e, n = u.getJsons().slice(0),
					o = n.length;
					n.sort(function(e, t) {
						return e.css.zIndex - t.css.zIndex
					});
					var r = n.map(function(e) {
						var t = a.getCurrentPage();
						if (e.pageId === t.pageJson.id && (e.css.left += 10, e.css.top += 10), e = t.addCompJson(e)) {
							var n = t.initEqxCompByJson(e);
							return n && (t.renderEqxComp(n), n.startAnimation({
								maxCount: 1,
								reset: !0
							})),
							n
						}
					}).filter(function(e) {
						return !! e
					});
					return (e = console).log.apply(e, ["paste new comps"].concat(i(r))),
					t.$broadcast.apply(t, ["wsComp.add"].concat(i(r))),
					o
				}
				function A() {
					for (var e = arguments.length,
					t = Array(e), i = 0; i < e; i++) t[i] = arguments[i];
					t.forEach(function(e) {
						if (!e.compJson.css.height) {
							var t = e.$li.height();
							e.compJson.css.height = t,
							e.$li.css({
								height: t
							})
						}
						var i = e.compJson.id;
						e.$li.attr("comp-click", i),
						e.$li.attr("comp-drag", i);
						var a = $('<div comp-resize="n,ne,e,se,s,sw,w,nw,r" comp-id=' + i + ' comp-rotate="' + i + '"></div>');
						"k" == e.compJson.type && (a = $('<div comp-resize="e,w,r" comp-id=' + i + ' comp-rotate="' + i + '"></div>')),
						"j" == e.compJson.type && (a = $('<div comp-resize="r" comp-id=' + i + ' comp-rotate="' + i + '"></div>')),
						e.$li.append(a),
						"4" == e.type ? e.$li.attr("image-size", i) : "n" == e.type && e.showRandomImg(),
						e.$$resize = !1,
						o(e.$li)(n)
					})
				}
				function j(n, i) {
					if (e.removeAll(), D = F.replaceEqxPage(n, i)) return M(D),
					t.$broadcast("replacePage"),
					D
				}
				function L(e) {
					D && D.destroy(),
					D = F.getEqxPageByIndex(e),
					M(D),
					_ = e,
					B = g.getPageHistory(D.pageJson.id),
					h.editFontFamily()
				}
				function M(e) {
					var n = e.$section;
					n ? e.eqxBackground && e.eqxBackground.animate() : n = e.create$section(),
					n.addClass("editor-section"),
					F.$ele.append(n),
					A.apply(void 0, i(e.eqxCompList)),
					e.active().then(function() {
						e.show(),
						e.eqxCompList.forEach(function(e) {
							return e.startAnimation({
								maxCount: 1,
								reset: !0
							})
						}),
						t.$broadcast("changePage.end")
					})
				}
				function O(e) {
					B.addHistory(D.pageJson, e)
				}
				var F = a.eqxScene,
				_ = null,
				D = null,
				B = null,
				J = null,
				N = n.$on("eqxScene.ready",
				function() {
					F = a.eqxScene,
					F.initContainer(x.find("#nr")),
					N()
				});
				"app" === y.getEditorModel() && $(".workspace").css({
					left: 0
				}),
				n.vm = {
					get eqxPage() {
						return D
					},
					get showPhone() {
						var e = m.showPhone;
						if (D) {
							var t = D.pageJson.properties;
							return ! t.longPage && e
						}
						return e
					},
					get showTool() {
						return f.disableOperate()
					}
				},
				n.accessControl = v.assignDesignerAuthority,
				n.$on("pageManager.changePage",
				function(e, t) {
					L(t)
				}),
				n.$on("pageManager.changePage.pre",
				function(t, n, i) {
					e.removeAll()
				}),
				n.$on("selectBox.start",
				function(t) {
					e.removeAll(),
					J = F.$ele.offset()
				});
				var R = {
					p1: null,
					p2: null,
					id: 0
				};
				n.$on("selectBox.move",
				function(e, t, n) {
					R.p1 = t,
					R.p2 = n;
					var i = R.id + 1;
					R.id = i,
					k(i)
				}),
				n.$on("selectBox.end",
				function(e, t, n, i) {
					D.eqxCompList.forEach(function(e) {
						return e.$center = null
					})
				}),
				n.$on("selectService.add",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.forEach(function(e) {
						return e.$$resize = !0
					})
				}),
				n.$on("selectService.remove",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.forEach(function(e) {
						e.$$resize = !1
					})
				}),
				n.$on("wsComp.add",
				function(t) {
					for (var n = arguments.length,
					i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
					e.removeAll(),
					A.apply(void 0, i),
					d(function() {
						return e.add.apply(e, i)
					},
					0);
					var a = i.length;
					a && O("增加" + a + "个组件")
				}),
				n.$on("wsComp.updated",
				function(e) {
					var t = arguments.length <= 1 ? 0 : arguments.length - 1;
					t && O("更新属性: " + t + "个组件")
				}),
				n.$on("wsComp.delete",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					E.apply(void 0, n).then(function(e) {
						e && O("删除" + e + "个组件")
					})
				}),
				n.$on("compStyle.save",
				function(e, t) {
					O("组件样式修改, compId " + t.compJson.id)
				}),
				n.$on("compDrag.end",
				function(e, t, n) {
					for (var i = arguments.length,
					o = Array(i > 3 ? i - 3 : 0), a = 3; a < i; a++) o[a - 3] = arguments[a];
					o.forEach(function(e) {
						return e.$center = null
					}),
					C.apply(void 0, [t, n].concat(o)) && O("拖动组件")
				}),
				n.$on("align",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					var o = n.length;
					o && (n.forEach(function(e) {
						var t = e.$rect1,
						n = e.$rect2,
						i = n.p1.x - t.p1.x,
						o = n.p1.y - t.p1.y;
						e.updatePos(i, o)
					}), O("对齐组件"))
				}),
				n.$on("compRotate.end",
				function(e, t, n) {
					t.update$li({
						transform: n
					}),
					O("旋转组件")
				}),
				n.$on("compResize.move",
				function(e, t, n, i) {
					t.updateSize(n, i)
				}),
				n.$on("compResize.end",
				function(e, t, n) {
					t.update$li(n),
					O("修改组件尺寸")
				}),
				n.$on("keymap.selectAll",
				function() {
					e.add.apply(e, i(D.eqxCompList))
				}),
				n.$on("keymap.delete",
				function() {
					E.apply(void 0, i(e.comps)).then(function(e) {
						e && O("删除" + e + "个组件")
					})
				}),
				n.$on("keymap.paste",
				function() {
					P()
				}),
				n.$on("contextMenu.paste",
				function() {
					P()
				}),
				n.$on("multiSelect.paste",
				function() {
					P()
				}),
				n.$on("keymap.copy",
				function() {
					u.addJsons.apply(u, i(e.comps))
				}),
				n.$on("keymap.dirMove",
				function(t, n, i) {
					e.comps.forEach(function(e) {
						var t = e.compJson.css,
						o = {};
						o[n] = t[n] + i,
						e.update$li(o)
					})
				}),
				n.$on("keymap.dirEnd",
				function(e, t, n) {
					O("移动组件")
				}),
				n.$on("keymap.save",
				function() {
					t.$broadcast("savePage",
					function() {
						p.add("保存成功")
					})
				}),
				n.$on("keymap.back", T),
				n.$on("tool.back", T),
				n.$on("keymap.forward", q),
				n.$on("tool.forward", q),
				n.$on("tpl.useTpl",
				function(e, t) {
					var n = D.isLongPage(),
					i = j(_, t); ! n && i.isLongPage() && (i.$newPageHeight = !0),
					O("替换模板")
				}),
				n.$on("longPageAdjust.move",
				function(e, t) {
					var n = D.eqxBackground;
					n && n.updateBgHeight(t)
				}),
				n.$on("longPageAdjust.up",
				function(e, t) {
					t && (D.setProps({
						longPage: t
					}), O("调整页面长度"))
				}),
				n.$on("page.delete",
				function(e) {
					_ = null,
					D = null,
					B = null
				})
			}
		}
	}
	o.$inject = ["selectService", "$rootScope", "$compile", "sceneService", "modalService", "$q", "i18nNotifications", "$timeout", "copyService", "historyService", "workspaceService", "disableService", "fontService", "authorityService", "urlParameterService", "zoomService"],
	n(471),
	n(472);
	var a = n(353),
	r = a.Rect,
	s = a.Point;
	e.exports = o
},
function(e, t) {},
function(e, t) {},
function(e, t) {
	e.exports = '<eqx-zoom-tip></eqx-zoom-tip><div class=workspace eqx-context-menu-trigger eqx-ws-scroll eqx-select-box eqx-keymap><div eqx-zoom-ws class=zoom-wrapper><div class=container><eqx-ws-phone eqx-page=vm.eqxPage ng-if=vm.showPhone></eqx-ws-phone><div id=nr class="nr sortable"></div><eqx-long-page-adjust eqx-page=vm.eqxPage></eqx-long-page-adjust><eqx-assist-grid eqx-page=vm.eqxPage></eqx-assist-grid></div><eqx-ws-outbox eqx-page=vm.eqxPage ng-show=!vm.showPhone></eqx-ws-outbox><eqx-assist-lines></eqx-assist-lines></div><eqx-thumbnail eqx-page=vm.eqxPage ng-if="accessControl(\'selectThumbnail\')"></eqx-thumbnail><eqx-context-menu></eqx-context-menu></div><eqx-ws-tool ng-show=!vm.showTool show-phone=vm.showPhone eqx-page=vm.eqxPage></eqx-ws-tool><eqx-comp-setting panel-draggable disable-context-menu></eqx-comp-setting><eqx-multi-select-panel panel-draggable disable-context-menu></eqx-multi-select-panel><eqx-setting-tpl eqx-page-elements=vm.eqxPage.pageJson.elements panel-draggable disable-context-menu ng-if="accessControl(\'settingElementCharacter\')" style=width:200px></eqx-setting-tpl>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			link: function(e, t) {
				e.$watch("vm.eqxPage",
				function() {
					t[0].scrollTop = 0
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			restrict: "A",
			link: function(n, i, a) {
				function r(e) {
					return e.pageX
				}
				function s(e) {
					return e.pageY
				}
				function c(e) {
					return e
				}
				function l(e) {
					return e
				}
				function p(e, t) {
					var n = {
						left: c(e.x),
						top: l(e.y)
					};
					return n.width = t.x - e.x,
					n.height = t.y - e.y,
					n.width < 0 && (n.left = c(t.x), n.width = -n.width),
					n.height < 0 && (n.top = l(t.y), n.height = -n.height),
					n
				}
				i.mousedown(function(i) {
					if (i.stopPropagation(), !t.disableOperate()) {
						var a = $(document),
						c = new o(r(i), s(i));
						if (void 0 !== c.x || void 0 !== c.y) {
							var l = new o(c.x, c.y);
							e.$broadcast("selectBox.start", c);
							var d = p(c, l),
							u = $('<div class="select-box">').appendTo($("body"));
							a.on("mousemove.selectBox",
							function(t) {
								l.x = r(t),
								l.y = s(t),
								d = p(c, l),
								u.css(d),
								e.$broadcast("selectBox.move", c, l, d),
								n.$apply()
							}),
							a.on("mouseup.selectBox",
							function() {
								a.off(".selectBox"),
								e.$broadcast("selectBox.move", c, l, d),
								e.$broadcast("selectBox.end", c, l, d),
								u.remove(),
								n.$apply()
							})
						}
					}
				})
			}
		}
	}
	i.$inject = ["$rootScope", "disableService"],
	n(476);
	var o = n(355);
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		function o(o, a, r) {
			var s = t.getCompById(r.compClick);
			if (s && !s.$compClick) {
				s.$compClick = !0,
				a.on("$destroy",
				function() {
					s.$compClick = !1
				});
				var c = 0;
				a.on("mousedown.compClick",
				function(t) {
					function a() {
						t.ctrlKey || t.shiftKey ? e.has(s) ? e.remove(s) : e.add(s) : e.has(s) || (e.removeOthers(s), e.add(s)),
						n.$broadcast("compClick", s),
						o.$apply()
					}
					function r() {
						n.$broadcast("wsComp.edit", s)
					}
					t.stopPropagation(),
					i.disableOperate() || (c++, 1 === c && (a(), setTimeout(function() {
						1 === c || r(),
						c = 0
					},
					200)))
				})
			}
		}
		return {
			restrict: "A",
			link: o
		}
	}
	i.$inject = ["selectService", "compService", "$rootScope", "disableService"];
	n(355);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, n, o) {
		"ngInject";
		var s = $(document);
		return {
			link: function(p, d, u) {
				function g() {
					for (var e = arguments.length,
					n = Array(e), i = 0; i < e; i++) n[i] = arguments[i];
					p.$apply(function() {
						return t.$broadcast.apply(t, n)
					})
				}
				var m = n.getCompById(u.compDrag);
				m && !m.$compDrag && (m.$compDrag = !0, d.on("$destroy",
				function() {
					m.$compDrag = !1
				}), d.on("mousedown.compDrag",
				function(t) {
					if (!o.disableDrag()) {
						t.stopPropagation(),
						t.preventDefault();
						var n = e.comps,
						p = new r(l(t.pageX), l(t.pageY)),
						d = new r(p.x, p.y);
						g.apply(void 0, ["compDrag.start", p].concat(i(n))),
						s.on("mousemove.compDrag",
						function(t) {
							if (e.has(m)) {
								d.update(l(t.pageX), l(t.pageY));
								var o = d.x - p.x,
								a = d.y - p.y;
								n.forEach(function(e) {
									var t = c.updateTransformStr(e.$li[0].style.transform, {
										translate3d: {
											x: o,
											y: a
										}
									});
									e.$li.css({
										opacity: .6,
										cursor: "move",
										transform: t
									})
								}),
								g.apply(void 0, ["compDrag.move", p, d].concat(i(n)))
							}
						}),
						s.on("mouseup.compDrag",
						function(t) {
							s.off(".compDrag");
							var n = new r(t.pageX, t.pageY),
							o = e.comps;
							o.forEach(function(e) {
								return a(e, p, n)
							}),
							g.apply(void 0, ["compDrag.end", p, n].concat(i(o)))
						})
					}
				}))
			}
		}
	}
	function a(e) {
		var t = e.$li[0].style.transform;
		t = t.replace(s, ""),
		e.$li.css({
			opacity: e.compJson.css.opacity,
			cursor: "",
			transform: t
		})
	}
	o.$inject = ["selectService", "$rootScope", "compService", "disableService"];
	var r = n(355),
	s = /translate3d\([^\)]*\)/,
	c = n(358),
	l = n(200).toInt;
	e.exports = o
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, n, i) {
			var o = e.getCompById(i.imageSize);
			if (! (!o || o.$compImageSize || o.$width && o.$height)) {
				o.$compImageSize = !0,
				n.on("$destroy",
				function() {
					o.$compImageSize = !1
				});
				var a = o.$context[0].src,
				r = new Image;
				r.onload = function() {
					o.$width = r.width,
					o.$height = r.height,
					o.updateImageSize()
				},
				r.src = a
			}
		}
		return {
			restrict: "A",
			link: t
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			link: function(e, t) {
				function n() {
					t.css({
						left: "",
						right: 187,
						top: 51
					})
				}
				var i = $(document);
				t.on("mousedown.draggable",
				function(e) {
					function n(e) {
						var n = e.pageX,
						i = e.pageY,
						o = p.left + n - d,
						a = p.top + i - u,
						g = 0,
						m = 51,
						f = l - r,
						h = c - s;
						o < g && (o = g),
						o > f && (o = f),
						a < m && (a = m),
						a > h && (a = h),
						t.css({
							left: o,
							top: a
						})
					}
					var o = e.delegateTarget,
					a = e.target;
					if (! (o === $("div.comp-setting").get(0) && a !== $("div.cancel").get(0) || o === $("div.page-list-label").get(0) && a !== $("div.can-drag").get(0) && $(a).parent().get(0) !== $("div.can-drag").get(0))) {
						var r = t.width(),
						s = t.height(),
						c = window.innerHeight,
						l = window.innerWidth,
						p = t.position(),
						d = e.pageX,
						u = e.pageY;
						i.on("mousemove.draggable",
						function(e) {
							n(e)
						}),
						i.on("mouseup.draggable",
						function(e) {
							i.off(".draggable"),
							n(e)
						})
					}
				}),
				$(window).on("resize",
				function() {
					var e;
					return function() {
						e && (clearTimeout(e), e = void 0),
						e = setTimeout(n, 1e3)
					}
				} ())
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = $(document);
		return {
			restrict: "A",
			link: function(i, o) {
				function a() {
					for (var t = arguments.length,
					n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
					i.$apply(function() {
						return e.$broadcast.apply(e, n)
					})
				}
				o.on("$destroy",
				function() {
					n.off(".keymap")
				});
				var r = !1;
				n.on("keyup.keymap",
				function() {
					t.disableOperate() || r && (a("keymap.dirEnd"), r = !1)
				}),
				n.on("keydown.keymap",
				function(e) {
					if (!t.disableKeymap() && !t.disableOperate() && document.activeElement === document.body) {
						var n = e.ctrlKey || e.metaKey,
						i = e.shiftKey,
						o = e.keyCode;
						if (9 === o && e.preventDefault(), 8 !== o && 46 !== o || (e.preventDefault(), a("keymap.delete")), n && 67 === o && (e.preventDefault(), a("keymap.copy")), 37 === o || 38 === o || 39 === o || 40 === o) {
							e.preventDefault(),
							r = !0;
							var s = 1;
							switch (i && (s = 5), o) {
							case 37:
								a("keymap.dirMove", "left", -s);
								break;
							case 38:
								a("keymap.dirMove", "top", -s);
								break;
							case 39:
								a("keymap.dirMove", "left", s);
								break;
							case 40:
								a("keymap.dirMove", "top", s)
							}
						} else r = !1;
						if (n) switch (o) {
						case 86:
							e.preventDefault(),
							a("keymap.paste");
							break;
						case 65:
							e.preventDefault(),
							a("keymap.selectAll");
							break;
						case 83:
							e.preventDefault(),
							a("keymap.save");
							break;
						case 90:
							e.preventDefault(),
							a(i ? "keymap.forward": "keymap.back");
							break;
						case 89:
							e.preventDefault(),
							a("keymap.forward")
						}
					}
				})
			}
		}
	}
	n.$inject = ["$rootScope", "disableService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(485),
			replace: !0,
			scope: {
				eqxPage: "="
			},
			controller: ["$scope", "workspaceService", "sceneService",
			function(e, t, n) {
				"ngInject";
				e.vm = {
					get name() {
						return n.eqxScene.sceneJson.meta.name
					},
					get showPhone() {
						var n = e.eqxPage,
						i = t.showPhone;
						if (n) {
							var o = n.pageJson.properties;
							return ! o.longPage && i
						}
						return i
					}
				}
			}]
		}
	}
	n(483),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div class=phone><h4 class=name>{{ vm.name }}</h4></div>"
},
function(e, t) {
	"use strict";
	function n() {
		return {
			link: function(e, t) {
				t.contextmenu(function(e) {
					e.preventDefault(),
					e.stopPropagation()
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(489),
			replace: !0,
			scope: {
				eqxPage: "="
			},
			controller: ["$scope", "HOST", "imageModalFactory", "uploaderService", "loadingService", "fileAPI", "i18nNotifications", "delayLoadService", "imageService",
			function(e, t, n, i, o, a, r, s, c) {
				"ngInject";
				e.thumbnailSrc = function() {
					if (e.eqxPage) return t.FILE + e.eqxPage.pageJson.properties.thumbSrc
				},
				e.authGenerateThumb = function() {
					s.loadHtml2Canvas().then(function() {
						o.show();
						var t = [],
						n = [],
						s = $("#nr"),
						l = s.find("svg");
						l.each(function(e, i) {
							var o = i.parentNode,
							a = document.createElement("canvas");
							canvg(a, o, {
								ignoreMouse: !0,
								ignoreAnimation: !0
							}),
							t.push({
								parent: o,
								child: i
							}),
							o.removeChild(i),
							n.push({
								parent: o,
								child: a
							}),
							o.appendChild(a)
						}),
						html2canvas(s, {
							useCORS: !0,
							onrendered: function(s) {
								var l = s.toDataURL("image/png").substring(22);
								i.getUploadToken("image").then(function(e) {
									return i.uploadBase64(e, l)
								}).then(function(t) {
									var n = {
										fileType: "1",
										bizType: 0,
										path: t.key,
										tmbPath: t.key,
										tagId: 0,
										name: e.eqxPage.pageJson.name ? e.eqxPage.pageJson.sceneId + "-" + e.eqxPage.pageJson.num + "-" + e.eqxPage.pageJson.name: e.eqxPage.pageJson.sceneId + "-" + e.eqxPage.pageJson.num,
										size: Math.ceil(t.size / 1024)
									};
									return a.saveFileInfo(n)
								}).then(function(i) {
									e.eqxPage.pageJson.properties.thumbSrc = i.data.obj.path,
									c.image.clearTag(c.image.ID.my, c.image.ID.my + "-all"),
									n.forEach(function(e) {
										e.parent.removeChild(e.child)
									}),
									t.forEach(function(e) {
										e.parent.appendChild(e.child)
									}),
									o.hide()
								})["catch"](function() {
									r.add("生成缩略图失败，请重新生成！"),
									n.forEach(function(e) {
										e.parent.removeChild(e.child)
									}),
									t.forEach(function(e) {
										e.parent.appendChild(e.child)
									}),
									o.hide()
								})
							}
						})
					})
				},
				e.chooseThumb = function() {
					n.getImage().then(function(t) {
						e.eqxPage.pageJson.properties.thumbSrc = t.tmbPath
					},
					function() {
						delete e.eqxPage.pageJson.properties.thumbSrc
					})
				}
			}]
		}
	}
	n(488),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=thumbnai-contain><div class=thumbnai-title ng-click=authGenerateThumb()>自动生成本页缩略图</div><div ng-if=!eqxPage.pageJson.properties.thumbSrc class=default-content ng-click=chooseThumb()>点击手动上传本页缩略图</div><div class=hint--left ng-click=chooseThumb() ng-if=eqxPage.pageJson.properties.thumbSrc data-hint=单击可手动上传缩略图><img width=134 height=210 ng-src={{thumbnailSrc()}} /></div></div>"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(492),
			replace: !0,
			scope: {
				eqxPageElements: "="
			},
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.vm = {
					get pageElements() {
						return e.eqxPageElements && e.eqxPageElements.length ? e.eqxPageElements.filter(function(e) {
							return "4" == e.type ? (1 != e.isEditable && (e.isEditable = -1), !0) : "2" == e.type
						}).sort(function(e, t) {
							return e.type - t.type
						}) : null
					}
				}
			}]
		}
	}
	n(491),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=page-list-label><div class=page-setting><div class=can-drag><h4>元素特性设置</h4></div><div eqd-scroll style=height:340px><div><ul class=tpl-uls ng-repeat="element in vm.pageElements track by element.id"><li hover-element={{element.id}} ng-if="element.type == \'2\'"><span>文字&nbsp;{{$index+1}} </span><span>类型</span><select ng-model=element.properties.type><option value=0>无</option><option value=1>收卡人</option><option value=2>发卡人</option><option value=3>祝福语</option></select></li><li hover-element={{element.id}} ng-if="element.type == \'4\'" class=setting-tpl-img><span>图片&nbsp;{{$index+1}} </span><span>可替换 </span><input type=checkbox ng-model=element.isEditable ng-true-value=1 ng-false-value=-1 ng-checked="element.isEditable == 1" class=is-replace /></li></ul></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(89);
	e.exports = i.module("scene.page", [n(494), n(497)]).directive("eqxPageNameEditor", n(503)).directive("eqxPageManager", n(505)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.pageCreate", []).directive("eqxCreatePage", n(495)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(496),
			scope: {
				createPage: "&"
			},
			controller: ["$scope", "storageService",
			function(e, t) {
				"ngInject";
				var n = e.vm = {
					hideCreatePageHint: t.getItem("hideCreatePageHint"),
					hidePageTypePanelHint: t.getItem("hidePageTypePanelHint"),
					showHint: !1,
					showPageTypePanel: !1
				};
				e.createLongPage = function() {
					e.createPage({
						pLen: 502
					})
				},
				e.openHint = function() {
					n.hideCreatePageHint || (n.showHint = !0),
					e.createPage()
				},
				e.closeHint = function() {
					n.showHint = !1
				},
				e.onToggleHideHint = function() {
					t.setItem("hideCreatePageHint", n.hideCreatePageHint)
				},
				e.closePageTypePanel = function() {
					n.showPageTypePanel = !1
				},
				e.openPageTypePanel = function() {
					n.showPageTypePanel = !0,
					t.setItem("hidePageTypePanelHint", !0)
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=nav_bottom><a class=eqf-more ng-click=openPageTypePanel()><em class="imp heart" ng-show=!vm.hidePageTypePanelHint></em> </a><a ng-click=openHint() class="insert hint--top hint--rounded fade-color" data-hint=添加一页 big-data-event categorytwoid=24 categorytwo=添加页面 actiontype=4>+</a><div ng-if=vm.showPageTypePanel outside-click=closePageTypePanel()><ul><li ng-click=createPage();closePageTypePanel() big-data-event categorytwoid=24 categorytwo=添加页面 actiontype=4>常规页</li><li ng-click=createLongPage();closePageTypePanel() big-data-event categorytwoid=24 categorytwo=添加长页面 actiontype=4>长页面</li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(89);
	e.exports = i.module("ws.pageAction", [n(498)]).directive("eqxPageAction", n(501)).name
},
function(e, t, n) {
	"use strict";
	var i = n(89),
	o = n(499);
	e.exports = i.module("pageAction.save", []).directive("eqxSaveTpl", o).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(500),
			scope: {},
			controller: ["$rootScope", "$scope", "sceneService", "tplService", "userService", "modalService", "disableService",
			function(t, n, i, o, a, r, s) {
				function c() {
					var e = i.getCurrentPage().pageJson,
					t = JSON.parse(JSON.stringify(e));
					return delete t.sceneId,
					t
				}
				function l(e) {
					if (s.disableOperate()) return r.openMsgDialog({
						msg: "任务模板页不能生成" + e
					}),
					!0
				}
				n.userProperty = a.getCurrentUser(),
				n.createMyTpl = function() {
					l("我的模板") || o.saveMyTpl(c()).then(function() {
						e.add("成功生成我的模板"),
						t.$broadcast("tpl.saveMyTpl")
					})
				},
				n.createCompanyTpl = function() {
					l("企业模板") || o.saveCompanyTpl(c()).then(function() {
						e.add("成功生成企业模板"),
						t.$broadcast("tpl.saveCompanyTpl")
					})
				},
				n.btnGroup = {
					selectItem: 1,
					caretSwitch: !1
				};
				var p;
				window.localStorage && (p = JSON.parse(localStorage.getItem("templateInfo")), p && p[a.getCurrentUser().id] ? n.btnGroup.selectItem = p[a.getCurrentUser().id] : (p = p || {},
				p[a.getCurrentUser().id] = 2, localStorage.setItem("templateInfo", JSON.stringify(p)))),
				n.btnGroup = {
					selectItem: p[a.getCurrentUser().id],
					caretSwitch: !1
				},
				n.selectedTemplate = function(e) {
					"myTemplate" === e ? n.btnGroup.selectItem = 2 : "companyTemplate" === e ? n.btnGroup.selectItem = 1 : "myPublishTask" === e && (n.btnGroup.selectItem = 3),
					window.localStorage && (p[a.getCurrentUser().id] = n.btnGroup.selectItem, localStorage.setItem("templateInfo", JSON.stringify(p)))
				},
				n.toggleMenu = function() {
					n.btnGroup.caretSwitch = !n.btnGroup.caretSwitch
				},
				n.openMenu = function() {
					n.btnGroup.caretSwitch = !0
				},
				n.closeMenu = function() {
					n.btnGroup.caretSwitch = !1
				},
				n.$on("YQCCreateMYXB",
				function() {
					n.createMyTpl()
				})
			}]
		}
	}
	i.$inject = ["i18nNotifications"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=my-tpl-title>存为</div><div class=btn-group authority=company><button type=button class=btn style=border-right:0><a ng-click=createMyTpl() ng-show="btnGroup.selectItem == 2" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为我的模板 data-event=12019><span>我的模板 </span></a><a ng-click=createCompanyTpl() ng-show="btnGroup.selectItem == 1" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为企业模板 data-event=12036><span>企业模板</span></a></button> <a class="btn dropdown-toggle" style=border-left:0;line-height:30px ng-click=toggleMenu()><span class=caret></span></a><ul class=dropdown-menu ng-show=btnGroup.caretSwitch><li ng-click="createCompanyTpl();selectedTemplate(\'companyTemplate\');btnGroup.selectItem = 1;btnGroup.caretSwitch = false" data-event=12036><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 1}"><span>企业模板</span></a></li><li ng-click="createMyTpl();selectedTemplate(\'myTemplate\');btnGroup.caretSwitch = false" data-event=12019><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 2}"><span>我的模板</span></a></li></ul></div><div class=btn-group ng-if=false><button type=button class=btn style=border-right:0><a ng-click=createMyTpl() ng-show="btnGroup.selectItem == 2" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为我的模板 data-event=12019><span>我的模板</span></a></button> <a class="btn dropdown-toggle" style=border-left:0;line-height:30px ng-click=toggleMenu()><span class=caret></span></a><ul class=dropdown-menu ng-if=btnGroup.caretSwitch outside-click=closeMenu()><li ng-click="createMyTpl();selectedTemplate(\'myTemplate\');btnGroup.caretSwitch = false" data-event=12019><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 2}"><span>我的模板</span></a></li></ul></div><div class="btn-group my-tpl-title" authority=saveTplPersonal><div class=btn><a ng-click=createMyTpl() class="hint--left hint--rounded" data-hint=保存到我的模板 data-event=12019>我的模板</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			replace: !0,
			template: n(502)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=nav_top><div class=nav_top_list><div class=save_template><div class=fr><a class="hint--left hint--rounded delete all-change" data-hint=删除当前页 ng-click=deletePage() ng-hide=vm.hideDeleteButton data-event=12021><i class=eqf-scene-delete></i> </a><a ng-click=copyPage() ng-hide=vm.YQCMaker class="hint--left copy hint--rounded all-change" data-hint=复制当前页 data-event=12020><i class=eqf-scene-copy></i></a></div><eqx-save-tpl></eqx-save-tpl></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {
				page: "="
			},
			template: o,
			controller: ["$scope", "$timeout", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = e.page,
				o = e.vm = {
					get currentIndex() {
						return n.currentPageIndex
					},
					showInput: !1,
					pageName: i.pageJson.name
				};
				e.showInput = function(e) {
					o.currentIndex + 1 == i.pageJson.num && e.stopPropagation(),
					o.showInput = !0,
					t(function() {
						var t = e.currentTarget;
						$(t).siblings("input")[0].focus()
					},
					0)
				},
				e.$on("pageManager.changePage.pre",
				function(t, n, a) {
					o.showInput && i.pageJson.num == n + 1 && e.savePageName(i.pageJson.name)
				}),
				e.savePageName = function(e) {
					o.showInput && (o.showInput = !1),
					o.pageName != e && (o.pageName = e, n.savePageName(i.pageJson))
				},
				e.stopPropagationFn = function(e) {
					e.stopPropagation()
				},
				e.onEnterFn = function(t) {
					13 == t.keyCode && e.savePageName(e.page.pageJson.name)
				}
			}]
		}
	}
	var o = n(504);
	e.exports = i
},
function(e, t) {
	e.exports = "<span class=page-name ng-dblclick=showInput($event) ng-show=!vm.showInput>{{ page.pageJson.name || '第'+page.pageJson.num+'页'}}</span> <input style=width:110px;display:inline-block;height:25px;line-height:25px;color:#999;margin-top:22px;margin-left:2px;box-shadow:none type=text ng-model=page.pageJson.name ng-show=vm.showInput placeholder=\"{{'第'+page.pageJson.num+'页'}}\" ng-blur=savePageName(page.pageJson.name) ng-click=stopPropagationFn($event) ng-keydown=onEnterFn($event) check-count=30 />"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {},
			template: o,
			controller: ["$scope", "$rootScope", "sceneService", "$routeParams", "$timeout", "modalService", "$location", "$q", "$interval", "i18nNotifications", "authorityService", "HOST", "selectService",
			function(e, t, n, i, o, r, s, c, l, p, d, u, g) {
				"ngInject";
				function m() {
					var e = x.eqxPage;
					e ? x.comps = e.eqxCompList.map(function(e) {
						return e
					}).sort(function(e, t) {
						return e.getCss("zIndex") < t.getCss("zIndex")
					}) : x.comps = []
				}
				function f(e) {
					var i = n.currentPageIndex = e,
					o = s.search();
					o.i = i + 1,
					s.search(o);
					var r = y.eqxPageList[i];
					r.$$lastHash = a(r.pageJson),
					m(),
					t.$broadcast("pageManager.changePage", i)
				}
				function h() {
					v(),
					f(x.currentIndex)
				}
				function v() {
					x.pageList = [].concat(y.eqxPageList)
				}
				var y = n.eqxScene,
				b = e.TAB = {
					page: 1,
					comp: 2
				},
				x = e.vm = {
					get currentIndex() {
						return n.currentPageIndex
					},
					pageList: [],
					get eqxPage() {
						return n.getCurrentPage()
					},
					get hideDeleteButton() {
						return x.eqxPage && x.eqxPage.pageJson && x.eqxPage.pageJson.properties && x.eqxPage.pageJson.properties.xb && 0 === x.eqxPage.pageJson.properties.xb.canDel || x.pageList.length <= 1
					},
					comps: [],
					showTabs: !d.permission("showCompManage"),
					tab: b.page
				},
				w = e.$on("eqxScene.ready",
				function() {
					o(function() {
						h()
					},
					100),
					w()
				});
				e.isSelected = function(e) {
					return g.has(e)
				},
				e.select = function(e, t) {
					o(function() {
						e.ctrlKey || e.shiftKey ? g.has(t) ? g.remove(t) : g.add(t) : g.has(t) || (g.removeOthers(t), g.add(t))
					})
				},
				e.onPageChange = function(i, o) {
					t.$broadcast("pageManager.changePage.pre", x.currentIndex, i),
					v();
					var a = n.currentPageIndex;
					if (i !== a || o) return e.savePage().then(function() {
						f(i)
					})
				},
				e.$on("wsComp.add", m),
				e.$on("wsComp.delete.end", m),
				e.$on("contextMenu.zIndex", m),
				e.$on("changePage.end", m),
				e.$on("tool.copyPage",
				function() {
					return e.copyPage()
				}),
				e.copyPage = function() {
					e.savePage().then(function() {
						var t = n.currentPageIndex;
						n.copyPage2(t).then(function() {
							e.onPageChange(t + 1)
						})
					})
				},
				e.deletePage = function() {
					r.openConfirmDialog({
						"delete": !0,
						msg: "页面删除后无法还原",
						confirmName: "坚持删除",
						cancelName: "稍后决定"
					}).then(function() {
						n.deletePage(n.currentPageIndex).then(function(e) {
							v(),
							t.$broadcast("page.delete"),
							o(function() {
								f(e)
							},
							10)
						})
					})["catch"](function() {})
				},
				e.createPage = function(t) {
					var i = n.currentPageIndex;
					return t && d.permission("disableLongPage") ? r.openConfirmDialog({
						msg: "付费企业功能, 是否升级",
						confirmName: "立即升级",
						cancelName: "我知道了"
					}).then(function() {
						window.open(u.HOST + "site/privilege")
					}) : n.createPage(i, t).then(function(t) {
						return t.isLongPage() && (t.$newPageHeight = !0),
						e.onPageChange(i + 1)
					},
					function(e) {
						return p.add(e.data.msg, "danger"),
						Promise.resolve("danger")
					})
				},
				e.$on("savePage",
				function(t, n) {
					e.savePage().then(function() {
						n && n()
					})
				});
				var S = 3e5,
				k = l(function() {
					e.savePage()
				},
				S);
				e.savePage = function() {
					var t = x.currentIndex,
					i = y.eqxPageList[t];
					i.$$lastHash || console.error("eqxPage does not have $$lastHash!", i);
					var o = a(i.pageJson);
					return o === i.$$lastHash ? c.resolve() : n.savePage(t).then(function() {
						i.$$lastHash = o,
						l.cancel(k),
						k = l(function() {
							e.savePage()
						},
						S)
					},
					function(e) {
						p.add(e.data.msg, "danger")
					})
				},
				e.sortableOptions = {
					placeholder: "ui-state-highlight ui-sort-position",
					containment: "#containment",
					update: function(t, i) {
						var o = i.item.sortable,
						a = o.index,
						r = o.dropindex;
						n.sortPage(a, r).then(function() {
							var t = n.currentPageIndex;
							t === a && (n.currentPageIndex = r),
							t === r && (n.currentPageIndex = a),
							e.onPageChange(r, !0)
						})["catch"](function() {
							p.add("排序失败", "danger"),
							v()
						})
					}
				},
				e.compsSortableOptions = {
					placeholder: "ui-state-highlight ui-sort-position",
					containment: "#containment",
					update: function(t, n) {
						var i = n.item.sortable,
						o = i.index,
						a = i.dropindex,
						r = x.comps[o],
						s = a - o;
						0 !== s && (s = s < 0 ? "+" + -s: "-" + s, x.eqxPage.updateCompZIndex(x.comps[o], s), m(), e.select({},
						r))
					}
				},
				e.$on("tpl.useTpl",
				function() {
					v()
				},
				!0)
			}]
		}
	}
	n(506);
	var o = n(507),
	a = n(277).getHash;
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div id=containment class=create_right ng-class="{\'show-tabs\': vm.showTabs}"><ul class="nav nav-tabs" ng-show=vm.showTabs><li ng-class="{active: vm.tab == TAB.page}"><a ng-click="vm.tab = TAB.page" big-data-event categorytwoid=19 categorytwo=页面模板 actiontype=4>页面模板</a></li><li ng-class="{active: vm.tab == TAB.comp }"><a ng-click="vm.tab = TAB.comp" big-data-event categorytwoid=20 categorytwo=组件管理 actiontype=4>组件管理</a></li></ul><eqx-page-action ng-show="vm.tab == TAB.page"></eqx-page-action><div class=nav_content ng-show="vm.tab == TAB.page"><div style=height:100% eqd-scroll><ul class=page-uls id=pageList ui-sortable=sortableOptions ng-model=vm.pageList><li class=blurClass ng-repeat="page in vm.pageList" ng-click=onPageChange($index); ng-class="{current: vm.currentIndex == $index,createLongPage: page.pageJson.properties.longPage}"><span class=number><em>{{ $index + 1}}</em></span> <span ng-show=page.pageJson.properties.xb class=pushXB><span class=small>推</span> <span class=normal>推客任务</span></span><eqx-page-name-editor page=page></eqx-page-name-editor></li></ul></div><div class=tpl-option></div></div><div class="nav_content comps-manager" ng-show="vm.tab == TAB.comp"><div style=height:100% eqd-scroll><ul class=page-uls ui-sortable=compsSortableOptions id=compList ng-model=vm.comps><li class="blurClass compli" ng-class="{current: isSelected(comp)}" ng-click="select($event, comp)" ng-repeat="comp in vm.comps track by comp.compJson.id" ng-class="{current: comp === vm.comp }"><span class="page-name el-name">{{comp.getName()}}</span></li></ul></div></div><eqx-create-page create-page=createPage(pLen)></eqx-create-page></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.comp", [n(509), n(511), n(519), n(521), n(529), n(532), n(539), n(545), n(552), n(558), n(566), n(571), n(575), n(582), n(589), n(592), n(599), n(606), n(613), n(616), n(623), n(626), n(631), n(635), n(638), n(641), n(658), n(663)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.music", []).directive("eqxBgm", n(510)).name
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "musicModal", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = n.eqxScene;
				e.editBgm = function() {
					var e = 2;
					t.open(i.sceneJson.meta.bgAudio, e).then(function(e) {
						var t = e.name,
						n = e.path,
						o = e.id;
						n ? i.setProps({
							bgAudio: {
								url: n,
								name: t,
								id: o
							}
						}) : i.setProps({
							bgAudio: null
						})
					})
				},
				e.$on("bgm.edit",
				function() {
					e.editBgm()
				}),
				e.$on("bgm.delete",
				function() {
					i.setProps({
						bgAudio: null
					})
				})
			}],
			link: function(e, t) {
				t.on("click.bgm",
				function() {
					e.$apply(function() {
						return e.editBgm()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.comp", []).factory("compLinkModal", n(512)).directive("eqxCompLink", n(517)).directive("eqxCompSound", n(518)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i() {
			e.openMsgDialog({
				msg: n(515)
			})
		}
		function o(o) {
			return e.open({
				windowClass: "console six-contain",
				template: n(516),
				resolve: {
					url: function() {
						return o
					}
				},
				controller: ["$scope", "$timeout", "url", "sceneService",
				function(e, n, o, a) {
					var r = e.TYPE = {
						none: 0,
						internal: 1,
						external: 2
					},
					s = a.eqxScene,
					c = s.meta.id,
					l = s.sceneJson.list.map(function(e, t) {
						return {
							name: e.name || "第" + (t + 1) + "页",
							id: e.id
						}
					});
					e.pageList = [{
						name: "无",
						id: null
					}].concat(l);
					var p = e.vm = {
						type: r.none,
						pageId: null,
						link: null
					};
					if (Number.isInteger(o)) p.pageId = o,
					p.type = r.internal;
					else {
						var d = (/eqs\/link\?id=\d+&url=(.*)/.exec(o) || [])[1];
						d && (p.link = decodeURIComponent(d)),
						p.type = r.external
					}
					e.setType = function(e) {
						p.type = e
					},
					e.isExternal = function() {
						return p.type === r.external
					},
					e.isInternal = function() {
						return p.type === r.internal
					},
					e.confirm = function() {
						switch (p.type) {
						case r.internal:
							n = p.pageId;
							break;
						case r.external:
							if (n = p.link) {
								if (/^http:|^https:|^ftp:/.test(n) || (n = "http://" + n), n.length > 40) return i();
								n = t.SERVER_1 + "eqs/link?id=" + c + "&url=" + encodeURIComponent(n)
							}
							break;
						case r.none:
						default:
							var n = null
						}
						e.$close(n)
					},
					e.cancel = function() {
						e.$dismiss()
					}
				}]
			})
		}
		return {
			open: o,
			openLengthAlert: i
		}
	}
	i.$inject = ["modalService", "HOST"],
	n(513),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div align=left>提示：链接过长有可能会导致链接组件打不开，建议生成短链接后再使用。生成短链接地址 <a href=http://dwz.cn target=_blank style=color:#08A1EF>http://dwz.cn</a></div>"
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>链接组件 <span class=action>可以链接到场景其他页面或者链接网站地址</span></h4></div><div class="dialog-contain comp-link"><div class="link-modal dialog-content"><form class=form-contain><div class="form-list clearfix"><label for=externalRadio class=form-label><div class=radio-square ng-class="{checked: isExternal()}"><em></em> <input type=radio name=externalRadio id=externalRadio ng-model=vm.type ng-value=TYPE.external ng-change=changed() style=margin:0></div><em>网站地址:</em></label><div class=form-input><input class="" style=height:35px;width:300px type=text ng-model=vm.link name=externalLink id=externalLink placeholder=http:// ng-focus=setType(TYPE.external) /> <a class="link-delete url-delete" ng-show=isExternal() ng-click=setType(TYPE.none)></a></div><a href=http://dwz.cn/ style=text-decoration:underline;color:#08A1EF;position:absolute;top:10px;right:-30px target=_blank>生成短链接</a></div><div class="form-list clearfix"><label for=internalRadio class=form-label><div class=radio-square ng-class="{checked: isInternal()}"><em></em> <input type=radio name=internalRadio id=internalRadio ng-value=TYPE.internal ng-model=vm.type style=margin:0></div><em>场景页面:</em></label><div class=form-input><eqx-select class="select-sm select-contain border-width fl" model=vm.pageId change=setType(TYPE.internal)><eqx-select-option value=page.id ng-repeat="page in pageList">{{page.name}}</eqx-select-option></eqx-select><a class="link-delete page-id-delete" ng-show=isInternal() ng-click=setType(TYPE.none)></a></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t) {
				t.$on("wsComp.edit.link",
				function(t, n) {
					n && e.open(n.compJson.properties.url).then(function(e) {
						n.setProps({
							url: e
						})
					})
				})
			}
		}
	}
	n.$inject = ["compLinkModal"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t) {
				t.$on("wsComp.edit.sound",
				function(t, n) {
					n && e.open(n.compJson.sound, 4).then(function(e) {
						var t = e.id,
						i = e.name,
						o = e.path;
						t ? n.addSoundIcon() : n.removeSoundIcon(),
						n.setProps({
							sound: {
								id: t,
								name: i,
								src: o
							}
						})
					})
				})
			}
		}
	}
	n.$inject = ["musicModal"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.image.image", []).directive("eqxImage", n(520)).name
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "imageModalFactory", "imageCropFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				function a(e, t) {
					return {
						css: {
							top: "0px",
							left: "80px",
							width: e,
							height: t
						},
						properties: {
							src: "",
							imgStyle: {
								width: e,
								height: t,
								marginTop: "0",
								marginLeft: "0"
							}
						},
						title: null,
						type: 4
					}
				}
				function r(e) {
					return JSON.parse(JSON.stringify(e))
				}
				e.createImage = function() {
					n.getImage().then(function(e) {
						var n = a(1.5 * e.shape.width, 1.5 * e.shape.height);
						n.properties.src = e.src || e.path,
						n.properties.originSrc = e.src || e.path;
						var i = o.getCurrentPage(),
						r = i.initEqxCompByJson(n);
						r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r))
					})
				},
				e.createImageDirectly = function(e) {
					var n = a(e.width, e.height);
					n.properties.src = e.src || e.path,
					n.properties.originSrc = e.src || e.path,
					n.css.top = e.top,
					n.css.left = e.left;
					var i = o.getCurrentPage(),
					r = i.initEqxCompByJson(n);
					r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r))
				},
				e.editImage = function(e) {
					var i = e.compJson;
					4 == i.type && n.getImage().then(function(e) {
						var n = r(i),
						a = n.properties,
						s = e.src || e.path;
						Object.assign(a, {
							src: s,
							originSrc: s,
							cropSize: void 0
						});
						var c = o.getCurrentPage(),
						l = c.updateEqxComp(i.id, n);
						l.$width = e.shape.width,
						l.$height = e.shape.height,
						l && (c.renderEqxComp(l), e.shape.ratio && l.updateImageSize(e.shape.ratio), t.$broadcast("wsComp.add", l))
					})
				},
				e.cropImage = function(e) {
					var n = e.compJson,
					a = r(n),
					s = a.properties,
					c = {
						type: a.type,
						title: "图片裁切",
						desc: "请根据你的需求，点击右侧常用比例进行裁切",
						showItems: !0,
						imgSrc: s.originSrc || s.src,
						cropItems: [{
							value: 1,
							ratio: 0,
							desc: "原图比例"
						},
						{
							value: 2,
							ratio: 1,
							desc: "1:1"
						},
						{
							value: 3,
							ratio: 4 / 3,
							desc: "4:3"
						},
						{
							value: 4,
							ratio: .75,
							desc: "3:4"
						},
						{
							value: 5,
							ratio: 320 / 486,
							desc: "标准屏比例"
						},
						{
							value: 6,
							ratio: 320 / 243,
							desc: "1/2屏比例"
						},
						{
							value: 7,
							ratio: 320 / 162,
							desc: "1/3屏比例"
						},
						{
							value: 8,
							ratio: -1,
							desc: "自定义",
							lock: !1
						}]
					};
					i.openCropModal(a, c).then(function(e) {
						var i = e.image,
						r = e.obj || a,
						c = {
							cropSize: i.cropSize,
							src: i.src,
							originSrc: i.originSrc
						};
						Object.assign(s, c);
						var l = o.getCurrentPage(),
						p = l.updateEqxComp(n.id, r);
						p && (l.renderEqxComp(p), p.$width = p.compJson.css.width, p.$height = p.compJson.css.height, t.$broadcast("wsComp.add", p))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.image",
				function() {
					e.$apply(function() {
						return e.createImage()
					})
				}),
				e.$on("psd.image",
				function(t, n) {
					e.createImageDirectly(n)
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editImage(n)
				}),
				e.$on("wsComp.crop",
				function(t, n) {
					e.cropImage(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.imageGroup", []).factory("imageSliderModal", n(522)).directive("eqxImageSliderCropPreview", n(525)).factory("imageSliderCropFactory", n(526)).directive("eqxImageSlider", n(527)).name
},
function(e, t, n) {
	"use strict";
	var i = n(523);
	e.exports = ["modalService", "delayLoadService",
	function(e, t) {
		"ngInject";
		function o(o) {
			return t.imgJcrop().then(function() {
				return e.open({
					windowClass: "console seven-contain pictures1",
					backdrop: "static",
					template: n(524),
					controller: i,
					resolve: {
						obj: function() {
							return JSON.parse(JSON.stringify(o))
						}
					}
				})
			})
		}
		return {
			open: o
		}
	}]
},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "$modal", "$rootScope", "HOST", "imageSliderCropFactory", "obj", "imageModalFactory",
	function(e, t, n, i, o, a, r) {
		"ngInject";
		function s(e) {
			if (void 0 === e) return u;
			for (var t = 0; t < u.length; t++) if (e === u[t].value) return u[t]
		}
		function c(e) {
			var t;
			f.children[e].originSrc && (t = f.children[e].originSrc),
			p.currentImage = {
				index: e,
				src: f.children[e].src + "?t=" + Date.now(),
				originSrc: t
			}
		}
		function l(t, n, o) {
			$("<img>").attr("src", i.FILE + n).load(function() {
				$.extend(v.items[t], {
					coordinate: {
						x: 0,
						y: 0,
						x2: this.width,
						y2: this.height,
						w: this.width,
						h: this.height,
						src: n,
						name: o,
						fileType: 1,
						index: t
					},
					realSize: {
						width: this.width,
						height: this.height
					}
				}),
				e.compJson.properties.children && e.compJson.properties.children[t] && e.compJson.properties.children[t].cropSize && (v.items[t].coordinate.x = e.compJson.properties.children[t].cropSize.x, v.items[t].coordinate.y = e.compJson.properties.children[t].cropSize.y, v.items[t].coordinate.w = e.compJson.properties.children[t].cropSize.w, v.items[t].coordinate.h = e.compJson.properties.children[t].cropSize.h)
			})
		}
		e.HOST = i,
		e.compJson = a;
		var p = e.imageOption = {
			title: "图集组件",
			desc: "通过图片裁切可制作超酷图集",
			showCrop: !1,
			showLoading: !1,
			currentImage: {
				index: -1,
				src: ""
			}
		},
		d = e.cropOption = {
			showItems: !0,
			imgSrc: a.properties.src,
			cropItems: [{
				value: 2,
				ratio: 1,
				desc: "1:1"
			},
			{
				value: 3,
				ratio: 4 / 3,
				desc: "4:3"
			},
			{
				value: 4,
				ratio: .75,
				desc: "3:4"
			},
			{
				value: 5,
				ratio: 320 / 486,
				desc: "标准屏比例"
			},
			{
				value: 6,
				ratio: 320 / 243,
				desc: "1/2屏比例"
			},
			{
				value: 7,
				ratio: 320 / 162,
				desc: "1/3屏比例"
			},
			{
				value: 8,
				ratio: -1,
				desc: "自定义",
				lock: !1
			}]
		};
		a.properties.ratioItem ? (a.properties.lock && "" + a.properties.ratioItem == "8" && (d.cropItems[a.properties.ratioItem - 2].lock = !0), d.currentItem = d.cropItems[a.properties.ratioItem - 2]) : d.currentItem = d.cropItems[0];
		var u = [{
			value: 1,
			desc: "轮播",
			name: "slide"
		},
		{
			value: 2,
			desc: "下落",
			name: "bars"
		},
		{
			value: 3,
			desc: "百页窗",
			name: "blinds"
		},
		{
			value: 4,
			desc: "消隐",
			name: "blocks"
		},
		{
			value: 5,
			desc: "渐变",
			name: "blocks2"
		},
		{
			value: 9,
			desc: "梳理",
			name: "zip"
		},
		{
			value: 11,
			desc: "翻转",
			name: "bars3d"
		},
		{
			value: 13,
			desc: "立方体",
			name: "cube"
		},
		{
			value: 14,
			desc: "棋盘",
			name: "tiles3d"
		},
		{
			value: 16,
			desc: "飞出",
			name: "explode"
		}],
		g = e.picStyles = s(),
		m = angular.copy(a),
		f = e.properties = m.properties;
		f.autoPlay = !f.autoPlay == !0 || f.autoPlay,
		f.interval = !f.interval == !0 ? 2e3: f.interval,
		f.picStyle = !f.picStyle == !0 ? g[0] : s(f.picStyle),
		f.bgColor = !f.bgColor == !0 ? "rgba(255,255,255,0)": f.bgColor,
		f.children = !f.children == !0 ? [] : f.children,
		f.children.length > 0 && (p.showCrop = !0, c(0));
		for (var h = 0; h < 6; h++) f.children[h] ? l(h, f.children[h].originSrc ? f.children[h].originSrc: f.children[h].src, f.children[h].name) : f.children.push({});
		var v = o.getCoordinateObj();
		e.cropItemChange = function(e) {
			null === e.lock && (d.cropItems[6].lock = !1),
			d.currentItem = e,
			n.$broadcast("cropItem.change", e)
		},
		e.addPictures = function(e, t, n) {
			e.stopPropagation();
			var i = 0;
			i = n ? f.children.filter(function(e) {
				return e.src
			}).length: 5;
			var o = {
				manageGroup: !1,
				max: 6 - i
			};
			r.getImages(o).then(function(e) {
				var i = {
					selectedImages: []
				};
				angular.forEach(e,
				function(e) {
					var t = {
						height: e.shape.height,
						width: e.shape.width,
						name: e.name,
						src: e.src || e.path
					};
					i.selectedImages.push(t)
				}),
				p.showCrop = !0;
				var o = t,
				a = 0,
				r = f.children.length;
				if (n) for (; o < r;) {
					if (!f.children[o++].src) {
						var s = i.selectedImages[a++];
						f.children[o - 1] = {
							src: s.src,
							desc: "",
							height: s.height,
							width: s.width,
							name: s.name
						},
						l(o - 1, s.src, s.name),
						c(t)
					}
					if (a === i.selectedImages.length) break;
					o === r && (o = 0)
				} else {
					var d = i.selectedImages[0];
					f.children[t] = {
						src: d.src,
						desc: "",
						height: d.height,
						width: d.width
					},
					l(t, d.src, d.name),
					c(t)
				}
			})
		},
		e.setPicturesSize = function(e) {
			var t, n, i, o = e.children[0],
			r = o.width / o.height;
			m.css.width || m.css.height ? (t = m.css.width / m.css.height, r > t ? (n = m.css.width, i = n / r) : (i = m.css.height, n = i * r)) : (t = 2, r > t ? (n = 320, i = n / r) : (i = 160, n = i * r)),
			a.css.width = n,
			a.css.height = i
		},
		e.delPicture = function(e) {
			f.children[e] = {},
			v.items[e] = {},
			e === p.currentImage.index && (p.currentImage.index = -1, n.$broadcast("image.delete", e))
		},
		e.changePicture = function(e) {
			p.currentImage.index !== e && c(e)
		};
		var y = !0;
		e.ok = function() {
			if (y) {
				if (y = !1, 0 === f.children.length) return void(p.desc = "请选择图片，最多添加6张");
				var e = f.children.filter(function(e) {
					return e.src && e.src.length > 2
				});
				e && 0 !== e.length && (o.getCropping() || (p.showLoading = !0, n.$broadcast("cropImage.ok", f)))
			}
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.$on("crop.complete.all",
		function(t, n) {
			f.picStyle = f.picStyle.value,
			$.each(n,
			function(e, t) {
				f.children[t.index] = t
			});
			for (var i = angular.copy(f), o = i.children, r = 5; r >= 0; r--) o[r].src || o.splice(r, 1);
			y = !0,
			e.setPicturesSize(i),
			a.properties = i,
			e.$close(a)
		}),
		e.$on("crop.fail",
		function() {
			o.setCropping(!1),
			p.showLoading = !1
		})
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{imageOption.title}} <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696"><span class=eqf-exclaquestion-sign></span></a> <span class=action>{{imageOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class=image-con style=width:100% ng-hide=imageOption.showCrop><div class=add-img ng-click="addPictures($event, 0, \'first\')"><i>点击添加图片</i><p style=padding-top:5px;font-size:14px><i>（最多可添加6张图片）</i></p></div></div><div class=clearfix ng-show=imageOption.showCrop><div class=picture-img><div class=image_crop ng-class="{\'bg-crop\': !cropOption.showItems}"><img id=img_preview eqx-image-slider-crop-preview index={{imageOption.currentImage.index}} ng-src="{{imageOption.currentImage.originSrc ? HOST.FILE + imageOption.currentImage.originSrc : HOST.FILE + imageOption.currentImage.src}}"></div><div class=img-abbre><ul class=clearfix><li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}" ng-style="{\'background-image\':  child.originSrc ? \'url(\' + HOST.FILE + child.originSrc + \')\' : \'url(\' + HOST.FILE + child.src + \')\'}" ng-click=changePicture($index)><div class=img-set ng-show=child.src.length><div class="delete-img hint--top hint--rounded" data-hint=删除图片 ng-click=delPicture($index)><span class=eqf-wrong2></span></div><div class="abbre hint--bottom hint--rounded" data-hint=更换图片 ng-click="addPictures($event, $index)"><span class=eqf-top-pic></span></div></div><p class=eqf-plus2 ng-hide=child.src.length ng-click="addPictures($event, $index, \'more\')"></p></li></ul></div></div><div class="cut-size picture-size" ng-show=cropOption.showItems><ul><li ng-repeat="item in cropOption.cropItems"><div class=radio-square style=margin-top:7px ng-class="{checked:cropOption.currentItem== item}"><em></em> <input type=radio id={{item.desc}} name=cropSize ng-model=cropOption.currentItem ng-value=item ng-change=cropItemChange(item)></div><label for={{item.desc}}>{{item.desc}}</label><span ng-if="item.lock != null"><input type=checkbox id=lock ng-model=item.lock ng-change=cropItemChange(item)><label for=lock>锁定</label></span></li></ul><ul style=margin-top:10px class=picture-set><li class=clearfix><span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i></span> {{properties.autoPlay ? (\'自动切换\') : (\'手动切换\')}}</li><li><p><i>切换时间：</i>{{properties.interval / 1000}}<i>秒</i></p></li><li class=switch-time style=padding-top:5px><div ui-slider-t min=1000 max=5000 step=1000 class=slider ng-model=properties.interval ng-class="{disable: !properties.autoPlay}"></div><div class=time-mark ng-hide=properties.autoPlay></div></li><li><p>切换动画</p></li><li><eqx-select class="select-sm border-width select-contain" model=properties.picStyle change=getMyScenes()><eqx-select-option value=pic ng-repeat="pic in picStyles">{{pic.desc}}</eqx-select-option></eqx-select></li></ul></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel() ng-style="{\'margin-left\': imageOption.showCrop ? 25 : 0}">取消</a> <a class="btn btn-primary" ng-click=ok() ng-show=imageOption.showCrop>确定</a></div><div class=loading-mask ng-show=imageOption.showLoading><img ng-src=./oval.svg></div>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, i) {
			var o = e.getCoordinateObj();
			d = t,
			n(i, o),
			t.$on("$destroy",
			function() {
				c = l = p = null,
				e.initCoordinateObj(),
				e.setCropping(!1)
			}),
			t.$on("cropItem.change",
			function(e, t) {
				r(t)
			}),
			t.$on("image.delete",
			function() {
				$(".image_crop").children("div").remove()
			}),
			t.$on("cropImage.ok",
			function(e, n) {
				p && p.value && (n.ratioItem = p.value, p.lock ? n.lock = !0 : n.lock = !1),
				s(t, n, o)
			})
		}
		function n(e, t) {
			var n = $(".image_crop"),
			o = {
				width: n.width(),
				height: n.height()
			},
			a = o.width / o.height;
			e.hide().load(function() {
				var n = {
					width: this.width,
					height: this.height
				};
				e.show();
				var r, s = n.width / n.height;
				n.width > o.width || n.height > o.height ? s > a ? (e.css({
					width: o.width,
					height: o.width / s
				}), r = {
					position: "absolute",
					top: "50%",
					marginTop: -o.width / s / 2
				}) : (e.css({
					width: o.height * s,
					height: o.height
				}), r = {
					margin: "auto"
				}) : r = {
					position: "absolute",
					left: "50%",
					top: "50%",
					marginLeft: -n.width / 2,
					marginTop: -n.height / 2
				},
				l = {
					width: e.width(),
					height: e.height()
				};
				var c = e.attr("index");
				$.extend(t.items[c], {
					displaySize: l
				}),
				i(e, t, r, c)
			})
		}
		function i(e, t, n, i) {
			c && (c.destroy(), c = null);
			var a, r = l.width,
			s = l.height,
			u = !1;
			d.compJson.properties.children && d.compJson.properties.children[i] && d.compJson.properties.children[i].cropSize && (u = !0),
			a = t.items[i].coordinate,
			a && (a.w > r && (t.ratio = t.items[0].coordinate.w / t.items[0].coordinate.h, a.w = r, a.h = r / t.ratio), a.h > s && (t.ratio = t.items[0].coordinate.w / t.items[0].coordinate.h, a.h = s, a.w = s * t.ratio), a.x2 = a.x + a.w, a.y2 = a.y + a.h);
			var g;
			g = p && p.ratio === -1 ? 0 : p ? p.ratio: u ? a.w / a.h: 1,
			e.Jcrop({
				keySupport: !1,
				aspectRatio: g,
				allowSelect: !1,
				setSelect: a ? [a.x, a.y, a.x2, a.y2] : [0, 0, r, s],
				onRelease: function() {
					this.setOptions({
						setSelect: [0, 0, r, s]
					})
				},
				onSelect: function() {
					c && o(i, t)
				}
			},
			function() {
				c = this,
				o(i, t)
			}),
			$(".jcrop-holder").css(n)
		}
		function o(e, t) {
			var n = c.tellSelect();
			n.w || (n.w = n.x2 - n.x),
			n.h || (n.h = n.y2 - n.y),
			t.ratio = n.w / n.h,
			$.extend(t.items[e].coordinate, n),
			$.each(t.items,
			function(e, n) {
				var i = n.coordinate;
				i && a(i, t)
			})
		}
		function a(e, t) {
			var n = e.w / e.h;
			n > t.ratio ? (e.w = e.h * t.ratio, e.x2 = e.x + e.w) : (e.h = e.w / t.ratio, e.y2 = e.y + e.h)
		}
		function r(e) {
			p = e;
			var t, n = l.width,
			i = l.height;
			if (e.ratio === -1) {
				var o = c.tellSelect();
				t = e.lock ? {
					aspectRatio: o.w / o.h,
					setSelect: [0, 0, o.w, o.h]
				}: {
					aspectRatio: 0,
					setSelect: [0, 0, o.w, o.h]
				}
			} else n > i ? n = i * e.ratio: i = n / e.ratio,
			t = {
				aspectRatio: n / i,
				setSelect: [0, 0, n, i]
			};
			c.setOptions(t)
		}
		function s(t, n, i) {
			var o = [];
			$.each(i.items,
			function(t, n) {
				var r = n.coordinate,
				s = n.realSize;
				if (r && s) {
					if (u = {},
					$.extend(!0, u, n.coordinate), a(r, i), n.displaySize) {
						var c = s.width / n.displaySize.width;
						r.w = Math.ceil(r.w * c),
						r.h = Math.ceil(r.h * c),
						r.x = Math.ceil(r.x * c),
						r.y = Math.ceil(r.y * c)
					} else {
						var l = r.w / r.h,
						p = s.width / s.height;
						p > l ? (r.w = Math.ceil(s.height * l), r.h = s.height) : (r.w = s.width, r.h = Math.ceil(s.width / l))
					}
					r.x + r.w > n.realSize.width && (r.w = s.width - r.x),
					r.y + r.h > n.realSize.height && (r.h = s.height - r.y),
					r.w === s.width && r.h === s.height || 0 === r.w || 0 === r.h ? (o.push({
						src: r.src,
						desc: "",
						height: r.h,
						width: r.w
					}), e.setCropCount(i), e.cropImage(r, r, !1)) : (delete r.x2, delete r.y2, e.setCropping(!0), e.setCropCount(i), e.cropImage(r, u, !1))
				}
			})
		}
		var c, l, p, d;
		return {
			link: t
		};
		var u
	}
	n.$inject = ["imageSliderCropFactory"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		var t, n = {},
		i = [],
		o = !1,
		a = 0,
		r = 0;
		return n.getCoordinateObj = function() {
			return t
		},
		n.initCoordinateObj = function() {
			t = {
				ratio: null,
				items: []
			};
			for (var e = 0; e < 6; e++) t.items.push({})
		},
		n.setCropCount = function(e) {
			var t = 0;
			if (e && e.items) for (var n = 0; n < e.items.length; n++) e.items[n].coordinate && e.items[n].coordinate.src && t++;
			a = t
		},
		n.getCropCount = function() {
			return a
		},
		n.setCropping = function(e) {
			o = e
		},
		n.getCropping = function() {
			return o
		},
		n.cropImage = function(t, n, o) {
			var s;
			s = o ? n: t;
			var c = "?imageMogr2/auto-orient/crop/!" + s.w + "x" + s.h + "a" + s.x + "a" + s.y,
			l = {
				width: n.w,
				height: n.h,
				src: n.src + c,
				originSrc: n.src,
				id: n.id,
				cropSize: {
					x: n.x,
					y: n.y,
					w: n.w,
					h: n.h
				},
				desc: "",
				index: t.index
			};
			i.push(l),
			r++,
			a === r && (a = r = 0, e.$broadcast("crop.complete.all", angular.copy(i)), i.length = 0)
		},
		n.initCoordinateObj(),
		n
	}
	n.$inject = ["$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			link: function(e, t) {
				t.on("click.imageSlider",
				function() {
					e.$apply(function() {
						return e.createImageSlider()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					"p" == n.compJson.type && e.editImageSlider(n)
				})
			},
			controller: ["$scope", "imageSliderModal", "sceneService", "$rootScope",
			function(e, t, i, o) {
				"ngInject";
				e.createImageSlider = function() {
					var e = n(528);
					t.open(e).then(function(e) {
						var t = i.getCurrentPage(),
						n = t.initEqxCompByJson(e);
						n && (t.renderEqxComp(n), o.$broadcast("wsComp.add", n))
					})
				},
				e.editImageSlider = function(e) {
					var n = e.compJson;
					t.open(n).then(function(e) {
						var t = i.getCurrentPage(),
						a = t.updateEqxComp(n.id, e);
						a && (t.renderEqxComp(a), o.$broadcast("wsComp.add", a))
					})
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {
			top: "100px",
			left: "0px"
		},
		properties: {
			title: "图集"
		},
		title: null,
		type: "p"
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.background", []).directive("eqxBg", n(530)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			link: function(e, t) {
				t.on("click.bg",
				function() {
					e.$apply(function() {
						return e.updateBg()
					})
				}),
				e.$on("bg.edit",
				function() {
					return e.updateBg()
				}),
				e.$on("bg.cut",
				function(t, n) {
					return e.cutBg(n)
				}),
				e.$on("bg.effect",
				function(t, n) {
					return e.changeEffect(n)
				}),
				e.$on("bg.delete",
				function() {
					return e.removeBg()
				})
			},
			controller: ["$scope", "imageModalFactory", "imageCropFactory", "sceneService", "HOST", "$q",
			function(e, t, i, o, a, r) {
				"ngInject";
				function s(e) {
					var t = o.getCurrentPage();
					e = t.addBgJson(e);
					var n = t.initEqxBgByJson(e);
					n && t.renderBg(n)
				}
				function c(e) {
					var t = e.properties;
					if (t.originSrc) var n = t.originSrc.replace(a.FILE, "");
					else n = t.src.replace(a.FILE, "");
					var o = {
						type: e.type,
						title: "背景裁切",
						desc: "背景图将按照要求的比例进行裁切",
						showItems: !1,
						imgSrc: n,
						cropItems: [{
							ratio: 640 / 1008,
							desc: "背景图比例"
						}]
					};
					return t.pageLength && (o.currentIndex = 1, o.showItems = !0, o.cropItems = [{
						value: 1,
						ratio: 320 / 504,
						desc: "固定背景模式"
					},
					{
						value: 2,
						ratio: 320 / (t.pageLength + 18),
						desc: "全屏背景模式"
					}]),
					i.openCropModal(e, o).then(function(n) {
						var i = n.image;
						if (i.src && i.originSrc) {
							var o = {
								cropSize: i.cropSize,
								imgSrc: i.src,
								originSrc: i.originSrc
							};
							t.pageLength && (o.croptype = i.type),
							Object.assign(t, o)
						}
						return t.originSrc && !t.imgSrc && (t.imgSrc = t.originSrc),
						e
					})
				}
				e.removeBg = function() {
					var e = o.getCurrentPage();
					e.deleteBg()
				},
				e.changeEffect = function(e) {
					var t = o.getCurrentPage().eqxBackground;
					e ? (t.compJson.effect = {
						type: e
					},
					t.animate()) : delete t.compJson.effect
				},
				e.updateBg = function() {
					var e = o.getCurrentPage(),
					i = e.pageJson.properties.longPage,
					a = JSON.parse(JSON.stringify(n(531))),
					l = {
						categoryName: "背景",
						disableBgColor: !1
					};
					i && (a.properties.pageLength = i, l.tagName = "纯色背景"),
					t.getBg(l).then(function(e) {
						if (e.color) {
							a.properties.bgColor = e.color;
							var t = r.resolve(a)
						} else a.properties.originSrc = e.src || e.path,
						t = c(a);
						t.then(s)
					})
				},
				e.cutBg = function(e) {
					var t = o.getCurrentPage(),
					n = t.pageJson.properties.longPage,
					i = JSON.parse(JSON.stringify(e));
					n && n != i.properties.pageLength && (i.properties.pageLength = n, delete i.properties.cropSize),
					c(i).then(s)
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {},
		properties: {
			bgColor: null,
			imgSrc: null
		},
		type: 3
	}
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.text", []).directive("toolbar", n(533)).directive("eqxText", n(537)).directive("downUpSelect", [function() {
		return {
			restrict: "EA",
			link: function(e, t) {
				t.on("click",
				function() {
					var n = t.next().eq(0),
					i = $(".btn-toolbar").offset().top,
					o = n.height(),
					a = $(window).height() - i + $(document).scrollTop() - 40,
					r = i - $(document).scrollTop();
					o > a && o < r ? e.$apply(function() {
						e.upclass = !0
					}) : e.$apply(function() {
						e.upclass = !1
					})
				})
			}
		}
	}]);
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o, a, r, s) {
		"ngInject";
		return {
			restrict: "EA",
			replace: !0,
			template: n(536),
			scope: {
				comp: "="
			},
			link: function(n, c, l) {
				function p() {
					var e = "auto",
					t = "inside-active-height",
					i = "inside-active-width";
					"horizontal-tb" !== n.comp.compJson.css.writingMode && n.comp.compJson.css.writingMode ? (n.comp.compJson.css.writingMode = "vertical-rl", n.writeModelNormal = !1, t = "inside-active-height", i = "inside-active-width", n.comp.$context.bind("DOMSubtreeModified",
					function() {
						"auto" === e ? (e = "100%", n.comp.$li.find(".element-box").css("width", "auto"), n.comp.$li.find(".element-box-contents").css("width", "auto")) : (e = "auto", n.comp.$li.find(".element-box").css("width", "100%"), n.comp.$li.find(".element-box-contents").css("width", "100%"))
					})) : (n.comp.compJson.css.writingMode = "horizontal-tb", n.writeModelNormal = !0, t = "inside-active-width", i = "inside-active-height"),
					n.comp.$li.removeClass(t),
					n.comp.update$li({
						width: n.comp.compJson.css.width,
						height: n.comp.compJson.css.height
					}),
					n.comp.updateSize(1, {
						"writing-mode": n.comp.compJson.css.writingMode,
						width: n.comp.compJson.css.width,
						height: n.comp.compJson.css.height,
						"min-height": n.comp.compJson.css.height,
						"min-width": n.comp.compJson.css.width
					}),
					n.comp.$li.addClass(i)
				}
				function d() {
					n.comp.compJson.css.writingMode && "horizontal-tb" !== n.comp.compJson.css.writingMode ? (n.comp.update$boxDiv({
						"writing-mode": "horizontal-tb"
					}), n.comp.compJson.css.writingMode = "horizontal-tb", n.comp.compJson.css.width = n.comp.$li.find(".element-box").width()) : (n.comp.compJson.css.writingMode = "vertical-rl", n.comp.compJson.css.height = n.comp.$li.find(".element-box").height());
					var e = [n.comp.compJson.css.height, n.comp.compJson.css.width];
					n.comp.compJson.css.width = e[0],
					n.comp.compJson.css.height = e[1],
					p()
				}
				function u() {
					return a.getMyFontList().then(function(e) {
						n.fontNames = e
					})["catch"](function(e) {
						s.openMsgDialog({
							msg: e.data.msg
						})
					})
				}
				function g(e) {
					function t() {
						n.comp.compJson.css.fontFamily = e.fontFamily,
						n.comp.compJson.css.fontName = e.name,
						a.editFontList.indexOf(e.fontFamily) === -1 && (document.getElementsByTagName("style")[0].appendChild(document.createTextNode("@font-face{font-family:'" + e.fontFamily + "';src: url('" + o.FILE + e.woffPath + "') format('woff'), url('" + o.FILE + e.ttfPath + "') format('truetype');;}")), a.editFontList.push(e.fontFamily)),
						E("fontName", e.fontFamily),
						n.selectedFontName = e.name,
						O()
					}
					if (0 == e.expStatus) s.openConfirmDialog({
						msg: "当前字体已过期，是否重新购买？",
						confirmName: "立即购买",
						cancelName: "取消"
					}).then(function() {
						a.buyFont(e).then(function() {
							a.myFont.myFontLists = []
						})
					});
					else {
						if (2 == B.type && 0 == e.license && a.myFont.personFontNoTip.indexOf(e.name) == -1) {
							var i = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + e.name + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
							r = {
								msg: i,
								confirmName: "坚持使用",
								cancelName: "去购买",
								noTips: !1
							};
							return s.openConfirmDialog(r).then(function() {
								r.noTips && a.myFont.personFontNoTip.push(e.name),
								t()
							},
							function() {
								r.noTips && a.myFont.personFontNoTip.push(e.name),
								a.buyFont(e).then(function() {
									a.myFont.myFontLists = []
								})
							})
						}
						t()
					}
				}
				function m(e) {
					var t = null;
					if (e) n.selectStyle.fontSize = e,
					t = e;
					else {
						n.selectStyle.fontSize = n.selectStyle.fontSize.replace(/[^\d]/g, "");
						var o = parseInt(n.selectStyle.fontSize);
						t = o ? o < 12 ? 12 : o > 96 ? 96 : o: 12,
						n.selectStyle.fontSize || i(function() {
							n.selectStyle.fontSize = n.selectStyle.fontSize || 12
						},
						750)
					}
					t >= 12 && t <= 96 && E("fontSize", t + "px"),
					n.targetField && n.targetField.focus(),
					O()
				}
				function f() {
					n.selectStyle.fontSize && (n.selectStyle.fontSize < 12 ? n.selectStyle.fontSize = 12 : n.selectStyle.fontSize > 96 && (n.selectStyle.fontSize = 96))
				}
				function h(e) {
					switch (E(e, ""), O(), e) {
					case "justifyleft":
						n.classTextAlign = "left";
						break;
					case "justifycenter":
						n.classTextAlign = "center";
						break;
					case "justifyright":
						n.classTextAlign = "right"
					}
				}
				function v(t) {
					t ? n.selectStyle.lineHeight = t: n.selectStyle.lineHeight && !isNaN(n.selectStyle.lineHeight) ? parseFloat(n.selectStyle.lineHeight) > 3 && (n.selectStyle.lineHeight = "3") : n.selectStyle.lineHeight = null,
					n.selectStyle.lineHeight && (n.selectStyle.lineHeight = n.selectStyle.lineHeight.replace(/^(\-)*(\d+)\.(\d\d).*$/, "$1$2.$3")),
					n.comp.compJson.css.lineHeight = parseFloat(n.selectStyle.lineHeight).toFixed(2),
					_.parent().parent().css("lineHeight", n.selectStyle.lineHeight),
					e.$broadcast("adjust.line.height"),
					O()
				}
				function y(e) {
					e ? n.selectStyle.letterSpacing = e.replace("em", "") : n.selectStyle.letterSpacing && !isNaN(n.selectStyle.letterSpacing) ? n.selectStyle.letterSpacing > 100 && (n.selectStyle.letterSpacing = 100) : n.selectStyle.letterSpacing = null,
					E("subscript", ""),
					E("letterSpacing", n.selectStyle.letterSpacing / 100 + "em"),
					n.targetField && n.targetField.focus(),
					O()
				}
				function b(e) {
					null !== e.target && (n.targetField = e.target)
				}
				function x() {
					i(function() {
						if (D && D.endContainer.parentElement.getAttribute("href")) {
							var e = D.endContainer.parentElement.getAttribute("href");
							/^http:|^https:|^ftp:/.test(e) ? n.externalLink = e: (n.link = "internal", document.getElementById("linkInternalPage").value = e)
						}
						$("#addLinkInputToggle").click()
					})
				}
				function w() {
					var e = "";
					"external" === n.link ? (/^http:|^https:|^ftp:/.test(n.externalLink) || n.externalLink && (n.externalLink = "http://" + n.externalLink), e = n.externalLink, D.toString().length > 0 && E("CreateLink", e)) : (e = document.getElementById("linkInternalPage").value, D.toString().length > 0 && E("internalLink", e)),
					i(function() {
						$("#addLinkInputToggle").click(),
						O()
					})
				}
				function S() {
					E("Unlink"),
					O()
				}
				function k() {
					E("RemoveFormat"),
					_.parent().parent().css("lineHeight", 1),
					n.comp.compJson.css.lineHeight = 1,
					e.$broadcast("adjust.line.height"),
					O()
				}
				function C(e) {
					8 !== e.keyCode && 46 !== e.keyCode || e.stopPropagation()
				}
				function T(t, i) {
					function o() {
						function t(e) {
							return "SPAN" !== e.tagName && "A" !== e.tagName || "rgba(0, 0, 0, 0)" !== window.getComputedStyle(e, null).backgroundColor ? e: t(angular.element(e).parent()[0])
						}
						"DIV" === a.tagName ? "DIV" === a.tagName && a.getAttribute("id") && parseInt(a.getAttribute("id")) === n.comp.compJson.id ? (a.style.fontSize ? n.selectStyle.fontSize = window.getComputedStyle(a, null).fontSize.replace("px", "") : n.selectStyle.fontSize = "24", n.selectStyle.fontFamily = window.getComputedStyle(a, null).fontFamily, n.selectStyle.showColor = window.getComputedStyle(a, null).color, n.selectStyle.showBackgroundColor = window.getComputedStyle(a, null).backgroundColor, n.classTextAlign = window.getComputedStyle(a, null).textAlign, "normal" === window.getComputedStyle(a, null).letterSpacing ? n.selectStyle.letterSpacing = 0 : n.selectStyle.letterSpacing = 100 * window.getComputedStyle(a, null).letterSpacing.replace("px", "") / 24) : (n.selectStyle.fontFamily = window.getComputedStyle(a, null).fontFamily, n.selectStyle.fontSize = "24", n.selectStyle.showColor = "rgb(118, 131, 143)", n.selectStyle.showBackgroundColor = "rgba(0,0,0,0)", n.selectStyle.letterSpacing = 0) : (n.selectStyle.fontFamily = window.getComputedStyle(a, null).fontFamily, n.selectStyle.fontSize = window.getComputedStyle(a, null).fontSize.replace("px", ""), n.selectStyle.showColor = window.getComputedStyle(a, null).color, n.selectStyle.showBackgroundColor = window.getComputedStyle(t(a), null).backgroundColor, n.classTextAlign = window.getComputedStyle(a, null).textAlign, "normal" === window.getComputedStyle(a, null).letterSpacing ? n.selectStyle.letterSpacing = 0 : n.selectStyle.letterSpacing = 100 * window.getComputedStyle(a, null).letterSpacing.replace("px", "") / 24),
						n.selectStyle.lineHeight = (window.getComputedStyle(_.parent().parent()[0], null).lineHeight.replace("px", "") / 24).toFixed(2),
						e.$broadcast("adjust.line.height"),
						I()
					}
					var a = null;
					a = t ? "outOfEdit" === i ? D.endContainer.parentElement: D.startContainer.parentElement: _[0].children.length > 0 && _[0].childNodes[0].innerText === _[0].innerText ? _[0].childNodes[0] : _[0],
					t ? n.$apply(o()) : o()
				}
				function q() {
					a.openFontShopping()
				}
				function I() {
					var e = 0;
					angular.forEach(n.fontNames,
					function(t) {
						t.fontFamily === n.selectStyle.fontFamily && (n.selectedFontName = t.name, e++)
					}),
					e || (n.selectedFontName = "默认字体")
				}
				function E(e, t) {
					L(),
					document.execCommand(e, 0, t),
					"fontSize" !== e && "letterSpacing" !== e && "internalLink" !== e || P(e, t),
					j(),
					L()
				}
				function P(e, t) {
					var n = {};
					n[e] = t;
					var i = null;
					"fontSize" === e && (i = _.find('[style*="font-size: -webkit-xxx-large"]'), $(i).css(n), $(i).find("span").length > 0 && $(i).find("span").css(n)),
					"letterSpacing" === e && (i = _.find('[style*="vertical-align: sub;"]'), $(i).css("vertical-align", "baseline"), $(i).css(n)),
					"internalLink" === e && (document.execCommand("CreateLink", 0, t), n = {
						data: t
					},
					i = _.find("[href=" + t + "]"), i.attr(n))
				}
				function A() {
					var e = window.getSelection();
					if (e.getRangeAt && e.rangeCount) return e.getRangeAt(0)
				}
				function j() {
					D = A()
				}
				function L() {
					var e = window.getSelection();
					if (D) {
						try {
							e.removeAllRanges()
						} catch(t) {
							document.body.createTextRange().select(),
							document.selection.empty()
						}
						e.addRange(D)
					} else e.selectAllChildren(_[0]),
					D = A()
				}
				function M() {
					if (c) {
						n.comp.compJson.content = _.html(),
						n.comp.$context.unbind("DOMSubtreeModified"),
						$(".inside-active-width") && (n.comp.$li.find(".element-box").css("width", "100%"), n.comp.$li.find(".element-box-contents").css("width", "100%"));
						var e = n.comp.$li.find(".element-box").height(),
						t = n.comp.$li.find(".element-box").width();
						n.comp.$context.css({
							height: e,
							width: t
						}),
						n.comp.update$li({
							height: e,
							width: t
						}),
						n.comp.$li.removeClass("inside-active-height"),
						n.comp.$li.removeClass("inside-active-width"),
						n.comp.$context.css({
							minHeight: "inherit",
							minWidth: "inherit"
						}),
						_.removeAttr("contenteditable"),
						c.remove(),
						H(),
						V(),
						U(),
						W(),
						G(),
						c = null
					}
				}
				function O() {
					n.comp.compJson.content = _[0].innerHTML
				}
				function F() {
					_[0].setAttribute("contenteditable", "true"),
					p(),
					_[0].focus(),
					document.execCommand("styleWithCSS", 0, !0),
					u().then(function() {
						I()
					}),
					angular.element(document.querySelector("eqx-workspace")).bind("mouseup",
					function() {
						$("#btn-toolbar").length > 0 && ("A" === window.getSelection().baseNode.tagName && "inputSelection" === window.getSelection().baseNode.getAttribute("class") || (D = A(), T(!0, "outOfEdit"), n.selectStyle.color = n.selectStyle.showColor, n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor))
					}),
					_.bind("mouseup",
					function(e) {
						$("#btn-toolbar").length > 0 && i(function() {
							D = A(),
							T(!0, e),
							n.selectStyle.color = n.selectStyle.showColor,
							n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor,
							e.stopPropagation()
						})
					}),
					_.bind("keydown",
					function(e) {
						if ((e.ctrlKey || e.metaKey) && (65 === e.keyCode || 97 === e.keyCode)) {
							var t = window.getSelection();
							t.selectAllChildren(_[0]),
							D = A()
						}
					}),
					T(!1, n.dbclickEvent),
					n.selectStyle.color = n.selectStyle.showColor,
					n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor,
					i(function() {
						l.top < 100 ? $("#btn-toolbar").css("top", parseInt(l.top) + parseInt(l.height) + 30) : $("#btn-toolbar").css("top", l.top - 50),
						$('div[isToolbarColor="toolbarColor"]').bind("click",
						function() {
							n.$watch("selectStyle.color",
							function(e, t) {
								e !== t && (n.selectStyle.showColor = e, E("ForeColor", e), O())
							}),
							n.$watch("selectStyle.backgroundColor",
							function(e, t) {
								e !== t && (n.selectStyle.showBackgroundColor = e, E("BackColor", e), O())
							})
						}),
						i(function() {
							D = A()
						},
						100),
						$(".dropdown-menu.input-append").on("click.text",
						function(e) {
							e.stopPropagation()
						})
					}),
					_.unbind("paste"),
					_.one("paste",
					function(e) {
						e.preventDefault();
						var t = (e.originalEvent || e).clipboardData.getData("text/plain") || prompt("Paste something..");
						document.execCommand("insertText", !1, t)
					})
				}
				n.upclass = !1;
				var _ = n.comp.$context,
				D = null,
				B = r.getCurrentUser(),
				J = [{
					name: "fontSizeList1",
					value: "96"
				},
				{
					name: "fontSizeList2",
					value: "64"
				},
				{
					name: "fontSizeList3",
					value: "48"
				},
				{
					name: "fontSizeList4",
					value: "32"
				},
				{
					name: "fontSizeList5",
					value: "24"
				},
				{
					name: "fontSizeList6",
					value: "20"
				},
				{
					name: "fontSizeList7",
					value: "18"
				},
				{
					name: "fontSizeList8",
					value: "16"
				},
				{
					name: "fontSizeList9",
					value: "14"
				},
				{
					name: "fontSizeList10",
					value: "13"
				},
				{
					name: "fontSizeList11",
					value: "12"
				}],
				N = [{
					name: "0%",
					scale: "0"
				},
				{
					name: "10%",
					scale: "10em"
				},
				{
					name: "25%",
					scale: "25em"
				},
				{
					name: "50%",
					scale: "50em"
				},
				{
					name: "75%",
					scale: "75em"
				},
				{
					name: "100%",
					scale: "100em"
				}],
				R = [{
					name: "0.25",
					scale: "0.25"
				},
				{
					name: "0.50",
					scale: "0.5"
				},
				{
					name: "0.75",
					scale: "0.75"
				},
				{
					name: "1.00",
					scale: "1"
				},
				{
					name: "1.50",
					scale: "1.5"
				},
				{
					name: "1.75",
					scale: "1.75"
				},
				{
					name: "2.00",
					scale: "2"
				},
				{
					name: "2.50",
					scale: "2.5"
				},
				{
					name: "3.00",
					scale: "3"
				}],
				z = {
					fontFamily: "",
					fontSize: "",
					color: "",
					backgroundColor: "",
					fontWeight: "",
					fontStyle: "",
					textDecoration: "",
					letterSpacing: "",
					lineHeight: "",
					showColor: "",
					showBackgroundColor: ""
				};
				angular.extend(n, n, {
					fontNames: [],
					selectedFontName: "",
					targetField: null,
					isShowCreateLink: !1,
					link: "external",
					internalLink: 1,
					selectStyle: z,
					fontSizeLists: J,
					wordLineLists: N,
					lineHeightLists: R,
					pages: t.eqxScene.sceneJson.list,
					classTextAlign: "eqf-leftword",
					writeModelNormal: !0,
					appendFontFamily: u,
					changeFontFamily: g,
					changeFontSize: m,
					backFontSize: f,
					lineHeight: v,
					letterSpace: y,
					focusCallback: b,
					changeStyle: h,
					stopBackSpace: C,
					openAddLinkDialog: x,
					addLink: w,
					removeLink: S,
					clearStyle: k,
					openFontMarket: q,
					settingVertical: d
				}),
				F();
				var H = n.$on("selectBox.start",
				function() {
					M()
				}),
				V = n.$on("compResize.move",
				function(e, t) {
					t === n.comp && M()
				}),
				U = n.$on("$destroy",
				function() {
					M()
				}),
				G = n.$on("wsComp.edit",
				function() {
					M()
				}),
				W = n.$on("selectService.remove",
				function() {
					M()
				})
			}
		}
	}
	i.$inject = ["$rootScope", "sceneService", "$timeout", "HOST", "fontService", "userService", "modalService"],
	n(534),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=btn-toolbar id=btn-toolbar data-role=editor-toolbar disable-context-menu><div id=fontFamily class=btn-group><div class="dropdown font-dropdown"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=字体 id=fontMenu ng-click=appendFontFamily() style=width:110px;font-size:12px down-up-select><span style=display:inline-block;height:28px;width:90px;overflow:hidden>{{selectedFontName}}</span> <b class=caret></b></a><div class=dropdown-menu role=menu aria-labelledby=fontMenu style=min-width:120px;left:-13px ng-class={upSelectShow:upclass}><a class="btn context-gengduo" ng-click="changeFontFamily({name: \'默认字体\', fontFamily: \'Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif\'})">默认字体</a><div eqd-scroll style=max-height:300px><ul class="fontname-menu font-size-menu family-size-setting" ng-class={upSelectShow:upclass}><li style=text-align:left ng-repeat="name in fontNames" ng-if="name.status==1"><a ng-click=changeFontFamily(name); dropdown-toggle class=btn ng-class="{\'fontDisable\': name.expStatus == 0}" data-edit=fontName big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=字体使用量 categorythreeid=4 actiontype=4 itemmaps=\'{"use": "{{name.name}}"}\'>{{name.name}}</a></li></ul></div><a class="btn context-gengduo" ng-click=openFontMarket() big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=更多字体 categorythreeid=1 actiontype=4>更多字体</a></div></div></div><div class=btn-group><div class=dropdown style=display:inline-block><a class="dropdown-toggle first-child hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=字号 style=width:45px;padding-left:8px ng-init="defaultSize = \'24px\'" down-up-select>{{selectStyle.fontSize}} <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass} ng-click=backFontSize()><li><a class=inputSelection><input ng-change=changeFontSize() ng-focus=focusCallback($event) ng-click=$event.stopPropagation() ng-keydown=stopBackSpace($event) ng-keypress=stopBackSpace($event) type=text ng-model=selectStyle.fontSize value={{selectStyle.fontSize}}></a></li><li ng-repeat="list in fontSizeLists"><a dropdown-toggle ng-click=changeFontSize(list.value);>{{list.value}}px</a></li></ul></div></div><div class="btn-group intersected"></div><div class=btn-group><div class="dropdown dropdown-toggle hint--bottom hint--rounded text-btn-border" data-hint=颜色 style=width:28px><a class="" data-toggle=dropdown><span class=text-btn-border-color style=color:#828d98>A <i class=change-font-btn style="background-color:{{selectStyle.showColor}};border:1px solid #ccd5db"></i></span></a><eqd-input-color select-color=selectStyle.color direction=bottom toolcolorpicker=toolbarColor theme=text-btn-border-color-button notify=grid x=-1 w=30 h=28></eqd-input-color></div></div><div class=btn-group><div class="dropdown dropdown-toggle hint--bottom hint--rounded text-btn-border" data-hint=背景颜色 style=width:28px><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle=dropdown><span ng-if="selectStyle.showBackgroundColor === \'rgba(0,0,0,0)\'\r\n                || selectStyle.showBackgroundColor === \'rgba(0, 0, 0, 0)\'" class=text-btn-border-bg style="border:1px solid #ccd5db"></span> <span ng-if="selectStyle.showBackgroundColor !== \'rgba(0,0,0,0)\'\r\n                && selectStyle.showBackgroundColor !== \'rgba(0, 0, 0, 0)\'" class=text-btn-border-bg style="border:1px solid #ccd5db;background:{{selectStyle.showBackgroundColor}}"></span></a><eqd-input-color select-color=selectStyle.backgroundColor direction=bottom toolcolorpicker=toolbarColor theme=text-btn-border-color-button notify=gridTest x=-1 w=30 h=28 isconverttransparent=true></eqd-input-color></div></div><div class="btn-group intersected"></div><div class=btn-group><div class="hint--bottom hint--rounded text-btn-border text-style" style=width:90px><a class="hint--bottom hint--rounded bolded" data-hint=加粗 ng-click="changeStyle(\'bold\');"><i class=eqf-b></i> </a><a class="hint--bottom hint--rounded italic" data-hint=倾斜 ng-click="changeStyle(\'Italic\');"><i class=eqf-I></i> </a><a class="hint--bottom hint--rounded underline" data-hint=下划线 ng-click="changeStyle(\'underline\');"><i class=eqf-U></i> </a><a class="hint--bottom hint--rounded strikeThrough" data-hint=删除线 ng-click="changeStyle(\'strikeThrough\');"><i class="eqf-del2 deleteline"></i></a></div></div><div class="btn-group intersected"></div><div class=btn-group style=margin-right:0><a class="last-child hint--bottom hint--rounded text-btn-border" data-hint=文本竖直 style=width:30px;text-align:center ng-click=settingVertical()><i class=eqf-vertical-font></i></a></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border testalign" data-toggle=dropdown data-hint=对齐方式 style=width:45px;padding-left:5px down-up-select><i ng-if=writeModelNormal ng-switch=classTextAlign ng-class="{\'eqf-minddleword\': classTextAlign ==\'center\',\'eqf-leftword\': (classTextAlign==\'left\' || classTextAlign === undefined), \'eqf-rightword\': classTextAlign==\'right\'}"></i> <i ng-if=!writeModelNormal ng-switch=classTextAlign ng-class="{\'eqf-vertical-mid\': classTextAlign ==\'center\',\'eqf-vertical-top\': (classTextAlign==\'left\' || classTextAlign === undefined), \'eqf-vertical-bottom\': classTextAlign==\'right\'}"></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a ng-if=writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyleft\')" data-hint=居左 class="btn hint--bottom hint--rounded"><i class=eqf-leftword></i> </a><a ng-if=!writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyleft\')" data-hint=居上 class="btn hint--bottom hint--rounded"><i class=eqf-vertical-top></i></a></li><li><a dropdown-toggle ng-click="changeStyle(\'justifycenter\')" data-hint=居中 class="btn hint--bottom hint--rounded"><i ng-if=writeModelNormal class=eqf-minddleword></i> <i ng-if=!writeModelNormal class=eqf-vertical-mid></i></a></li><li><a ng-if=writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyright\')" data-hint=居右 class="btn hint--bottom hint--rounded"><i class=eqf-rightword></i> </a><a ng-if=!writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyright\')" data-hint=居下 class="btn hint--bottom hint--rounded"><i class=eqf-vertical-bottom></i></a></li></ul></div></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border add-icon-font" data-toggle=dropdown data-hint=行高 style=width:55px;padding-left:10px ng-click=editLineHeight() down-up-select><i ng-if=writeModelNormal class=eqf-linebig></i> <i ng-if=!writeModelNormal class=eqf-line-height></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a class=inputSelection><input ng-change=lineHeight() ng-focus=focusCallback($event) ng-click=$event.stopPropagation() ng-keydown=stopBackSpace($event) ng-keypress=stopBackSpace($event) type=text ng-model=selectStyle.lineHeight value={{selectStyle.lineHeight}}></a></li><li ng-repeat="lineHeightList in lineHeightLists" class={{lineHeightList.value}}><a dropdown-toggle class="btn hint--bottom hint--rounded" ng-click=lineHeight(lineHeightList.scale)>{{lineHeightList.name}}</a></li></ul></div></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=调整字间距 style=width:55px;padding-left:10px ng-click=editLetter(); down-up-select><i ng-if=writeModelNormal class="eqf-letter add-icon-font" style=line-height:28px></i> <i ng-if=!writeModelNormal class="eqf-font-space add-icon-font" style=font-size:14px></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a class=inputSelection><input ng-change=letterSpace() ng-focus=focusCallback($event) ng-click=$event.stopPropagation() ng-keydown=stopBackSpace($event) ng-keypress=stopBackSpace($event) type=text ng-model=selectStyle.letterSpacing value={{selectStyle.letterSpacing}}></a></li><li ng-repeat="wordLineList in wordLineLists" class={{wordLineList.value}}><a dropdown-toggle class="btn hint--bottom hint--rounded" ng-click=letterSpace(wordLineList.scale)>{{wordLineList.name}}</a></li></ul></div></div><div class="btn-group intersected"></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle createLink hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=添加超链接 style=width:55px;padding-left:10px down-up-select><i class=eqf-link></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a class="btn hint--bottom hint--rounded" style=width:98px data-hint=添加超链接：先选中要加链接的文字 ng-click=openAddLinkDialog();><i class=eqf-link dropdown-toggle></i></a></li><li><a class="btn hint--bottom hint--rounded" style=width:98px data-hint=清除超链接 ng-click=removeLink()><i class=eqf-linkout dropdown-toggle></i></a></li></ul><div class=dropdown id=toolbar-add-linkA><a id=addLinkInputToggle class=dropdown-toggle data-toggle=dropdown style=width:0;height:0 down-up-select></a><div class="dropdown-menu input-append" style="min-width:335px;padding:4px 4px 14px 19px" ng-class={upSelectShowLink:upclass}><div class=span4 style=margin-top:10px><div class=radio-square ng-class="{checked:link==\'external\'}" style=margin-top:8px><em></em> <input class=span2 name=link ng-model=link type=radio value=external></div><span>网站地址：</span> <input class=span2 placeholder=http:// type=text ng-model=externalLink style=border-radius:0;width:200px;height:35px ng-keydown=stopBackSpace($event) /></div><div class=span4 style=margin-top:10px;text-align:right><a href=http://dwz.cn/ style=text-decoration:underline;color:#08A1EF;margin-right:30px target=_blank><span>生成短链接</span></a></div><div class=span4 style=margin-top:10px><div class=radio-square ng-class="{checked:link==\'internal\'}" style=margin-top:8px><em></em> <input class=span2 name=link ng-model=link type=radio value=internal></div><span>场景页面：</span><select id=linkInternalPage class=span2 style=width:200px;height:35px><option ng-repeat="page in pages" value={{page.id}}>{{page.name || \'第\'+page.num+\'页\'}}</option></select></div><div style=text-align:center><a class="btn btn-primary link-btn-priv" style=color:#FFF;margin-top:20px dropdown-toggle ng-click=addLink()>确定</a></div></div></div></div></div><div class="btn-group intersected"></div><div class=btn-group style=margin-right:0><a class="last-child hint--bottom hint--rounded text-btn-border" data-hint=清除样式 style=width:30px;text-align:center ng-click=clearStyle()><i class=eqf-clear></i></a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "$compile", "$timeout", "sceneService", "fontAPI", "$q", "modalService", "authorityService", "fontService", "userService",
			function(e, t, i, o, a, r, s, c, l, p, d) {
				"ngInject";
				function u(e) {
					var t = /font-family:(.*?);/g,
					n = [],
					i = [];
					if ("2" == e.compJson.type) for (var o = e.compJson.content; null !== (n = t.exec(o));) i.indexOf(n[1].trim()) === -1 && i.push(n[1].trim());
					return i
				}
				function g(e) {
					var t = u(e);
					return 0 == t.length ? s.reject([]) : r.getFontNames(t.join(","), !0).then(function(e) {
						return e.data.list && 0 !== e.data.list.length ? e.data.list: s.reject([])
					})
				}
				function m(e, t) {
					return t.find("*").toArray().filter(function(e) {
						return ($(e).attr("style") || "").includes("font-family")
					}).forEach(function(t) {
						var n = $(t),
						i = /font-family:([^;]*);/.exec(n.attr("style"))[1],
						o = i.trim().split(", ").filter(function(t) {
							return e.includes(t)
						}).join(", ");
						n.css({
							"font-family": o
						})
					}),
					t[0].innerHTML.trim()
				}
				function f(e) {
					e.bind("mousedown contextmenu dblclick keydown",
					function(e) {
						e.stopPropagation()
					}),
					e.find("a").unbind("click"),
					e.find("a").bind("click",
					function(e) {
						e.preventDefault()
					})
				}
				function h(e) {
					e.unbind("mousedown contextmenu dblclick keydown mouseup"),
					angular.element(document.querySelector("eqx-workspace")).unbind("mouseup")
				}
				var v = null,
				y = d.getCurrentUser();
				e.createTextComp = function() {
					var e = n(538),
					i = a.getCurrentPage(),
					r = i.initEqxCompByJson(e);
					r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r), o(function() {
						t.$broadcast("wsComp.edit", r)
					},
					100))
				},
				e.$on("selectService.remove",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.filter(function(e) {
						return 2 == e.compJson.type
					}).forEach(function(e) {
						h(e.$context),
						e.compJson.content = e.$context[0].innerHTML,
						e.$context.removeAttr("contenteditable"),
						v && v.remove()
					})
				}),
				e.$on("compResize.move",
				function(e, t) {
					2 == t.compJson.type && (h(t.$context), t.$context.removeAttr("contenteditable"))
				}),
				e.$on("wsComp.edit",
				function(n, o) {
					document.activeElement === document.body && g(o).then(function(e) {
						var t = e.filter(function(e) {
							return 0 !== e.license && 1 !== e.license
						}),
						n = t.map(function(e) {
							return e.name
						});
						if (0 == t.length) return s.reject(e);
						var i = '当前字体<span class="color-blue">' + n.join(",") + "</span>未经授权，请先购买字体。";
						return c.openConfirmDialog({
							msg: i,
							confirmName: "购买字体",
							cancelName: "暂不购买"
						}).then(function() {
							1 == t.length ? p.buyFont(t[0]).then(function() {
								p.myFont.myFontLists = []
							}) : p.openFontShopping()
						},
						function() {
							return c.openConfirmDialog({
								msg: "确定要恢复默认字体吗？",
								confirmName: "确认",
								cancelName: "取消编辑"
							}).then(function() {
								var t = e.filter(function(e) {
									return 0 == e.license || 1 == e.license
								}).map(function(e) {
									return e.fontFamily
								}) || [];
								return o.compJson.content = m(t, o.$context),
								s.resolve([])
							},
							function() {
								return s.resolve([])
							})
						})
					})["catch"](function(n) {
						function a() {
							if (v && (v.remove(), v = null), 2 == o.compJson.type) {
								o.stopAnimation(),
								t.$broadcast("closeCompSetting", o),
								e.pages = [],
								e.comp = o;
								var n = o.$li.offset().top,
								a = o.$li.height();
								v = $('<div toolbar comp="comp" height="' + a + '" top="' + n + '"></div>'),
								l.permission("richTxtTool") && v.css("left", "40%"),
								$("body").append(v),
								i(v)(e),
								o.$context.css({
									minHeight: a
								}),
								setTimeout(function() {
									if (o.$context.focus(), o.$context.removeAttr("ctype"), f(o.$context), v && v.show(), window.getSelection) {
										var e = window.getSelection();
										e.modify("move", "left", "documentboundary"),
										e.modify("extend", "right", "documentboundary")
									}
								})
							}
						}
						if (2 == y.type) {
							var r = n.filter(function(e) {
								return p.myFont.personFontNoTip.indexOf(e.name) == -1 && 1 !== e.license
							}),
							s = r.map(function(e) {
								return e.name
							});
							if (0 == r.length) return void a();
							var d = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + s.join(",") + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
							u = {
								msg: d,
								confirmName: "坚持使用",
								cancelName: "去购买",
								noTips: !1
							};
							c.openConfirmDialog(u).then(function() {
								u.noTips && $.each(s,
								function(e, t) {
									p.myFont.personFontNoTip.push(t)
								}),
								a()
							},
							function() {
								u.noTips && $.each(s,
								function(e, t) {
									p.myFont.personFontNoTip.push(t)
								}),
								1 == r.length ? p.buyFont(r[0]).then(function() {
									p.myFont.myFontLists = []
								}) : p.openFontShopping()
							})
						} else a()
					})
				})
			}],
			link: function(e, t) {
				t.on("click.text",
				function() {
					e.$apply(function() {
						return e.createTextComp()
					})
				})
			}
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		content: "双击此处进行编辑",
		css: {
			top: "20px",
			left: "5px",
			width: "310px",
			height: "38px",
			fontSize: 24,
			writingMode: "horizontal-tb"
		},
		properties: {},
		title: null,
		type: "2"
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.video", []).directive("eqxVideo", n(540)).factory("videoModal", n(542)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "videoModal", "telFactory", "sceneService",
			function(e, t, n, i, a) {
				"ngInject";
				function r(e) {
					var i = e.compJson;
					"v" == i.type && n.open(i.properties.src).then(function(n) {
						e.setProps({
							src: n
						}),
						t.$broadcast("wsComp.updated", e)
					})
				}
				e.createVideoComp = function() {
					var e = JSON.parse(JSON.stringify(o));
					n.open("").then(function(n) {
						e.properties.src = n;
						var i = a.getCurrentPage(),
						o = i.initEqxCompByJson(e);
						o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				},
				e.$on("wsComp.edit",
				function(e, t) {
					return r(t)
				})
			}],
			link: function(e, t) {
				t.on("click.video",
				function() {
					e.$apply(function() {
						return e.createVideoComp()
					})
				}),
				t.on("$destroy",
				function() {
					return t.off(".video")
				})
			}
		}
	}
	var o = n(541);
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {
			top: "100px",
			left: "135px",
			width: "50px",
			height: "48px"
		},
		properties: {
			src: ""
		},
		type: "v"
	}
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(544),
					resolve: {
						src: function() {
							return t
						}
					},
					controller: ["$scope", "$timeout", "src",
					function(e, t, n) {
						function i(e) {
							var t = e.substring(e.indexOf("src=") + 4),
							n = t.substring(t.indexOf("://") + 3),
							i = n.substring(0, n.indexOf("/"));
							return i.indexOf("v.qq") >= 0 || i.indexOf("tudou") >= 0 || i.indexOf("youku") >= 0
						}
						var o = e.vm = {
							error: "",
							src: n
						};
						e.confirm = function() {
							if (!o.src) return $("textarea").focus(),
							void(o.error = "请输入视频地址");
							var t = i(o.src);
							return t ? void(o.src === n ? e.$dismiss() : e.$close(o.src)) : ($("textarea").addClass("error"), $("textarea").change(function() {
								$(this).removeClass("error")
							}), void(o.error = "暂不支持添加此视频！"))
						},
						e.cancel = function() {
							e.$dismiss()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService"],
	n(543),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>视频组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1926&extra="><span class=eqf-exclaquestion-sign></span> </a><span ng-show=!vm.error class=action>把视频通用代码复制到框中即可使用</span> <span ng-show=vm.error>{{vm.error}}</span></h4></div><div class=dialog-contain><div class="video_console dialog-content"><div class=modify_area style=height:auto><div class=video_tip><span>视频通用代码：</span> <span class=video_code><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target=_blank><ins>什么是视频通用代码？</ins></a></span></div><div class=video_tip><textarea style=border-radius:0 class=video_src ng-model=vm.src ng-keyup="$event.keyCode == 13 ? confirm() : null"></textarea></div><div class=video_tip><span>将视频的通用代码粘贴到文本框里即可。</span> <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target=_blank><ins>查看帮助</ins></a></div><div class=video_tip><span>支持的视频：</span> <a href=http://www.youku.com/ target=_blank><ins>优酷</ins> </a>、 <a href=http://www.tudou.com/ target=_blank><ins>土豆</ins> </a>、 <a href=http://v.qq.com/ target=_blank><ins>腾讯视频</ins></a></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.interaction.link", []).factory("linkFactory", n(546)).factory("linkModal", n(547)).directive("eqxLink", n(551));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)",
				top: "100px",
				left: 0
			};
			return {
				css: e,
				properties: {
					title: "点我购买"
				},
				title: null,
				type: "l"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(550),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(548);
	var o = n(549);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "obj", "$modal", "imageModalFactory", "HOST", "sceneService",
	function(e, t, n, i, o, a) {
		"ngInject";
		e.model = JSON.parse(JSON.stringify(t)),
		e.linkObj = {
			link: "external",
			externalUrl: "http://",
			internalUrl: null
		};
		var r = a.eqxScene,
		s = r.meta.id;
		e.pageList = r.sceneJson.list.map(function(e, t) {
			return {
				name: e.name || "第" + (t + 1) + "页",
				id: e.id
			}
		}),
		t.properties.url && (angular.isNumber(t.properties.url) ? (e.linkObj.link = "internal", e.linkObj.internalUrl = t.properties.url) : (e.linkObj.link = "external", e.linkObj.externalUrl = decodeURIComponent(t.properties.url.split("=")[2]))),
		t.properties.imgSrc && (e.vm = {
			imgSrc: o.FILE + t.properties.imgSrc
		}),
		e.authError = "",
		e.buttons = [{
			id: 1,
			text: "点我购买",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "点开链接",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 3,
			text: "马上购买",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "关注我们",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}],
		e.openImageModal = function() {
			var n = {
				storageKey: "",
				categoryName: "图标",
				tagName: "链接"
			};
			i.getImage(n).then(function(n) {
				e.model.title = "",
				e.btnIndex = -1,
				Object.assign(e.model.css, {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				},
				!0),
				e.model.properties.imgSrc = t.properties.imgSrc = n.tmbPath,
				e.vm = {
					imgSrc: o.FILE + e.model.properties.imgSrc
				}
			})
		},
		angular.forEach(e.buttons,
		function(n, i) {
			"" !== e.model.properties.title && t.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
		});
		var c = "http://";
		e.confirm = function() {
			return null !== e.model.properties.imgSrc || e.model.properties.title && 0 !== e.model.properties.title.length ? e.linkObj.externalUrl || "external" !== e.linkObj.link ? ("external" === e.linkObj.link ? /^http:|^https:|^ftp:/.test(e.linkObj.externalUrl) ? e.model.properties.url = e.linkObj.externalUrl: e.model.properties.url = c + e.linkObj.externalUrl: e.model.properties.url = e.linkObj.internalUrl, isNaN(e.model.properties.url) && e.model.properties.url && (e.model.properties.url = o.SERVER_1 + "eqs/link?id=" + s + "&url=" + encodeURIComponent(e.model.properties.url)), void e.$close(e.model)) : void(e.authError = "链接不能为空") : (e.authError = "按钮名称不能为空", void $("#buttonName").focus())
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, n) {
			e.model.properties.title = t.text,
			Object.assign(e.model.css, t.btnStyle),
			e.btnIndex = n,
			e.model.properties.imgSrc = null
		},
		e.removeLink = function(t) {
			"external" === t ? e.linkObj.externalUrl = null: "internal" === t && (e.linkObj.internalLink = null),
			e.changed()
		},
		e.changed = function() {
			e.linkObj.externalUrl = "http://",
			e.linkObj.internalUrl = null
		},
		e.selectRadio = function(t) {
			e.linkObj.link = t,
			"external" === t ? e.linkObj.internalUrl = null: "internal" === t && (e.linkObj.externalUrl = "http://")
		}
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>链接组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13069&extra"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>两种链接：可以跳转到场景外部的链接，或者内部导航链接</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain link-component"><div class=tab-same><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic></em><em>自定义</em></div></div><div class="link-modal dialog-content"><form class=form-contain><div class="form-list clearfix" ng-if=!model.properties.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name style=width:300px type=text ng-model=model.properties.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if=model.properties.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src={{vm.imgSrc}} alt=按钮图片 /> <a class="btn-main btn-picture" style=text-align:center;font-size:12px ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix" style=position:relative><label for=externalRadio class=form-label><input type=radio name=externalRadio id=externalRadio ng-model=linkObj.link value=external ng-change=changed() style="margin:0 5px 0 0"><span>网站地址：</span></label><div class=form-input><input style=width:300px type=text ng-model=linkObj.externalUrl name=externalLink id=externalLink placeholder=网站地址 ng-disabled="url.link == \'internal\'" ng-focus="selectRadio(\'external\')" limit-link-length stop-propagation/> <a style=font-size:16px;display:inline-block;margin-top:5px;background-image:url(assets/images/create/delete.png);width:14px;height:14px ng-show="url.link == \'external\'" class=delete-link ng-click="removeLink(\'external\')"></a></div><a href=http://dwz.cn/ style=text-decoration:underline;color:#08A1EF;position:absolute;top:10px;right:-30px;font-size:12px target=_blank>生成短链接</a></div><div class="form-list clearfix"><label for=internalRadio class=form-label><input type=radio name=internalRadio id=internalRadio value=internal ng-model=linkObj.link ng-change=changed() style="margin:0 5px 0 0"><span>场景页面：</span></label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=linkObj.internalUrl change="selectRadio(\'internal\')"><eqx-select-option value=null>选择场景页面</eqx-select-option><eqx-select-option value=page.id ng-repeat="page in pageList">{{page.name}}</eqx-select-option></eqx-select></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>';
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "linkFactory", "linkModal", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createLinkComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"l" === a.type && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.link",
				function() {
					e.$apply(function() {
						return e.createLinkComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.interaction.tel", []).factory("telFactory", n(553)).factory("telModal", n(554)).directive("eqxTel", n(557));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				top: "0px",
				left: "120px",
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			};
			return {
				css: e,
				properties: {
					title: "一键拨号",
					number: ""
				},
				title: null,
				type: 8
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(556),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"];
	var o = n(555);
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "obj", "imageModalFactory", "HOST",
	function(e, t, n, i) {
		"ngInject";
		e.model = JSON.parse(JSON.stringify(t)),
		e.authError = "",
		e.buttons = [{
			id: 1,
			text: "一键拨号",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				lineHeight: "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "热线电话",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				lineHeight: "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 3,
			text: "拨打电话",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				lineHeight: "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "一键拨号",
			btnStyle: {
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				backgroundColor: "#fff",
				textAlign: "center",
				border: "1px solid #3FB816",
				color: "rgb(0, 0, 0)"
			}
		}],
		e.vm = {},
		e.butName = !1,
		e.butInput = !1,
		e.model.properties && e.model.properties.imgSrc && (e.vm.imgSrc = i.FILE + e.model.properties.imgSrc),
		angular.forEach(e.buttons,
		function(n, i) {
			"" !== t.properties.title && e.model.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
		}),
		e.confirm = function() {
			var t = e.model.properties;
			if (null === t.imgSrc && (!t.title || 0 === t.title.length)) return e.authError = "按钮名称不能为空",
			void(e.butName = !0);
			if (e.butName = !1, !t.number || 0 === t.title.number) return e.authError = "电话号码不能为空",
			void(e.butInput = !0);
			if (e.butInput = !1, t.number) {
				var n = /^\d{3,15}$/;
				if (!n.test(t.number)) return e.authError = "电话输入有误，请输入3-15位数字",
				void(e.butInput = !0);
				e.butInput = !1
			}
			t.title = t.title.replace(/ /g, "&nbsp;"),
			e.$close(e.model)
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, n) {
			var i = e.model.properties;
			i.title = t.text,
			Object.assign(e.model.css, t.btnStyle),
			e.btnIndex = n,
			i.imgSrc = null
		},
		e.openImageModal = function() {
			var o = {
				storageKey: "",
				categoryName: "图标",
				tagName: "电话"
			};
			n.getImage(o).then(function(n) {
				e.model.title = "",
				e.btnIndex = -1,
				Object.assign(e.model.css, {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				},
				!0),
				e.model.properties.imgSrc = t.properties.imgSrc = n.tmbPath,
				e.vm = {
					imgSrc: i.FILE + e.model.properties.imgSrc
				}
			})
		}
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>电话组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13070&extra"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>填写按钮名称和联系号码，点击可以直接拨打</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic style=font-size:12px></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class=form-contain form=role><div class="form-list clearfix" ng-if=!model.properties.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName ng-class="{error: butName}" class=btn-name type=text ng-model=model.properties.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if=model.properties.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src={{vm.imgSrc}} alt=按钮图片 /> <a class="btn-main btn-picture text-center" ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix"><label for=phoneNumber class=form-label>手机/电话：</label><div class=form-input><input id=phoneNumber ng-class="{error: butInput}" check-count=40 class=tel-button type=text placeholder=010-88888888 ng-model=model.properties.number ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation/></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "telModal", "telFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createTelComp = function() {
					var e = i.getDefaultJson();
					n.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, i) {
					var a = i.compJson;
					8 == a.type && n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.tel",
				function() {
					e.$apply(function() {
						return e.createTelComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.map", []).factory("mapFactory", n(559)).factory("mapModalFactory", n(560)).directive("eqdMap", n(563)).directive("eqdMapMark", n(564)).directive("eqxMap", n(565));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			return {
				content: "",
				css: {
					width: "210px",
					height: "100px"
				},
				id: 123564,
				pageId: 283683,
				properties: {
					address: "设置位置"
				},
				sceneId: 38253,
				title: null,
				type: "m"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(n) {
				return t.qqMap().then(function() {
					return e.open({
						windowClass: "console img_console",
						template: a,
						controller: o,
						resolve: {
							obj: function() {
								return n
							}
						}
					}).result
				})
			}
		}
	}
	i.$inject = ["$modal", "delayLoadService"];
	var o = n(561),
	a = n(562);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e.elemDef = JSON.parse(JSON.stringify(t)),
		e.zoom = t.properties.zoom ? t.properties.zoom: 11,
		e.center = t.properties.lat ? {
			lat: t.properties.lat,
			lng: t.properties.lng
		}: {
			lat: 39.916527,
			lng: 116.397128
		},
		"设置位置" !== t.properties.address && (e.address = t.properties.address, e.markerP = new qq.maps.LatLng(e.center.lat, e.center.lng));
		var n = new qq.maps.SearchService({
			complete: function(t) {
				var n = t.detail.pois;
				e.searchEnd(n)
			}
		});
		e.searchEnd = function(t) {
			e.pois = t,
			e.choosePosition(t[0]),
			e.choosePoi = t[0],
			e.$apply()
		},
		e.choosePosition = function(t) {
			e.center = t.latLng,
			e.choosePoi = t,
			e.markerP = e.center
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.ok = function() {
			var n = {
				zoom: e.zoom,
				center: e.center,
				label: e.choosePoi ? e.choosePoi.name: null
			},
			i = t;
			i.properties.zoom = n.zoom,
			i.properties.lat = n.center.lat,
			i.properties.lng = n.center.lng,
			n.label && (i.content = n.label, i.properties.address = n.label);
			var o = $("#" + i.id);
			if (o.length) {
				var a = e.map;
				if (a.panTo(n.center), a.setZoom(n.zoom), o.data("label")) {
					var r = o.data("label");
					r.setPosition(n.center);
					var s = o.data("marker");
					s.setPosition(n.center)
				}
			}
			e.$close(t)
		},
		e.searchAddress = function(e) {
			e && (n.setPageIndex(0), n.setPageCapacity(10), n.search(e))
		},
		e.change = function(t) {
			e.zoom = t.zoom,
			e.bounds = t.bounds,
			e.center = t.center
		}
	}
	n.$inject = ["$scope", "obj"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>地图</h4></div><div class=map_console><div class=search_area><div class=input-group><input type=text class=form-control ng-model=address ng-keyup="$event.keyCode == 13 ? searchAddress(address) : null" placeholder=请输入地名> <span class=input-group-btn><button ng-click=searchAddress(address) class="btn btn-default" type=button>搜索</button></span></div><h5 class=result-count ng-if=pois>搜索结果：{{pois.length}}条</h5><div class=result><div eqd-scroll style=height:100%><ul><li ng-class="{active:choosePoi.id==poi.id}" ng-repeat="poi in pois" ng-click=choosePosition(poi)><i class=circle>{{$index+1}}</i><h5 class=name>{{poi.name}}</h5><p class=address>{{poi.address}}</p></li></ul></div></div></div><div eqd-map class=map-contain center=$parent.center zoom=$parent.zoom bounds=$parent.bounds><eqd-map-mark position=markerP></eqd-map-mark></div></div><div class="modal-footer ml20 mr20"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>'
},
function(e, t) {
	"use strict";
	e.exports = ["$timeout", "$interval",
	function(e, t) {
		"ngInject";
		return {
			$scope: {
				center: "=",
				zoom: "=",
				bounds: "=",
				change: "&"
			},
			controller: ["$scope",
			function(e) {
				var n = this;
				n.addMark = function(n) {
					if (e.map) n.setMap(e.map);
					else var i = t(function() {
						e.map && (n.setMap(e.map), t.cancel(i))
					},
					400)
				}
			}],
			restrict: "A",
			link: function(e, n) {
				function i() {}
				var o = new qq.maps.LatLng(e.center.lat, e.center.lng),
				a = {
					zoom: e.zoom,
					center: o,
					mapTypeControlOptions: {
						mapTypeIds: []
					}
				},
				r = e.map = new qq.maps.Map(n.get(0), a),
				s = t(function() {
					var n = r.getBounds();
					n && (r.panBy( - 1, -1), n.lat.maxY !== n.lat.minY && n.lng.maxX !== n.lng.minX && (t.cancel(s), e.bounds = n))
				},
				400);
				qq.maps.event.addListener(r, "zoom_changed",
				function() {
					e.zoom = r.getZoom(),
					e.bounds = r.getBounds(),
					i()
				}),
				qq.maps.event.addListener(r, "center_changed",
				function() {
					e.center = r.getCenter(),
					e.bounds = r.getBounds(),
					i()
				}),
				e.$watch("zoom",
				function(e, t) {
					e !== t && r.setZoom(e)
				}),
				e.$watch("center",
				function(e, t) {
					e !== t && (o = new qq.maps.LatLng(e.lat, e.lng), r.panTo(o))
				})
			}
		}
	}]
},
function(e, t, n) {
	"use strict";
	n(563);
	e.exports = function() {
		return {
			scope: {
				position: "="
			},
			require: "^eqdMap",
			restrict: "E",
			link: function(e, t, n, i) {
				var o;
				e.position && (o ? o.setPosition(e.position) : o = new qq.maps.Marker({
					position: e.position,
					animation: qq.maps.MarkerAnimation.DROP,
					map: null
				}), i.addMark(o)),
				e.$watch("position",
				function(t, n) {
					t !== n && (o ? o.setPosition(e.position) : o = new qq.maps.Marker({
						position: e.position,
						animation: qq.maps.MarkerAnimation.DROP,
						map: null
					}), t ? i.addMark(o) : o.setMap(null))
				})
			}
		}
	}
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "mapFactory", "mapModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createMapComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"m" === a.type && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.map",
				function() {
					e.$apply(function() {
						return e.createMapComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.pv", []).directive("eqxPv", n(567)).factory("pvModal", n(569)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "pvModal", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createPvComp = function() {
					n.open(o).then(function(e) {
						var n = i.getCurrentPage(),
						o = n.initEqxCompByJson(e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				},
				e.$on("wsComp.edit",
				function(e, a) {
					var r = a.compJson;
					r.type == o.type && n.open(r).then(function(e) {
						var n = i.getCurrentPage(),
						o = n.updateEqxComp(r.id, e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.pv",
				function() {
					e.$apply(function() {
						return e.createPvComp()
					})
				})
			}
		}
	}
	var o = n(568);
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {
			top: "60px",
			left: "5px",
			width: "310px",
			height: "55px",
			lineHeight: "55px",
			color: "#676767",
			backgroundColor: "#f9f9f9"
		},
		properties: {
			layout: "counter-lr",
			size: "counter-m",
			color: "#76838f",
			icon: "eqf-eye3"
		},
		type: "d"
	}
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(570),
					resolve: {
						pvJson: function() {
							return t
						}
					},
					controller: ["$scope", "pvJson",
					function(e, t) {
						var n = JSON.parse(JSON.stringify(t)),
						i = n.properties,
						o = i.layout,
						a = i.size,
						r = i.color,
						s = i.icon,
						c = i.imgSrc,
						l = n.css;
						e.BUTTON = {
							large: "counter-l",
							middle: "counter-m",
							small: "counter-s"
						};
						var p = e.LAYOUT = {
							v: "counter-tb",
							h: "counter-lr"
						},
						d = e.vm = {
							prop: {
								layout: o,
								size: a,
								color: r,
								icon: s,
								imgSrc: c
							},
							error: ""
						};
						e.confirm = function() {
							var t = l.height,
							i = {};
							d.prop.imgSrc && t < 115 && (i = {
								width: 320,
								height: 115,
								lineHeight: "115px",
								backgroundColor: "transparent"
							}),
							d.prop.layout === p.v && (!d.prop.imgSrc && t < 80 && (i = {
								height: 80,
								lineHeight: "80px"
							}), d.prop.imgSrc && t < 155 && (i.height = 155, i.lineHeight = "155px")),
							Object.assign(n.css, i),
							Object.assign(n.properties, d.prop),
							e.$close(n)
						},
						e.cancel = function() {
							e.$dismiss()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>统计 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15676&page=1&extra=#pid122999"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!vm.error>记录并显示当前作品的展示次数</span> <span ng-show=vm.error>{{vm.error}}</span></h4></div><div class="dialog-contain counter"><div class=tab-same><span class=spanborder ng-class="{\'spanborder\': vm.prop.icon == \'eqf-eye3\'}"><a><span class=eqf-eye3></span></a></span></div><div class="form_console dialog-content"><div class=modify_area><div class=counter-group><span class=title>颜色</span><div class=counter-choice><div style=display:inline-block;height:20px;margin-right:5px><eqd-input-color select-color=vm.prop.color direction=bottom theme=flo_lef notify=grid x=-1 w=37 h=30></eqd-input-color></div><input class=color-picker-input ng-model=vm.prop.color type=text /></div></div><div class=counter-group><span class=title>字号</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.prop.size btn-radio=BUTTON.large>大</label><label class="btn btn-counter" ng-model=vm.prop.size btn-radio=BUTTON.middle>中</label><label class="btn btn-counter" ng-model=vm.prop.size btn-radio=BUTTON.small>小</label></div></div></div><div class=counter-group><span class=title>布局</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.prop.layout btn-radio=LAYOUT.h>左右</label><label class="btn btn-counter" ng-model=vm.prop.layout btn-radio=LAYOUT.v>上下</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.ad", []).factory("adFactory", n(572)).directive("eqxAd", n(573));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				height: "300px",
				width: "250px"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					size: 4
				},
				title: null,
				type: "g"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "adFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createAdComp = function() {
					var e = n.getDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
			}],
			link: function(e, t) {
				t.on("click.ad",
				function() {
					e.$apply(function() {
						return e.createAdComp()
					})
				})
			}
		}
	}
	n(574),
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.counter", []).factory("counterFactory", n(576)).factory("counterModalFactory", n(577)).directive("eqxCounter", n(581));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			var t = {
				width: "310px",
				height: "55px",
				lineHeight: "55px",
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9",
				top: "40px",
				left: "5px"
			},
			n = {
				content: "",
				css: t,
				properties: {
					layout: "counter-lr",
					size: "counter-m",
					color: "#08a1ef",
					icon: "eqf-love",
					clickFarmer: !1,
					clickInterval: 1440
				},
				title: "",
				type: "i"
			};
			return e && (n.properties.icon = e, "eqf-love" == e ? n.properties.color = "#ff5448": "eqf-good" == e ? n.properties.color = "#f2a653": "eqf-flower2" == e ? n.properties.color = "#ea1f64": "eqf-vote" == e && (n.properties.color = "#08a1ef")),
			n
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console six-contain " + i,
					template: n(580),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(578);
	var o = n(579);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		var a = t.vm = {
			id: n.id || null,
			title: n.title,
			properties: {
				layout: n.properties.layout,
				size: n.properties.size,
				color: n.properties.color,
				icon: n.properties.icon,
				imgSrc: n.properties.imgSrc,
				clickFarmer: n.properties.clickFarmer || !1,
				clickInterval: n.properties.clickInterval || 1440
			}
		};
		t.HOST = o,
		t.obj = n,
		t.authError = "",
		t.openImageModal = function() {
			i.getImage().then(function(e) {
				a.properties.icon = "",
				a.properties.imgSrc = n.properties.imgSrc = e.path
			})
		},
		t.confirm = function() {
			angular.extend(n, a);
			var t = parseInt(n.css.height, 10) || 0;
			a.properties.imgSrc && t < 115 && (a.btnStyle = {
				width: "320px",
				height: "115px",
				lineHeight: "115px",
				backgroundColor: "transparent"
			}),
			"counter-tb" === a.properties.layout && (!a.properties.imgSrc && t < 80 && (a.btnStyle = {
				height: "80px",
				lineHeight: "80px"
			}), a.properties.imgSrc && t < 155 && (a.btnStyle = a.btnStyle || {},
			a.btnStyle.height = a.btnStyle.lineHeight = "155px")),
			$.extend(!0, n.css, a.btnStyle),
			e.$broadcast("confirmCompCreate")
		},
		t.$on("confirmClickFarmer",
		function() {
			t.$close(n)
		}),
		t.cancel = function() {
			t.$dismiss()
		},
		t.chooseEqfont = function(e) {
			a.properties.icon = e,
			a.properties.imgSrc = null,
			"" + e == "eqf-love" ? a.properties.color = "#ff5448": "" + e == "eqf-good" ? a.properties.color = "#f2a653": "" + e == "eqf-flower2" ? a.properties.color = "#ea1f64": "" + e == "eqf-vote" && (a.properties.color = "#08a1ef")
		}
	}
	n.$inject = ["$rootScope", "$scope", "obj", "imageModalFactory", "HOST"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>计数 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13239&page=1&extra=#pid104204"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>可以更换自己的图标</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain counter"><div class=tab-same><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-love\'}"><a ng-click="chooseEqfont(\'eqf-love\')"><span class=eqf-love></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-good\'}"><a ng-click="chooseEqfont(\'eqf-good\')"><span class=eqf-good></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-flower2\'}"><a ng-click="chooseEqfont(\'eqf-flower2\')"><span class=eqf-flower2></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-vote\'}"><a ng-click="chooseEqfont(\'eqf-vote\')"><span class=eqf-vote></span></a></span><div ng-class="{\'spanborder\': vm.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic style=font-size:16px></em><em>自定义</em></div></div><div class="form_console dialog-content"><div class=modify_area><div class=counter-group ng-show=vm.properties.imgSrc><span class=title>计数图标</span><div class="form-image btn-small counter-choice"><img style=width:115px;height:115px ng-src="{{HOST.FILE + vm.properties.imgSrc}}" alt=按钮图片 /> <a class="btn-main btn-picture" ng-click=openImageModal()>更换图片</a></div></div><div class=counter-group><span class=title>样式</span><div class=counter-choice></div></div><div class=counter-group><span class=title>颜色</span><div class=counter-choice><div style=display:inline-block;height:20px;margin-right:5px><eqd-input-color select-color=vm.properties.color direction=bottom theme=flo_lef notify=grid x=-1 w=37 h=30></eqd-input-color></div><input class=color-picker-input ng-model=vm.properties.color type=text /></div></div><div class=counter-group><span class=title>字号</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.properties.size btn-radio="\'counter-l\'">大</label><label class="btn btn-counter" ng-model=vm.properties.size btn-radio="\'counter-m\'">中</label><label class="btn btn-counter" ng-model=vm.properties.size btn-radio="\'counter-s\'">小</label></div></div></div><div class=counter-group><span class=title>布局</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.properties.layout btn-radio="\'counter-lr\'">左右</label><label class="btn btn-counter" ng-model=vm.properties.layout btn-radio="\'counter-tb\'">上下</label></div></div></div><div class=counter-group><span class=title>功能</span><div class=counter-choice></div></div><div class=counter-group style=padding-left:115px><click-farmer-setting obj=vm></click-farmer-setting></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "counterModalFactory", "counterFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createCounterComp = function(e) {
					var a = i.getDefaultJson(e);
					n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, i) {
					var a = i.compJson;
					"i" === a.type && n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.counter",
				function(t) {
					var n = $(t.target).closest("li").data("icon");
					e.$apply(function() {
						return e.createCounterComp(n)
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.interaction.sound", []).factory("soundFactory", n(583)).factory("soundModal", n(584)).directive("eqxSound", n(588));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					title: "有惊喜"
				},
				title: null,
				type: "s"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(587),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(585);
	var o = n(586);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "obj", "HOST", "musicModal", "imageModalFactory",
	function(e, t, n, i, o) {
		"ngInject";
		e.model = JSON.parse(JSON.stringify(t)),
		e.authError = "",
		e.buttons = [{
			id: 1,
			text: "有惊喜",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "听一听",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 3,
			text: "点我听歌",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "点播歌曲",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}],
		e.model.properties && e.model.properties.imgSrc && (e.vm = {
			imgSrc: n.FILE + e.model.properties.imgSrc
		}),
		e.openImageModal = function() {
			o.getImage().then(function(t) {
				e.model.properties.title = "",
				e.btnIndex = -1,
				e.model.css = {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				},
				e.model.properties.imgSrc = t.tmbPath,
				e.vm = {
					imgSrc: n.FILE + e.model.properties.imgSrc
				}
			})
		},
		angular.forEach(e.buttons,
		function(n, i) {
			"" !== e.model.properties.title && t.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
		}),
		e.confirm = function() {
			return null !== e.model.properties.imgSrc || e.model.properties.title && 0 !== e.model.properties.title.length ? !e.model.sound || $.isEmptyObject(e.model.sound) ? void(e.authError = "您还没有选择音效") : (e.model.properties.title = e.model.properties.title.replace(/ /g, "&nbsp;"), void e.$close(e.model)) : (e.authError = "按钮名称不能为空", void $('.form-list input[type="text"].btn-name').focus())
		},
		e.openSoundModal = function() {
			i.open(e.model.sound, 4).then(function(t) {
				var n = t.id,
				i = t.name,
				o = t.path;
				e.model.sound = {
					id: n,
					name: i,
					src: o
				}
			})
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, n) {
			e.model.properties.title = t.text,
			$.extend(!0, e.model.css, t.btnStyle),
			e.btnIndex = n,
			e.model.properties.imgSrc = null
		}
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>音效组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=10990&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>音效不能大于100kb</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-upload style=font-size:16px></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class=form-contain form=role><div class="form-list clearfix" ng-if=!model.properties.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name type=text ng-model=model.properties.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if=model.properties.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src={{vm.imgSrc}} alt=按钮图片 /> <a class="btn-main btn-picture text-center" ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix"><label for=btnSound class=form-label>音效：</label><div class=form-input><a id=btnSound class="btn-main blue" ng-click=openSoundModal()>设置音效</a></div></div><div class="form-list clearfix" ng-show=model.sound.name><label class=form-label>已选择：</label><div class=form-input><span>{{model.sound.name}}</span></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "soundFactory", "soundModal", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createSoundComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"s" === a.type && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.sound",
				function() {
					e.$apply(function() {
						return e.createSoundComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.form.combinedForm", []).factory("combinedFormFactory", n(590)).directive("eqxCombinedForm", n(591));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			return {
				properties: {
					placeholder: "姓名"
				},
				css: {
					top: "100px",
					left: "60px"
				},
				title: "姓名",
				type: "501"
			}
		}
		function t() {
			return {
				properties: {
					placeholder: "电话"
				},
				css: {
					top: "150px",
					left: "60px"
				},
				title: "电话",
				type: "502"
			}
		}
		function n() {
			return {
				properties: {
					placeholder: "邮箱"
				},
				css: {
					top: "200px",
					left: "60px"
				},
				title: "邮箱",
				type: "503"
			}
		}
		return {
			nameJson: e,
			telJson: t,
			emailJson: n
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "inputFactory", "modalService", "combinedFormFactory", "sceneService", "buttonFactory",
			function(e, t, n, i, o, a, r) {
				"ngInject";
				e.createCombinedFormComp = function() {
					var e = a.getCurrentPage(),
					s = e.initStatManager();
					if (s.hasSubmitButtonComp()) return i.openMsgDialog({
						msg: "当前页面的提交按钮已经存在，请不要重复添加。"
					});
					var c = n.getDefaultJson(),
					l = angular.merge({},
					r.getDefaultJson(), {
						css: {
							top: "250px",
							left: "60px"
						}
					}),
					p = angular.merge({},
					c, o.nameJson()),
					d = angular.merge({},
					c, o.telJson()),
					u = angular.merge({},
					c, o.emailJson()),
					g = e.initEqxCompByJson(p),
					m = e.initEqxCompByJson(d),
					f = e.initEqxCompByJson(u),
					h = e.initEqxCompByJson(l);
					g && (e.renderEqxComp(g), t.$broadcast("wsComp.add", g)),
					m && (e.renderEqxComp(m), t.$broadcast("wsComp.add", m)),
					f && (e.renderEqxComp(f), t.$broadcast("wsComp.add", f)),
					h && (e.renderEqxComp(h), t.$broadcast("wsComp.add", h))
				}
			}],
			link: function(e, t) {
				t.on("click.combinedForm",
				function() {
					e.$apply(function() {
						return e.createCombinedFormComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.input", []).factory("inputFactory", n(593)).factory("inputModalFactory", n(594)).directive("eqxInput", n(598));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				color: "#676767",
				width: 200,
				height: 40,
				left: 60,
				top: 100,
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff",
				textAlign: "center"
			};
			return {
				content: "",
				css: e,
				id: null,
				num: 1,
				pageId: null,
				properties: {
					placeholder: "请命名"
				},
				isInput: 1,
				sceneId: null,
				title: "请命名",
				type: 5
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console seven-contain " + i,
					template: n(597),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(595);
	var o = n(596);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = e.vm = {
			title: t.title,
			type: t.type,
			required: t.properties.required
		};
		e.authError = "";
		var i = "输入框";
		e.buttons = [{
			id: 1,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 2,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#fff",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 3,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#f6b223",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 4,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#333",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 5,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#a0d86b",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 6,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#f66",
				color: "rgb(0, 0, 0)"
			}
		}],
		angular.forEach(e.buttons,
		function(i, o) {
			"" !== n.title && t.css.borderColor && t.css.borderColor === i.btnStyle.borderColor && (e.btnIndex = o)
		}),
		e.confirm = function() {
			return n.title && 0 !== n.title.length ? (n.type && (t.type = n.type), t.properties.placeholder = n.title, t.properties.required = n.required, t.title = n.title, $.extend(!0, t.css, n.btnStyle), void e.$close(t)) : (e.authError = "输入框名称不能为空", void $('input[type="text"]').focus())
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, i) {
			n.btnStyle = t.btnStyle,
			e.btnIndex = i
		}
	}
	n.$inject = ["$scope", "obj"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>输入框组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1935&page="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>在场景中添加输入框可以用来收集数据信息</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same change-title clearfix" style=padding-left:30px><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a style=border-width:2px!important ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span></div><div class="form_console dialog-content"><div class=modify_area><form class=form-contain><div class="form-list clearfix" style=margin-left:70px><label class=form-label>输入框名称：</label><div class=form-input><input style=width:350px;float:left type=text ng-model=vm.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/><div class=checkbox-square ng-class="{checked: vm.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value="\'required\'" ng-model=vm.required name=iCheck></div><label for=checkbox_required class=ml20>必填</label></div></div></form><div class="customized_container clearfix"><div class=radio-square ng-class="{checked: vm.type==\'501\'}"><em></em> <input type=radio id=input_name ng-model=vm.type ng-change="vm.title=\'姓名\'" value=501></div><label for=input_name>姓名</label><div class=radio-square ng-class="{checked: vm.type==\'502\'}"><em></em> <input type=radio id=input_phone ng-model=vm.type ng-change="vm.title=\'电话\'" value=502></div><label for=input_phone>电话</label><div class=radio-square ng-class="{checked: vm.type==\'503\'}"><em></em> <input type=radio id=input_email ng-model=vm.type ng-change="vm.title=\'邮箱\'" value=503></div><label for=input_email>邮箱</label><div class=radio-square ng-class="{checked: vm.type==\'504\'}"><em></em> <input type=radio id=input_text ng-model=vm.type ng-change="vm.title=\'文本\'" value=504></div><label for=input_text>文本</label></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "inputFactory", "inputModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createInputComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson,
					r = "" + a.type;
					r.indexOf("5") !== -1 && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.input",
				function() {
					e.$apply(function() {
						return e.createInputComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.button", []).factory("buttonFactory", n(600)).factory("buttonModal", n(601)).directive("eqxButton", n(605));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				width: 200,
				top: 200,
				left: 60,
				color: "#fff",
				borderRadius: "0",
				backgroundColor: "#08a1ef"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					text: "谢谢您的参与！",
					link: "",
					src: "",
					layout: "rating-l",
					title: "提交",
					clickFarmer: !1,
					clickInterval: 1440
				},
				title: null,
				type: 6
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(n) {
				return t.datePicker().then(function() {
					return e.open({
						windowClass: "console dialog-form-btn seven-contain",
						template: a,
						controller: o,
						resolve: {
							buttonJson: function() {
								return JSON.parse(JSON.stringify(n))
							}
						}
					})
				})
			}
		}
	}
	i.$inject = ["modalService", "delayLoadService"],
	n(602);
	var o = n(603),
	a = n(604);
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r) {
		"ngInject";
		var s = "http://",
		c = t.vm = n;
		c.properties && !c.properties.link && (c.properties.link = s),
		t.authError = "",
		t.buttons = [{
			id: 1,
			text: "点击提交",
			btnStyle: {
				backgroundColor: "#08a1ef",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "立即提交",
			btnStyle: {
				backgroundColor: "rgb(255, 255, 255)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 3,
			text: "提交信息",
			btnStyle: {
				backgroundColor: "#f6b223",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "立即参加",
			btnStyle: {
				height: "30px",
				backgroundColor: "#333333",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 5,
			text: "提交表单",
			btnStyle: {
				height: "30px",
				backgroundColor: "#a0d86b",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 6,
			text: "马上订购",
			btnStyle: {
				height: "30px",
				backgroundColor: "#ff6666",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}],
		angular.forEach(t.buttons,
		function(e, i) {
			"" !== c.properties.title && n.css.backgroundColor && c.css.backgroundColor === e.btnStyle.backgroundColor && (t.btnIndex = i)
		});
		var l = t.time = {
			isOpen: !!c.properties.endTime,
			endTime: c.properties.endTime || o.endTimeOfToday()
		};
		t.timeConfig = {
			startDate: l.endTime,
			drops: "up"
		},
		t.vmShow = {
			imgSrc: ""
		},
		c.properties.imgSrc && (t.vmShow.imgSrc = r.FILE + c.properties.imgSrc),
		t.confirm = function() {
			if (!c.properties.title || 0 === c.properties.title.length) return a.openMsgDialog({
				msg: "请填写按钮名称！"
			}),
			void $('.bg_console input[type="text"]').focus();
			if (c.properties.showPic === !0 && !c.properties.imgSrc) return void a.openMsgDialog({
				msg: "请上传图片!"
			});
			if (c.properties.checkedLink) {
				if (!c.properties.link) return void a.openMsgDialog({
					msg: "请填写链接地址！"
				});
				/^http:|^https:|^ftp:/.test(c.properties.link) || (c.properties.link = s + c.properties.link)
			}
			return c.properties.text ? (l.isOpen ? c.properties.endTime = new Date(l.endTime).getTime() : delete c.properties.endTime, void e.$broadcast("confirmCompCreate")) : void a.openMsgDialog({
				msg: "请填写提示信息！"
			})
		},
		t.$on("confirmClickFarmer",
		function() {
			t.$close(c)
		}),
		t.cancel = function() {
			t.$dismiss()
		},
		t.chooseTabButton = function(e, n) {
			c.properties.title = e.text,
			Object.assign(c.css, e.btnStyle, !0),
			t.btnIndex = n
		},
		t.openImageModal = function() {
			i.getSquareImage().then(function(e) {
				t.vm.properties.imgSrc = n.properties.imgSrc = e,
				t.vmShow = {
					imgSrc: r.FILE + t.vm.properties.imgSrc
				}
			})
		}
	}
	i.$inject = ["$rootScope", "$scope", "buttonJson", "imageModalFactory", "modalService", "HOST"];
	var o = n(328);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>按钮名称 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=5051&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action>每个场景只能添加一个提交按钮</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix" style=padding-left:30px><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span></div></div><div class="dialog-contain rating-content"><div class="form_console dialog-content rating-preview-design" style=height:initial;margin-bottom:0><div class="modify_area rating rating-design" style=float:none><div class=rating-group><span class=title>按钮名称</span><div class=rating-choice><input type=text class=form-control placeholder=请填写按钮名称 check-count=40 ng-model=vm.properties.title ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class=rating-group><span class=title>提示类型</span><div class=rating-choice><div class=btn-group><label class="btn btn-rating" ng-model=vm.properties.layout btn-radio="\'rating-l\'" style=line-height:40px;width:80px ng-click="vm.properties.showPic=false;">纯文字</label><label class="btn btn-rating" ng-model=vm.properties.layout btn-radio="\'rating-m\'" style=line-height:40px;width:80px;margin-left:28px ng-click="vm.properties.showPic=true;">上图下文</label><label class="btn btn-rating" ng-model=vm.properties.layout btn-radio="\'rating-s\'" style=line-height:40px;width:80px;margin-left:28px ng-click="vm.properties.showPic=true;">上文下图</label></div></div></div><div class=rating-group ng-show=vm.properties.showPic><span class=title>提示图片</span><div class=rating-choice><a class="btn blue mr20 upload" ng-click=openImageModal()>上传</a><div class=see-image ng-style="{\'background-image\':\'url(\' + vmShow.imgSrc + \')\',\'background-size\':\'cover\'}" style="width:120px;height:120px;background-color:rgba(0,0,0,0);display:inline-block;vertical-align:top;border:1px solid #ccd5db"></div></div></div><div class=rating-group><span class=title>提示信息</span><div class=rating-choice><input type=text ng-model=vm.properties.text class=form-control check-count=50 placeholder=请填写提示信息 /></div></div><div class=rating-group style=position:relative><div class=checkbox-square ng-class="{checked: vm.properties.checkedLink}" style=position:absolute;left:50px;display:inline-block><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.properties.checkedLink name=iCheck></div><span class=title>添加外链</span><div class=rating-choice><input type=text class=form-control ng-model=vm.properties.link check-count=50 placeholder=链接地址 ng-disabled=!vm.properties.checkedLink /></div></div><div class=rating-group style=margin-left:-28px><span class=title>提交结束时间</span><div class=rating-choice style=line-height:36px><div class="fl switch" style=margin-top:7px ng-class="time.isOpen ? \'switch-open\' : \'switch-close\'" ng-click="time.isOpen = !time.isOpen"><div class=circle-con><i class=circle></i></div></div><input type=text class="form-control fl" style=width:186px;margin-left:10px;background:#fff;cursor:pointer placeholder=设置结束时间 ng-show=time.isOpen ng-readonly=true ng-model=time.endTime date-picker=timeConfig> <a class="bbs-help-tip-media hint--right hint--rounded" data-hint=可设置表单提交结束时间 style="margin:0 10px"><span class=eqf-exclaquestion-sign style=color:#ff6e6e></span></a></div></div><div class=rating-group style=margin-left:-28px click-farmer-setting obj=vm></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel() ng-init="feedback=false" ng-click="feedback=true">取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "modalService", "buttonFactory", "buttonModal", "sceneService",
			function(e, t, n, i, o, a) {
				"ngInject";
				e.createButtonComp = function() {
					var e = i.getDefaultJson(),
					r = a.getCurrentPage(),
					s = r.initStatManager();
					return s.hasSubmitButtonComp() ? n.openMsgDialog({
						msg: "当前页面的提交按钮已经存在，请不要重复添加。"
					}) : void o.open(e).then(function(e) {
						var n = r.initEqxCompByJson(e);
						n && (r.renderEqxComp(n), t.$broadcast("wsComp.add", n))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var i = n.compJson;
					6 != i.type && 601 !== i.type || o.open(i).then(function(e) {
						var n = a.getCurrentPage(),
						o = n.updateEqxComp(i.id, e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.button",
				function() {
					e.$apply(function() {
						return e.createButtonComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.radio", []).factory("radioFactory", n(607)).factory("radioModalFactory", n(608)).directive("eqxRadio", n(612));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			var t = {
				width: 200,
				left: "60px",
				top: " 100px",
				color: "#676767",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff"
			};
			return {
				content: "",
				css: t,
				num: 1,
				properties: {
					titleStyle: {
						backgroundColor: "#08a1ef",
						color: "#ffffff"
					},
					optionStyle: {
						borderBottomWidth: 1,
						borderBottomStyle: "solid",
						borderBottomColor: "#08a1ef"
					}
				},
				choices: {
					seq: 3,
					options: [{
						id: 1,
						label: "选项1"
					},
					{
						id: 2,
						label: "选项2"
					},
					{
						id: 3,
						label: "选项3"
					}]
				},
				isInput: 1,
				title: "",
				type: e
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console seven-contain " + i,
					template: n(611),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(609);
	var o = n(610);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(e) {
			var t = $("#optionGroupContainer"),
			n = t.find(".option-group").eq(e),
			i = 72,
			o = n.position().top;
			o > i && t.scrollTop(t.scrollTop() + (o - i))
		}
		t = JSON.parse(JSON.stringify(t));
		var o = t.choices,
		a = e.vm = {
			title: t.title,
			type: t.type,
			options: o.options,
			required: t.properties.required
		};
		e.buttons = [{
			id: 1,
			btnStyle: {
				backgroundColor: "#08a1ef",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#08a1ef",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#08a1ef"
				}
			}
		},
		{
			id: 2,
			btnStyle: {
				backgroundColor: "#fff",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#fff",
				color: "rgb(0, 0, 0)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#fff",
					color: "#000"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#fff"
				}
			}
		},
		{
			id: 3,
			btnStyle: {
				backgroundColor: "#f6b223",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#f6b223",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#f6b223",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#f6b223"
				}
			}
		},
		{
			id: 4,
			btnStyle: {
				backgroundColor: "#333",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#333",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#333",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#333"
				}
			}
		},
		{
			id: 5,
			btnStyle: {
				backgroundColor: "#a0d86b",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#a0d86b",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#a0d86b",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#a0d86b"
				}
			}
		},
		{
			id: 6,
			btnStyle: {
				backgroundColor: "#ff6666",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#ff6666",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#ff6666",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#ff6666"
				}
			}
		}],
		angular.forEach(e.buttons,
		function(n, i) {
			t.properties.titleStyle && t.properties.titleStyle.backgroundColor === n.properties.titleStyle.backgroundColor && (e.btnIndex = i)
		}),
		e.chooseTabButton = function(n, i) {
			a.btnStyle = n.btnStyle,
			e.btnIndex = i,
			$.extend(t.css, {
				borderStyle: n.btnStyle.borderStyle,
				borderColor: n.btnStyle.borderColor
			})
		},
		e.authError = "",
		e.addNewOption = function(e) {
			a.options.length < 8 ? (++o.seq, a.options.splice(e + 1, 0, {
				id: o.seq,
				label: "选项" + o.seq
			}), setTimeout(function() {
				i(e)
			})) : n.openMsgDialog({
				msg: "（您可以添加八个选项，每个选项最多请不要超过41字）"
			})
		},
		e.deleteTheOption = function(e) {
			a.options.length > 1 && n.openConfirmDialog({
				msg: "您确定要删除内容为“" + a.options[e].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"
			}).then(function() {
				a.options.splice(e, 1)
			})
		},
		e.confirm = function() {
			return a.title && 0 !== a.title.length ? (angular.forEach(a.options,
			function(e) {
				delete e.$$hashKey
			}), t.choices = o, t.properties.required = a.required, t.title = a.title, t.type = a.type, (e.btnIndex || 0 === e.btnIndex) && $.extend(t.properties, e.buttons[e.btnIndex].properties), delete t.css.height, void e.$close(t)) : (e.authError = "输入框名称不能为空", void $("#radioTitle").focus())
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "obj", "modalService"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{vm.type ==\'r\' ? (\'单选框组件\'): (\'多选框组件\')}} <a ng-show="vm.type ==\'r\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9374&extra="><span class=eqf-exclaquestion-sign></span></a> <a ng-show="vm.type ==\'c\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9375&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>{{vm.type ==\'r\' ? (\'最多可以添加八个单选选项\') : (\'最多可以添加八个多选选项\')}}</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix" style=padding-left:30px><span ng-repeat="button in buttons" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)"><span>{{vm.type ==\'r\' ? (\'单选选项\'):(\'多选选项\')}}</span></a></span></div><div class="form_console dialog-content input-content"><div class=input-preview style=border-color:{{buttons[btnIndex].btnStyle.borderColor}}><div class=preview-title ng-style=buttons[btnIndex].properties.titleStyle>{{vm.title?vm.title:(\'标题演示\')}}</div><div class=preview-options><div class=preview-option ng-repeat="option in vm.options" ng-style=buttons[btnIndex].properties.optionStyle><input type=radio disabled=disabled ng-if="vm.type == \'r\'" style=margin-top:-1px /> <input type=checkbox disabled=disabled ng-if="vm.type == \'c\'" style=margin-top:-1px /> <span>{{option.label}}</span></div></div></div><div class="modify_area input-design"><div class=input-title><div><span class=title>标题</span></div><textarea class=form-control ng-model=vm.title placeholder=请输入标题 id=radioTitle rows=3 check-count=82 stop-propagation autofocus style=width:400px></textarea><span style=position:relative;display:inline-block;vertical-align:middle;height:74px;line-height:74px><label for=checkbox_required style=font-weight:lighter;margin:0;font-size:12px;position:absolute;width:60px><div class=checkbox-square style=margin-top:30px ng-class="{checked: vm.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value="\'required\'" ng-model=vm.required name=iCheck></div>必填</label></span></div><div class=input-options><div class=input-option><span class=option>选项</span> <span class=option-tip>（您可以添加八个选项，每个选项最多请不要超过41字）</span></div><div id=optionGroupContainer class=option-group-container style=position:relative><div eqd-scroll style=height:100%><div><div class=option-group ng-repeat="option in vm.options"><textarea class="option-label form-control" rows=2 ng-model=option.label check-count=82 stop-propagation></textarea><div class=operations><span class=eqf-delete2 ng-click=deleteTheOption($index)></span> <span class=eqf-plus ng-click=addNewOption($index)></span></div></div></div></div></div><div class="input-tip clearfix"><span class=add-option ng-click=addNewOption(vm.options.length)><span class=eqf-plus2></span><i>增加选项</i></span> <span class=page-indicator>{{vm.options.length}}/8</span></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {
				type: "@eqxRadio"
			},
			controller: ["$scope", "$rootScope", "radioFactory", "radioModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				"r" !== e.type && "c" !== e.type || (e.createRadioComp = function() {
					var a = n.getDefaultJson(e.type);
					i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(n, a) {
					var r = a.compJson;
					r.type == e.type && i.open(r).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(r.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				}))
			}],
			link: function(e, t) {
				t.on("click.radio",
				function() {
					e.$apply(function() {
						return e.createRadioComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.dropDown", []).factory("dropDownFactory", n(614)).directive("eqxDropDown", n(615));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				width: 200,
				height: 38,
				left: 100,
				top: 60
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {},
				choices: '{"seq":3,"options":[{"id":1,"label":"请输入内容"},{"id":2,"label":"请输入内容"},{"id":3,"label":"请输入内容"}]}',
				isInput: 1,
				title: "下拉列表",
				type: "z",
				showText: "请选择",
				placeholderText: "请选择",
				required: !1
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "dropDownFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createDropDownComp = function() {
					var e = n.getDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
			}],
			link: function(e, t) {
				t.on("click.dropDown",
				function() {
					e.$apply(function() {
						return e.createDropDownComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.score", []).factory("scoreFactory", n(617)).factory("scoreModalFactory", n(618)).directive("eqxScore", n(622));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			var t = {
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9",
				width: "200px"
			};
			return {
				content: "",
				css: t,
				id: null,
				num: 1,
				pageId: null,
				properties: {
					icon: "eqf-star",
					size: "rating-m",
					color: "#ff9307",
					required: !1
				},
				isInput: 1,
				sceneId: null,
				title: "",
				type: "a"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console seven-contain " + i,
					template: n(621),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(619);
	var o = n(620);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = e.vm = {
			title: t.title,
			properties: {
				icon: t.properties.icon,
				size: t.properties.size,
				color: t.properties.color,
				required: t.properties.required
			}
		};
		e.authError = "",
		e.confirm = function() {
			return n.title && 0 !== n.title.length ? ($.extend(!0, t, n), void e.$close(t)) : (e.authError = "标题名称不能为空", void $("#ratingTitle").focus())
		},
		e.chooseEqfont = function(e) {
			n.properties.icon = e
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "obj"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>评分 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9376&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>请输入少于12个字的评分标题</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain rating-content"><div class=tab-same><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-star\'}"><a ng-click="chooseEqfont(\'eqf-star\')"><span class=eqf-star></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-love\'}"><a ng-click="chooseEqfont(\'eqf-love\')"><span class=eqf-love></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-roll\'}"><a ng-click="chooseEqfont(\'eqf-roll\')"><span class=eqf-roll></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-flower\'}"><a ng-click="chooseEqfont(\'eqf-flower\')"><span class=eqf-flower></span></a></span></div><div class="form_console dialog-content rating-preview-design"><div class="comp_rating rating rating-preview"><div class="rating-title ellipsis">{{vm.title?vm.title:(\'预览标题\')}}</div><div class=rating-icons><span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span></div></div><div class="modify_area rating rating-design"><div class=rating-group><span class=title>标题</span><div class=rating-choice><input type=text class=form-control ng-model=vm.title placeholder=评分： check-count=40 id=ratingTitle stop-propagation autofocus/> <span style=display:inline-block;position:relative;vertical-align:middle;height:35px;line-height:35px><label for=checkbox_required style=font-weight:lighter;margin:0;font-size:12px;position:absolute;width:70px><div class=checkbox-square ng-class="{checked: vm.properties.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=vm.properties.required name=iCheck></div><span style=padding-left:5px>必填</span></label></span></div></div><div class=rating-group><span class=title style=vertical-align:top;line-height:28px;height:28px>颜色</span><div class=rating-choice><eqd-input-color select-color=vm.properties.color theme=rating-choice-color x=0 stop-propagation></eqd-input-color></div></div><div class=rating-group><span class=title>大小</span><div class=rating-choice><div class=btn-group><label class="btn btn-rating" ng-model=vm.properties.size btn-radio="\'rating-l\'">大</label><label class="btn btn-rating" ng-model=vm.properties.size btn-radio="\'rating-m\'">中</label><label class="btn btn-rating" ng-model=vm.properties.size btn-radio="\'rating-s\'">小</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "scoreModalFactory", "scoreFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createScoreComp = function() {
					var e = i.getDefaultJson();
					n.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, i) {
					var a = i.compJson;
					"a" === a.type && n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.score",
				function() {
					e.$apply(function() {
						return e.createScoreComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.chart", []).factory("chartFactory", n(624)).directive("eqxChart", n(625));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e() {
			var e = {
				height: "380px",
				width: "304px"
			};
			return {
				content: "图表组件",
				css: e,
				num: 1,
				properties: {
					title: "图表组件",
					chartTitle: "数据统计详情"
				},
				title: null,
				type: "t"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {
				type: "@eqxChart"
			},
			controller: ["$scope", "$rootScope", "chartFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createCommentComp = function() {
					var o = n.getDefaultJson();
					o.properties.chartType = e.type;
					var a = i.getCurrentPage(),
					r = a.initEqxCompByJson(o);
					r && (a.renderEqxComp(r), t.$broadcast("wsComp.add", r))
				}
			}],
			link: function(e, t) {
				t.on("click.chart",
				function() {
					e.$apply(function() {
						return e.createCommentComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.downTime", []).factory("downTimeModal", n(627)).directive("eqxDownTime", n(629));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			openPrompt: function() {
				var n = arguments.length <= 0 || void 0 === arguments[0] ? {}: arguments[0];
				return n = JSON.parse(JSON.stringify(n)),
				t.datePicker().then(function() {
					return e.open({
						windowClass: "login-container six-contain",
						template: o,
						controller: ["$scope", "EqxCore", "$timeout",
						function(t, i, o) {
							function a() {
								if (!t.timeConfig.startDate) {
									var e;
									r().then(function(t) {
										return e = t.obj
									},
									function() {
										return e = (new Date).getTime()
									}).then(function(e) {
										t.$apply(function() {
											t.timeConfig.startDate = e
										})
									})
								}
							}
							var r = i.countTime.getServiceTime,
							s = t.vm = {
								endTime: n.endTime || "",
								arriveTipsContent: n.arriveTipsContent || "",
								arriveTips: !("arriveTips" in n) || n.arriveTips
							};
							t.timeConfig = {
								startDate: s.endTime
							},
							a(),
							t.triggerDatePicker = function() {
								o(function() {
									$("#daterange input").trigger("click")
								})
							},
							t.cancel = function() {
								t.$dismiss()
							},
							t.confirm = function() {
								s.endTime ? t.$close({
									endTime: new Date(s.endTime).getTime(),
									arriveTipsContent: s.arriveTipsContent,
									arriveTips: s.arriveTips
								}) : e.openMsgDialog({
									msg: "选择截止时间！"
								})
							}
						}]
					})
				})
			}
		}
	}
	i.$inject = ["modalService", "delayLoadService"];
	var o = n(628);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>倒计时</h4></div><div class="dialog-contain countdown-contain"><div class=countdown-example><span>示例：</span> <span>xx天xx时xx分xx秒</span></div><div class=countdown-setting><form class=form-contain><div class="form-list clearfix"><label for=daterange class=form-label>截止时间：</label><div class=form-input id=daterange style=position:relative><input date-picker=timeConfig placeholder=请选择时间！ ng-model=vm.endTime name=daterange class="btn-name daterange model-countdown-time" style=width:260px type=text ng-readonly=true ng-disabled=vm.isCurrentTime /> <button ng-click=triggerDatePicker() class=calender-btn><i class=eqf-glyphicon-caldenar></i></button></div></div><div class="form-list clearfix"><label for=content class=form-label>时间达到后显示：</label><div class="form-input countdown-arrive-box" id=content><input class="btn-name countdown-arrive-tips" type=text placeholder=开始啦! ng-disabled=!vm.arriveTips ng-model=vm.arriveTipsContent maxlength=48 style=padding-left:0 /> <span class=strlen>{{vm.arriveTipsContent.length}}/48</span> <span class=hidden-arr-tips>不显示</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: !vm.arriveTips}"><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.arriveTips name=iCheck></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService", "downTimeModal",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					return {
						content: "",
						type: "e",
						properties: {
							endTime: "",
							arriveTipsContent: "",
							arriveTips: !0
						},
						css: {
							top: "80px",
							left: "5px",
							width: "310px",
							height: "38px",
							fontSize: 24
						}
					}
				}
				e.editDownTime = function(e) {
					if ("e" == e.type) {
						var o = JSON.parse(JSON.stringify(e.compJson));
						return i.openPrompt(o.properties).then(function(e) {
							o.properties = e;
							var i = n.getCurrentPage(),
							a = i.updateEqxComp(o.id, o);
							a && (i.renderEqxComp(a), t.$broadcast("wsComp.add", a))
						})
					}
				},
				e.createDownTime = function() {
					var e = o();
					return i.openPrompt(e.properties).then(function(i) {
						e.properties = i;
						var o = n.getCurrentPage(),
						a = o.initEqxCompByJson(e);
						a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.downTime",
				function() {
					e.$apply(function() {
						return e.createDownTime()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editDownTime(n)
				})
			}
		}
	}
	n(630),
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.upTime", []).factory("upTimeModal", n(632)).directive("eqxUpTime", n(634));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			openPrompt: function(n) {
				return n = JSON.parse(JSON.stringify(n)),
				t.datePicker().then(function() {
					return e.open({
						windowClass: "login-container six-contain",
						template: o,
						controller: ["$scope", "EqxCore", "$timeout",
						function(t, i, o) {
							function a() {
								if (!t.timeConfig.startDate) {
									var e;
									r().then(function(t) {
										return e = t.obj
									},
									function() {
										return e = (new Date).getTime()
									}).then(function(e) {
										t.$apply(function() {
											t.timeConfig.startDate = e
										})
									})
								}
							}
							var r = i.countTime.getServiceTime,
							s = t.vm = {
								isCurrentTime: !1,
								startTime: n.startTime || "",
								arriveTipsContent: n.arriveTipsContent || "",
								arriveTips: !("arriveTips" in n) || n.arriveTips
							};
							t.timeConfig = {
								startDate: s.startTime,
								timePicker: !0
							},
							a(),
							t.triggerDatePicker = function() {
								s.isCurrentTime || o(function() {
									$("#daterange input").trigger("click")
								})
							},
							t.cancel = function() {
								t.$dismiss()
							},
							t.confirm = function() {
								if (s.startTime || s.isCurrentTime) if (s.isCurrentTime) {
									var n;
									r().then(function(e) {
										return n = e.obj
									},
									function() {
										return n = (new Date).getTime()
									}).then(function(e) {
										t.$close({
											startTime: e,
											arriveTipsContent: s.arriveTipsContent,
											arriveTips: s.arriveTips
										})
									})
								} else t.$close({
									startTime: new Date(s.startTime).getTime(),
									arriveTipsContent: s.arriveTipsContent,
									arriveTips: s.arriveTips
								});
								else e.openMsgDialog({
									msg: "选择开始时间！"
								})
							}
						}]
					})
				})
			}
		}
	}
	i.$inject = ["modalService", "delayLoadService"];
	var o = n(633);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>计时</h4></div><div class="dialog-contain countdown-contain"><div class=countdown-example><span>示例：</span> <span>xx天xx时xx分xx秒</span></div><div class=countdown-setting><form class=form-contain><div class="form-list clearfix"><label for=daterange class=form-label>开始时间：</label><div class=form-input id=daterange style=position:relative><input date-picker=timeConfig placeholder=请设置时间 ng-model=vm.startTime name=daterange class="btn-name daterange model-countdown-time" style=width:260px type=text ng-readonly=true ng-disabled=vm.isCurrentTime /> <button ng-click=triggerDatePicker() class=calender-btn><i class=eqf-glyphicon-caldenar></i></button> <span class=hidden-arr-tips style=right:-12px>当前时间</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: vm.isCurrentTime}"><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.isCurrentTime name=iCheck></div></div><div class="form-list clearfix" style=margin-left:-20px><label for=content class=form-label style=width:120px>时间未到达时显示：</label><div class="form-input countdown-arrive-box" id=content><input class="btn-name countdown-arrive-tips" type=text placeholder=还没开始! ng-disabled=!vm.arriveTips ng-model=vm.arriveTipsContent maxlength=48 style=padding-left:0 /> <span class=strlen>{{vm.arriveTipsContent.length}}/48</span> <span class=hidden-arr-tips style=right:0>不显示</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: !vm.arriveTips}"><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.arriveTips name=iCheck></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService", "upTimeModal",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					return {
						content: "",
						type: "f",
						properties: {
							startTime: "",
							arriveTipsContent: ""
						},
						css: {
							top: "100px",
							left: "5px",
							width: "310px",
							height: "38px",
							fontSize: 24
						}
					}
				}
				e.editUpTime = function(e) {
					if ("f" == e.type) {
						var o = JSON.parse(JSON.stringify(e.compJson));
						return i.openPrompt(o.properties).then(function(e) {
							o.properties = e;
							var i = n.getCurrentPage(),
							a = i.updateEqxComp(o.id, o);
							a && (i.renderEqxComp(a), t.$broadcast("wsComp.add", a))
						})
					}
				},
				e.createUpTime = function() {
					var e = o();
					return i.openPrompt(e.properties).then(function(i) {
						e.properties = i;
						var o = n.getCurrentPage(),
						a = o.initEqxCompByJson(e);
						a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.upTime",
				function() {
					e.$apply(function() {
						return e.createUpTime()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editUpTime(n)
				})
			}
		}
	}
	n(630),
	e.exports = i
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.interaction.shape", []).directive("eqxShape", n(636)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "shapeModalFactory", "sceneService",
			function(e, t, i, o) {
				"ngInject";
				var a = n(637);
				e.createShapeComp = function() {
					i.getShapeJson(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"h" === a.type && i.getShapeJson(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.shape",
				function() {
					e.$apply(function() {
						return e.createShapeComp()
					})
				})
			}
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		content: "",
		css: {
			color: "#555",
			width: "100px",
			height: "100px"
		},
		properties: {
			type: "rect"
		},
		title: null,
		type: "h"
	}
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.comment", []).factory("commentFactory", n(639)).directive("eqxComment", n(640));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				height: "360px",
				width: "280px",
				backgroundColor: "#F0F3F4"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					morelabel: "更多留言",
					meslabel: "我要留言",
					style: "default"
				},
				title: null,
				type: "b"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "commentFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createCommentComp = function() {
					var e = n.getDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
			}],
			link: function(e, t) {
				t.on("click.comment",
				function() {
					e.$apply(function() {
						return e.createCommentComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wechat", [n(642), n(647), n(652)]).factory("wechatFactory", n(657));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wxHeader", []).factory("wxHeaderFactory", n(643)).factory("wxHeaderModal", n(644)).directive("eqxWxHeader", n(646));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return {
				content: "我的微信昵称",
				type: "201",
				properties: {
					title: "我的微信昵称",
					type: "own"
				},
				css: {
					top: 100,
					left: 0,
					width: 320,
					height: 38,
					fontSize: 24,
					textAlign: "center"
				}
			}
		}
		function n() {
			return {
				properties: {
					title: "我的微信头像",
					src: i,
					type: "own"
				},
				css: {
					height: 100,
					left: 100,
					top: 150,
					width: 100
				},
				type: "401"
			}
		}
		var i = e.core.comp.EqxWxProfile.getDefaultImg();
		return {
			getTextDefaultJson: t,
			getImgDefaultJson: n
		}
	}
	n.$inject = ["EqxCore"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			openPrompt: function() {
				return e.open({
					windowClass: "login-container six-contain",
					template: n(645),
					controller: ["$scope",
					function(e) {
						e.cancel = function() {
							e.$dismiss()
						},
						e.confirm = function() {
							if (e.hideHeadTip) {
								var n = t.getItem("setHeadAction");
								n = n ? n.split(",") : [],
								n.push(i.getCurrentUser().id),
								t.setItem("setHeadAction", n.join(","))
							}
							e.$close()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService", "storageService", "userService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>头像</h4></div><div class=dialog-content style=padding:20px><p style=line-height:30px>可轻松显示浏览者或分享者的微信昵称和头像（属性栏中选择）。仅在微信中浏览时有效，非微信环境浏览时，将显示默认文字和图片（双击设置默认内容）</p></div><div style=padding:20px;text-align:right><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideHeadTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "wxHeaderFactory", "sceneService", "wechatFactory", "storageService", "userService", "wxHeaderModal",
			function(e, t, n, i, o, a, r, s) {
				"ngInject";
				function c() {
					var e = n.getTextDefaultJson(),
					o = n.getImgDefaultJson(),
					a = i.getCurrentPage(),
					r = a.initEqxCompByJson(e),
					s = a.initEqxCompByJson(o);
					r && s && (r.compJson.properties.id = s.compJson.id, s.compJson.properties.id = r.compJson.id, a.renderEqxComp(r), a.renderEqxComp(s), t.$broadcast("wsComp.add", r, s))
				}
				e.createComp = function() {
					var e = a.getItem("setHeadAction");
					e ? (e = e.split(","), e.indexOf(r.getCurrentUser().id) > -1 ? c() : s.openPrompt().then(function() {
						c()
					})) : s.openPrompt().then(function() {
						c()
					})
				},
				e.editWxHeaderImage = function(e) {
					var t = e.compJson;
					"401" == t.type && o.editWechatImg(t)
				}
			}],
			link: function(e, t) {
				t.on("click.wxHeader",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editWxHeaderImage(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wxImg", []).factory("wxImgFactory", n(648)).factory("wxImgModal", n(649)).directive("eqxWxImg", n(651));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return {
				content: "",
				css: {
					top: "100px",
					left: "135px",
					width: "135px",
					height: "240px"
				},
				properties: {
					width: "135px",
					height: "240px",
					src: n
				},
				type: "403"
			}
		}
		var n = e.core.comp.EqxWxUploadImage.getDefaultImg();
		return {
			getImgDefaultJson: t
		}
	}
	n.$inject = ["EqxCore"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			openPrompt: function() {
				return e.open({
					windowClass: "login-container six-contain",
					template: n(650),
					controller: ["$scope",
					function(e) {
						e.cancel = function() {
							e.$dismiss()
						},
						e.confirm = function() {
							if (e.hideImgTip) {
								var n = t.getItem("setImgAction");
								n = n ? n.split(",") : [],
								n.push(i.getCurrentUser().id),
								t.setItem("setImgAction", n.join(","))
							}
							e.$close()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService", "storageService", "userService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>照片</h4></div><div class=dialog-content style=padding:20px><p style=line-height:30px>在微信中浏览时，轻触图片即可更换图片，更换后再分享，朋友就能看到您的美图。赶快试一试，同一场景，不同人分享，图片内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的图片可在微信中保留三天，三天将会显示您的默认图片；非微信环境浏览时，将显示默认图片（双击设置默认内容）。</p></div><div style=padding:20px;text-align:right><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideImgTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "wxImgFactory", "sceneService", "wechatFactory", "storageService", "userService", "wxImgModal",
			function(e, t, n, i, o, a, r, s) {
				"ngInject";
				function c() {
					var e = n.getImgDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
				e.createComp = function() {
					var e = a.getItem("setImgAction");
					e ? (e = e.split(","), e.indexOf(r.getCurrentUser().id) > -1 ? c() : s.openPrompt().then(function() {
						c()
					})) : s.openPrompt().then(function() {
						c()
					})
				},
				e.editWxImage = function(e) {
					var t = e.compJson;
					"403" == t.type && o.editWechatImg(t)
				}
			}],
			link: function(e, t) {
				t.on("click.wxImg",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editWxImage(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wxSound", []).factory("wxSoundFactory", n(653)).factory("wxSoundModal", n(654)).directive("eqxWxSound", n(656));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return {
				id: "wxp" + i,
				properties: {
					title: "播放录音",
					icon: "eqf-nosy",
					src: o
				},
				css: {
					top: 100,
					left: 60,
					width: 180,
					height: 40,
					lineHeight: "40px",
					borderRadius: 5,
					borderBottomRightRadius: 5,
					borderBottomLeftRadius: 5,
					borderTopRightRadius: 5,
					borderTopLeftRadius: 5,
					backgroundColor: "rgba(255,255,255,1)",
					borderColor: "rgba(0,0,0,1)",
					borderWidth: 1,
					borderStyle: "solid"
				},
				type: "w01"
			}
		}
		function n() {
			return {
				id: "wxr" + i,
				properties: {
					title: "按住 说话"
				},
				css: {
					top: 150,
					left: 60,
					width: 180,
					height: 40,
					lineHeight: "40px",
					borderRadius: 5,
					borderBottomRightRadius: 5,
					borderBottomLeftRadius: 5,
					borderTopRightRadius: 5,
					borderTopLeftRadius: 5,
					backgroundColor: "rgba(255,255,255,1)",
					borderColor: "rgba(0,0,0,1)",
					borderWidth: 1,
					borderStyle: "solid"
				},
				type: "w02"
			}
		}
		var i = e.randomId(),
		o = e.core.comp.EqxWxSoundPlay.getDefaultSound();
		return {
			getPlayDefaultJson: t,
			getRecordDefaultJson: n
		}
	}
	n.$inject = ["EqxCore"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			openPrompt: function() {
				return e.open({
					windowClass: "login-container six-contain",
					template: n(655),
					controller: ["$scope",
					function(e) {
						e.cancel = function() {
							e.$dismiss()
						},
						e.confirm = function() {
							if (e.hideSoundTip) {
								var n = t.getItem("setSoundAction");
								n = n ? n.split(",") : [],
								n.push(i.getCurrentUser().id),
								t.setItem("setSoundAction", n.join(","))
							}
							e.$close()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService", "storageService", "userService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>声音</h4></div><div class=dialog-content style=padding:20px><p style=line-height:30px>在微信中浏览时，点击组件可听声音。长按“按住说话”即可录制声音，更换后再分享，朋友就能听到您的声音。赶快试一试，同一场景，不同人分享，声音内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的声音可在微信中保留三天，三天将会播放默认声音；非微信环境浏览时，将播放默认声音。</p></div><div style=padding:20px;text-align:right><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideSoundTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "wxSoundFactory", "sceneService", "storageService", "userService", "wxSoundModal",
			function(e, t, n, i, o, a, r) {
				"ngInject";
				function s() {
					var e = n.getPlayDefaultJson(),
					o = n.getRecordDefaultJson(),
					a = i.getCurrentPage(),
					r = a.initEqxCompByJson(e),
					s = a.initEqxCompByJson(o);
					r && s && (a.renderEqxComp(r), a.renderEqxComp(s), t.$broadcast("wsComp.add", r, s))
				}
				e.createComp = function() {
					var e = o.getItem("setSoundAction");
					e ? (e = e.split(","), e.indexOf(a.getCurrentUser().id) > -1 ? s() : r.openPrompt().then(function() {
						s()
					})) : r.openPrompt().then(function() {
						s()
					})
				}
			}],
			link: function(e, t) {
				t.on("click.wxHeader",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(i) {
			e.getImage().then(function(e) {
				var o = JSON.parse(JSON.stringify(i)),
				a = o.properties,
				r = e.src || e.path;
				Object.assign(a, {
					src: r
				});
				var s = t.getCurrentPage(),
				c = s.updateEqxComp(i.id, o);
				c && (s.renderEqxComp(c), n.$broadcast("wsComp.add", c))
			})
		}
		return {
			editWechatImg: i
		}
	}
	n.$inject = ["imageModalFactory", "sceneService", "$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.random", []).factory("randomFactory", n(659)).directive("eqxRandom", n(662)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t() {
			return {
				content: "",
				css: {
					width: 100,
					height: 100,
					left: 0,
					top: 100
				},
				properties: {
					pics: []
				},
				title: null,
				type: "n"
			}
		}
		function i(t) {
			return e.open({
				windowClass: "console six-contain randomevent-console",
				template: n(660),
				controller: n(661),
				resolve: {
					randomEventJson: function() {
						return t
					}
				}
			})
		}
		return {
			getRandomDefaultJson: t,
			openRandomModal: i
		}
	}
	i.$inject = ["modalService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>随机事件 <span ng-show=!authError class=action>可以从素材库中添加图片</span> <span ng-show=authError class=action>{{authError}}</span></h4></div><div class=dialog-contain><div class=dialog-content><ul><li ng-click=addImage() ng-hide="picList.length >= 10"><a href="">添加</a></li><li ng-repeat="pic in picList track by (pic.id + \'$\' + $index) "><div class=img-set><div class="delete-img hint--top hint--rounded" data-hint=删除图片 ng-click=delImage(pic)><span class=eqf-wrong2></span></div><div class="abbre hint--bottom hint--rounded" data-hint=更换图片 ng-click=replaceImage(pic)><span class=eqf-top-pic></span></div></div><eqx-loading-image data-url="{{HOST.FILE + pic.tmbPath}}"></eqx-loading-image></li></ul></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		e.HOST = i,
		e.picList = n.properties.pics,
		e.addImage = function() {
			return e.picList.length >= 10 ? void(e.authError = "最多可选择10张图片") : void t.getImages({
				max: 10
			}).then(function(t) {
				t.forEach(function(t) {
					e.picList.push(t)
				})
			})
		},
		e.delImage = function(t) {
			e.picList.splice(e.picList.indexOf(t), 1)
		},
		e.replaceImage = function(n) {
			t.getImage().then(function(t) {
				e.picList.splice(e.picList.indexOf(n), 1, t)
			})
		},
		e.confirm = function() {
			e.$close(n)
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "imageModalFactory", "randomEventJson", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "E",
			scope: {
				addElement: "&addElement"
			},
			controller: ["$scope", "$rootScope", "randomFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createComp = function() {
					var o = n.getRandomDefaultJson();
					return n.openRandomModal(o).then(function(n) {
						var o = i.getCurrentPage(),
						a = o.initEqxCompByJson(n);
						a && (o.renderEqxComp(a), e.addElement({
							eqxRandomEvent: a
						}), t.$broadcast("wsComp.add", a))
					})
				},
				e.editComp = function(e) {
					if ("n" == e.compJson.type) return n.openRandomModal(e.compJson).then(function(e) {
						var n = i.getCurrentPage(),
						o = n.updateEqxComp(e.id, e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.random",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editComp(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.vote", [n(664), n(668)]).factory("voteFactory", n(674)).factory("voteModalFactory", n(675)).directive("eqxVote", n(679));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.textVote", []).directive("textVoteTpl", n(665));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			template: n(667),
			scope: {
				vote: "=textVoteTpl"
			},
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.getTitleType = function() {
					return "single" == e.vote.properties.selectType ? "单选": "多选"
				}
			}]
		}
	}
	n(666),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class="input-preview vote-preview"><div class="preview-title vote-preview-title"><span class=title-bind-content>{{vote.properties.title}} </span><span class=title-constant-content>({{getTitleType()}})</span></div><div class="preview-options vote-preview-options"><div class="preview-option vote-preview-option" ng-repeat="child in vote.properties.children"><span>{{child.label}}</span></div></div><div class="vote-preview-option vote-button"><span>投票</span></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.imgVote", []).directive("imgVoteTpl", n(669));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			template: n(673),
			scope: {
				vote: "=imgVoteTpl",
				currentIndex: "=currentIndex"
			},
			controller: ["$scope", "HOST",
			function(e, t) {
				"ngInject";
				e.FILE = t.FILE,
				e.getTitleType = function() {
					return "single" == e.vote.properties.selectType ? "单选": "多选"
				},
				e.getImgSrc = function() {
					var t = e.vote.properties.children[e.currentIndex].src;
					if (t) return {
						"background-image": "url(" + e.FILE + t + ")",
						"background-size": "contain",
						"background-repeat": "no-repeat",
						"background-position": "50%"
					}
				}
			}]
		}
	}
	n(670),
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	e.exports = n.p + "images/defaultImg-f9d1d1.svg"
},
,
function(e, t) {
	e.exports = '<div class="input-preview vote-preview vote-img-preview"><div class="preview-title vote-preview-title"><span class=title-bind-content>{{vote.properties.title}} </span><span class=title-constant-content>({{getTitleType()}})</span></div><div class=img-preview-content><div class=vote-img-picture ng-style=getImgSrc()><span class=voto-img-unselect-logo></span></div><div class=vote-img-title><span>{{vote.properties.children[currentIndex].desc}}</span></div><div class=vote-img-process><ul class=vote-img-list><li class=vote-img-item ng-repeat="child in vote.properties.children" ng-class="{active: currentIndex == $index}"></li></ul></div></div><div class="vote-preview-option vote-button"><span>投票</span></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t() {
			var e = {
				content: "",
				css: {
					width: 300,
					left: 10,
					top: 100,
					color: "#676767",
					backgroundColor: "#ffffff"
				},
				id: null,
				pageId: null,
				properties: {
					children: [{
						id: n(),
						label: "选项1"
					},
					{
						id: n(),
						label: "选项2"
					}],
					selectType: "single",
					title: "请投票",
					endTime: "",
					selectCount: 1
				},
				sceneId: null,
				type: "k"
			},
			t = {
				content: "",
				css: {
					width: 300,
					height: 430,
					left: 10,
					top: 15,
					color: "#676767",
					backgroundColor: "#ffffff"
				},
				id: null,
				pageId: null,
				properties: {
					autoPlay: !0,
					bgColor: "rgba(255,255,255,0)",
					children: [{
						desc: "选项1",
						id: n(),
						src: ""
					},
					{
						desc: "选项2",
						id: n(),
						src: ""
					},
					{
						desc: "选项3",
						id: n(),
						src: ""
					}],
					selectType: "single",
					title: "请投票",
					endTime: "",
					selectCount: 1
				},
				sceneId: null,
				type: "j"
			};
			return {
				j: t,
				k: e
			}
		}
		var n = e.randomId;
		return {
			getDefaultJson: t
		}
	}
	i.$inject = ["EqxCore"];
	n(671);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(n) {
				var i = "";
				return e.datePicker().then(function() {
					return t.open({
						windowClass: "console seven-contain " + i,
						template: a,
						controller: o,
						resolve: {
							obj: function() {
								return n
							}
						}
					})
				})
			}
		}
	}
	i.$inject = ["delayLoadService", "modalService"],
	n(676);
	var o = n(677),
	a = n(678);
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r) {
		"ngInject";
		e.FILE = i.FILE;
		var s = a.randomId,
		c = JSON.parse(JSON.stringify(t.votesJson)),
		l = e.vm = {
			voteType: t.type,
			setting: !1,
			currentIndex: 0,
			endTime: c[t.type].properties.endTime || ""
		},
		p = e.vote = c[l.voteType],
		d = e.timeConfig = {
			enableClear: !0,
			startDate: l.endTime,
			startDateDefault: o.endTimeOfToday(),
			drops: "up"
		};
		e.addChild = function() {
			var t = p.properties.children.length,
			n = "k" == p.type ? 6 : 8;
			return t >= n ? void(e.authError = "您最多可添加" + n + "个选项, 每个选项最多40个字符") : void("k" == l.voteType ? p.properties.children.push({
				id: s(),
				label: "选项" + (t + 1)
			}) : p.properties.children.push({
				id: s(),
				src: "",
				desc: "选项" + (t + 1),
				width: 246,
				heigth: 286
			}))
		},
		e.selectType = function(t) {
			p.properties.selectType = t,
			"multi" === t ? e.vote.properties.selectCount = 2 : e.vote.properties.selectCount = 1
		},
		e.deleteChild = function(e) {
			p.properties.children.splice(e, 1),
			"multi" === p.properties.selectType && p.properties.selectCount > p.properties.children.length && (p.properties.selectCount = p.properties.children.length)
		},
		e.showHideSetting = function() {
			l.setting = !l.setting,
			l.setting && p.properties.endTime && (d.startDate = l.endTime)
		},
		e.selectBlur = function() {
			p.properties.selectCount || (p.properties.selectCount = 2)
		},
		e.chooseTextImg = function(t) {
			c[t] && (l.voteType = t, p = e.vote = c[t])
		},
		e.imgEdit = function(t) {
			var i = {
				tab: 2,
				storageKey: ""
			};
			n.getImage(i).then(function(n) {
				t.src = n.path,
				l.currentIndex = e.vote.properties.children.indexOf(t)
			})
		},
		e.getImgSrc = function(t) {
			if (t) return {
				"background-image": "url(" + e.FILE + t + ")",
				"background-size": "contain",
				"background-repeat": "no-repeat",
				"background-position": "50%"
			}
		},
		e.setCurrentIndex = function(e) {
			l.currentIndex = e
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.confirm = function() {
			if (!p.properties.title) return void(e.authError = "请填写标题");
			var t = p.properties.children.findIndex(function(e, t) {
				return "k" == l.voteType ? !e.label: !e.desc || !e.src
			});
			return t > -1 ? void(e.authError = "第" + (t + 1) + "选项内容或图片不能为空") : (l.endTime ? p.properties.endTime = new Date(l.endTime).getTime() : p.properties.endTime = "", "k" === p.type && delete p.css.height, void e.$close(p))
		}
	}
	i.$inject = ["$scope", "obj", "imageModalFactory", "HOST", "EqxCore", "$filter"];
	var o = n(328);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span>×</span></button><h4 class=modal-title>投票 <span ng-show=authError class=modal-error>{{authError}}</span></h4></div><div class=dialog-contain><div class="form_console dialog-content input-content"><div text-vote-tpl=vote ng-if="vm.voteType === \'k\'"></div><div img-vote-tpl=vote current-index=vm.currentIndex ng-if="vm.voteType === \'j\'"></div><div class="modify_area input-design vote-design"><div class=input-title style=margin-bottom:10px><div><span class=title>标题</span></div><input type=text class="form-control vote-form-control" ng-model=vote.properties.title placeholder=请输入标题 id=radioTitle check-count=40 autofocus></div><div class=vote-input-options><div class=""><span class=option>选项</span> <span class=option-tip>（您可以添加{{vm.voteType === \'k\'? \'六\' : \'八\'}}个选项，每个选项最多请不要超过40字符）</span></div><div class=vote-input-option><span class="vote-text-btn vote-type-btn" ng-click="chooseTextImg(\'k\')" ng-class="{\'vote-type\': vm.voteType === \'k\'}">文字投票</span> <span class="vote-img-btn vote-type-btn" ng-click="chooseTextImg(\'j\')" ng-class="{\'vote-type\': vm.voteType === \'j\'}">图片投票</span></div><div id=optionGroupContainer class=vote-option-group-container style=position:relative><div eqd-scroll style=height:100%;max-height:180px;margin-bottom:10px><div><div class="option-group vote-option-group" ng-repeat="child in vote.properties.children" ng-if="vm.voteType == \'k\'"><input type=text class="form-control vote-form-control" ng-model=child.label maxlength=40><span class=eqf-wrong ng-click=deleteChild($index) ng-if="vote.properties.children.length > 2"></span></div><div class="option-group vote-option-group" ng-repeat="child in vote.properties.children" ng-if="vm.voteType == \'j\'"><div ng-style=getImgSrc(child.src) class=vote-img-cover ng-click=imgEdit(child)></div><input type=text class="form-control vote-form-control" ng-model=child.desc maxlength=40 style=width:314px;display:inline-block;margin-top:-20px ng-focus=setCurrentIndex($index)><span class=eqf-wrong ng-click=deleteChild($index) ng-if="vote.properties.children.length > 2"></span></div></div></div><div ng-click=addChild() class=vote-add-btn>添加选项</div></div></div><div class=vote-advanced-setting><div ng-click=showHideSetting() class=vote-advanced-setting-title>高级设置 <span ng-class="{\'eqf-clickmore\' : vm.setting, \'eqf-clickmore2\' : !vm.setting}"></span></div><div ng-show=vm.setting class=vote-advanced-setting-content><div class=vote-advanced-setting-type><span class=vote-advanced-setting-select>选择</span><label class=radio-label style=margin-right:50px>单选<div class=radio-square ng-class="{checked: vote.properties.selectType === \'single\'}" ng-click="selectType(\'single\')"><em></em> <input type=radio></div></label><label class=radio-label>多选<div class=radio-square ng-class="{checked: vote.properties.selectType === \'multi\'}" ng-click="selectType(\'multi\')"><em></em> <input type=radio></div></label></div><div class=vote-most-count ng-if="vote.properties.selectType === \'multi\'"><span>最多可选</span> <input type=number onkeypress=return!1 min=2 max={{vote.properties.children.length}} ng-model=vote.properties.selectCount ng-blur=selectBlur() class=vote-most-count-input />项</div><div class="vote-advanced-setting-time form-input" id=daterange style=position:relative><span>结束时间</span> <input type=text placeholder=设置结束时间 ng-model=vm.endTime class="vote-time daterange" date-picker=timeConfig name=daterange ng-readonly=true /></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			controller: ["$scope", "$rootScope", "voteFactory", "voteModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				var a = n.getDefaultJson();
				e.createVoteComp = function() {
					i.open({
						votesJson: a,
						type: "k"
					}).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson,
					r = "" + a.type;
					if (r.indexOf("k") !== -1 || r.indexOf("j") !== -1) {
						var s = {};
						s.votesJson = {},
						s.votesJson[r] = a,
						s.type = r,
						i.open(s).then(function(e) {
							console.log(e);
							var n = o.getCurrentPage(),
							i = n.updateEqxComp(a.id, e);
							i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
						})
					}
				})
			}],
			link: function(e, t) {
				t.on("click.vote",
				function() {
					e.$apply(function() {
						return e.createVoteComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.template", [n(681), n(685), n(691)]).directive("thumbTpl", n(701)).factory("thumbTplService", n(704)).name
},
function(e, t, n) {
	"use strict";
	var i = n(682);
	e.exports = angular.module("template.tplCenter", []).directive("eqxTemplateCenter", i).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: a
		}
	}
	var o = n(683),
	a = n(684);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=tab-panel style=height:100%><div class="sel-contain all-change" ng-repeat="tag in tags" ng-style=tag.style><eqx-select class=select-great model=tag.id change=onTagChange()><eqx-select-option value=type.id ng-repeat="type in tag.list">{{type.name}}</eqx-select-option></eqx-select></div><div style=left:10px;top:50px;position:absolute><input class=search placeholder=输入名称搜索模板 type=text ng-keypress=enterPress($event) ng-model=vm.name /> <span ng-if=vm.showSearch class="eqf-search search-icon" ng-click=onSearchKeyEnter()></span> <span ng-if=!vm.showSearch class="eqf-wrong search-icon" ng-click=resetTplFilter()></span></div><div class="page_tpl_container clearfix"><div eqd-scroll style=height:100% refresh=updateTpls()><ul class=tpl-container><li class="page_tpl_item comp-draggable animation-zoom my-tpl-self" ng-repeat="tpl in tplGroup.list" ng-style="{\'animation-delay\': $index%42 * 50 + \'ms\'}" title={{tpl.name}} thumb-tpl=tpl key="\'tplCenter\'" show-del=false render=false><div eqx-material-status obj=tpl type="\'tpl\'" success-fn=$parent.buyAndUse></div></li></ul></div></div></div>'
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i) {
		"ngInject";
		function o() {
			return s.tagIds = r(),
			"tagIds:" + s.tagIds + "-name:" + s.name
		}
		function a() {
			c = e.tplGroup = i.getTplGroupByKey(o()),
			0 == c.list.length && e.updateTpls()
		}
		function r() {
			return e.tags.map(function(e) {
				return e.id
			}).filter(function(e) {
				return !! e
			}).join(",")
		}
		var s = e.vm = {
			tagIds: "",
			name: "",
			showSearch: !0
		};
		e.tags = [{
			style: {
				left: "10px"
			},
			id: null,
			list: [{
				id: null,
				name: "用途"
			}]
		},
		{
			style: {
				left: "103px"
			},
			id: null,
			list: [{
				id: null,
				name: "功能"
			}]
		},
		{
			style: {
				left: "196px"
			},
			id: null,
			list: [{
				id: null,
				name: "风格"
			}]
		}];
		var c = e.tplGroup = [];
		e.updateTpls = function() {
			i.$getMoreTpls(o())
		},
		e.onTagChange = function() {
			a()
		},
		e.resetTplFilter = function() {
			s.name = "",
			s.showSearch = !0,
			a()
		},
		e.enterPress = function(t) {
			var n = t || window.event;
			13 == n.keyCode && e.onSearchKeyEnter()
		},
		e.onSearchKeyEnter = function() {
			s.showSearch = !1,
			a()
		},
		t.$getAllTagList().then(function(t) {
			e.tags.forEach(function(e, i) {
				var o; (o = e.list).push.apply(o, n(t[i].map(function(e) {
					return {
						id: e.id,
						name: e.name
					}
				})))
			})
		}),
		a()
	}
	i.$inject = ["$scope", "tplTagService", "tplService"],
	e.exports = i
},
function(e, t, n) {
	"use strict";
	var i = n(686);
	e.exports = angular.module("template.panel", []).directive("eqxTemplatePanel", i).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(690),
			scope: {},
			controller: ["$scope",
			function(n) {
				var o = {
					tplCenter: 1,
					my: 2
				},
				a = n.vm = {
					tabId: o.tplCenter
				};
				n.tabs = [{
					id: o.tplCenter,
					name: "模板中心"
				},
				{
					id: o.my,
					name: "我的"
				}],
				n.accessTemplateMaterial = i.permission("templateMaterial"),
				n.changeTbl = function(e) {
					a.tabId = e
				},
				n.showTplCenter = function() {
					return a.tabId === o.tplCenter
				},
				n.showMy = function() {
					return a.tabId === o.my
				},
				n.$on("tpl.saveMyTpl",
				function() {
					n.changeTbl(o.my),
					e(function() {
						t.$broadcast("tpl.saveMyTpl.tag")
					})
				}),
				n.$on("tpl.saveCompanyTpl",
				function() {
					n.changeTbl(o.my),
					e(function() {
						t.$broadcast("tpl.saveCompanyTpl.tag")
					})
				})
			}]
		}
	}
	i.$inject = ["$timeout", "$rootScope", "authorityService"],
	n(687),
	e.exports = i
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<div class=create_left ng-if=!accessTemplateMaterial><ul class="nav nav-tabs" style=position:absolute;z-index:2;width:100%><li ng-repeat="tab in tabs" ng-class="{\'active\': tab.id == vm.tabId}"><a ng-click=changeTbl(tab.id) class=all-change>{{tab.name}}</a></li></ul><div style=margin-top:38px></div><eqx-template-center ng-if=showTplCenter()></eqx-template-center><eqx-my-center ng-if=showMy()></eqx-my-center></div>';
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("template.my", []).directive("eqxMyCenter", n(692)).directive("eqxCompany", n(694)).directive("eqxMyTpl", n(697)).directive("eqxRecently", n(699)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(693),
			scope: {},
			controller: ["$scope", "authorityService",
			function(e, t) {
				"ngInject";
				var n = e.vm = {
					tagId: 201
				},
				i = {
					myTpl: 201,
					recently: 202,
					company: 203
				};
				e.tags = [{
					item: 1,
					style: {
						left: "10px"
					},
					id: i.myTpl,
					name: "我的模板"
				},
				{
					item: 5,
					style: {
						left: "103px"
					},
					id: i.recently,
					name: "最近使用"
				}],
				t.permission("tplShowCompany") || e.tags.push({
					item: 2,
					style: {
						left: "196px"
					},
					id: i.company,
					name: "企业模板"
				}),
				e.tags.sort(function(e, t) {
					return e.item > t.item
				}),
				e.changeTbl = function(e) {
					n.tagId = e
				},
				e.showMyTpl = function() {
					return n.tagId === i.myTpl
				},
				e.showRecently = function() {
					return n.tagId === i.recently
				},
				e.showCompany = function() {
					return n.tagId === i.company
				},
				e.$on("tpl.saveMyTpl.tag",
				function() {
					e.changeTbl(i.myTpl)
				}),
				e.$on("tpl.saveCompanyTpl.tag",
				function() {
					e.changeTbl(i.company)
				})
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="tab-panel tag-tpl-tab" style=height:50px;padding-top:10px><ul class="nav nav-tabs nav-tags"><li class=nav-tag ng-repeat="tag in tags" ng-class="{\'active\': tag.id == vm.tagId}"><a ng-click=changeTbl(tag.id) class=all-change>{{tag.name}}</a></li></ul></div><eqx-my-tpl ng-if=showMyTpl()></eqx-my-tpl><eqx-company ng-if=showCompany() authority=TplCenterCompanyTpl></eqx-company><eqx-recently ng-if=showRecently()></eqx-recently>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: ["$scope", "tplService",
			function(e, t) {
				"ngInject";
				function n() {
					i = e.tplGroup = t.getTplGroupByKey(o),
					0 === i.list.length && e.updateTpls()
				}
				e.HOST = e.$root.HOST;
				var i = e.tplGroup = [],
				o = e.key = "company";
				e.updateTpls = function() {
					t.$getMoreTpls(o)
				},
				e.$on("tpl.saveCompanyTpl.tag",
				function() {
					n()
				}),
				n()
			}]
		}
	}
	var o = n(695);
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class=tab-panel style=height:100%;padding-top:10px;margin-top:0 authority=company><div class=empty-collection ng-if="tplGroup.list.length == 0"><p class=pb20>在页面管理中选中页面，点击企业模板，即可生成企业页面模板！</p><img src=' + n(696) + '></div><div eqd-scroll ng-if="tplGroup.list.length != 0" refresh=updateTpls() class=srcoll-short><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="tpl in tplGroup.list" title=点击使用 id=my-tpl ng-style="{\'animation-delay\': $index * 50 + \'ms\'}" thumb-tpl=tpl key=key show-del=true render=true></li></ul></div></div><div class=tab-panel style=height:100%;padding-top:10px;margin-top:0 authority=personal><div class=empty-collection><div class="pb20 pl20 pr20" style=text-align:center><a class=text-primary target=_blank ng-href="{{HOST.HOST+\'site/privilege\'}}">免费升级</a>企业会员尊享该功能</div><img src=' + n(696) + "></div></div>"
},
function(e, t, n) {
	e.exports = n.p + "images/collection-d53f0f.svg"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: ["$scope", "tplService",
			function(e, t) {
				"ngInject";
				function n() {
					i = e.tplGroup = t.getTplGroupByKey(o),
					0 === i.list.length && e.updateTpls()
				}
				var i = e.tplGroup = [],
				o = e.key = "myTpl";
				e.updateTpls = function() {
					t.$getMoreTpls(o)
				},
				n(),
				e.$on("tpl.saveMyTpl.tag",
				function() {
					n()
				})
			}]
		}
	}
	var o = n(698);
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class=tab-panel style=height:100%;padding-top:10px;margin-top:0><div class=empty-collection ng-if="tplGroup.list.length == 0"><p class=pb20>在页面管理中选中页面，点击我的模板，即可生成我的页面模板！</p><img src=' + n(696) + '></div><div eqd-scroll refresh=updateTpls() ng-if="tplGroup.list && tplGroup.list.length!=0" class=srcoll-short><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="tpl in tplGroup.list" title=点击使用 ng-style="{\'animation-delay\': $index * 70 + \'ms\'}" thumb-tpl=tpl key=key show-del=true render=true></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: ["$scope", "tplService",
			function(e, t) {
				"ngInject";
				function n() {
					i = e.tplGroup = t.getTplGroupByKey(o),
					0 === i.list.length && e.updateTpls()
				}
				var i = e.tplGroup = [],
				o = e.key = "recently";
				e.updateTpls = function() {
					t.$getMoreTpls(o)
				},
				n()
			}]
		}
	}
	var o = n(700);
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class=tab-panel style=height:100%;padding-top:10px;margin-top:0><div class=empty-collection ng-if="tplGroup.list.length == 0"><p class=pb20>暂无模板</p><img src=' + n(696) + '></div><div eqd-scroll refresh=updateTpls() class=srcoll-short ng-if="tplGroup.list && tplGroup.list.length!=0"><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="tpl in tplGroup.list" title=点击使用 ng-style="{\'animation-delay\': $index * 70 + \'ms\'}" thumb-tpl=tpl key=key show-del=true render=true></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		function a(e, i, a, r, s, c, l) {
			var p = e.tpl.properties || {};
			e.vm = {
				showLongPage: !!p.longPage,
				showImg: "true" != e.render,
				showDel: "true" == e.showDel,
				showHover: "true" == e.showHover,
				shiftSize: e.shiftSize
			},
			e.deleteTpl = function(t) {
				t.stopPropagation(),
				e.key || console.error("no tpl key"),
				s.openConfirmDialog({
					msg: "确定删除此模板?"
				}).then(function() {
					r.deleteTpl(e.tpl, e.key)
				})
			},
			e.loadImg = function(e) {
				var t = e.find("img")[0],
				a = n(703);
				if (p && p.thumbSrc) {
					var r = i.FILE + p.thumbSrc;
					/\?imageMogr2/.test(r) || (r += "?imageMogr2/thumbnail/80x130>/strip");
					var s = o(r).then(function() {
						t && (t.src = r)
					})
				} else s = l.reject();
				s["catch"](function() {
					t.src = a
				})
			},
			e.renderTpl = function(t) {
				var n = {
					obj: {
						id: e.tpl.sceneId,
						bgAudio: null,
						property: {
							eqAdType: 0,
							forbidHandFlip: !0
						}
					},
					list: [e.tpl]
				},
				i = a.adaptor,
				o = i.SceneAdaptor,
				r = i.perfectPage.perfectPage,
				s = i.perfectMeta.perfectMeta,
				c = i.perfectComp.perfectComp;
				new o(n).addMetaFn(s).addPageFn(r).addEleFn(c).start();
				var l = a.core.scene.EqxScene;
				if (e.tempScene = new l(n, {
					mode: "edit",
					disablePageEffect: !0,
					disableCompEvent: !0,
					disableTrigger: !0,
					disableArrow: !0,
					disableCommentManager: !0,
					disableProgressBar: !0
				}), e.tempScene.renderScene(t), !e.vm.shiftSize) {
					var p = $(".edit_area", t).height();
					if (486 !== p) var d = "scale(0.25) translateX(-480px) translateY(-" + (729 + 729 * (p / 486 - 1)) + "px)";
					else d = "scale(0.25) translateX(-480px) translateY(-729px)";
					$(".edit_area", t).css({
						transform: d
					})
				}
			},
			e.buyAndUse = function(t) {
				r.clearTplGroup("myTpl"),
				e.useTpl(t)
			},
			e.useTpl = function(n) {
				c.getCurrentPage().pageJson.properties && c.getCurrentPage().pageJson.properties.xb && 0 === c.getCurrentPage().pageJson.properties.xb.canDel || t.useTplValidation(n, e.taskCenter)
			}
		}
		function r(e, n, o) {
			i(function() {
				e.vm.showImg ? e.loadImg(n) : e.renderTpl(n)
			}),
			n.on("click.thumb",
			function() {
				return e.$apply(function() {
					if (!o.disableUse) {
						if (e.taskCenter) {
							var n = e.taskCenter;
							return void t.useTplValidation(n.scenePages[0], n)
						}
						e.useTpl(e.tpl)
					}
				})
			})
		}
		return a.$inject = ["$scope", "HOST", "EqxCore", "tplService", "modalService", "sceneService", "$q"],
		{
			restrict: "A",
			transclude: !0,
			scope: {
				tpl: "=thumbTpl",
				key: "=",
				render: "@",
				showDel: "@",
				showHover: "@",
				taskCenter: "=",
				shiftSize: "="
			},
			template: n(702),
			controller: a,
			link: r
		}
	}
	i.$inject = ["$rootScope", "thumbTplService", "$timeout"];
	var o = n(152).loadImg;
	e.exports = i
},
function(e, t) {
	e.exports = '<img ng-if=vm.showImg /> <span ng-if=vm.showLongPage class=bFlag_longPage>长</span><div ng-if=vm.showDel class="delete-element hint--bottom hint--rounded" ng-click=deleteTpl($event) data-hint=删除此模板><span class=eqf-scene-delete></span></div><span ng-if="taskCenter.status===3 && taskCenter.sceneTotal>0" class="bFlag_longPage showing">推广中 </span><span ng-if="taskCenter.status===5" class="bFlag_longPage show_end">已结束 </span><span ng-if="taskCenter.sceneTotal<=0 && taskCenter.status===3" class="bFlag_longPage show_unstart">未推广</span><div class=showTpl_contain ng-if=vm.showHover><div class=task_title>{{taskCenter.taskName}}</div><div class=showTpl_bottom><div class=showTpl_left><p class=showTpl_budget>{{taskCenter.budget}} <span>秀点</span></p><p class=budget_title>推广预算</p></div><div class=showTpl_right><p class=unit_price>1秀点/{{taskCenter.price}}PV</p><p class=price_title>推广单价</p></div></div></div><div ng-transclude></div>'
},
function(e, t, n) {
	e.exports = n.p + "images/pic-80bac5.svg"
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		function a(t, n) {
			var a = e.getCurrentPage(),
			r = a.pageJson,
			s = JSON.parse(JSON.stringify(t));
			s.properties = s.properties || {},
			r.properties.xb && delete r.properties.xb;
			var c = s.elements;
			if (c.length) {
				var l = r.id,
				p = r.num,
				d = r.name,
				u = r.sceneId,
				g = r.properties.longPage; ! s.properties.effect && r.properties.effect && (s.properties.effect = JSON.parse(JSON.stringify(r.properties.effect))),
				Object.assign(s, {
					id: l,
					num: p,
					name: d,
					sceneId: u
				}),
				delete s.istpl;
				var m = s.properties.longPage;
				m && m < 10 && (m = 502 * m),
				g && (m ? m < g && (s.properties.longPage = g) : s.properties.longPage = g),
				s.elements.forEach(function(e) {
					e.pageId = l,
					e.sceneId = u
				}),
				n && (s.properties.xb = {
					orderId: n.taskId,
					pageId: n.pageId,
					sceneId: t.sceneId,
					taskId: n.id,
					taskSceneId: r.sceneId,
					promotionType: n.promotionType
				},
				delete s.properties.effect),
				o.$broadcast("tpl.useTpl", s),
				i.addRecently(t),
				i.updateRecently()
			}
		}
		function r(e, t) {
			e.elements ? a(e, t) : n.getTpl(e.id).then(function(n) {
				var i = n.data.obj;
				i.elements && i.elements.length && (e.elements = i.elements, a(e, t))
			})
		}
		function s(n, i) {
			e.getCurrentPage().pageJson.elements.length > 0 ? t.openConfirmDialog({
				msg: "页面模板会覆盖编辑区域已有组件，是否继续？",
				confirmName: "是",
				cancelName: "取消"
			}).then(function() {
				r(n, i)
			}) : r(n, i)
		}
		return {
			useTplValidation: s
		}
	}
	n.$inject = ["sceneService", "modalService", "tplAPI", "tplService", "$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	n(706);
	var i = angular.module("scene.head", [n(707)]).directive("eqxHead", n(712));
	e.exports = i.name
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("create.head.action", []).directive("eqdHeadAction", n(708)).directive("eqdLogoShortcut", n(710)).directive("eqdLastPageShortcut", n(711)).name
},
function(e, t, n) {
	"use strict";
	var i = n(709),
	o = n(277).getHash;
	e.exports = ["$route", "$timeout",
	function(e, t) {
		"ngInject";
		return {
			restrict: "EA",
			template: i,
			controller: ["$scope", "flagService", "$rootScope", "selectService", "sceneService", "modalService", "HOST", "i18nNotifications",
			function(e, t, n, i, a, r, s, c) {
				function l() {
					var e = a.eqxScene.meta;
					e.name || t.sceneSetting.show || r.openMsgDialog({
						msg: "尚未设置标题，请设置后再执行此操作",
						btn: "去设置"
					}).then(function() {
						t.sceneSetting.show = !0
					})
				}
				function p(e) {
					return 2 == e.status ? r.openConfirmDialog({
						msg: "当前场景为不允许访问状态，发布场景将重新对外开放访问",
						confirmName: "坚持发布",
						cancelName: "保存退出"
					}).then(function() {
						return d(e.id)
					},
					function() {
						$(window).off("beforeunload"),
						window.open(s.HOST + "promotion/share/" + e.id + "/social", "_self")
					}) : d(e.id)
				}
				function d(e) {
					return a.publishScene(e).then(function(t) {
						t.data.success && ($(window).off("beforeunload"), window.open(s.HOST + "promotion/share/" + e + "/social", "_self"))
					})
				}
				var u = t.sceneSetting,
				g = a.eqxScene;
				e.toggle = function() {
					u.show = !u.show
				},
				e.open = function() {
					u.show = !0
				},
				e.saveScene = function() {
					i.removeAll(),
					n.$broadcast("savePage",
					function() {
						var e = "保存成功，还需发布哦！",
						i = a.eqxScene;
						i.meta;
						l(),
						t.sceneSetting.show && n.$broadcast("saveSettings", {
							save: function() {
								c.add(e)
							}
						})
					})
				},
				e.publishScene = function() {
					$(".workspace").trigger("mousedown"),
					n.$broadcast("savePage",
					function() {
						var e = a.eqxScene,
						i = e.meta;
						l(),
						t.sceneSetting.show ? n.$broadcast("publishSettings", {
							publish: p
						}) : i.name && a.saveSceneSettings(i).then(function() {
							p(i)
						})
					})
				},
				e.exitScene = function() {
					function e() {
						l(),
						t.sceneSetting.show ? n.$broadcast("exitEditor") : window.open(s.HOST + "h5/list", "_self")
					}
					var i = g.eqxPageList[a.currentPageIndex];
					i.$$lastHash || console.error("eqxPage does not have $$lastHash!", i);
					var c = o(i.pageJson);
					c !== i.$$lastHash ? r.openConfirmDialog({
						msg: "是否保存更改内容？",
						confirmName: "保存",
						cancelName: "不保存"
					}).then(function() {
						n.$broadcast("savePage", e)
					},
					function() {
						e()
					}) : e()
				},
				e.saveTplAndExit = function() {
					n.$broadcast("YQCCreateMYXB"),
					window.open("", "_self"),
					window.close()
				}
			}],
			link: function(n) {
				e.current.params.s && t(function() {
					n.open()
				},
				100)
			}
		}
	}]
},
function(e, t) {
	e.exports = '<div class=create-action><ul><li ng-hide=YQCMaker class="act-border setting gray-dark all-change" ng-click=toggle() big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=1 categorythree=常用设置 actiontype=23><span class=tip>设置</span></li><li ng-hide=YQCMaker class="act-border save gray-dark all-change" ng-click=saveScene(true) big-data-event categorytwoid=13 categorytwo=保存 actiontype=4><span class=tip>保存</span></li><li ng-hide=YQCMaker class="publish gray-dark all-change" ng-click=publishScene() big-data-event categorytwoid=14 categorytwo=发布 actiontype=6><span class=tip>发布</span></li><li class="act-border quit out-red" ng-click=exitScene() big-data-event categorytwoid=15 categorytwo=退出 actiontype=11><span class=tip>退出</span></li></ul></div>'
},
function(e, t) {
	"use strict";
	e.exports = ["flagService",
	function(e) {
		"ngInject";
		return {
			restrict: "EA",
			controller: function() {},
			link: function(t, n) {
				n.on("click",
				function() {
					t.$apply(function() {
						var t = e.sceneSetting;
						t.show = !0,
						t.settingTab = "高级"
					})
				})
			}
		}
	}]
},
function(e, t) {
	"use strict";
	e.exports = ["flagService",
	function(e) {
		"ngInject";
		return {
			restrict: "EA",
			controller: function() {},
			link: function(t, n) {
				n.on("click",
				function() {
					t.$apply(function() {
						var t = e.sceneSetting;
						t.show = !0,
						t.settingTab = "高级",
						t.flagEqAdType = !0
					})
				})
			}
		}
	}]
},
function(e, t, n) {
	"use strict";
	var i = n(713);
	n(706),
	e.exports = ["modalService", "disableService", "authorityService",
	function(e, t, n) {
		"ngInject";
		return {
			restrict: "EA",
			template: i,
			scope: {},
			link: function(i, o) {
				i.HOST = i.$root.HOST,
				i.vm = {
					get isXb() {
						return t.disableOperate()
					}
				},
				i.accessAdComp = n.assignDesignerAuthority,
				i.accessCompAtlas = n.permission("compAtlas"),
				i.compAuthorityAccess = n.permission("hideAdvancedShortCut"),
				i.accessCompPV = n.permission("compPV"),
				i.accessCompWechat = n.permission("compWechat"),
				i.accessCompRadio = n.permission("compRadio"),
				i.accessCompMultiRadio = n.permission("compMultiRadio"),
				i.accessCompCount = n.permission("compCount"),
				i.accessCompDropdown = n.permission("compDropdown"),
				i.accessCompChart = n.permission("compChart"),
				i.accessCompComment = n.permission("compComment"),
				i.accessCompVideo = n.permission("compVideo"),
				i.accessCompTime = n.permission("compTime"),
				i.accessCompVote = n.permission("compVote"),
				i.accessCompAdvertisement = n.permission("compAdvertisement"),
				o.find(".creat_con").on("click",
				function() {
					t.disableOperate() && e.openMsgDialog({
						msg: "接取的任务不能编辑"
					})
				})
			}
		}
	}]
},
function(e, t) {
	e.exports = '<div class=creat_head><div class="creat_head_con clearfix"><div class=creat_logo><a ng-href="{{HOST.HOST + \'h5/list\'}}"><em class=eqf-logo></em></a></div><div class="creat_con clearfix"><ul class="comp_panel clearfix" ng-class="{\'xb-un-edit\': vm.isXb}"><li comp-draggable=panel ctype=2 class="comp-draggable text" eqx-text big-data-event categorytwoid=1 categorytwo=文本 actiontype=4><span class="eqf-text-word eqf-btn"></span> <span class=tip>文本</span></li><li comp-draggable=panel ctype=3 class="comp-draggable bg" eqx-bg big-data-event categorytwoid=2 categorytwo=背景 actiontype=4><span class="eqf-top-background eqf-btn"></span> <span class=tip>背景</span></li><li comp-draggable=panel class="comp-draggable music" eqx-bgm big-data-event categorytwoid=3 categorytwo=音乐 actiontype=4><span class="eqf-top-music eqf-btn"></span> <span class=tip>音乐</span></li><li comp-draggable=panel ctype=v ng-if=!accessCompVideo class="comp-draggable vedio" eqx-video big-data-event categorytwoid=4 categorytwo=视频 actiontype=4><span class="eqf-top-video eqf-btn"></span> <span class=tip>视频</span></li><li comp-draggable=panel ctype=4 class="comp-draggable image" eqx-image><span class="eqf-top-pic eqf-btn"></span> <span class=tip>图片</span></li><li comp-draggable=panel ctype=h class="comp-draggable image" eqx-shape big-data-event categorytwoid=6 categorytwo=形状 actiontype=4><span class="eqf-shape eqf-btn"></span> <span class=tip>形状</span></li><li class=interaction><span class="eqf-refresh eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=l class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加链接 eqx-link big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=1 categorythree=链接 actiontype=4><span class=eqf-link></span> <span class=menu-item-name>链接</span></li><li comp-draggable=panel ctype=g class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加广告 ng-if=!accessCompAdvertisement eqx-ad big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=2 categorythree=广告 actiontype=4><span class=eqf-link></span> <span class=menu-item-name>广告</span></li><li comp-draggable=panel ctype=8 class="menu-item comp-draggable phone hint--right hint--rounded" data-hint=点击添加电话 eqx-tel big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=3 categorythree=电话 actiontype=4><span class=eqf-glyphicon-earphone></span> <span class=menu-item-name>电话</span></li><li comp-draggable=panel ctype=m class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加地图 eqx-map big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=4 categorythree=地图 actiontype=4><span class=eqf-map></span> <span class=menu-item-name>地图</span></li><li comp-draggable=panel ctype=s class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加音效 eqx-sound big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=5 categorythree=音效 actiontype=4><span class=eqf-music></span> <span class=menu-item-name>音效</span></li><li class=menu-item><span class=eqf-clock-o></span> <span class=menu-item-name>计数</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus eqx-counter><li comp-draggable=panel ctype=i class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-love big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=6 categorythree=计数喜欢 actiontype=4><span class=eqf-love></span> <span class=menu-item-name>喜欢</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-good big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=7 categorythree=计数顶起 actiontype=4><span class=eqf-good></span> <span class=menu-item-name>顶起</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-flower2 big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=8 categorythree=计数送花 actiontype=4><span class=eqf-flower2></span> <span class=menu-item-name>送花</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-vote big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=9 categorythree=计数投票 actiontype=4><span class=eqf-vote></span> <span class=menu-item-name>投票</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompPV><span class=eqf-date2></span> <span class=menu-item-name>统计</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=d class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加计数器 eqx-pv big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=10 categorythree=统计阅读量 actiontype=4><span class=eqf-eye3></span> <span class=menu-item-name>阅读量</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompWechat><span style=font-size:10px class=eqf-wechat></span> <span class=menu-item-name>微信 <span style=position:absolute;top:1px;transform:scale(.8);color:red>beta</span> </span><span style=margin-left:1px class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=w class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加微信昵称和头像 eqx-wx-header eqx-red-dot-trigger=wechatRedDot big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=11 categorythree=微信头像 actiontype=4><span class=eqf-top-contact></span> <span class=menu-item-name>头像</span></li><li comp-draggable=panel ctype=wp class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加微信图片 eqx-wx-img eqx-red-dot-trigger=wechatRedDot big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=12 categorythree=微信照片 actiontype=4><span class=eqf-top-pic></span> <span class=menu-item-name>照片</span></li><li comp-draggable=panel ctype=wr class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加微信音频组件 eqx-wx-sound eqx-red-dot-trigger=wechatRedDot big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=13 categorythree=微信声音 actiontype=4><span class=eqf-voice></span> <span class=menu-item-name>声音</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompTime><span class=eqf-clock-1></span> <span class=menu-item-name>计时</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=e class="menu-item comp-draggable textarea hint--right hint--rounded" eqx-down-time big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=14 categorythree=计时倒计时 actiontype=4 data-hint=点击添加倒计时 font=eqf-love><span class=eqf-countDown></span> <span class=menu-item-name>倒计时</span></li><li comp-draggable=panel ctype=f class="menu-item comp-draggable radio-input hint--right hint--rounded" eqx-up-time big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=15 categorythree=计时计时 actiontype=4 data-hint=点击添加计时 font=eqf-good><span class=eqf-clock-2></span> <span class=menu-item-name>计时</span></li></ul></div></div></div></li></ul></div></div></div><div eqx-red-dot=wechatRedDot></div><span class=tip>互动</span></li><li class=form><span class="eqf-top-list eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li class=menu-item><span class=eqf-option></span> <span class=menu-item-name>选项</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=5 class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加输入框 eqx-input big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=1 categorythree=选项输入框 actiontype=4><span class=eqf-write></span> <span class=menu-item-name>输入框</span></li><li comp-draggable=panel ng-if=!accessCompRadio ctype=r class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加单选按钮 eqx-radio=r type=r big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=2 categorythree=选项单选 actiontype=4><span class=eqf-single></span> <span class=menu-item-name>单选</span></li><li comp-draggable=panel ng-if=!accessCompMultiRadio ctype=c class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加多选按钮 eqx-radio=c big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=3 categorythree=选项多选 actiontype=4><span class=eqf-morechoice></span> <span class=menu-item-name>多选</span></li><li comp-draggable=panel ng-if=!accessCompDropdown ctype=z class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加多选按钮 eqx-drop-down big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=4 categorythree=选项下拉列表 actiontype=4><span class=eqf-select></span> <span class=menu-item-name>下拉列表</span></li><li comp-draggable=panel ng-if=!accessCompCount ctype=a class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加评分组件 eqx-score big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=5 categorythree=选项评分 actiontype=4><span class=eqf-star></span> <span class=menu-item-name>评分</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompChart><span class=eqf-chart></span> <span class=menu-item-name>图表</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=t class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加饼状图 font=pie eqx-chart=pie big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=6 categorythree=图表饼状图 actiontype=4><span class=eqf-pie></span> <span class=menu-item-name>饼状图</span></li><li comp-draggable=panel ctype=t class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加柱状图 font=bar eqx-chart=bar big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=7 categorythree=图表柱状图 actiontype=4><span class=eqf-bar-chart></span> <span class=menu-item-name>柱状图</span></li><li comp-draggable=panel ctype=t class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加折线图 font=line eqx-chart=line big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=8 categorythree=图表折线图 actiontype=4><span class=eqf-line2></span> <span class=menu-item-name>折线图</span></li><li comp-draggable=panel ctype=t class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加曲面图 font=curve eqx-chart=curve big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=9 categorythree=图表曲面图 actiontype=4><span class=eqf-circle-line></span> <span class=menu-item-name>曲面图</span></li></ul></div></div></div></li><li comp-draggable=panel ctype=6 class="menu-item comp-draggable button hint--right hint--rounded" data-hint=一个场景建议只添加一个 eqx-button big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=10 categorythree=提交按钮 actiontype=4><span class=eqf-top-button></span> <span class=menu-item-name>提交按钮</span></li></ul></div></div></div><div eqx-red-dot=commentRedDot></div><span class=tip>表单</span></li><li eqx-page-effect big-data-event categorytwoid=9 categorytwo=特效 actiontype=4 class="comp-draggable images" data-event=12011><span class="eqf-top-star eqf-btn"></span> <span class=tip>特效</span></li><li class=interaction><span class="eqf-extand eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li ng-hide=accessCompAtlas comp-draggable=panel ctype=p class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加图集 eqx-image-slider big-data-event categorytwoid=10 categorytwo=扩展 categorythreeid=1 categorythree=图集 actiontype=4><span class=eqf-top-pics></span> <span class=menu-item-name>图集</span></li><li comp-draggable=panel ctype=g101 class="menu-item comp-draggable contact hint--right hint--rounded" data-hint=点击添加联系人 big-data-event categorytwoid=10 categorytwo=扩展 categorythreeid=2 categorythree=联系人 actiontype=4 eqx-combined-form><span class=eqf-top-contact></span> <span class=menu-item-name>联系人</span></li><li comp-draggable=panel ctype=b ng-if=!accessCompComment class="menu-item comp-draggable button hint--right hint--rounded" data-hint=一个场景建议只添加一个 eqx-comment eqx-red-dot-trigger=commentRedDot big-data-event categorytwoid=10 categorytwo=扩展 categorythreeid=3 categorythree=留言板 actiontype=4><span class=eqf-boards></span> <span class=menu-item-name>留言板</span></li><li comp-draggable=panel ctype=b ng-if=!accessCompVote class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加投票 eqx-vote><span class=eqf-boards></span> <span class=menu-item-name>投票</span></li></ul></div></div></div><span class=tip>扩展</span></li><li class=interaction ng-if=!compAuthorityAccess><span class="eqf-advance eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=p class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击设置自定义加载logo eqd-logo-shortcut big-data-event categorytwoid=11 categorytwo=高级 categorythreeid=1 categorythree=自定义加载logo actiontype=4><span class=eqf-self-logo></span> <span class=menu-item-name>自定义加载logo</span></li><li comp-draggable=panel ctype=g101 class="menu-item comp-draggable contact hint--right hint--rounded" data-hint=点击设置尾页 eqd-last-page-shortcut big-data-event categorytwoid=11 categorytwo=高级 categorythreeid=2 categorythree=去尾页及底标 actiontype=4><span class=eqf-lastPage></span> <span class=menu-item-name>去尾页及底标</span></li></ul></div></div></div><span class=tip>高级</span></li></ul></div><eqd-head-action></eqd-head-action></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.pageEffect", [n(715), n(721), n(727), n(733), n(739), n(745), n(749), n(754)]).service("EffectService", n(760)).factory("effectModal", n(761)).directive("eqxPageEffect", n(765)).name
},
function(e, t, n) {
	"use strict";
	var i = n(716),
	o = angular.module("pageEffect.scratch", []).directive("eqdEffectScratch", i);
	e.exports = o.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			template: o,
			controller: a
		}
	}
	n(717);
	var o = n(719),
	a = n(720);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=scratch-effect><div class="effect-preview scratch-bg" id=scratch></div><div class="effect-form scratch-form"><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>覆盖效果</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=vm.coverImageIndex change=onCoverImageChange(image)><eqx-select-option value=image.value ng-repeat="image in coverImages">{{image.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>透明度</label><div class=form-input><eqd-input-number ng-model=effectJson.opacity ng-model-options=vm.modelOptions ng-change=onOpacityChange() ng-change="" tooltip-placement=right tooltip=双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值 min=0 max=100 unit=%></eqd-input-number></div></div><div class="form-list clearfix"><label class=form-label>涂抹比例</label><div class=form-input><eqd-input-number ng-model=effectJson.percentage ng-model-options=vm.modelOptions ng-change=onPercentageChange() tooltip-placement=right tooltip=双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值 min=0 max=100 unit=%></eqd-input-number></div></div><div class="form-list clearfix"><label class=form-label>提示文字</label><div class=form-input><input type=text style=width:290px ng-model=effectJson.tip ng-change=onTipChange() placeholder=提示文字 check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div></form></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a) {
		"ngInject";
		function r() {
			f && (n.cancel(f), m.stopMimic()),
			f = n(function() {
				m.startMimic()
			},
			1e3)
		}
		var s = t.core.EditPageEffectMap,
		c = s.scratch,
		l = c.getCoverImages().map(function(e, t) {
			return {
				name: e.name,
				path: e.path,
				value: t + 1
			}
		});
		l.unshift({
			name: "自定义",
			value: 0
		}),
		e.coverImages = l;
		var p = i.getCurEffectJson();
		p && "scratch" == p.name || (p = {
			name: "scratch",
			image: l[1],
			opacity: .2,
			percentage: .15,
			tip: null
		});
		var d = e.effectJson = p;
		i.curEffectJson = e.effectJson;
		var u = e.vm = {
			modelOptions: {
				debounce: 100
			},
			coverImageIndex: 1
		},
		g = $("#scratch"),
		m = new c(d, g, g.width(), g.height());
		m.init(),
		m.canvas.classList.remove("cas"),
		e.onPercentageChange = function() {
			m.setPercentage(d.percentage)
		},
		e.onOpacityChange = function() {
			m.setOpacity(d.opacity),
			r()
		},
		e.onTipChange = function() {
			m.setTip(d.tip),
			r()
		};
		var f = null;
		e.onCoverImageChange = function() {
			if (0 == u.coverImageIndex) return void o.getImage().then(function(e) {
				var t = {
					name: e.name,
					value: 0,
					path: e.path
				};
				m.setCoverImage(t),
				p.image = t
			});
			var t = e.coverImages[u.coverImageIndex];
			m.setCoverImage(t),
			p.image = t,
			r()
		},
		e.confirm = function() {
			e.$close(d)
		},
		r()
	}
	n.$inject = ["$scope", "EqxCore", "$timeout", "EffectService", "imageModalFactory", "HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.finger", []).directive("eqdEffectFinger", n(722)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			template: o,
			controller: a
		}
	}
	n(723);
	var o = n(725),
	a = n(726);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=finger-effect><div class="effect-preview finger-bg" id=finger></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>背景图片：</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=finger.bgImage change=onBackImageChange()><eqx-select-option value=backImage ng-repeat="backImage in backImages">{{backImage.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>指纹图片：</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=finger.zwImage change=onFingerImgChange()><eqx-select-option value=fingImage ng-repeat="fingImage in fingImages">{{fingImage.name}}</eqx-select-option></eqx-select></div></div></form></div></div>';
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o() {
			e.fingImages = r.getFingerImages(),
			e.backImages = r.getBackImages();
			var t = n.getCurEffectJson();
			t && "finger" == t.name || (t = {
				name: "finger",
				bgImage: e.backImages[1],
				zwImage: e.fingImages[1]
			}),
			e.backImages.forEach(function(n, i) {
				t.bgImage.name == n.name && e.backImages.splice(i, 1, t.bgImage)
			}),
			e.fingImages.forEach(function(n, i) {
				t.zwImage.name == n.name && e.fingImages.splice(i, 1, t.zwImage)
			}),
			e.finger = t,
			n.curEffectJson = e.finger,
			c = new r(e.finger, s, s.width(), s.height()),
			c.init(),
			c.$line.show().css({
				animation: "move 2s ease infinite"
			})
		}
		var a = t.core.EditPageEffectMap,
		r = a.finger,
		s = $("#finger"),
		c = null;
		e.onBackImageChange = function() {
			return "自定义" == e.finger.bgImage.name ? void i.getImage().then(function(t) {
				var n = {
					name: "自定义",
					value: 0,
					path: t.path
				};
				e.finger.bgImage = n,
				c.setBackImage(e.finger.bgImage.path)
			}) : void c.setBackImage(e.finger.bgImage.path)
		},
		e.onFingerImgChange = function() {
			c.setFingerImage(e.finger.zwImage.path)
		},
		o()
	}
	n.$inject = ["$scope", "EqxCore", "EffectService", "imageModalFactory"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.fallingObject", []).directive("eqdEffectFall", n(728)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(729);
	var o = n(731),
	a = n(732);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=fallingObject-effect><div class="effect-preview falling-object" id=fallingObject></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><lable class=form-label>环境图片：</lable><div class=form-input><eqx-select class="select-sm border-width select-contain" change=onCoverImageChange() model=falling.src><eqx-select-option value=fallingObj ng-repeat="fallingObj in fallings track by $index">{{fallingObj.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" style=margin-top:10px><lable class=form-label>环境氛围：</lable><div class=form-input><div style=line-height:24px;font-size:12px><span style=margin-right:39px>弱</span><span style=margin-right:37px>中</span><span>强</span></div><div style=width:100px ui-slider min=1 max=3 ng-change=onDensityChange() ng-model=falling.density></div></div></div></form></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			e.fallings = a.getFallingImages();
			var t = n.getCurEffectJson();
			t && "fallingObject" == t.name || (t = {
				name: "fallingObject",
				src: e.fallings[2],
				density: 2
			}),
			e.fallings.forEach(function(n, i) {
				t.src.name == n.name && e.fallings.splice(i, 1, t.src)
			}),
			e.falling = t,
			n.curEffectJson = e.falling,
			s = new a(e.falling, r, r.width(), r.height()),
			s.init().then(function() {
				s.canvas.style.position = "",
				s.startEffect()
			})
		}
		var o = t.core.EditPageEffectMap,
		a = o.fallingObject,
		r = $("#fallingObject"),
		s = null;
		e.onCoverImageChange = function() {
			s.setImage(e.falling.src.path)
		},
		e.onDensityChange = function() {
			s.setDensity(e.falling.density)
		},
		e.$on("$destroy",
		function() {
			s.stopEffect()
		}),
		i()
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.snowFly", []).directive("eqdEffectSnow", n(734)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			template: o,
			scope: {},
			controller: a
		}
	}
	n(735);
	var o = n(737),
	a = n(738);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=snowFly-effect><div class="effect-preview snow-fly" id=snowFly></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = t.core.PageEffectMap,
		o = i.snowFly,
		a = {
			name: "snowFly"
		};
		n.curEffectJson = a;
		var r = $("#snowFly"),
		s = new o(a, r, r.width(), r.height());
		s.init().then(function() {
			s.canvas.style.position = "",
			s.startEffect()
		}),
		e.$on("$destroy",
		function() {
			s.stopEffect()
		})
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.fireWorks", []).directive("eqdEffectFireworks", n(740)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(741);
	var o = n(743),
	a = n(744);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=fireWorks-effect><div class="effect-preview fireworks" id=fireworks></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = t.core.PageEffectMap,
		o = i.fireWorks,
		a = {
			name: "fireWorks"
		};
		n.curEffectJson = a;
		var r = $("#fireworks"),
		s = new o(a, r, r.width(), r.height());
		s.init(),
		s.canvas.style.position = "",
		s.startEffect(),
		e.$on("$destroy",
		function() {
			s.stopEffect()
		})
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(746),
	o = angular.module("pageEffect.none", []).directive("eqdEffectNone", i);
	e.exports = o.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !0,
			template: o,
			controller: ["EffectService",
			function(e) {
				"ngInject";
				e.curEffectJson = null
			}]
		}
	}
	n(747);
	var o = n(748);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=none-effect><div>点击确定，即可去除特效。</div></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.gravity", []).directive("eqdEffectGravity", n(750)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(751);
	var o = n(752),
	a = n(753);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=gravity-effect><div class=gravity-preview><div class=effect-preview><img ng-src={{previewImg}} alt=图片></div><p>重力感应效果请在手机上查看</p></div><div class=gravity-setting><h6 class=gravity-setting-title>选择重力感应图片：</h6><ul class=gravity-setting-list><li class=gravity-setting-img ng-repeat="img in imgList" ng-click=selectImg(img)><img ng-src="{{file + img.tmbPath}}" alt=img.name /> <span class="gravity-select-img eqf-yes" ng-if="img.id == gravityJson.properties.imgId"></span></li><li class="gravity-setting-img gravity-setting-img-user" ng-click=userImg()><span class=gravity-setting-add>+</span> <span class=gravity-setting-select>自定义</span></li></ul></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r) {
		"ngInject";
		function s(t) {
			var n = t.properties,
			i = {
				type: t.type,
				title: "重力感应裁切",
				desc: "重力感应图将按照要求的比例进行裁切",
				showItems: !1,
				imgSrc: n.imgSrc,
				cropItems: [{
					ratio: 1280 / 1214,
					desc: "重力图比例"
				}]
			};
			return o.openCropModal(t, i).then(function(i) {
				var o = i.image;
				if (o.src && o.originSrc) {
					var a = {
						cropSize: o.cropSize,
						imgSrc: o.src,
						originSrc: o.originSrc
					};
					Object.assign(n, a)
				}
				return n.originSrc && !n.imgSrc && (n.imgSrc = n.originSrc),
				e.previewImg = l + t.properties.imgSrc,
				t
			})["catch"](function() {
				e.previewImg = l + t.properties.imgSrc
			})
		}
		function c(e, t) {
			var n = (e - t) / 2;
			return n
		}
		var l = e.file = i.FILE,
		p = 640,
		d = 607,
		u = {},
		g = r.getCurrentPage().eqxGravity;
		g && g.compJson && (u = g.compJson);
		var m = e.gravityJson = t.curEffectJson = Object.assign({
			css: {
				width: p,
				height: d,
				top: c(486, d),
				left: c(320, p)
			},
			properties: {
				bgColor: null,
				imgSrc: null
			},
			type: "q",
			name: "gravity"
		},
		u),
		f = {
			attrGroupId: 1,
			category: 4035,
			pageNo: 1,
			pageSize: 7
		};
		a.getGravityImg(f).then(function(t) {
			e.imgList = t,
			!m.id && t.length ? e.selectImg(e.imgList[0]) : e.previewImg = l + m.properties.imgSrc
		}),
		e.selectImg = function(t) {
			m.properties.imgSrc = t.path,
			m.properties.originSrc = t.path,
			m.properties.imgId = t.id,
			e.previewImg = l + t.path
		},
		e.userImg = function() {
			n.getBg().then(function(e) {
				m.properties.imgSrc = e.path,
				m.properties.imgId = e.id,
				s(m)
			})
		}
	}
	n.$inject = ["$scope", "EffectService", "imageModalFactory", "HOST", "imageCropFactory", "gravityService", "sceneService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect-gradient", []).directive("eqdEffectGradient", n(755)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(756);
	var o = n(758),
	a = n(759);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class="gradient-effect clearfix"><div id=gradient-wrapper><div id=gradient-bg></div></div><form class="form-contain gradient-set"><div class="form-list clearfix"><label class=form-label>渐变颜色：</label><div class=form-input><eqd-input-color select-color=gradient.backgroundColor direction=bottom theme=flo_lef notify=grid x=-1 y=2 w=37 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=input_kuang style=width:135px ng-model=gradient.backgroundColor ng-change=onChangeBgColor() type=text /></div></div><div class="form-list clearfix"><label class=form-label>持续时间：</label><div class="form-input clearfix"><div class=slider ui-slider-t ng-model=gradient.duration fixed=1 min=1 max=10></div><input limit-input class="input_kuang short" ng-change=onChangeDuration() type=number step=1 min=1 max=10 limit-input ng-model=gradient.duration /> <span style=display:inline-block;vertical-align:top;line-height:25px>秒</span></div></div><div class="form-list clearfix"><label class=form-label>渐变方向：</label><div class=form-input><eqx-select class="select-great border-width select-contain" change=onChangeDirection() model=gradient.direction.type><eqx-select-option value=dir.type ng-repeat="dir in directions track by $index">{{dir.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>开启形式：</label><div class=form-input><eqx-select class="select-great border-width select-contain" change=onChangeOpen() model=gradient.openStyle.type><eqx-select-option value=style.type ng-repeat="style in openStyles track by $index">{{style.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" ng-show="gradient.openStyle.type == 1"><label class=form-label>提示文字：</label><div class=form-input><input class=tips type=text placeholder=按下开启 ng-model=gradient.openStyle.tip ng-change=onChangeTip()> <span class=tip-num>{{gradient.openStyle.tip | validCharacterNum}}/20</span></div></div></form></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			var t = n.getCurEffectJson();
			e.directions = [{
				type: 0,
				name: "从左到右"
			},
			{
				type: 1,
				name: "从右到左"
			},
			{
				type: 2,
				name: "从上到下"
			},
			{
				type: 3,
				name: "从下到上"
			}],
			e.openStyles = [{
				type: 0,
				name: "自动开启"
			},
			{
				type: 1,
				name: "按下开启"
			}],
			t && "gradient" == t.name || (t = {
				name: "gradient",
				direction: e.directions[0],
				openStyle: e.openStyles[0],
				backgroundColor: "rgba(116,173,175,1)",
				duration: 5
			});
			var i = e.gradient = t,
			a = $("#gradient-wrapper"),
			r = new s(i, a, a.width(), a.height());
			n.curEffectJson = e.gradient,
			r.init(),
			e.$watch("gradient.backgroundColor",
			function(e, t) {
				e && e !== t && r.changeBgColor(i.backgroundColor)
			}),
			e.$watch("gradient.duration",
			function(e, t) {
				e && e !== t && r.changeDuration(i.duration)
			}),
			e.onChangeDirection = function() {
				r.changeDirection(i.direction)
			},
			e.onChangeOpen = function() {
				1 == t.openStyle.type ? t.openStyle.tip = t.openStyle.tip || "按下开启": t.openStyle.tip = "",
				r.changeOpenStyle(i.openStyle)
			},
			e.onChangeTip = function() {
				o(),
				r.changeTip(i.openStyle.tip)
			}
		}
		function o() {
			var t = e.gradient.openStyle.tip;
			t && (e.gradient.openStyle.tip = a(t, 10))
		}
		function a(e) {
			var t = arguments.length <= 1 || void 0 === arguments[1] ? 10 : arguments[1],
			n = 2 * t,
			i = e.replace(/\n|\r/g, " ");
			i = i.replace(/[^\x00-\xff]/g, "xx");
			var o = i.substring(0, n).replace(/xx/g, "中").length;
			return i = e.substring(0, o)
		}
		var r = t.core.EditPageEffectMap,
		s = r.gradient;
		i()
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var i = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	o = function() {
		function e() {
			"ngInject";
			n(this, e),
			this.curEffectJson = null
		}
		return i(e, [{
			key: "getCurEffectJson",
			value: function() {
				return this.curEffectJson
			}
		},
		{
			key: "setCurEffectJson",
			value: function(e) {
				this.curEffectJson = e
			}
		}]),
		e
	} ();
	e.exports = o
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain effect-console",
					template: n(764),
					resolve: {
						effectJson: function() {
							return t
						}
					},
					controller: ["$scope", "EffectService", "effectJson", "userService",
					function(e, t, n, i) {
						function o() {
							if (n) for (var i = 0; i < r.length; i++) n.name === r[i].type && (e.setTab(r[i].type), t.setCurEffectJson(n));
							else e.setTab("scratch"),
							t.setCurEffectJson(null)
						}
						var a = i.getCurrentUser();
						if ("4" == a.type || "99" == a.type) var r = e.tabs = [{
							name: "涂抹",
							type: "scratch"
						},
						{
							name: "指纹",
							type: "finger"
						},
						{
							name: "环境",
							type: "fallingObject"
						},
						{
							name: "飘雪",
							type: "snowFly"
						},
						{
							name: "烟花",
							type: "fireWorks"
						},
						{
							name: "渐变",
							type: "gradient"
						},
						{
							name: "重力感应",
							type: "gravity"
						},
						{
							name: "无",
							type: "none"
						}];
						else r = e.tabs = [{
							name: "涂抹",
							type: "scratch"
						},
						{
							name: "指纹",
							type: "finger"
						},
						{
							name: "环境",
							type: "fallingObject"
						},
						{
							name: "飘雪",
							type: "snowFly"
						},
						{
							name: "烟花",
							type: "fireWorks"
						},
						{
							name: "无",
							type: "none"
						}];
						var s = e.vm = {
							tabType: "scratch"
						};
						e.setTab = function(e) {
							e !== s.tabType && (s.tabType = e)
						},
						e.showEffect = function(e) {
							return s.tabType == e
						},
						e.confirm = function() {
							var n = t.getCurEffectJson();
							e.$close(n)
						},
						e.cancel = function() {
							e.$dismiss("cancel")
						},
						o()
					}]
				})
			}
		}
	}
	i.$inject = ["modalService"],
	n(762),
	n(763),
	e.exports = i
},
function(e, t) {},
function(e, t) {},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>页面特效 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1939&extra="><span class=eqf-exclaquestion-sign></span> </a><span class=action>在设置界面可看到效果</span></h4></div><div class=dialog-contain><div class="form_console dialog-content"><div class=modify_area><div class=effect-list><ul><li ng-class="{\'select-effect\': tab.type == vm.tabType}" ng-repeat="tab in tabs" ng-click=setTab(tab.type)>{{tab.name}}</li></ul></div><div class=effect-detail><eqd-effect-scratch ng-if="showEffect(\'scratch\')"></eqd-effect-scratch><eqd-effect-finger ng-if="showEffect(\'finger\')"></eqd-effect-finger><eqd-effect-fall ng-if="showEffect(\'fallingObject\')"></eqd-effect-fall><eqd-effect-snow ng-if="showEffect(\'snowFly\')"></eqd-effect-snow><eqd-effect-fireworks ng-if="showEffect(\'fireWorks\')"></eqd-effect-fireworks><eqd-effect-gradient ng-if="showEffect(\'gradient\')"></eqd-effect-gradient><eqd-effect-gravity ng-if="showEffect(\'gravity\')"></eqd-effect-gravity><eqd-effect-none ng-if="showEffect(\'none\')"></eqd-effect-none></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "EA",
			scope: {},
			link: function(e, t) {
				t.on("click.pageEffect",
				function() {
					return e.$apply(function() {
						return e.changeEffect()
					})
				}),
				e.$on("pageEffect.edit",
				function() {
					return e.changeEffect()
				}),
				e.$on("pageEffect.delete",
				function() {
					return e.removeEffect()
				})
			},
			controller: ["$scope", "effectModal", "sceneService",
			function(e, t, n) {
				"ngInject";
				e.changeEffect = function() {
					var e = n.getCurrentPage(),
					i = e.pageJson.properties.effect;
					t.open(i).then(function(t) {
						if (t && "q" == t.type) {
							t = e.addGravityJson(t);
							var n = e.initEqxGravityByJson(t);
							n && (e.renderGravity(n), e.reEffectJson({
								name: "gravity"
							}))
						} else e.reEffectJson(t),
						e.deleteGravity()
					})
				},
				e.removeEffect = function() {
					var e = n.getCurrentPage();
					e.deleteGravity(),
					e.reEffectJson(null)
				}
			}]
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.loading", []).factory("psdLoadingService", n(767)).directive("eqxLoading", n(768)).directive("eqxPsdLoading", n(771)).name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			s.total = e
		}
		function t() {
			return s.total
		}
		function n(e) {
			s.current = e
		}
		function i() {
			return s.current
		}
		function o(e) {
			s.showPsdLoading = e
		}
		function a() {
			return s.showPsdLoading
		}
		function r() {
			return s
		}
		var s = {
			total: 0,
			current: 0,
			showPsdLoading: !1
		};
		return {
			setTotal: e,
			getTotal: t,
			setCurrent: n,
			getCurrent: i,
			setShowLoading: o,
			getShowLoading: a,
			getLoadingInfo: r
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(770)
		}
	}
	n(769),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div id=loading><div class=loading-con><img src=\"data:image/svg+xml,%3C!-- By Sam Herbert %28@sherb%29, for everyone. More @ http://goo.gl/7AJzbL --%3E%3Csvg width='44' height='44' viewBox='0 0 44 44' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='0s' dur='1.8s' values='1; 20' calcMode='spline' keyTimes='0; 1' keySplines='0.165, 0.84, 0.44, 1' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='0s' dur='1.8s' values='1; 0' calcMode='spline' keyTimes='0; 1' keySplines='0.3, 0.61, 0.355, 1' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='-0.9s' dur='1.8s' values='1; 20' calcMode='spline' keyTimes='0; 1' keySplines='0.165, 0.84, 0.44, 1' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='-0.9s' dur='1.8s' values='1; 0' calcMode='spline' keyTimes='0; 1' keySplines='0.3, 0.61, 0.355, 1' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\"><p>加载中，请稍后</p></div><div class=loading-bg></div></div>"
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			restrict: "E",
			template: n(772),
			scope: {},
			link: function(t) {
				t.loadInfo = e.getLoadingInfo()
			}
		}
	}
	i.$inject = ["psdLoadingService"],
	n(769),
	e.exports = i
},
function(e, t, n) {
	e.exports = "<div id=psdLoading ng-show=loadInfo.showPsdLoading><div class=loading-con><img src=" + n(773) + "><div id=psdUploadStatus>{{loadInfo.current}} / {{loadInfo.total}}</div><p>上传中，请稍后</p></div><div class=loading-bg></div></div>"
},
function(e, t, n) {
	e.exports = n.p + "images/puff-27e2ef.svg"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.setting", [n(775), n(789), n(793), n(798)]).factory("sceneSettingService", n(804)).directive("eqxSceneSettingTrigger", n(805)).directive("eqxSceneSetting", n(806)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("sceneSetting.form", []).factory("shareModalFactory", n(776)).directive("eqdAdvancedSetting", n(779)).directive("eqdCommonSetting", n(783)).directive("eqdShareSetting", n(786)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console version_frame",
					template: o,
					controller: a,
					resolve: {
						modalInfo: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"];
	var o = n(777),
	a = n(778);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>设置{{title}}显示内容</h4></div><div class="dialog-contain counter"><div class=weChatShare><div class=subContent><div><div class=radio-square ng-class="{checked:style.type===\'myself\'}"><em></em> <input class=span2 name=link ng-model=style.type type=radio value=myself></div><span>我是XX，</span></div><input placeholder=这是我用易企秀制作的场景，你也来试试吧。 ng-model=style.myselfContent ng-disabled="style.type !==\'myself\'" check-count=50> <span class=optionSpan>{{(style.myselfContent ? countCharacters(style.myselfContent.trim()):0)}}/50</span></div><div class=subContent><div><div class=radio-square ng-class="{checked:style.type===\'position\'}"><em></em> <input class=span2 name=link ng-model=style.type type=radio value=position></div><span>我是第X位</span></div><input placeholder=分享的人，你也一起来吧！ ng-disabled="style.type !==\'position\'" ng-model=style.positionContent check-count=50> <span class=optionSpan>{{(style.positionContent?countCharacters(style.positionContent.trim()):0)}}/50</span></div><div class=subContent><div><div class=radio-square ng-class="{checked:style.type===\'selfAndPosition\'}"><em></em> <input class=span2 name=link ng-model=style.type type=radio value=selfAndPosition></div><span>我是XX, 我是第X位</span></div><input placeholder=分享的人，你也一起来吧！ ng-disabled="style.type !==\'selfAndPosition\'" ng-model=style.selfAndPositionContent check-count=50> <span class=optionSpan>{{(style.selfAndPositionContent?countCharacters(style.selfAndPositionContent.trim()):0)}}/50</span></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e = angular.merge(e, t),
		e.confirm = function() {
			var t = e.style.type;
			e.$close({
				type: t,
				description: e.style[t + "Content"]
			})
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.countCharacters = function(e) {
			var t = 0;
			if (!e) return 0;
			for (var n = 0; n < e.length; n++) {
				var i = e.charCodeAt(n);
				i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++:t += 2
			}
			return t
		}
	}
	n.$inject = ["$scope", "modalInfo"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(780),
			scope: {
				displayWx: "=",
				displayLoading: "=",
				eqxScene: "=",
				yqc: "="
			},
			controller: n(782)
		}
	}
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class="basic-setting clearfix"><h6 class="des mt20">加载设置</h6><div class="setting-line mr20" style="border-bottom:1px solid #ccd5db;height:56px;margin-top:20px"><div class="form-col2 border" ng-class="{checked: !loadingLogo,uncheckedbg: loadingLogo}"><div class=checkbox-square ng-click="changeLogo(); setLoadingLogoPrice()" ng-class="{checked: loadingLogo}"><em class=eqf-yes2></em> <input type=checkbox></div><em>自定义加载logo</em></div><div class="setting-logo border" ng-if=loadingLogo ng-click=uploadLoadingLogo()><div class=load-logo-contain><img ng-if=!meta.loadingLogo src=' + n(781) + '> <img ng-if=meta.loadingLogo ng-src="{{FILE + meta.loadingLogo}}"></div><span class=des>设置加载logo</span></div><div class=logo-tip ng-if=loadingLogo style=position:absolute;right:180px>118*118px</div><div class=logo-tip style=position:absolute;right:80px><span ng-show="memberObj.loadingLogo < 1">需<span style=color:#ff5448>{{logoPrice}}</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins> </a></span><span ng-show="memberObj.loadingLogo >= 1">免费<span style=color:#ff5448>{{memberObj.loadingLogo}}</span>次</span></div></div><h6 class="des mt20">尾页与底标 <a ng-if="user.type == 1" ng-click=freeCheck() style=padding-left:10px;color:#a3afb7><ins>免费</ins></a></h6><table class=bottom-table><tr ng-click=switchToAdState(1);setPagePrice(0);firstLastPageBottomLogo(); ng-class="{uncheckedbg:(meta.property.eqAdType == 1)}"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType==1)}"><em></em></div><em>技术支持尾页</em></td><td class=price>免费</td></tr><tr ng-click="switchToAdState(2); setPagePrice(user.type!=1?0:15)" ng-class="{uncheckedbg:(meta.property.eqAdType == 2)}" ng-show="user.type!=5 && user.type!=51"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType == 2)}"><em></em></div><em>技术支持底标</em></td><td class=price ng-if="user.type==1">需<span style=color:#ff5448>15</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.type!=1">免费</td></tr><tr ng-click="switchToAdState(3,{id: bottomPageTpls[0].id, name: bottomPageTpls[0].name, url: bottomPageTpls[0].url});setPagePrice(user.type!=1?0:30);firstLastPageBottomLogo()" ng-class="{uncheckedbg:(meta.property.eqAdType == 3)}"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType == 3)}"><em></em></div><em>品牌联合底标</em></td><td class=price ng-if="user.type == 1">需<span style=color:#ff5448>30</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.type != 1">免费</td></tr><tr ng-click=switchToAdState(0);setPagePrice(memberPrice) ng-class="{uncheckedbg:(meta.property.eqAdType==0)}" ng-show="user.type!=5 && user.type!=51"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType == 0)}"><em></em></div><em>无尾页和底标</em></td><td class=price ng-show="memberObj.tailPage < 1">需<span style=color:#ff5448>{{memberPrice}}</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-show="memberObj.tailPage >= 1">免费<span style=color:#ff5448>{{memberObj.tailPage}}</span>次</td></tr></table><div class=setting-line ng-show="meta.property.eqAdType == 3"><div class=setting-logo style=margin-left:0><input type=text class=form-control ng-model=meta.property.bottomLabel.name ng-model-options="{debounce: 1000}" ng-change="switchToAdState(3, {name:meta.property.bottomLabel.name})" id=changeMessage placeholder=名称 /></div><div class=setting-logo style=width:450px><input type=text class=form-control ng-model=meta.property.bottomLabel.url ng-model-options="{debounce: 1000}" ng-change="switchToAdState(3, {url:meta.property.bottomLabel.url})" id=linkAddress placeholder=http://eqxiu.com /></div></div><div class=last-page-contain ng-if=showTechSupportPages()><div eqd-scroll style=height:100% disable-mouse=true prevent-exception=true><ul><li class=last-cover-img style="text-align:center;border-radius:4px;border:1px solid #ccd5db" ng-click="switchToAdState(1, {id:null})"><span class="lp-list default-last-page" style=line-height:152px ng-class="{checked: !meta.property.lastPageId}">默认</span><div class=checkbox-square ng-class={checked:!meta.property.lastPageId}><em class=eqf-yes2></em></div></li><li class=last-cover-img ng-repeat="pageTpl in pageTpls" ng-click="switchToAdState(1, {id:pageTpl.id})"><img ng-src="{{FILE + pageTpl.properties.thumbSrc}}" src=' + n(781) + ' load-err><div class=checkbox-square ng-class="{checked:meta.property.lastPageId == pageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div><div class=last-page-contain ng-if="meta.property.eqAdType == 3"><div eqd-scroll style=height:100%><ul><li ng-repeat="bottomPageTpl in bottomPageTpls" ng-click="switchToAdState(3, {id:bottomPageTpl.id})"><img src=' + n(781) + '> <img class=bottom-img ng-src="{{FILE + bottomPageTpl.properties.thumbSrc}}"/><div class=checkbox-square ng-class="{checked: meta.property.eqAdType == 3 && meta.property.bottomLabel.id == bottomPageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div></div>'
},
function(e, t, n) {
	e.exports = n.p + "images/pic-80bac5.svg"
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c) {
		"ngInject";
		e.FILE = n.FILE;
		var l = e.eqxScene,
		p = e.meta = l.sceneJson.meta,
		d = p.loadingLogo || p.property.loadingLogo;
		e.loadingLogo = p.loadingLogo;
		var u = p.property.adSpend || 0,
		g = 0,
		m = 0,
		f = i.lastPageInfo,
		h = e.user = i.user,
		v = null;
		e.buyXd = i.buyXd,
		e.logoPrice = 100,
		e.memberPrice = 100,
		21 === h.type && h.extPermi.indexOf(",1401,") >= 0 || (e.sceneBuyXd = !0),
		i.pageTpls().then(function(t) {
			t.data.list && t.data.list.length > 0 ? e.pageTpls = t.data.list: e.pageTpls = []
		}),
		i.bottomPageTpls().then(function(t) {
			t.data.list && t.data.list.length > 0 ? e.bottomPageTpls = t.data.list: e.bottomPageTpls = []
		}).then(function() { ! e.meta.property.bottomLabel && s.permission("corandingBottomLogo") && r.getCompanyInfo().then(function(e) {
				v = e.data.obj
			})
		}).then(function() {
			return r.getUserMemberDetail(h.id)
		}).then(function(t) {
			e.memberObj = t.data.obj,
			e.memberObj.loadingLogo && (e.memberObj.loadingLogo = parseFloat(e.memberObj.loadingLogo)),
			e.memberObj.tailPage && (e.memberObj.tailPage = parseFloat(e.memberObj.tailPage));
			var n = e.memberObj.loadingLogo,
			i = e.memberObj.tailPage;
			n ? e.logoPrice = /^\d+$/.test(n) ? 0 : e.logoPrice * n: e.logoPrice = 1 * e.logoPrice,
			i ? e.memberPrice = /^\d+$/.test(i) ? 0 : e.memberPrice * i: e.memberPrice = 1 * e.memberPrice,
			s.permission("corandingBottomLogo") && c.sceneSetting.unSLPBL && (e.meta.property.bottomLabel || (e.meta.property.bottomLabel = {},
			e.meta.property.bottomLabel.name = v.name, e.meta.property.bottomLabel.url = v.website), e.meta.property.bottomLabel && e.meta.property.bottomLabel.id ? e.switchToAdState(3, {
				id: e.meta.property.bottomLabel.id,
				name: e.meta.property.bottomLabel.name,
				url: e.meta.property.bottomLabel.url
			}) : e.switchToAdState(3, {
				id: e.bottomPageTpls[0].id,
				name: e.bottomPageTpls[0].name,
				url: e.bottomPageTpls[0].url
			})),
			c.sceneSetting.flagEqAdType && (0 != p.property.eqAdType && (e.switchToAdState(0), e.setPagePrice(e.memberPrice)), c.sceneSetting.flagEqAdType = !1)
		}),
		e.changeLogo = function() {
			e.freeCheck() && (e.loadingLogo = !e.loadingLogo, e.displayLoading = e.loadingLogo, e.loadingLogo || delete p.loadingLogo)
		},
		e.freeCheck = function() {
			return ! s.permission("loadingLogo") || (o.openConfirmDialog({
				msg: "企业账号功能，是否免费升级？",
				confirmName: "立即升级",
				cancelName: "我知道了"
			}).then(function() {
				window.open(n.HOST + "site/privilege")
			}), !1)
		},
		e.uploadLoadingLogo = function() {
			t.getImage().then(function(t) {
				p.loadingLogo = t.path,
				e.displayLoading || (e.displayLoading = !0)
			})
		},
		e.switchToAdState = function(t, n) {
			return 1 != t && p.property.activityPageId ? (o.openMsgDialog({
				msg: "该场景已参加活动, 不可以清除易企秀尾页。"
			}), !1) : 3 == t && n.name && n.name.length > 16 ? (o.openMsgDialog({
				msg: "品牌联合底标名称不能超过16个字符"
			}), !1) : (e.displayLoading && (e.displayLoading = !1), void((p.property.eqAdType != t || n) && (f[p.property.eqAdType].dele(l), p.property.eqAdType = t, f[p.property.eqAdType].add(l, n).then(function() {
				if (l.pageScroll.currentPage.pageJson.num != l.sceneJson.list.length) l.pageScroll.goToLastPage();
				else {
					var e = l.eqxPageList.slice( - 1)[0];
					l.pageScroll.currentPage = e,
					e.active().then(function() {
						return e.deactive().show()
					})
				}
			}))))
		},
		e.showTechSupportPages = function() {
			return 1 == p.property.eqAdType && !e.yqc.isAd
		},
		e.firstLastPageBottomLogo = function() {
			c.sceneSetting.unSLPBL = !1
		},
		e.setPagePrice = function(e) {
			m = e - u,
			m = m > 0 ? m: 0,
			i.setTheDelta(m + g)
		},
		e.setLoadingLogoPrice = function() {
			d || (g = e.loadingLogo ? e.logoPrice: 0, i.setTheDelta(m + g))
		}
	}
	n.$inject = ["$scope", "imageModalFactory", "HOST", "sceneSettingService", "modalService", "sceneAPI", "userAPI", "authorityService", "flagService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(784),
			scope: {
				displayWx: "=",
				eqxScene: "="
			},
			controller: n(785)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="basic-setting clearfix"><div class="content clearfix"><div class="basic-info clearfix"><div class=left><div class=cover-img><a ng-click=changeCover();><img ng-src="{{FILE + meta.cover}}"/> <em>更换封面</em></a></div></div><div class=right><div class="setting-group setting-name"><em style=margin-bottom:5px>标题</em><div class=setting-value><input name=name type=text class="form-control name" ng-class={redborder:(!meta.name)} id=name placeholder=场景名称 eqx-str ng-change=maxName() ng-model=meta.name ng-focus=showWx() ng-blur=hideWx() stop-propagation> <span class=input-tip>{{meta.name | validCharacterNum}}/48</span></div></div><div class="setting-group setting-description"><em style=line-height:48px>描述</em><div class=setting-value><textarea style=font-size:12px placeholder=我用易企秀做了一个超酷炫的H5，快来看看吧。 ng-model=meta.description class="description form-control" ng-change=maxDescription() rows=2 id=description name=description ng-focus=showWx() ng-blur=hideWx() stop-propagation>\n                            </textarea><span class=text-tip>{{meta.description | validCharacterNum}}/60</span></div></div></div></div><div class="setting-group setting-flip" ng-click=hideWx()><h6 class="des mt20">场景类型</h6><div class=setting-line><div class="scene-type-contain select-up-show border"><eqx-select class="select-great select-contain" change=onSceneTypeChange() model=meta.type><eqx-select-option value=type.value ng-repeat="type in SCENE_TYPES">{{type.name}}</eqx-select-option></eqx-select></div></div><h6 class="des mt20">翻页方式</h6><div class=setting-line ng-click=hideWx()><div class="scene-type-contain select-up-show border"><eqx-select class="select-great select-contain" change=onPageModeChange() model=meta.pageMode><eqx-select-option value=pageMode.type ng-repeat="pageMode in PAGE_MODES">{{pageMode.name}}</eqx-select-option></eqx-select></div><div class="music-cycle border" ng-class="{checkedbg: ! property.triggerLoop}"><div class=checkbox-square ng-class="{checked: property.triggerLoop}"><em class=eqf-yes2></em> <input type=checkbox id=triggerLoop ng-change=onLoopChange() ng-model=property.triggerLoop name=iCheck /></div><label for=triggerLoop>循环播放</label></div><div class="music-cycle border" ng-class="{checkedbg: !property.autoFlip}"><div class=checkbox-square ng-class="{checked: property.autoFlip}"><em class=eqf-yes2></em> <input type=checkbox ng-change=onAutoFlipChange() ng-model=property.autoFlip></div><em>自动播放</em></div><div class=flip-num style=width:120px ng-if=!!property.autoFlip><input type=number ng-change=onAutoFlipTimeChange() class=form-control limit-input min=1 step=0.1 max=60 ng-model=property.autoFlipTime stop-propagation/> <span class=speed>秒</span></div></div><div class=setting-line ng-show=isHandFlip><div class="music-cycle border" style=margin-left:0;width:178px ng-class="{checkedbg: !property.forbidHandFlip}"><div class=checkbox-square ng-class="{checked: property.forbidHandFlip}"><em class=eqf-yes2></em> <input type=checkbox ng-change=onHandFlipChange() ng-model=property.forbidHandFlip name=iCheck></div><em>禁止滑动进入下一页</em></div></div><div><h6 class=des style=float:left>场景音乐</h6><h6 class="des mt20" style=margin-left:200px>场景页码</h6></div><div class=setting-line style=margin-bottom:50px><div class=scene-music style=position:relative><span class="form-control bg-music ellipsis" style=padding-top:9px ng-click=changeBGM()>{{(!!meta.bgAudio) ? (meta.bgAudio.name ? meta.bgAudio.name : (\'已添加\')) : (\'场景音乐\')}} </span><span class="eqf-top-music music-icon" ng-click=changeBGM()></span></div><div class="music-cycle border" ng-class="{checkedbg: !property.slideNumber,uncheckedbg:property.slideNumber}"><div class=checkbox-square ng-class="{checked: property.slideNumber}"><em class=eqf-yes2></em> <input type=checkbox ng-change=toggleProgressBar() ng-model=property.slideNumber></div><em>显示</em></div></div></div></div></div>';
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s) {
		"ngInject";
		function c(e) {
			var t = arguments.length <= 1 || void 0 === arguments[1] ? 24 : arguments[1],
			n = 2 * t,
			i = e.replace(/\n|\r/g, " ");
			i = i.replace(/[^\x00-\xff]/g, "xx");
			var o = i.substring(0, n).replace(/xx/g, "中").length;
			return i = e.substring(0, o)
		}
		e.FILE = s.FILE;
		var l = e.meta = e.eqxScene.sceneJson.meta,
		p = e.property = l.property,
		d = e.eqxScene;
		l.type = l.type || 101,
		e.SCENE_TYPES = a;
		var u = o.permission("pageScroll");
		e.PAGE_MODES = r,
		u && (e.PAGE_MODES = e.PAGE_MODES.filter(function(e) {
			return [11, 12].indexOf(e.type) === -1
		})),
		e.isHandFlip = i.isPassOrPage(),
		e.maxDescription = function() {
			l.description && (l.description = c(l.description, 30))
		},
		e.maxName = function() {
			l.name && (l.name = c(l.name, 24))
		},
		e.changeCover = function() {
			e.showWx(),
			t.getSquareImage().then(function(e) {
				l.cover = e
			})
		},
		e.changeBGM = function() {
			var e = l.bgAudio,
			t = 2;
			n.open(e, t).then(function(e) {
				var t = e.name,
				n = e.path,
				i = e.id;
				i ? d.updateBgm({
					url: n,
					name: t,
					id: i
				}) : d.updateBgm(null)
			})
		},
		e.onSceneTypeChange = function() {
			e.hideWx()
		},
		e.onPageModeChange = function() {
			e.hideWx(),
			d.changePageMode(l.pageMode),
			d.pageScroll.setScrollMode(l.pageMode)
		},
		e.onLoopChange = function() {
			d.pageScroll.setLoop(p.triggerLoop)
		},
		e.onAutoFlipChange = function() {
			d.pageScroll.setAutoFlip( !! p.autoFlip),
			d.pageScroll.startAutoFlip()
		},
		e.onAutoFlipTimeChange = function() {
			d.pageScroll.setAutoFlipTime(p.autoFlipTime),
			d.pageScroll.startAutoFlip()
		},
		e.onHandFlipChange = function() {
			d.pageScroll.setHandleFlip(p.forbidHandFlip)
		},
		e.toggleProgressBar = function() {
			var e = d.progressBar;
			return p.slideNumber ? e.show() : void e.hide()
		},
		e.showWx = function() {
			e.displayWx = !0
		},
		e.hideWx = function() {
			e.displayWx = !1
		}
	}
	n.$inject = ["$scope", "imageModalFactory", "musicModal", "sceneSettingService", "authorityService", "SCENE_TYPES", "PAGE_MODES", "HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(787),
			scope: {
				sceneStatue: "=",
				displayWx: "=",
				eqxScene: "=",
				yqc: "="
			},
			controller: n(788)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="basic-setting clearfix"><div class="content clearfix"><h6 class="des mt20">场景访问状态</h6><div class="setting-group setting-flip"><div class=setting-line ng-show=!disableVisitStatus><div class="scene-type-contain border"><eqx-select class="select-great select-contain" change=changeSceneStatue() model=sceneStatue><eqx-select-option value=1>允许访问</eqx-select-option><eqx-select-option value=2>不允许访问</eqx-select-option><eqx-select-option value=3 ng-if="meta.applyTemplate!=2">加密访问</eqx-select-option></eqx-select></div><div class=flip-num ng-if="sceneStatue == 3"><input type=text maxlength=4 class="form-control password" id=accessCode placeholder=请设置4位数字的密码 ng-model=meta.accessCode maxlength=4 ng-disabled="meta.applyTemplate == \'1\' || meta.isShow == \'1\' || meta.promIds"></div></div><h6 ng-show=disableVisitStatus class="des mt20" style=color:#ff6e6e>当前场景无法设置访问状态</h6><h6 class="des mt20">微信分享时显示</h6><div class="setting-line mb20" style=height:100px;display:inline-block><div class=wechatShareShow><span class=title>标题显示内容</span> <a class="btn green" ng-click=addShareTitle() ng-show=!titleContent>添加</a> <input name=name type=text ng-model=titleContent ng-show=titleContent ng-disabled=true> <a class="btn blue" ng-click=addShareTitle() ng-show=titleContent>修改</a> <a class="btn out-red" ng-show=titleContent ng-click=clearTitleShare()>删除</a></div><div class=wechatShareShow><span class=title>描述显示内容</span> <a class="btn green" ng-click=addShareDescription() ng-show=!descContent>添加</a> <input name=name type=text ng-model=descContent ng-show=descContent ng-disabled=true> <a class="btn blue" ng-click=addShareDescription() ng-show=descContent>修改</a> <a class="btn out-red" ng-show=descContent ng-click=clearDescShare()>删除</a></div><div class=form-col2 style=width:200px;padding-top:0;padding-left:0><div class=checkbox-square ng-class="{checked: shareDes.avatar}"><em class=eqf-yes2></em> <input type=checkbox class=option ng-model=shareDes.avatar></div><em>将场景封面替换为微信头像</em></div></div><h6 class="des mt20">易企秀分享</h6><div class=setting-line ng-if="addAdType === \'common\'"><div class="form-col2 border hint--right hint--rounded" data-hint={{applyEarnMoneyTips}} big-data-event categorytwoid=12 categorytwo=设置 categorythree=分享设置 categorythreeid=2 actiontype=4 itemmaps=\'{"button": "{{dataStatisticsButton}}"}\' ng-click=earnMoney();dataStatistics()><div class=checkbox-square ng-class="{checked: yqc.isAd}"><em class=eqf-yes2></em> <input type=checkbox class=option ng-model=yqc.isAd ng-disabled=disableEarnMoney()></div><em>分享流量(加H5广告赚钱)</em></div><a class=logo-tip target=_blank href=http://h5.eqxiu.com/s/5QCEa1KQ style=text-decoration:underline;position:absolute;right:20px>了解详情</a></div><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{meta.publishTime?\'申请加入秀场\':\'发布后才能申请\'}}" ng-class="{checkedbg: meta.isShow!=1,uncheckedbg:meta.isShow==1}"><div class=checkbox-square ng-class="{checked: meta.isShow==1}"><em class=eqf-yes2></em> <input id=eqShowGround type=checkbox class=option ng-true-value=1 ng-false-value=0 ng-model=meta.isShow ng-disabled="sceneStatue==2 || sceneStatue==3 || !meta.publishTime || meta.status == -1 && meta.status == -2"></div><em>申请加入秀场</em></div><div class="scene-type-contain border ml20" ng-if="meta.isShow==1"><eqx-select class="select-great select-contain" model=meta.tagId><eqx-select-option value=null>选择类型</eqx-select-option><eqx-select-option value=sceneTag.id ng-if="sceneTag.bizType == meta.type" ng-repeat="sceneTag in sceneTags">{{sceneTag.name}}</eqx-select-option></eqx-select></div><a class=logo-tip target=_blank href={{HOST.host}}/site/show style=text-decoration:underline;position:absolute;right:20px>访问秀场</a></div><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{meta.publishTime ? applyTplTips:\'发布后才能申请\'}}" ng-class="{checkedbg: meta.applyTemplate==0,uncheckedbg:meta.applyTemplate==1}"><div class=checkbox-square ng-class="{checked: meta.applyTemplate==1 || meta.applyTemplate==2}"><em class=eqf-yes2></em> <input type=checkbox class=option checked=checked disabled=disabled ng-if="meta.applyTemplate == 2"/> <input id=eqTemplate type=checkbox class=option ng-true-value=1 ng-false-value=0 ng-model=meta.applyTemplate ng-if="meta.applyTemplate != 2 && meta.publishTime" ng-disabled="(sceneStatue==3 || sceneStatue==2 || meta.status == -1 && meta.status == -2)\n                                || isXB() || yqc.isAd || oldMeta.applyTemplate == 1 || oldMeta.applyTemplate == 2"> <input type=checkbox ng-disabled=true title="" ng-if=!meta.publishTime></div><em ng-hide=accessShareApplyPCTempEntrance>申请为电脑端样例</em> <em ng-hide=!accessShareApplyPCTempEntrance>申请为移动端样例</em></div><div class="scene-type-contain border ml20" ng-if="(meta.applyTemplate == 1 || meta.applyTemplate == 2) && meta.price != -1 && !accessShareApplyPCTempEntrance && !accessShareApplyPCTempNormal"><eqx-select class="select-great select-contain" model=meta.price><eqx-select-option value=null>设置样例价格</eqx-select-option><eqx-select-option value=price.value ng-repeat="price in tplPrices">{{price.name}}</eqx-select-option></eqx-select></div><div class="scene-type-contain border ml20" ng-if="(meta.applyTemplate == 1 || meta.applyTemplate == 2) && meta.price != -1 && accessShareApplyPCTempEntrance"><eqx-select class="select-great select-contain" model=meta.price><eqx-select-option value=null>设置样例价格</eqx-select-option><eqx-select-option value=price.value ng-repeat="price in tplAppPrices">{{price.name}}</eqx-select-option></eqx-select></div><span class=option-tips ng-switch=meta.applyTemplate><span ng-switch-default>未申请</span> <span class=eqf-clock-o ng-switch-when=1>申请中</span> <span class=eqf-fobden2 ng-switch-when=2>审核通过</span> <span class=eqf-glyphicon-ban ng-switch-when=-1>审核未通过</span> </span><a class=logo-tip target=_blank ng-hide=accessShareApplyPCTempEntrance href=http://sales.eqxiu.com/pcgf.html style=text-decoration:underline;position:absolute;right:20px ng-if=!shortcut>了解详情 </a><a class=logo-tip target=_blank ng-hide=!accessShareApplyPCTempEntrance href=http://sales.eqxiu.com/appgf.html style=text-decoration:underline;position:absolute;right:20px ng-if=!shortcut>了解详情 </a><a class=logo-tip target=_blank href=http://h5.eqxiu.com/s/iQKINH7y style=text-decoration:underline;position:absolute;right:20px ng-if=shortcut>快速审核通道</a></div><div class=setting-line ng-hide="accessShareApplyPCTempEntrance || accessShareApplyAppTempEntrance"><a class=logo-tip target=_blank ng-click=applyAppTemplate() style=text-decoration:underline;position:absolute;right:20px>申请移动端样例</a></div><div class=setting-line ng-if=visibleCompanyTpl()><div class="form-col2 border hint--right hint--rounded" data-hint={{applyCompanyTplTips}} ng-class="{checkedbg: meta.isTpl==0,uncheckedbg:meta.isTpl==3}"><div class=checkbox-square ng-class="{checked: meta.isTpl==3}"><em class=eqf-yes2></em> <input id=eqEnterpriseTemplate type=checkbox class=option ng-true-value=3 ng-false-value=0 ng-model=meta.isTpl ng-disabled=disableCompanyTpl()></div><em>设为企业样例</em></div></div><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{meta.property.eqAdType != 1 ? \'该场景已选择清除易企秀尾页，不可以参加活动；请复制该场景展示后，再次选择参与活动\' : \'参加活动\'}}" ng-class="{checkedbg: !activityStatus,uncheckedbg:activityStatus}"><div class=checkbox-square ng-class="{checked: activityStatus}"><em class=eqf-yes2></em> <input type=checkbox class=optiong ng-change=changeActivityStatus() ng-model=activityStatus ng-disabled="sceneStatue==2 || sceneStatue==3 || meta.status == -1 && meta.status == -2 || oldActivityStatus || meta.property.eqAdType != 1"></div><em>参加活动</em></div><div class="scene-type-contain border ml20" ng-if=activityStatus><eqx-select class="select-great select-contain" change=getActivityPageTpl(meta.promIds) model=meta.promIds><eqx-select-option value=null>选择活动</eqx-select-option><eqx-select-option value=activity.id ng-repeat="activity in activities">{{activity.title}}</eqx-select-option></eqx-select></div><a class=logo-tip style=position:absolute;right:150px ng-if="activityObj.promStatus == -1">审核未通过</a> <a class=logo-tip style=position:absolute;right:150px ng-if="activityObj.promStatus == 0">审核中</a> <a class=logo-tip style=position:absolute;right:150px ng-if="activityObj.promStatus == 1">审核通过</a> <a class=logo-tip style=text-decoration:underline;position:absolute;right:20px ng-href="{{meta.promIds ? HOST.HOST + \'site/show/active/\' + meta.promIds : HOST.HOST + \'site/show/active\'}}">查看详情</a></div><div class=last-page-contain ng-if=activityStatus><div eqd-scroll style=height:100%><ul><li class=last-cover-img ng-repeat="pageTpl in activityPageTpls" ng-click=chooseActivityPageTpl(pageTpl.id)><img class=lp-list ng-src="{{FILE + pageTpl.properties.thumbSrc}}"/><div class=checkbox-square ng-class="{checked: meta.property.activityPageId == pageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div></div><div ng-class={showin:showActivityTip} style=top:100px;left:250px class=showxiu ng-init="hideActivityTip = true;"><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showActivityTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>参加活动</h4></div><div class=modal-body><p style=line-height:30px>参加活动并保存场景后，不可取消或选择其他活动</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideActivityTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=closeActivityTip()>确定</a></div></div></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c, l, p, d) {
		"ngInject";
		function u() {
			h = e.eqxScene,
			v = e.meta = h.sceneJson.meta,
			e.oldMeta = angular.copy(v),
			v.accessCode ? (e.sceneStatue = 3, x = g()) : e.sceneStatue = v.status,
			e.sceneStatue !== -1 && e.sceneStatue !== -2 || (e.disableVisitStatus = !0),
			e.shareDes = v.property.shareDes = angular.merge({
				title: {
					type: null,
					description: null
				},
				description: {
					type: null,
					description: null
				},
				avatar: !1
			},
			v.property.shareDes),
			y = e.shareDes,
			b = {
				title: "",
				style: {
					type: "myself",
					myselfContent: "这是我用易企秀制作的场景，你也来试试吧。",
					positionContent: "分享的人，你也一起来吧！",
					selfAndPositionContent: "分享的人，你也一起来吧！"
				}
			},
			e.yqc.isAd && (e.applyTplTips = "您已勾选“分享流量”，请取消勾选此项，再申请为样例"),
			e.titleContent = m(y.title),
			e.descContent = m(y.description),
			a.setActivityStatus( !! v.promIds),
			e.activityStatus = a.getActivityStatus(),
			e.oldActivityStatus = e.activityStatus
		}
		function g() {
			var e = new EqxCore.Guess(v.cover, h.$ele);
			return e.requestSceneDataWithPassword = function(t) {
				v.accessCode == t ? e.clearGuess() : e.warnGuess()
			},
			e
		}
		function m(e) {
			var t = "";
			if (e.type) switch (e.type) {
			case "myself":
				t = "我是XX， " + e.description;
				break;
			case "position":
				t = "我是第X位" + e.description;
				break;
			case "selfAndPosition":
				t = "我是XX， 我是第X位" + e.description
			}
			return t
		}
		function f() {
			if (h.pageScroll.currentPage.pageJson.num != h.eqxPageList.length - 1) h.pageScroll.goToPageByIndex(h.eqxPageList.length - 2);
			else {
				var e = h.eqxPageList[h.eqxPageList.length - 2];
				h.pageScroll.currentPage = e,
				e.active().then(function() {
					return e.deactive().show()
				})
			}
		}
		var h, v, y, b, x = null,
		w = e.user = a.user;
		e.HOST = c,
		e.FILE = c.FILE,
		e.applyTplTips = "",
		e.applyCompanyTplTips = "申请企业样例",
		e.applyEarnMoneyTips = " 作品插广告赚秀点（秀点提现秒变压岁钱）",
		e.accessShareApplyAppTempButton = p.permission("shareApplyAppTempButton"),
		e.accessShareApplyAppTempEntrance = p.permission("shareApplyAppTempEntrance"),
		e.accessShareApplyPCTempEntrance = p.permission("shareApplyPCTempEntrance"),
		e.accessShareApplyPCTempNormal = p.permission("shareApplyPCTempNormal"),
		u(),
		a.sceneTags().then(function(t) {
			e.sceneTags = t.data.list || []
		}),
		e.addAdType || d.getSceneAddAdType(e.eqxScene.sceneJson.meta.id).then(function(t) {
			e.addAdType = t
		}),
		e.accessShareApplyPCTempEntrance ? a.appScenePrice().then(function(t) {
			e.tplAppPrices = t.data.list.map(function(e) {
				return "免费" !== e.name && e.name.indexOf("秀点") === -1 && (e.name += "秀点"),
				e
			})
		}) : a.scenePrices().then(function(t) {
			e.tplPrices = t.data.list.map(function(e) {
				return "免费" !== e.name && e.name.indexOf("秀点") === -1 && (e.name += "秀点"),
				e
			})
		}),
		a.sceneActivities().then(function(t) {
			e.activities = t.data.list || [],
			v.promIds && e.getActivityPageTpl(v.promIds)
		}),
		r.getActivityPromStatus().then(function(t) {
			e.activityObj = t.data.obj
		}),
		e.$watch("meta.applyTemplate",
		function() {
			2 != e.user.type && 4 != e.user.type || 1 != e.meta.applyTemplate ? e.shortcut = !1 : e.shortcut = !0
		}),
		e.visibleCompanyTpl = function() {
			return 2 == e.user.type && e.meta.status != -1 && e.meta.status != -2
		},
		e.disableCompanyTpl = function() {
			return 2 == e.sceneStatue || 3 == e.sceneStatue || e.isXB()
		},
		e.applyAppTemplate = function() {
			if (!v.publishTime || e.applyTplTips) {
				var i = "";
				i = v.publishTime ? e.applyTplTips: "发布后才能申请",
				n.add(i)
			} else o.openConfirmDialog({
				msg: "申请移动端样例时，将复制出一份场景，该场景仅保留移动端支持的功能，确定申请移动端样例吗？",
				confirmName: "确定",
				cancelName: "取消"
			}).then(function() {
				var e = window.open();
				t.$broadcast("savePage",
				function() {
					r.copyScene(v.id).then(function(t) {
						t.success && (e.location = c.HOST + "c/" + t.obj)
					})
				})
			})
		},
		e.disableEarnMoney = function() {
			return 1 == e.meta.applyTemplate || 2 == e.meta.applyTemplate ? e.applyEarnMoneyTips = "您已勾选“申请为样例”，请取消勾选此项，再选择分享流量": e.applyEarnMoneyTips = "作品插广告赚秀点（秀点提现秒变压岁钱）",
			1 == e.meta.applyTemplate || 2 == e.meta.applyTemplate
		},
		e.isXB = function() {
			for (var t, n = h.eqxPageList,
			i = 0; i < n.length; i++) if (n[i].pageJson.properties.xb) {
				t = !0,
				e.applyTplTips = "该场景包含任务模板",
				e.applyCompanyTplTips = "该场景包含任务模板";
				break
			}
			return t
		},
		e.earnMoney = function() {
			e.yqc.isAd ? e.applyTplTips = "您已勾选“分享流量”，请取消勾选此项，再申请为样例": e.applyTplTips = ""
		},
		e.dataStatistics = function() {
			e.yqc.isAd ? e.dataStatisticsButton = "勾选我要赚秀点": e.dataStatisticsButton = "取消我要赚秀点"
		},
		e.addShareTitle = function() {
			if (b.title = "标题", y.title.type) {
				var t = y.title.type;
				b.style.type = t,
				b.style[t + "Content"] = y.title.description
			}
			i.open(b).then(function(t) {
				e.titleContent = m(t),
				y.title = t
			})
		},
		e.addShareDescription = function() {
			if (b.title = "描述", y.description.type) {
				var t = y.description.type;
				b.style.type = t,
				b.style[t + "Content"] = y.description.description
			}
			i.open(b).then(function(t) {
				e.descContent = m(t),
				y.description = t
			})
		},
		e.clearTitleShare = function() {
			e.titleContent = "",
			y.title = {
				type: null,
				description: null
			}
		},
		e.clearDescShare = function() {
			e.descContent = "",
			y.description = {
				type: null,
				description: null
			}
		},
		e.changeSceneStatue = function() {
			if (v.promIds) return 1 !== e.sceneStatue && o.openMsgDialog({
				msg: "该场景已经参与活动，不可以关闭或加密!"
			}),
			void(e.sceneStatue = v.status = 1);
			if (3 === e.sceneStatue) {
				if (!a.isPassOrPage()) return e.sceneStatue = 1,
				void o.openConfirmDialog({
					msg: "付费企业功能，是否升级？",
					confirmName: "立即升级",
					cancelName: "我知道了"
				}).then(function() {
					window.open(c.HOST + "site/privilege")
				});
				v.status = 1,
				x = g()
			} else v.status = e.sceneStatue,
			v.accessCode = "",
			x && (x.clearGuess(), x = null)
		},
		e.changeActivityStatus = function() {
			var t;
			if (e.activityStatus) {
				if (a.setActivityStatus(!0), t = l.getItem("activityStatus"), !t || t.split(",").indexOf(w.id)) return a.setActivityStatus(!1),
				e.activityStatus = a.getActivityStatus(),
				void(e.showActivityTip = !0)
			} else a.setActivityStatus(!1),
			v.promIds = null,
			v.property.activityPageId = null
		},
		e.closeActivityTip = function() {
			a.setActivityStatus(!0),
			e.activityStatus = a.getActivityStatus(),
			e.showActivityTip = !1;
			var t;
			e.hideActivityTip && (t = l.getItem("activityStatus"), t = t ? t + w.id: w.id, l.setItem("activityStatus", t))
		},
		e.getActivityPageTpl = function(t) {
			var n;
			e.activityPageTpls = [],
			angular.forEach(e.activities,
			function(e) {
				if (e.id == t) return void(n = e.sceneId)
			}),
			n && s.getActivityTpls(n).then(function(t) {
				e.activityPageTpls = t.data.list
			})
		},
		e.chooseActivityPageTpl = function(t) {
			if (e.oldActivityStatus) return o.openMsgDialog({
				msg: "该场景已参加活动。"
			}),
			!1;
			var n = v.property.activityPageId;
			n != t && (n ? a.replaceActivityPage(h, t).then(function() {
				f(),
				e.$apply(v.property.activityPageId = t)
			}) : a.addActivityPage(h, t).then(function() {
				f(),
				e.$apply(v.property.activityPageId = t)
			}))
		}
	}
	n.$inject = ["$scope", "$rootScope", "i18nNotifications", "shareModalFactory", "modalService", "sceneSettingService", "sceneAPI", "tplAPI", "HOST", "storageService", "authorityService", "sceneService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	n(790),
	e.exports = angular.module("sceneSetting.preview", []).directive("eqdPreviewPhone", ["sceneSettingService",
	function(e) {
		"ngInject";
		return {
			restrict: "E",
			scope: {
				eqxScene: "=",
				displayWx: "="
			},
			replace: !0,
			transclude: !0,
			template: n(792),
			link: function(t, n) {
				t.eqxScene.renderScene(n.find(".nr"));
				var i = e.lastPageInfo,
				o = t.eqxScene.meta,
				a = o.property.eqAdType;
				0 != a && i[a].add(t.eqxScene).then(function() {
					o.promIds && o.property.activityPageId && e.addActivityPage(t.eqxScene, o.property.activityPageId)
				}),
				t.next = function(e) {
					t.displayWx ? t.displayWx = !1 : e ? t.eqxScene.pageScroll.goToNextPage() : t.eqxScene.pageScroll.goToPrePage()
				}
			}
		}
	}]).name
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div><div class="phone-view nr" id=phoneView ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><div ng-transclude></div></div><div class=phone id=con ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><h4 class=name ng-if="eqxScene.meta.name.length > 0">{{eqxScene.meta.name}}</h4><h4 class=name ng-if="eqxScene.meta.name.length == 0">正在设置的内容用于场景分享时显示</h4></div><div class=ctrl-panel ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><a class=next-page ng-click=next(true)>下一页</a> <a class=pre-page ng-click=next(false)>上一页</a></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("sceneSetting.wx", []).directive("eqdPreviewWx", n(794)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(797),
			scope: {
				display: "=",
				meta: "="
			},
			controller: ["$scope", "HOST",
			function(e, t) {
				"ngInject";
				e.getCover = function() {
					return t.FILE + e.meta.cover
				}
			}]
		}
	}
	n(795),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div class=wechat-share ng-style=\"{'display': display? 'block': 'none'}\"><div class=scene-title-box><em class=scene-title>{{meta.name}}</em></div><img class=scene-img ng-src={{getCover()}} /> <em class=scene-des>{{meta.description || '我用易企秀做了一个超酷炫的H5，快来看看吧。'}}</em> <em class=scene-talk>我用易企秀做的，你看一看吧</em> <em class=scene-talk2>做的真好！我也去试一试</em></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("sceneSetting.loading", []).directive("eqxLoadingLogo", n(799)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				display: "=",
				meta: "="
			},
			controller: a
		}
	}
	n(800);
	var o = n(802),
	a = n(803);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div class=loading ng-style=\"{'display': display? 'block': 'none'}\"><div class=loadbox><div class=loadlogo ng-style=vm.dispalyLoadlogo></div><div class=loadbg ng-style=vm.displayLoadbg></div></div></div>"
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e.vm = {
			get displayLoadbg() {
				return {
					display: e.meta.loadingLogo ? "block": "none",
					background: e.meta.loadingLogo ? "url(" + t.FILE + e.meta.loadingLogo + ")0% 0% / 118px 118px": ""
				}
			},
			get dispalyLoadlogo() {
				return {
					display: e.meta.loadingLogo ? "none": "block"
				}
			}
		}
	}
	n.$inject = ["$scope", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o, a) {
		"ngInject";
		function r(e) {
			S = e
		}
		function s() {
			return S
		}
		function c() {
			return a.buyXd()
		}
		function l() {
			return ! (1 === x.type || (2 === x.type || 21 === x.type) && !x.memberType)
		}
		function p(t, n) {
			return e.getActivityPage(n).then(function(e) {
				t.insertPage(t.eqxPageList.length - 2, e),
				t.renderPage(t.eqxPageList.length - 2)
			})
		}
		function d(t, n) {
			return e.getActivityPage(n).then(function(e) {
				t.replaceEqxPage(t.eqxPageList.length - 2, e),
				t.renderPage(t.eqxPageList.length - 2)
			})
		}
		function u(e) {
			w = e
		}
		function g() {
			return w
		}
		function m() {
			return k || (k = o.getSceneTags()),
			k
		}
		function f() {
			return C || (C = o.getAppScenePrice()),
			C
		}
		function h() {
			return T || (T = "" + i.getCurrentUser().type == "4" ? o.getScenePrices() : o.getSceneLargePrices()),
			T
		}
		function v() {
			return $ || ($ = o.getSceneActivities()),
			$
		}
		function y() {
			return q || (q = o.getPageTpls(1301)),
			q
		}
		function b() {
			return I || (I = o.getPageTpls(1311)),
			I
		}
		var x = i.getCurrentUser(),
		w = 0,
		S = !1,
		k = "",
		C = "",
		T = "",
		$ = "",
		q = "",
		I = "",
		E = 0,
		P = {
			0 : {
				type: "无尾页和底标",
				add: function(e) {
					return t(function(t, n) {
						var i = e.sceneJson.list,
						o = i[i.length - 1];
						e.replaceEqxPage(i.length - 1, o),
						e.renderPage(i.length - 1),
						e.sceneJson.meta.property.hideEqAd = !0,
						t()
					})
				},
				dele: function() {}
			},
			1 : {
				type: "技术支持尾页",
				add: function(n, i) {
					return t(function(t, o) {
						i && (n.sceneJson.meta.property.lastPageId = i.id);
						var a = n.sceneJson.meta.property.lastPageId;
						e.lastPage.getLastPage(a, n.sceneJson).then(function(e) {
							n.insertPage(n.sceneJson.list.length - 1, e),
							n.renderPage(n.sceneJson.list.length - 1),
							n.sceneJson.meta.property.hideEqAd = !1,
							t()
						})
					})
				},
				dele: function(e) {
					e.deletePage(e.sceneJson.list.length - 1)
				}
			},
			2 : {
				type: "技术支持底标",
				add: function(n) {
					return t(function(t, i) {
						var o = n.sceneJson.list,
						a = o[o.length - 1],
						r = e.lastPage.getDefaultBottom(a, n.sceneJson.id, o.length);
						a.elements.push(r),
						n.replaceEqxPage(o.length - 1, a),
						n.renderPage(o.length - 1),
						n.sceneJson.meta.property.hideEqAd = !1,
						t()
					})
				},
				dele: function(e) {
					var t = e.sceneJson.list,
					n = t[t.length - 1];
					n.elements.pop(),
					e.replaceEqxPage(t.length - 1, n),
					e.renderPage(t.length - 1)
				}
			},
			3 : {
				type: "品牌联合底标",
				add: function(i, o) {
					return t(function(t, a) {
						if (i.sceneJson.meta.property.bottomLabel = i.sceneJson.meta.property.bottomLabel || {},
						o) {
							var r = i.sceneJson.meta.property.bottomLabel;
							r.id = o.id || r.id,
							r.name = o.name || r.name,
							r.url = o.url || r.url
						}
						var s = i.sceneJson.list,
						c = s[s.length - 1];
						e.lastPage.getCustomBottomLabel(i.sceneJson).then(function(e) {
							e = e.map(function(e) {
								return delete e.css.content,
								e
							}),
							E = e.length,
							c.elements = [].concat(n(c.elements), n(e)),
							i.replaceEqxPage(s.length - 1, c),
							i.renderPage(s.length - 1),
							i.sceneJson.meta.property.hideEqAd = !1,
							t()
						})
					})
				},
				dele: function(e) {
					var t = e.sceneJson.list,
					n = t[t.length - 1];
					n.elements = n.elements.slice(0, -E),
					e.replaceEqxPage(t.length - 1, n),
					e.renderPage(t.length - 1)
				}
			}
		};
		return {
			user: x,
			buyXd: c,
			setTheDelta: u,
			getTheDelta: g,
			isPassOrPage: l,
			lastPageInfo: P,
			addActivityPage: p,
			replaceActivityPage: d,
			setActivityStatus: r,
			getActivityStatus: s,
			sceneTags: m,
			appScenePrice: f,
			scenePrices: h,
			sceneActivities: v,
			pageTpls: y,
			bottomPageTpls: b
		}
	}
	i.$inject = ["EqxCore", "$q", "userService", "sceneAPI", "XDService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = function() {
		return {
			scope: {},
			template: '<eqx-scene-setting ng-if="vm.show"></eqx-scene-setting>',
			controller: ["$scope", "flagService",
			function(e, t) {
				"ngInject";
				e.vm = {
					get show() {
						return t.sceneSetting.show
					}
				}
			}]
		}
	}
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			scope: {
				settingTab: "="
			},
			controller: o,
			template: a,
			replace: !0,
			link: function(e, t) {
				setTimeout(function() {
					t.find(".fade").addClass("in")
				})
			}
		}
	}
	var o = n(807),
	a = n(808);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c, l, p) {
		"ngInject";
		function d(e) {
			return JSON.parse(JSON.stringify(e))
		}
		function u() {
			return ! (!C.name || !C.name.trim()) || (n.openMsgDialog({
				msg: "场景标题不能为空！"
			}), !1)
		}
		function g() {
			return 3 !== $.sceneStatue || C.accessCode && 4 === C.accessCode.length ? !(s.getActivityStatus() && !C.property.activityPageId) || (n.openMsgDialog({
				msg: "请选择活动尾页！"
			}), !1) : (n.openMsgDialog({
				msg: "请输入有效的场景密码！"
			}), !1)
		}
		function m() {
			return $.displayLoading && !C.loadingLogo ? (n.openMsgDialog({
				msg: "请设置加载logo！"
			}), !1) : ($.displayLoading && ($.displayLoading = !1), !0)
		}
		function f() {
			var e = $._yqc,
			t = $.yqc,
			n = 0;
			return e.masterSwitch && 0 == e.adStatus ? n = t.isAd ? 1 : -2 : e.isAd === t.isAd || (n = t.isAd ? 1 : -1),
			0 === n ? p.resolve() : c.setYqcAdStatus(C.id, n).then(function() {
				t.adStatus = n,
				e = d(t)
			},
			function() {
				console.error("设置广告场景失败"),
				$.yqc = d(e)
			})
		}
		function h() {
			return k.syncMeta(),
			p(function(e, t) {
				if (u() && g() && m()) if (angular.equals(T, C)) f().then(function() {
					return e()
				});
				else {
					var a = s.getTheDelta();
					o.getUserXd().then(function(o) {
						var r = o.data.obj || 0;
						a && a > r ? (n.openMsgDialog({
							msg: "当前选择需要消耗秀点" + a + '个<br>秀点余额不足(<font color="#ff6e6e">(' + (r || 0) + ")</font>个)，请先充值？"
						}), t()) : a ? n.openConfirmDialog({
							msg: "当前选择需要消耗秀点" + a + "个<br>秀点余额为(" + (r || 0) + ")个，是否使用？",
							confirmName: "确定",
							cancelName: "取消"
						}).then(function() {
							f(),
							i.setSceneSettings(C).then(function() {
								s.setTheDelta(0),
								y.show = !1,
								e()
							})
						}) : (f(), i.setSceneSettings(C).then(function() {
							s.setTheDelta(0),
							y.show = !1,
							e()
						}))
					})
				} else t()
			})
		}
		function v() {
			return ! (!C.name || !C.name.trim()) || (n.openMsgDialog({
				msg: "场景标题不能为空！"
			}).then(function() {
				e.setTab(b.common)
			}), !1)
		}
		var y = t.sceneSetting,
		b = e.TAB = {
			common: "常用",
			share: "分享",
			advanced: "高级"
		},
		x = i.eqxScene,
		w = a.core.scene.EqxScene,
		S = x.toJson(),
		k = e.tempScene = new w(S, {
			mode: "view",
			disableSubmit: !0,
			disableReport: !0
		}),
		C = k.meta;
		C.description = "我用易企秀做了一个超酷炫的H5，快来看看吧。" == C.description ? "": C.description,
		C.property.hideEqAd || (C.property.hideEqAd = !1),
		C.property.shareDes || (C.property.shareDes = {
			avatar: !1,
			description: {
				description: null,
				type: null
			},
			title: {
				description: null,
				type: null
			}
		});
		var T = angular.merge({},
		C),
		$ = e.vm = {
			tabId: y.settingTab,
			displayWx: !1,
			displayLoading: !1,
			sceneStatue: 1,
			_yqc: {
				masterSwitch: !1,
				adStatus: 0,
				isAd: !1
			},
			yqc: {
				masterSwitch: !1,
				adStatus: 0,
				isAd: !1
			}
		};
		c.getYqcInfo(C.id).then(function(e) {
			var t = e.data.obj;
			$.yqc = d(t),
			$._yqc = d(t)
		}),
		y.settingTab = "常用",
		e.setTab = function(e) {
			if ($.tabId !== e) {
				var t;
				t = $.tabId == b.common ? u() : $.tabId == b.share ? g() : m(),
				t && ($.tabId = e)
			}
		},
		e.close = function() {
			angular.equals(T, C) ? y.show = !1 : n.openConfirmDialog({
				msg: "设置内容有变化，是否确认修改"
			}).then(function() {
				e.save()
			},
			function() {
				y.show = !1
			})
		},
		e.save = function() {
			return h().then(function() {
				y.show = !1,
				l.add("场景设置成功！")
			})
		},
		e.cancel = function() {
			y.show = !1
		},
		e.$on("saveSettings",
		function(e, t) {
			v() && h().then(function() {
				return y.show = !1,
				t.save()
			})
		}),
		e.$on("publishSettings",
		function(e, t) {
			v() && h().then(function() {
				return y.show = !1,
				t.publish(C)
			})
		}),
		e.$on("exitEditor",
		function() {
			angular.equals(T, C) ? window.open(r.HOST + "h5/list", "_self") : n.openConfirmDialog({
				msg: "是否保存更改内容？",
				confirmName: "保存",
				cancelName: "不保存"
			}).then(function() {
				i.saveSceneSettings(C),
				window.open(r.HOST + "h5/list", "_self")
			},
			function() {
				window.open(r.HOST + "h5/list", "_self")
			})
		}),
		e.$on("$destroy",
		function() {
			k.destroy()
		})
	}
	n.$inject = ["$scope", "flagService", "modalService", "sceneService", "XDAPI", "EqxCore", "HOST", "sceneSettingService", "yqcAPI", "i18nNotifications", "$q"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class=scene-setting><div class=setting-bg></div><div class="left-con fade" ng-mousedown=close()><eqd-preview-phone eqx-scene=tempScene display-wx=vm.displayWx><eqx-loading-logo display=vm.displayLoading meta=tempScene.sceneJson.meta></eqx-loading-logo><eqd-preview-wx display=vm.displayWx meta=tempScene.sceneJson.meta></eqd-preview-wx></eqd-preview-phone></div><div class="scene-setting-info fade"><div class=form-contain><ul class="nav nav-tabs"><li ng-class="{active: vm.tabId == TAB.common}"><a ng-click=setTab(TAB.common) big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=1 categorythree=常用设置 actiontype=4>常用设置</a></li><li ng-class="{active: vm.tabId == TAB.share}"><a ng-click=setTab(TAB.share) big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=2 categorythree=分享设置 actiontype=4>分享设置</a></li><li ng-class="{active: vm.tabId == TAB.advanced}"><a ng-click=setTab(TAB.advanced) big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=3 categorythree=高级设置 actiontype=4>高级设置</a></li></ul><div style=height:100% eqd-scroll><form class=form-horizontal role=form name=myForm novalidate><eqd-common-setting display-wx=vm.displayWx eqx-scene=tempScene ng-if="vm.tabId== TAB.common"></eqd-common-setting><eqd-share-setting eqx-scene=tempScene scene-statue=vm.sceneStatue yqc=vm.yqc ng-if="vm.tabId == TAB.share "></eqd-share-setting><eqd-advanced-setting display-loading=vm.displayLoading eqx-scene=tempScene yqc=vm.yqc ng-if="vm.tabId == TAB.advanced"></eqd-advanced-setting></form></div></div><div class=setting-operations><div class=option-box><button ng-click=save() class="btn green">确定</button> <button ng-click=cancel() class="btn gray" style=margin-left:10px>取消</button></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	n(810);
	e.exports = angular.module("scene.feedback", []).directive("eqxFeedback",
	function() {
		return {
			restrict: "EA",
			replace: !0,
			scope: {},
			template: n(811),
			controller: ["$scope", "userService", "storageService",
			function(e, t, n) {
				"ngInject";
				var i = t.getCurrentUser(),
				o = new EqxKeFu(i);
				e.customerService = function() {
					o.show()
				},
				e.showAudit = !0;
				var a = n.getItem("auditTips") || [];
				"[object Array]" !== Object.prototype.toString.call(a) && (a = []),
				a.indexOf(i.id) > -1 && (e.showAudit = !1),
				e.closeAudit = function() {
					e.showAudit = !1,
					a.push(i.id),
					n.setItem("auditTips", a)
				}
			}],
			link: function() {}
		}
	}).name
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=creat-feedback><div class=video-user style=position:relative;bottom:23px><a target=_blank big-data-event categorytwoid=22 categorytwo=审核 actiontype=4 href="http://bbs.eqxiu.com/forum.php?mod=viewthread&amp;tid=890&amp;extra=page%3D1"><span class=eqf-top-contact></span> <span>审核</span> </a><a target=_blank href=http://bbs.eqxiu.com/thread-21409-1-1.html big-data-event categorytwoid=20 categorytwo=教程 actiontype=4><span class=eqf-top-video></span> <span>教程</span> </a><a target=_blank ng-click=customerService() big-data-event categorytwoid=21 categorytwo=客服 actiontype=4><span class=eqf-top-contact></span> <span>客服</span></a></div><div class=feedback style=position:relative><a ng-href=http://eqxiu.com/s/QblumX2x target=_blank style=padding-top:6px big-data-event categorytwoid=23 categorytwo=反馈 actiontype=4><span class=eqf-scene-send></span> <span class=feedback-word>反馈</span></a><div class=feedback-bg></div></div><div class=audit-box ng-if=showAudit><div class=audit-title>包含以下内容的场景将会被审核关闭</div><span class=audit-close ng-click=closeAudit()>X</span><p class=audit-content><span class=audit-list>1、诱导分享和转发集赞<br/>2、传销欺诈虚假广告<br/>3、色情、赌博、违法<br/>4、社会事件和攻击言论</span></p><h6 class=audit-footer><a target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&amp;tid=890&amp;extra=page%3D1">查看详情</a></h6></div></div>'
},
function(e, t) {
	e.exports = '<eqx-psd-loading ng-if=!disablePsd></eqx-psd-loading><div class="create-bg ng-scope" style=position:fixed;top:0;left:0;right:0;bottom:0;background-color:#d0cfd8></div><eqx-notification></eqx-notification><eqx-head></eqx-head><div class=create_scene><div class="main clearfix"><div class=content><eqx-template-panel></eqx-template-panel><eqx-workspace></eqx-workspace><eqx-page-manager></eqx-page-manager></div></div><eqx-scene-setting-trigger></eqx-scene-setting-trigger></div><eqx-feedback></eqx-feedback>'
},
function(e, t, n) {
	"use strict";
	n(814);
	var i = n(815);
	e.exports = angular.module("app.support", []).directive("editorSupport",
	function() {
		return {
			restrict: "EA",
			scope: !0,
			template: i,
			controller: ["$scope", "$location", "loadingService",
			function(e, t, n) {
				"ngInject";
				n.hide(),
				e["continue"] = function() {
					window.sessionStorage && window.sessionStorage.setItem("h5editor.needsSupport", !1),
					t.path(window.sessionStorage.getItem("h5editor.sceneId"))
				}
			}]
		}
	}).name
},
function(e, t) {},
function(e, t, n) {
	e.exports = "<div class=support-contain><div class=imgie><img class=mt20 src=" + n(816) + ' /></div><h3 class=h3ie>尊敬的易企秀用户：</h3><p><span>为了保证您在易企秀内的使用体验，建议您从下列浏览器中选择一款进行访问。若坚持使用该浏览器，请</span> <a class=text-primary ng-click=continue()><span>继续使用</span></a></p><ul><li><a id=download_Chorme href="https://www.baidu.com/s?wd=Chrome" target=_blank><img src=' + n(817) + ' /> <span>Chrome</span></a></li><li><a id=download_IE href="https://www.baidu.com/s?wd=ie11" target=_blank><img src=' + n(818) + " /> <span>IE11</span></a></li><li><a id=download_360_fast href=http://chrome.360.cn/ target=_blank><img class=ml20 src=" + n(819) + " /> <span>360极速浏览器</span></a></li><li><a id=download_360 href=http://se.360.cn/ target=_blank><img src=" + n(820) + " /> <span>360浏览器</span><br/><span>极速模式</span></a></li></ul></div>"
},
function(e, t, n) {
	e.exports = n.p + "images/HTML5-7f2ce9.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/chrome-619af3.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/IE11-0df72c.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/360fast-87dd7f.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/360safe-d2997c.svg"
}]);!
function(e) {
	function t(i) {
		if (n[i]) return n[i].exports;
		var o = n[i] = {
			exports: {},
			id: i,
			loaded: !1
		};
		return e[i].call(o.exports, o, o.exports, t),
		o.loaded = !0,
		o.exports
	}
	var n = {};
	return t.m = e,
	t.c = n,
	t.p = "http://as.eqh5.com/c/",
	t(0)
} ([function(e, t, n) {
	e.exports = n(88)
},
, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , ,
function(e, t, n) {
	"use strict";
	var i = n(89);
	n(90),
	n(92),
	e.exports = i.module("editor", ["ngRoute", "ngDialog", "ngSanitize", "ui.bootstrap", "ui.bootstrap.tpls", "ui.sortable", "eqx.ng.pay", n(102), n(117), n(127), n(139), n(141), n(264), n(297), n(330), n(332), n(344), n(813)]).name
},
function(e, t) {
	e.exports = angular
},
function(e, t) {},
,
function(e, t) {},
, , , , , , , , ,
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.api", []).factory("apiCache", n(103)).factory("fileAPI", n(104)).factory("pageAPI", n(105)).factory("tagAPI", n(107)).factory("tplAPI", n(108)).factory("userAPI", n(109)).factory("sceneAPI", n(110)).factory("fontAPI", n(111)).factory("XDAPI", n(112)).factory("materialAPI", n(113)).factory("audioAPI", n(114)).factory("orderAPI", n(115)).factory("yqcAPI", n(116)).name
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(i, r) {
			function s() {
				return t(i).then(function(e) {
					return window.localStorage.setItem(m, JSON.stringify({
						expires: Date.now() + u,
						version: g,
						value: e
					})),
					e
				},
				function(t) {
					return window.localStorage.removeItem(m),
					e.reject(t)
				})
			}
			var c = i.method,
			l = i.url,
			p = i.params;
			if ("GET" != c) return console.log("api cache does not support " + c),
			t(i);
			var d = Object.assign(r || {},
			{
				expiresOffset: a,
				version: o
			}),
			u = d.expiresOffset,
			g = d.version,
			m = "API-" + l;
			p && (m += m.indexOf("?") > -1 ? "&": "?" + n(p), console.log(m));
			var f = JSON.parse(window.localStorage.getItem(m));
			if (f && f.value && f.expires) {
				var h = Date.now();
				return h > f.expires || f.version != g ? s() : e.resolve(f.value)
			}
			return s()
		}
		var o = window.__version,
		a = 864e5;
		return console.log("apiCache version: " + o),
		i
	}
	n.$inject = ["$q", "$http", "$httpParamSerializer"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(t) {
			return e({
				method: "GET",
				url: i.SERVER_0 + "m/material/sysList",
				params: t
			})
		}
		function a(e) {
			return t({
				method: "POST",
				url: i.MALL_HOST + "api/product/cat/listProdByCate",
				params: e
			})
		}
		function r(e) {
			return t({
				method: "GET",
				url: i.SERVER_0 + "m/material/userList",
				params: e
			})
		}
		function s(e) {
			return t({
				method: "GET",
				url: i.SERVER_0 + "m/material/user/list/upload",
				params: e
			})
		}
		function c(e) {
			return t({
				method: "GET",
				url: i.SERVER_0 + "m/material/user/list/buy",
				params: e
			})
		}
		function l(t) {
			return e({
				method: "GET",
				withCredentials: !1,
				headers: {
					Accept: "application/xml, text/xml, */*; q=0.01"
				},
				url: t.startsWith("http") ? t: i.FILE + t
			})
		}
		function p() {
			for (var e = [1, 2, 4, 7], o = arguments.length, a = Array(o), r = 0; r < o; r++) a[r] = arguments[r];
			var s = a.filter(function(t) {
				return ! e.includes(t.fileType)
			}).map(function(e) {
				return "fileIds=" + e.id + "&fileTypes=" + e.fileType
			}).join("&");
			return s ? t({
				method: "GET",
				url: i.SERVER_0 + "m/base/file/history/save?" + s
			}) : n.reject("无数据")
		}
		function d(e) {
			return t({
				method: "POST",
				url: i.SERVER_0 + "m/base/file/info/save",
				data: e
			})
		}
		function u(e, n) {
			var o = "m/base/file/link/save?url=" + n + "&fileType=" + e,
			a = new Date;
			return o += "&time=" + a.getTime(),
			t({
				method: "GET",
				url: i.SERVER_0 + o
			})
		}
		function g(e, n) {
			return t({
				method: "POST",
				url: i.SERVER_0 + "m/base/file/delete",
				data: {
					id: e,
					backup: n
				}
			})
		}
		function m(e, n, o, a) {
			var r = "search/mall?cat=" + e + "&keyword=" + n + "&pageNo=" + o + "&pageSize=" + a;
			return t({
				withCredentials: !0,
				method: "GET",
				url: i.QUERY_SERVER + r
			}).then(function(t) {
				return 1 == e && t.data && t.data.list && t.data.list.forEach(function(e) {
					e.path = e.mid_pic
				}),
				t
			})
		}
		return {
			getSysItems: o,
			getSysMaterialItems: a,
			getSvgElement: l,
			saveFilesHistory: p,
			saveFileInfo: d,
			getUserItems: r,
			getUserPurchaseItems: c,
			getUserUploadItems: s,
			addMusicLink: u,
			deleteFile: g,
			searchMaterial: m
		}
	}
	n.$inject = ["apiCache", "$http", "$q", "HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function n(n) {
			return n.properties && n.properties.xb && (n.elements = []),
			e({
				method: "POST",
				loading: !0,
				url: t.SERVER_0 + "m/scene/save",
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(o(n))
			})
		}
		function i(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/design/" + n
			})
		}
		function a(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/createPage/" + n,
				params: {
					copy: !0,
					time: (new Date).getTime()
				}
			})
		}
		function r(n, i) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/createPage/" + n,
				params: {
					longPage: i,
					time: (new Date).getTime()
				}
			})
		}
		function s(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/delPage/" + n
			})
		}
		function c(n, i) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/pageSort",
				params: {
					id: n,
					pos: i,
					date: (new Date).getTime()
				}
			})
		}
		function l(n) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/scene/savePage",
				data: {
					id: n.id,
					sceneId: n.sceneId,
					name: n.name
				}
			})
		}
		return {
			getPage: i,
			savePage: n,
			copyPage: a,
			createPage: r,
			deletePage: s,
			sortPage: c,
			savePageName: l
		}
	}
	i.$inject = ["$http", "HOST"];
	var o = n(106).remove$key;
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e) {
		var t = Object.assign({},
		e);
		for (var n in t) t.hasOwnProperty(n) && n.startsWith("$") && delete t[n];
		return t
	}
	e.exports = {
		remove$key: n
	}
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(t) {
			var i = t.type,
			o = t.bizType;
			return e({
				method: "GET",
				url: n.SERVER_0 + "m/scene/tag/sys/list",
				params: {
					type: i,
					bizType: o
				}
			})
		}
		function a(e) {
			switch (e) {
			case 1:
				return r(1103);
			case 2:
				return r(200).then(function(e) {
					return e.data.list
				});
			case 3:
				return r(284).then(function(e) {
					return e.data.list
				});
			case 4:
				return r(216).then(function(e) {
					return e.data.list
				});
			case 7:
				return s();
			default:
				return i.reject("unknown fileType")
			}
		}
		function r(e) {
			return t({
				method:
				"POST",
				url: n.MALL_HOST + "api/category/getCategoryListById",
				params: {
					id: e
				}
			})
		}
		function s() {
			return i.resolve([{
				id: 8201,
				name: "图形",
				bizType: 8201,
				fileType: 7
			},
			{
				id: 8203,
				name: "文字",
				bizType: 8203,
				fileType: 7
			},
			{
				id: 8202,
				name: "图标",
				bizType: 8202,
				fileType: 7
			}])
		}
		function c(t, o) {
			switch (t) {
			case 7:
				return e({
					method:
					"GET",
					url: n.SERVER_0 + "m/base/file/tag/sys",
					params: {
						bizType: o
					}
				});
			default:
				return i.resolve({
					data:
					{
						list:
						[]
					}
				})
			}
		}
		function l(e) {
			switch (e) {
			case 1:
				return p();
			case 2:
			case 4:
				return i.resolve({
					data:
					{
						list:
						[]
					}
				});
			default:
				return i.reject("unknown fileType")
			}
		}
		function p() {
			return t({
				method:
				"GET",
				url: n.SERVER_0 + "m/base/file/tag/my?time" + (new Date).getTime()
			})
		}
		function d(e) {
			return t.post(n.SERVER_0 + "m/base/file/tag/create", {
				tagName: e
			})
		}
		function u(e) {
			return t.post(n.SERVER_0 + "m/base/file/tag/delete", {
				id: e
			})
		}
		function g(e) {
			return t.post(n.SERVER_0 + "m/base/file/tag/clear", {
				tagId: e
			})
		}
		function m(e) {
			return t.post(n.SERVER_0 + "m/material/userFile/deleteAll", {
				fileType: e
			})
		}
		function f(e, i) {
			return t.post(n.SERVER_0 + "m/base/file/tag/modify", {
				tagId: e,
				tagName: i
			})
		}
		function h(e, i) {
			return t.post(n.SERVER_0 + "m/base/file/tag/set", {
				tagId: e,
				fileIds: i
			})
		}
		function v(e, i) {
			return t.post(n.SERVER_0 + "m/base/file/tag/unset", {
				tagId: e,
				fileIds: i
			})
		}
		return {
			getTplTags: o,
			getSysCategories: a,
			getSysTags: c,
			getUserTags: l,
			assignTag: h,
			createTag: d,
			deleteTag: u,
			clearImgTag: g,
			modifyTagName: f,
			clearMyImg: m,
			cancelTag: v
		}
	}
	n.$inject = ["apiCache", "$http", "HOST", "$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(e) {
			return t({
				method: "GET",
				url: n.SERVER_0 + "m/scene/pageTpl/" + e + "?time=" + Date.now()
			})
		}
		function o(i, o, a) {
			var r = /tagIds:(.*)-name:(.*)/,
			s = r.exec(i) || [],
			c = s[1] || "",
			l = s[2] || "",
			p = n.SERVER_0 + "m/scene/tpl/page/list/";
			l && (p = n.QUERY_SERVER + "search/template/");
			var d = {
				method: "GET",
				url: p,
				params: {
					tagId: c,
					keyword: l,
					pageNo: o,
					pageSize: a
				}
			};
			return l ? t(d) : e(d)
		}
		function a(e, i, o) {
			return t({
				method: "GET",
				url: n.SERVER_0 + "m/scene/page/custom/list/",
				params: {
					id: e,
					pageNo: i,
					pageSize: o
				}
			})
		}
		function r() {
			return t.get(n.SERVER_0 + "m/scene/tpl/recently/used")
		}
		function s(e, i, o) {
			var a = "m/accept/task/my?pageNo=" + e + "&pageSize=" + i + "&status=" + o;
			return t.get(n.SERVER_0 + a)
		}
		function c(e) {
			var i = "m/scene/page/mytpl/save";
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + i,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(e)
			})
		}
		function l(e) {
			var i = "m/scene/page/companytpl/save";
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + i,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(e)
			})
		}
		function p(e) {
			var i = "m/scene/page/myxb/save";
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + i,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(e)
			})
		}
		function d(e, i) {
			var o = "m/promotion/order/executing/list",
			a = {
				pageNo: e,
				pageSize: i
			};
			return t({
				withCredentials: !0,
				method: "POST",
				url: n.SERVER_0 + o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(a)
			})
		}
		function u(e) {
			var i = "m/scene/pageTplList/" + e + "?time=" + (new Date).getTime();
			return t({
				method: "GET",
				url: n.SERVER_0 + i
			})
		}
		return {
			getPageTpls: o,
			getCustomerPageTpls: a,
			getRecentlyUsedPageTpls: r,
			getMyTaskTpls: s,
			getTpl: i,
			saveMyTpl: c,
			saveCompanyTpl: l,
			saveMyXB: p,
			getAllTask: d,
			getActivityTpls: u
		}
	}
	n.$inject = ["apiCache", "$http", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n() {
			return e.get(t.SERVER_0 + "logout")
		}
		function i() {
			return e({
				method: "GET",
				url: t.SERVER_0 + "eqs/login"
			})
		}
		function o() {
			return e.get(t.SERVER_0 + "m/u/info")
		}
		function a() {
			return e.get(t.SERVER_0 + "m/u/company/info")
		}
		function r() {
			return e.get(t.SERVER_0 + "m/u/xd")
		}
		function s(n) {
			return e({
				method: "GET",
				url: t.SERVER_0 + "m/u/member/detail",
				params: {
					userId: n
				}
			})
		}
		return {
			logout: n,
			login: i,
			getUserInfo: o,
			getCompanyInfo: a,
			getUserXd: r,
			getUserMemberDetail: s
		}
	}
	n.$inject = ["$http", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o) {
		"ngInject";
		function a(n) {
			return e({
				method: "GET",
				loading: !0,
				url: t.SERVER_0 + "m/scene/preview/" + n + ".data&time=" + (new Date).getTime()
			})
		}
		function r(e, t) {
			var a = 20,
			r = [],
			c = 1,
			l = !1;
			for (0 == t && (l = !0, t = 1); t > 0;) r.push(p(e, c, a)),
			t -= a,
			c += 1;
			var d = Date.now();
			return i.all(r).then(function(e) {
				var t;
				console.log(Date.now() - d);
				var i = (t = []).concat.apply(t, n(e.map(function(e) {
					return e.data.list
				}))),
				a = i.filter(function(e, t) {
					var n = i.findIndex(function(t) {
						return t.id == e.id
					});
					return n == t
				});
				return a.length != i.length && (l = !0),
				l ? o.emit("h5editor.sceneDataError") : o.remove("h5editor.sceneDataError"),
				a
			}).then(function(t) {
				return s(e, t)
			})
		}
		function s(e, t) {
			var n = !1,
			o = [];
			return t.forEach(function(e, t) {
				e.num != t + 1 && (n = !0),
				e.num = t + 1,
				o.push({
					pageId: e.id,
					num: e.num
				})
			}),
			n ? (console.log("bad page list sequence"), c({
				sceneId: e,
				pageNumStr: JSON.stringify(o)
			}).then(function() {
				return t
			})) : i.resolve(t)
		}
		function c(n) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/scene/pageNum/update",
				data: n
			})
		}
		function l(n) {
			return e.get(t.SERVER_0 + "m/scene/detail/" + n)
		}
		function p(n, i, o) {
			return e({
				method: "GET",
				url: t.SERVER_0 + "m/scene/pages/" + n,
				params: {
					pageNo: i,
					pageSize: o
				}
			})
		}
		function d(n) {
			var i = angular.copy(n);
			return angular.isObject(i.property) && (i.property = angular.toJson(i.property)),
			angular.isObject(i.bgAudio) && (i.bgAudio = angular.toJson(i.bgAudio)),
			i.image = null,
			e({
				method: "POST",
				loading: !0,
				url: t.SERVER_0 + "m/scene/saveSettings",
				withCredentials: !0,
				headers: {
					"Content-Type": "text/plain; charset=UTF-8"
				},
				data: JSON.stringify(i)
			})
		}
		function u(n, i) {
			var o = "m/scene/publish?id=" + n;
			i && (o += (/\?/.test(o) ? "&": "?") + "checkType=" + i);
			var a = new Date;
			return o += "&time=" + a.getTime(),
			e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + o
			})
		}
		function g(n) {
			return e({
				method: "POST",
				withCredentials: !0,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				url: t.SERVER_0 + "m/scene/copyScene",
				data: $.param({
					id: n,
					editorModel: 2
				})
			}).then(function(e) {
				return e.data
			})
		}
		function m(n) {
			var i = "m/scene/pageTplList/" + n,
			o = new Date;
			return i += (/\?/.test(i) ? "&": "?") + "time=" + o.getTime(),
			e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + i
			})
		}
		function f() {
			var n = new Date,
			i = "m/scene/tag/sys/list?type=2&time=" + n.getTime();
			return e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + i
			})
		}
		function h() {
			var n = t.SERVER_0 + "base/class/scene_template_new_prices";
			return e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function v() {
			var n = t.SERVER_0 + "base/class/scene_template_large_prices";
			return e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function y() {
			var n = t.SERVER_0 + "base/class/scene_app_template_prices";
			return e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function b() {
			var n = t.SERVER_1 + "eqs/activity?all=1";
			return e({
				method: "GET",
				url: n
			})
		}
		function x() {
			var n = t.SERVER_0 + "m/scene/company/promotion";
			return e({
				method: "GET",
				url: n
			})
		}
		function w(n) {
			var i = t.SERVER_0 + "m/yqc/ad/adSourceType/get?sceneId=" + n;
			return e({
				method: "GET",
				url: i
			})
		}
		return {
			getAllPageList: r,
			getSceneMeta: l,
			getPageList: p,
			getPageTpls: m,
			getFullSceneInfo: a,
			saveSceneSettings: d,
			publishScene: u,
			copyScene: g,
			getSceneTags: f,
			getScenePrices: h,
			getSceneLargePrices: v,
			getAppScenePrice: y,
			getSceneActivities: b,
			getActivityPromStatus: x,
			getSceneAddAdType: w
		}
	}
	i.$inject = ["$http", "HOST", "$q", "clientReportService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(n) {
			var i = t.SERVER_0 + "m/scene/toll/font",
			o = new Date;
			return e({
				method: "GET",
				url: i,
				withCredentials: !0,
				params: {
					id: n,
					time: o.getTime()
				}
			})
		}
		function o(n, i) {
			var o = t.SERVER_0 + "m/font/buy/" + n;
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					license: i
				})
			})
		}
		function a(n, i) {
			var o = t.SERVER_0 + "m/font/update/" + n + "/" + i,
			a = new Date;
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				params: {
					time: a.getTime()
				}
			})
		}
		function r(n) {
			var i = t.SERVER_0 + "m/font/" + n,
			o = new Date;
			return e({
				withCredentials: !0,
				method: "GET",
				url: i,
				params: {
					time: o.getTime()
				}
			})
		}
		function s(n, i) {
			var o = t.SERVER_0 + "m/font/my",
			a = {},
			r = new Date;
			return a = n ? {
				pageNo: n,
				pageSize: i,
				time: r.getTime()
			}: {
				time: r.getTime()
			},
			e({
				withCredentials: !0,
				method: "GET",
				url: o,
				params: a
			})
		}
		function c() {
			var n = t.SERVER_0 + "m/font/my",
			i = new Date;
			return n += (/\?/.test(n) ? "&": "?") + "time=" + i.getTime(),
			e({
				withCredentials: !0,
				method: "GET",
				url: n
			})
		}
		function l(i, o) {
			if (!i) return n.resolve({
				data: {
					list: []
				}
			});
			var a = t.SERVER_0 + "m/font/info",
			r = $.param({
				fontFamilies: i,
				needLicense: o
			});
			return e({
				withCredentials: !0,
				method: "POST",
				url: a,
				data: r,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}
		return {
			checkBoughtFonts: i,
			buyFont: o,
			openCloseFontStatus: a,
			getFontType: r,
			getMyFontFamily: s,
			getMyFontList: c,
			getFontNames: l
		}
	}
	n.$inject = ["$http", "HOST", "$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o() {
			return e.get(t.SERVER_0 + "m/u/xd")
		}
		function a(o, a, r) {
			var s = "m/u/pay/xd/url?goodsId=" + o + "&type=" + a,
			c = "/upgrade/" === i.path().substring(0, 9) || "/xdBuy" === i.path();
			return c && !r && (s += "&userId=" + n.setCurrentUser().id),
			e.get(t.SERVER_0 + s)
		}
		return {
			getUserXd: o,
			getPayXdQrCode: a
		}
	}
	n.$inject = ["$http", "HOST", "userService", "$location"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(n, i) {
			var o = t.SERVER_0 + "m/material/" + i + "/buy/" + n;
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			})
		}
		function i(n) {
			var i = t.MALL_HOST + "api/m/order/save";
			return e({
				withCredentials: !0,
				method: "POST",
				url: i,
				headers: {
					"Content-Type": "application/json"
				},
				data: n
			})
		}
		function o(n) {
			var i = t.MALL_HOST + "api/m/asyncOrderCallback/callback";
			return e({
				withCredentials: !0,
				method: "POST",
				url: i,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param(n)
			}).then(function(e) {
				return a(e.data.map.id)
			})["catch"](function(e) {
				return e
			})
		}
		function a(n) {
			return new Promise(function(i, o) {
				var a, r = t.MALL_HOST + "api/m/asyncOrderCallback/isOrderCallbackSuccessById",
				s = 0;
				a = window.setInterval(function() {
					e({
						withCredentials: !0,
						method: "POST",
						url: r,
						headers: {
							"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
						},
						data: $.param({
							id: n
						})
					}).then(function(e) {
						s++,
						1 == e.data.map.status || s <= 15 ? (window.clearInterval(a), i(e)) : (2 == e.data.map.status || 3 == e.data.map.status || s > 15) && (window.clearInterval(a), i({
							data: {
								success: !1
							}
						}))
					})["catch"](function() {
						window.clearInterval(a),
						i({
							data: {
								success: !1
							}
						})
					})
				},
				1e3)
			})
		}
		function r(n, i, o) {
			var a = t.SERVER_0 + "m/scene/resubmit/prevent/set";
			return e({
				withCredentials: !0,
				method: "POST",
				url: a,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					sceneId: n,
					elementId: i,
					status: o
				})
			})
		}
		function s(n) {
			var i = t.MALL_HOST + "api/m/order/checkPurchase";
			return e({
				withCredentials: !0,
				method: "POST",
				url: i,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					productId: n
				})
			})
		}
		function c(n) {
			var i = t.SERVER_0 + "m/font/getLicense/" + n;
			return e({
				withCredentials: !0,
				method: "GET",
				url: i
			})
		}
		function l(n, i) {
			var o = t.SERVER_0 + "m/material/user/buyList/reset";
			return e({
				withCredentials: !0,
				method: "POST",
				url: o,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: $.param({
					fileType: n,
					fileInfo: JSON.stringify(i)
				})
			})
		}
		return {
			buyMaterial: n,
			buyClickFarmer: r,
			saveOrderToBusinessCity: i,
			checkPurchased: s,
			getFontLicense: c,
			checkProductExist: l,
			saveToMyResource: o
		}
	}
	n.$inject = ["$http", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(n, i, o) {
			var a = "m/scene/audio/transfer";
			return a += "?path=" + n,
			o && (o = Math.floor(o), a += "&start=" + i + "&duration=" + o),
			e({
				method: "POST",
				url: t.SERVER_0 + a,
				loading: !0
			})
		}
		function a(n) {
			return e({
				method: "GET",
				url: t.SERVER_0 + "m/scene/audio/cut/info?id=" + n,
				loading: !0
			})
		}
		function r(n) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/scene/audio/cut/save",
				data: n,
				loading: !0
			})
		}
		function s(o) {
			return o ? (c[o] || (c[o] = Date.now()), e({
				withCredentials: !0,
				method: "GET",
				url: t.SERVER_0 + "m/scene/audio/status?pid=" + o
			}).then(function(e) {
				var t = e.data.map.code;
				switch (t) {
				case 0:
					return e.data.map.path;
				case 1:
				case 2:
					return Date.now() - c[o] > 6e4 ? n.reject("裁切失败") : i(function() {
						return s(o)
					},
					2e3);
				case 3:
				case 4:
				default:
					return n.reject("裁切失败")
				}
			})):
			n.reject()
		}
		var c = {};
		return {
			crop: o,
			getCropInfo: a,
			saveCropInfo: r,
			pollingStatus: s
		}
	}
	n.$inject = ["$http", "HOST", "$q", "$timeout"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(n) {
			return t({
				method: "GET",
				url: e.SERVER_0 + "m/promotion/order/statistics",
				params: {
					orderId: n
				}
			})
		}
		function i(n) {
			return t({
				method: "POST",
				url: e.SERVER_0 + "m/accept/task/create",
				data: {
					orderId: n
				}
			})
		}
		function o(n) {
			var i = "m/accept/task/" + n;
			return t({
				withCredentials: !0,
				method: "GET",
				url: e.SERVER_0 + i,
				params: {
					time: (new Date).getTime()
				}
			})
		}
		function a(n) {
			var i = "m/promotion/order/xb",
			o = {
				orderId: n,
				time: (new Date).getTime()
			};
			return t({
				withCredentials: !0,
				method: "GET",
				url: e.SERVER_0 + i,
				params: o
			}).then(function(e) {
				if (200 === e.data.code) {
					var t = {
						orderTpl: e.data.obj
					};
					return t
				}
				return {}
			})
		}
		return {
			orderAttendCount: n,
			receiveOrder: i,
			getTaskDetail: o,
			getTemplate: a
		}
	}
	n.$inject = ["HOST", "$http"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(n) {
			return e({
				method: "GET",
				withCredentials: !0,
				url: t.SERVER_0 + "m/yqc/ad/showStatus/get",
				params: {
					sceneId: n,
					time: Date.now()
				}
			})
		}
		function o(i, o) {
			return [1, -1, -2].indexOf(o) === -1 ? n.reject("非法的 yqcAdStatus " + o) : e({
				method: "POST",
				url: t.SERVER_0 + "m/yqc/ad/adTask/create",
				params: {
					sceneId: i,
					status: o
				}
			}).then(function(e) {
				return !! (e && e.data && e.data.obj) || n.reject(!1)
			})
		}
		return {
			getYqcInfo: i,
			setYqcAdStatus: o
		}
	}
	n.$inject = ["$http", "HOST", "$q"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.const", []).constant("HOST", n(118)).constant("TYPE", n(120)).constant("ROLE", n(121)).constant("SCENE_TYPES", n(122)).constant("PAGE_MODES", n(123)).constant("FILE_TYPE", n(124)).constant("WARN_TYPE", n(125)).constant("AUTHORITY", n(126)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		return e && e.startsWith("//") ? a + e: e
	}
	var o = n(119),
	a = window.location.protocol;
	"file:" == a && (a = "http:"),
	Object.keys(o).forEach(function(e) {
		var t = o[e];
		"string" == typeof t && (o[e] = i(t)),
		Array.isArray(e) && t.forEach(function(e, n) {
			"string" == typeof e && (t[n] = i(e))
		})
	});
	var r = o.HOST,
	s = o.SERVER_0,
	c = o.SERVER_0_VIP,
	l = o.SERVER_1,
	p = o.SERVER_2,
	d = o.PAY_HOST,
	u = o.MALL_HOST,
	g = o.QUERY_SERVER,
	m = o.BIG_DATA,
	f = o.FILE,
	h = o.MALL_BUY_ID;
	if (! (r && s && c && l && p && d && u && g && f && h)) throw new Error("lack of some HOST url");
	var v = {
		QQMap: "//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",
		datePicker: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",
		moment: "//lib.eqh5.com/moment.js/2.15.2/moment.min.js",
		datePickerCss: "//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",
		imgJcropJs: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",
		imgJcropCss: "//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",
		plupload: "//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",
		qiniu: "//lib.eqh5.com/qiniu-js/1.0.17.1/qiniu.min.js",
		canvg: "//lib.eqh5.com/canvg/0.0.1/canvg.min.js",
		html2canvas: "//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js"
	},
	y = {
		HOST: r,
		SERVER_0: s,
		SERVER_0_VIP: c,
		SERVER_1: l,
		SERVER_2: p,
		PAY_HOST: d,
		MALL_HOST: u,
		QUERY_SERVER: g,
		BIG_DATA: m,
		FILE: f,
		MALL_BUY_ID: h,
		PATH: v
	};
	console.log("HOST", y),
	e.exports = y
},
function(e, t) {
	"use strict";
	e.exports = {
		buildDir: "build/",
		publicHost: "http://as.eqh5.com/",
		publicPath: "http://as.eqh5.com/c/",
		HOST: "http://www.eqxiu.com/",
		SERVER_0: "http://service.eqxiu.com/",
		SERVER_0_VIP: "http://vservice.eqxiu.com/",
		SERVER_1: "http://s1.eqxiu.com/",
		SERVER_2: "http://s2.eqxiu.com/",
		SERVER_6: "http://s6.eqxiu.com/",
		PAY_HOST: "http://www.eqxiu.com/",
		MALL_HOST: "http://store.eqxiu.com/",
		BIG_DATA: "http://datalog.eqxiu.com/",
		QUERY_SERVER: "http://search.eqxiu.com/",
		FILE: "http://res1.eqh5.com/",
		MALL_BUY_ID: "10002"
	}
},
function(e, t) {
	"use strict";
	e.exports = {
		sceneTypes: [{
			name: "行业",
			value: "101"
		},
		{
			name: "个人",
			value: "102"
		},
		{
			name: "企业",
			value: "103"
		},
		{
			name: "节假",
			value: "104"
		},
		{
			name: "风格",
			value: "105"
		},
		{
			name: "品牌",
			value: "106"
		}],
		pageTpls: {
			1101 : [{
				id: 1,
				name: "图文",
				bizType: 1101
			},
			{
				id: 2,
				name: "图集",
				bizType: 1101
			},
			{
				id: 4,
				name: "文字",
				bizType: 1101
			},
			{
				id: 5,
				name: "图表",
				bizType: 1101
			}],
			1102 : [{
				id: 6,
				name: "报名表",
				bizType: 1102
			},
			{
				id: 8,
				name: "留言",
				bizType: 1102
			},
			{
				id: 9,
				name: "联系",
				bizType: 1102
			}],
			1103 : [{
				id: 15,
				name: "黑白",
				bizType: 1103
			},
			{
				id: 16,
				name: "红色",
				bizType: 1103
			},
			{
				id: 17,
				name: "怀旧",
				bizType: 1103
			},
			{
				id: 18,
				name: "现代",
				bizType: 1103
			},
			{
				id: 19,
				name: "扁平化",
				bizType: 1103
			},
			{
				id: 120,
				name: "黄色",
				bizType: 1103
			},
			{
				id: 121,
				name: "绿色",
				bizType: 1103
			},
			{
				id: 122,
				name: "紫色",
				bizType: 1103
			},
			{
				id: 123,
				name: "黑色",
				bizType: 1103
			},
			{
				id: 124,
				name: "白色",
				bizType: 1103
			},
			{
				id: 125,
				name: "其他",
				bizType: 1103
			},
			{
				id: 260,
				name: "English",
				bizType: 1103
			},
			{
				id: 262,
				name: "Android",
				bizType: 1103
			}]
		},
		audioTypes: [{
			id: 12918,
			name: "安静",
			value: "2"
		},
		{
			id: 12919,
			name: "欢快",
			value: "3"
		},
		{
			id: 12920,
			name: "甜蜜",
			value: "4"
		},
		{
			id: 48372,
			name: "伤感",
			value: "5"
		},
		{
			id: 48373,
			name: "励志",
			value: "6"
		},
		{
			id: 48374,
			name: "美好",
			value: "7"
		},
		{
			id: 48375,
			name: "轻松",
			value: "8"
		}],
		soundTypes: [{
			id: 29331,
			name: "交通",
			value: "2"
		},
		{
			id: 48376,
			name: "人物",
			value: "3"
		},
		{
			id: 48377,
			name: "生活",
			value: "4"
		},
		{
			id: 48378,
			name: "自然",
			value: "5"
		},
		{
			id: 48379,
			name: "动物",
			value: "6"
		},
		{
			id: 48380,
			name: "科技",
			value: "7"
		},
		{
			id: 48381,
			name: "卡通",
			value: "8"
		},
		{
			id: 48382,
			name: "其它",
			value: "9"
		}]
	}
},
function(e, t) {
	"use strict";
	e.exports = {}
},
function(e, t) {
	"use strict";
	e.exports = [{
		name: "行业",
		value: "101"
	},
	{
		name: "个人",
		value: "102"
	},
	{
		name: "企业",
		value: "103"
	},
	{
		name: "节假",
		value: "104"
	},
	{
		name: "风格",
		value: "105"
	},
	{
		name: "品牌",
		value: "106"
	}]
},
function(e, t) {
	"use strict";
	e.exports = [{
		name: "上下翻页",
		type: 0
	},
	{
		name: "上下惯性翻页",
		type: 1
	},
	{
		name: "左右惯性翻页",
		type: 3
	},
	{
		name: "左右翻页",
		type: 4
	},
	{
		name: "左右连续翻页",
		type: 5
	},
	{
		name: "立体翻页",
		type: 6
	},
	{
		name: "卡片翻页",
		type: 7
	},
	{
		name: "放大翻页",
		type: 8
	},
	{
		name: "交换翻页",
		type: 9
	},
	{
		name: "翻书翻页",
		type: 10
	},
	{
		name: "上下连续翻页",
		type: 11
	},
	{
		name: "掉落翻页",
		type: 12
	},
	{
		name: "淡入翻页",
		type: 13
	}]
},
function(e, t) {
	"use strict";
	e.exports = {
		image: 1,
		audio: 2,
		video: 3,
		text: 4,
		word: 5,
		svg: 7
	}
},
function(e, t) {
	"use strict";
	e.exports = {
		normal: "normal",
		warn: "warning",
		alert: "alerting"
	}
},
function(e, t) {
	"use strict";
	var n = {
		pageScroll: [1],
		loadingLogo: [1, 3, 4, 5, 51, 98, 99],
		corandingBottomLogo: [5, 51],
		shareApplyAppTempButton: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51, 98, 602],
		shareApplyAppTempEntrance: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51],
		shareApplyPCTempEntrance: [602],
		shareApplyPCTempNormal: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 5, 51, 98],
		tplShowCompany: [3, 4, 5, 51, 98, 99],
		disableLongPage: [1, 2],
		showCompManage: [1],
		company: [1, 3, 4, 5, 51, 98, 99],
		saveTplEditor: [1, 2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98],
		saveTplCompany: [201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 2, 99],
		saveTplPersonal: [2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109],
		TplCenterCompanyTpl: [3, 4, 5, 51, 98, 99, 602],
		richTxtTool: [602],
		disableBuyPersonalFont: [5, 2, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109],
		disablePsd: [1, 2, 21, 602],
		toolZoom: [1, 2, 21],
		deleteImgTips: [1, 2, 21],
		styleBackground: [602],
		styleOpacity: [602],
		styleFixedComp: [602],
		stylePaddingTop: [602],
		styleBoxShadow: [602],
		styleBoxBorderRadian: [602],
		styleBoxBorderRotate: [602],
		styleLineHeight: [602],
		styleFillFontWeight: [602],
		styleFillFontItalic: [602],
		styleFillUnderLine: [602],
		styleFillLineThrough: [602],
		styleFillAddLink: [602],
		styleFillRemoveLink: [602],
		styleFillLetterSpacing: [602],
		styleFillName: [602],
		styleFillStatus: [602],
		styleFillRemark: [602],
		animationTyper: [602],
		styleTrigger: [602],
		styleBoxBorderStyle: [602],
		styleAnimationOnly: [602],
		compAtlas: [602],
		hideAdvancedShortCut: [5, 51, 602],
		compPV: [602],
		compWechat: [602],
		compRadio: [602],
		compMultiRadio: [602],
		compCount: [602],
		compDropdown: [602],
		compChart: [602],
		compComment: [602],
		compVideo: [602],
		compTime: [602],
		compVote: [602],
		compAdvertisement: [1, 5, 2, 51, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 602],
		contextMenuLink: [602],
		contextMenuTrigger: [602],
		resizeRotate: [602],
		templateMaterial: [602],
		personal: [2, 21, 201, 202, 203, 204, 206, 207, 208, 209, 2101, 2102, 2103, 2104, 2106, 2107, 2108, 2109, 3, 4, 5, 51, 98, 99, 602]
	};
	e.exports = {
		authority: n
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.directives", [n(128), n(129), n(130), n(131), n(132), n(133)]).directive("outsideClick", n(134)).directive("eqxLoadingImage", n(135)).directive("authority", n(136)).directive("hoverElement", n(137)).directive("bigDataEvent", n(138)).directive("compile", ["$compile", "$timeout",
	function(e, t) {
		"ngInject";
		return {
			restrict: "A",
			link: function(n, i) {
				t(function() {
					e(i.contents())(n)
				})
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("eqx.directives.scroll", []).directive("eqdScroll",
	function() {
		"ngInject";
		return function(e, t, n) {
			t.css({
				position: "relative",
				overflow: "hidden"
			});
			var i, o = {
				mouseWheel: !0,
				scrollbars: !0,
				interactiveScrollbars: !0,
				probeType: 2,
				bounce: !1,
				disableMouse: !0,
				disableTouch: !0,
				preventDefault: !1
			},
			a = new IScroll(t.get(0), o),
			r = e.$watch(function() {
				clearTimeout(i),
				i = setTimeout(function() {
					a.refresh()
				},
				100)
			});
			n.refresh && (a.on("scrollStart",
			function() {
				t.children().on("mousewheel",
				function() {
					a.y <= a.maxScrollY + 200 && e.$eval(n.refresh)
				})
			}), a.on("scrollEnd",
			function() {
				t.children().unbind("mousewheel")
			})),
			n.changePos && a.on("scrollEnd",
			function() {
				e.pos = {
					y: a.y
				},
				e.$eval(n.changePos)
			}),
			t.on("$destroy",
			function() {
				a.destroy(),
				a = null,
				r(),
				clearTimeout(i)
			}),
			e.$on("scroll.refresh." + n.scroll,
			function() {
				i = setTimeout(function() {
					a.refresh()
				},
				100)
			}),
			e.$on("scroll.scrollTo",
			function(e, t, n) {
				a.scrollTo(t, n)
			})
		}
	}).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directive.string", []).directive("eqxStr",
	function() {
		"ngInject";
		return {
			require: "ngModel",
			link: function(e, t, n, i) {
				i.$formatters.push(function(e) {
					return angular.isString(e) ? e.trim() : e
				}),
				i.$parsers.push(function(e) {
					return angular.isString(e) ? e.trim() : e
				})
			}
		}
	}).filter("maxLength",
	function() {
		"ngInject";
		return function(e, t) {
			if (e) return e.length <= t ? e: e.substr(0, t) + "…"
		}
	}).directive("checkCount", ["validCharacterNumFilter",
	function(e) {
		"ngInject";
		return {
			restrict: "EA",
			require: "ngModel",
			link: function(t, n, i, o) {
				var a = parseInt(i.checkCount, 10),
				r = e;
				o.$viewChangeListeners.push(function() {
					if (r(o.$modelValue) > a) {
						var e = o.$modelValue.replace(/[^\x00-\xff]/g, "ξξ"),
						t = e.substring(0, a).replace(/ξξ/g, "灪").replace("ξ", "").length;
						o.$setViewValue(o.$modelValue.substring(0, t)),
						o.$render()
					}
				})
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directive.integer", []).directive("eqxInteger",
	function() {
		"ngInject";
		return {
			require: "ngModel",
			link: function(e, t, n, i) {
				var o = parseInt(n.eqxInteger || "10");
				i.$formatters.push(function(e) {
					return angular.isNumber(e) ? e.toString(o) : e
				}),
				i.$parsers.push(function(e) {
					return angular.isString(e) ? parseInt(e, o) : e
				})
			}
		}
	}).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directive.slideInput", []).directive("eqdInputNumber",
	function() {
		"ngInject";
		function e(e, l, p, d) {
			l.on("$destroy",
			function() {
				l.unbind("mousedown")
			});
			var u = "string" == typeof p.min ? p.min: -Number.MAX_VALUE,
			g = "string" == typeof p.max ? p.max: Number.MAX_VALUE,
			m = "string" == typeof p.unit ? p.unit: "px",
			f = "string" == typeof p.step ? p.step: "1",
			h = 0;
			f.indexOf(".") > -1 && (h = f.split(".")[1].length),
			"px" == m ? (d.$parsers.push(t), d.$formatters.push(n)) : "deg" == m ? (m = "", d.$parsers.push(i), d.$formatters.push(o)) : "%" == m ? (d.$parsers.push(a), d.$formatters.push(r)) : d.$parsers.push(s),
			l.mousedown(function(t) {
				function n(t) {
					t.preventDefault(),
					o = t.pageX - r;
					var n = +(a + o * f).toFixed(h);
					n >= u && n <= g ? n += m: n < u ? n = u + m: n > g && (n = g + m),
					d.$viewValue != n && (d.$setViewValue(n), d.$render(), e.$apply())
				}
				function i() {
					c.unbind("mousemove", n),
					c.unbind("mouseup", i)
				}
				var o, a = parseFloat(l.val()) || 0,
				r = t.pageX;
				c.mousemove(n),
				c.mouseup(i)
			}).keydown(function(e) {
				var t = e.keyCode;
				return !! (t >= 48 && t <= 57 || t >= 96 && t <= 105 || 36 == t || 35 == t || 37 == t || 39 == t || 8 == t || 46 == t)
			})
		}
		function t(e) {
			return e = /-?\d+/.exec(e),
			e ? parseFloat(e) + "px": "0"
		}
		function n(e) {
			return /-?\d+/.exec(e) + "px"
		}
		function i(e) {
			return e = /\d+/.exec(e),
			e ? "rotateZ(" + parseFloat(e) + "deg)": "rotateZ(0)"
		}
		function o(e) {
			return /\d+/.exec(e)
		}
		function a(e) {
			return e = /\d+/.exec(e),
			e ? e / 100 + "": "0"
		}
		function r(e) {
			return 100 * e + "%"
		}
		function s(e) {
			return "" === e && (e = "0"),
			parseFloat(e) + ""
		}
		var c = $(document);
		return {
			restrict: "E",
			require: "ngModel",
			template: '<input class="eqc-input-number"/>',
			replace: !0,
			link: e
		}
	}).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("directives.qrcode", []).directive("qrCode", ["HOST", "EqxCore",
	function(e, t) {
		"ngInject";
		return {
			restrict: "A",
			scope: {
				qrUrl: "@"
			},
			link: function(e, n, i) {
				var o = t.loader;
				e.$watch("qrUrl",
				function(e) {
					$("canvas", n).length > 0 && $("canvas", n).remove(),
					e && o.$loadQRCode().then(function() {
						n.qrcode({
							render: "canvas",
							width: 180,
							height: 180,
							text: e + (/\?/.test(e) ? "&": "?") + "eqrcode=1"
						})
					})
				})
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			scope: {},
			replace: !0,
			template: '<em class="effect-tip heart" ng-if="!vm.show"></em>',
			link: function(t, n, i) {
				var o = i.eqxRedDot;
				t.vm = {
					get show() {
						return e.getItem(o)
					}
				}
			}
		}
	}
	function i(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t, n, i) {
				var o = i.eqxRedDotTrigger;
				n.on("click",
				function() {
					t.$apply(function() {
						e.getItem(o) || e.setItem(o, !0)
					})
				})
			}
		}
	}
	n.$inject = ["storageService"],
	i.$inject = ["storageService"],
	e.exports = angular.module("common.redDot", []).directive("eqxRedDot", n).directive("eqxRedDotTrigger", i).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		return {
			link: function(n, i, o) {
				var a = o.outsideClick,
				r = function(e) {
					var t = i.find(e.target).length > 0;
					t || n.$apply(a)
				};
				t(function() {
					e.on("click", r),
					i.on("$destroy",
					function() {
						e.off("click", r)
					})
				},
				0)
			}
		}
	}
	n.$inject = ["$document", "$timeout"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			restrict: "EA",
			scope: {},
			template: '<div style=" background: no-repeat center;width: 100%;height: 100%;"></div>',
			replace: !0,
			link: function(e, t, n) {
				var i = "data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E";
				t.css({
					"background-image": "url(" + i + ")",
					"background-size": "50%"
				});
				var o = new Image;
				o.onload = function() {
					var e = t.parent("li"),
					i = e.width(),
					o = e.height();
					this.width <= i && this.height <= o ? t.css({
						"background-size": "auto"
					}) : t.css({
						"background-size": "contain"
					}),
					t.css({
						"background-image": "url(" + n.url + ")"
					})
				},
				o.src = n.url
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t, n, i) {
				e.permission(i.authority) && n.hide()
			}
		}
	}
	n.$inject = ["authorityService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e(e, t) {
			var n = $('<div class="hover-element-flash"><div class="red-border"></div></div>');
			t.hover(function() {
				var t = $("#inside_" + e.hoverElement);
				n.appendTo(t)
			},
			function() {
				n.remove()
			})
		}
		return {
			restrict: "A",
			scope: {
				hoverElement: "@hoverElement"
			},
			link: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "EA",
			controller: function() {},
			link: function(t, n) {
				n.on("click",
				function() {
					var i = n.attr("categoryTwoId"),
					o = n.attr("categoryTwo"),
					a = n.attr("categoryThreeId"),
					r = n.attr("categoryThree"),
					s = n.attr("itemMaps");
					if (s) try {
						s = JSON.parse(s)
					} catch(c) {
						console.warn(c)
					}
					var l = n.attr("actionType");
					t.$apply(function() {
						return e.addSendList(i, o, a, r, s, l)
					})
				})
			}
		}
	}
	n.$inject = ["bigDataService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("service.security", ["eqx.ng.auth", "eqx.ng.dialog"]).factory("securityRetryQueue", n(140)).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = [],
		i = {
			onItemAddedCallbacks: [],
			hasMore: function() {
				return n.length > 0
			},
			pushRetryFn: function(o, a) {
				var r = e.defer(),
				s = {
					reason: a,
					retry: function() {
						return e.when(o()).then(function(e) {
							r.resolve(e)
						},
						function(e) {
							r.reject(e)
						})
					},
					cancel: function() {
						r.reject("manual cancel")
					}
				};
				return n.push(s),
				angular.forEach(i.onItemAddedCallbacks,
				function(e) {
					try {
						e(s)
					} catch(n) {
						t.error("securityRetryQueue.push(retryItem): callback threw an error" + n)
					}
				}),
				r.promise
			},
			cancelAll: function() {
				for (; i.hasMore();) n.shift().cancel()
			},
			retryAll: function() {
				for (; i.hasMore();) n.shift().retry()
			}
		};
		return i
	}
	n.$inject = ["$q", "$log"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource", [n(142), n(153), n(156), n(244)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource.service", []).factory("imageService", n(143)).factory("shapeService", n(146)).factory("musicService", n(147)).factory("fontService", n(148)).factory("imgGroupService", n(149)).factory("recentlyUseService", n(150)).factory("imgUtil", n(151)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, o, a, s) {
		var c = n(145),
		l = r(e, t, o, a, s),
		p = l.$getTags,
		d = l.addUseHistory;
		return l.config = e,
		l.$getCategories = function() {
			return l.categories.length > 5 ? t.resolve(l.categories) : o.getSysCategories(e.fileType).then(function(e) {
				var t, n = e.data.list.map(function(e) {
					var t = e.id,
					n = e.name;
					return {
						id: t,
						name: n,
						list: []
					}
				});
				return (t = l.categories).splice.apply(t, [1, 0].concat(i(n))),
				l.categories
			})
		},
		l.$getTags = function(t) {
			return p(t).then(function(n) {
				var i = l.getCategory(t);
				return i && 1301 == i.bizType && "bgColor" !== i.list[i.list.length - 1].id && n.push({
					bizType: i.bizType,
					id: "bgColor",
					list: {
						1 : c.slice(0, 18),
						2 : c.slice(18)
					},
					name: "纯色背景",
					pageSize: e.pageSize,
					count: 35,
					isLastPage: !0,
					isBusy: !1
				}),
				n
			})
		},
		l.addUseHistory = function() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			t = t.filter(function(e) {
				return e.tmbPath
			}),
			d.apply(void 0, i(t))
		},
		l
	}
	function a(e, t, n, i) {
		"ngInject";
		return {
			image: o({
				fileType: 1,
				pageSize: 18,
				name: "image",
				showSysTags: !0,
				showUserTags: !0,
				showRecentTags: !1,
				cat: 1,
				newest: 1103
			},
			e, t, n, i),
			bg: o({
				fileType: 1,
				pageSize: 18,
				name: "image",
				showSysTags: !0,
				showUserTags: !0,
				showRecentTags: !1,
				cat: 1,
				newest: 1103
			},
			e, t, n, i)
		}
	}
	a.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService"];
	var r = n(144);
	e.exports = a
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o, a, r) {
		function s() {
			return q.length > 5 ? t.resolve(q) : i.getSysCategories(v).then(function(e) {
				return e = e.map(function(e) {
					var t = e.id,
					n = e.name,
					i = e.bizType;
					return {
						id: t,
						name: n,
						bizType: i,
						showTags: x,
						list: []
					}
				}),
				q.splice.apply(q, [1, 0].concat(n(e))),
				q
			})
		}
		function c() {
			for (var e = arguments.length,
			t = Array(e), i = 0; i < e; i++) t[i] = arguments[i];
			t = t.filter(function(e) {
				return e && e.id
			}),
			$.addItems.apply($, n(t)),
			o.saveFilesHistory.apply(o, n(t))
		}
		function l(e) {
			return q.find(function(t) {
				return t.id == e
			})
		}
		function p(e) {
			var o = l(e);
			if (!o) return t.reject("no such category");
			if (o.list.length) return t.resolve(o.list);
			if (e == T.my) var a = i.getUserTags(v);
			else a = i.getSysTags(v, o.bizType);
			return a.then(function(e) {
				var t, i = e.data.list.map(function(e) {
					var t = e.bizType,
					n = e.createTime,
					i = e.createUser,
					o = e.id,
					a = e.name,
					r = e.sort;
					return {
						bizType: t,
						createTime: n,
						createUser: i,
						id: o,
						name: a,
						sort: r,
						pageSize: y,
						list: {},
						count: -1,
						isLastPage: !1,
						isBusy: !1
					}
				});
				return i.unshift({
					bizType: o.bizType,
					id: o.id + "-all",
					list: {},
					name: "全部",
					pageSize: y,
					count: -1,
					isLastPage: !1,
					isBusy: !1
				}),
				(t = o.list).push.apply(t, n(i)),
				o.list
			})
		}
		function d(e, t) {
			var n = g(e, t);
			n && Object.assign(n, {
				list: {},
				count: -1,
				isLastPage: !1,
				isBusy: !1
			})
		}
		function u(n, i) {
			var a = arguments.length <= 2 || void 0 === arguments[2] ? 1 : arguments[2],
			s = arguments[3],
			c = q.find(function(e) {
				return e.id === n
			});
			if (!c) return t.resolve([]);
			var l = c.list.find(function(e) {
				return e.id === i
			});
			if (!l) return t.resolve([]);
			if ("my" === n && "my-all" === i) {
				if (l.list[a] && l.list[a].length === l.pageSize) return t.resolve(l.list[a])
			} else if (l.list[a]) return t.resolve(l.list[a]);
			if (l.isBusy) return t.resolve([]);
			var p = l.pageSize,
			d = l.bizType,
			u = l.count;
			if (u > 0 && (a - 1) * p > u) return t.resolve([]);
			if (l.isBusy = !0, i === n + "-all" && (i = void 0), n === T.my) var g = o.getUserUploadItems({
				fileType: v,
				tagId: i,
				pageNo: a,
				pageSize: p
			});
			else if (n === T.search) g = o.searchMaterial(e.cat, s, a, p);
			else if (n === T.myPurchase) g = e.cat && 3 === e.cat ? r.getMyFontFamily(a, p) : o.getUserPurchaseItems({
				fileType: v,
				pageNo: a,
				pageSize: p
			});
			else {
				var m = {
					music: 3,
					sound: 3,
					image: 1,
					font: 4
				};
				g = void 0 != m[e.name] ? o.getSysMaterialItems({
					attrGroupId: m[e.name],
					category: n,
					pageNo: a,
					pageSize: p
				}) : o.getSysItems({
					fileType: v,
					bizType: d,
					tagId: i,
					pageNo: a,
					pageSize: p
				})
			}
			return g.then(function(t) {
				var i = t.data.map || {
					count: 0,
					pageSize: p,
					pageNo: a
				},
				o = [];
				o = "image" == e.name && n != T.my && n != T.myPurchase && n != T.recently ? t.data.list.map(function(e) {
					return {
						id: e.id,
						libType: e.brandId,
						name: e.title,
						path: e.mid_pic,
						price: e.price,
						sort: e.sort,
						status: e.status,
						tagNames: e.tags,
						tmbPath: e.tmbPath,
						fileType: v
					}
				}) : t.data.list;
				var r = i.pageNo;
				return r !== a && console.error("newPageNo != pageNo"),
				l.count = i.count,
				l.isLastPage = i.pageSize > o.length,
				l.list[a] = o,
				l.list[a]
			})["catch"](function() {
				return []
			})["finally"](function() {
				l.isBusy = !1
			})
		}
		function g(e, t) {
			var n = l(e);
			if (n) return n.list.find(function(e) {
				return e.id === t
			})
		}
		function m(e) {
			return o.saveFileInfo(e).then(function(t) {
				var n = t.data.obj;
				return 0 !== e.tagId && f(e.tagId, n),
				f(T.my + "-all", n),
				n
			})
		}
		function f(e, t) {
			var n = g(T.my, e);
			if (n) {
				var i = Object.keys(n.list).map(function(e) {
					return n.list[e]
				}).reduce(function(e, t) {
					return e.concat(t)
				},
				[t]);
				n.count++;
				for (var o = 1; i.length;) n.list[o++] = i.splice(0, y)
			}
		}
		var h = e.name,
		v = e.fileType,
		y = e.pageSize,
		b = e.showSysTags,
		x = void 0 === b || b,
		w = e.showUserTags,
		S = void 0 === w || w,
		k = e.showRecentTags,
		C = void 0 !== k && k,
		T = {
			my: "my",
			myPurchase: "myPurchase",
			recently: "recently",
			newest: e.newest || "newest",
			search: "search"
		},
		$ = a.get(h, y),
		q = [{
			id: T.newest,
			name: "最新",
			bizType: 0,
			showTags: !1,
			list: [{
				bizType: 0,
				id: T.newest + "-all",
				list: {},
				name: "全部",
				pageSize: y,
				count: -1,
				isLastPage: !1,
				isBusy: !1
			}]
		},
		{
			id: T.search,
			name: "搜索",
			bizType: 0,
			showTags: !1,
			list: [{
				bizType: 0,
				id: T.search + "-all",
				list: {},
				name: "全部",
				pageSize: y,
				count: -1,
				isLastPage: !1,
				isBusy: !1
			}]
		},
		{
			id: T.my,
			name: "我的",
			bizType: 0,
			showTags: S,
			list: []
		},
		{
			id: T.myPurchase,
			name: "我的购买",
			bizType: 0,
			showTags: !1,
			list: []
		},
		{
			id: T.recently,
			name: "最近使用",
			bizType: 0,
			showTags: C,
			list: [{
				bizType: 0,
				id: T.recently + "-all",
				list: {
					1 : $.getList()
				},
				name: "全部",
				pageSize: y,
				count: y,
				isLastPage: !0,
				isBusy: !1
			}]
		}];
		return {
			categories: q,
			$getCategories: s,
			getCategory: l,
			$getTags: p,
			getTag: g,
			$getMoreItems: u,
			addUseHistory: c,
			clearTag: d,
			saveFileInfo: m,
			ID: T,
			addItem: f,
			config: e
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = [{
		color: "#6366C3"
	},
	{
		color: "#29A1D6"
	},
	{
		color: "#332E42"
	},
	{
		color: "#DBF3FF"
	},
	{
		color: "#434A54"
	},
	{
		color: "#000000"
	},
	{
		color: "#F1F03E"
	},
	{
		color: "#FCF08E"
	},
	{
		color: "#972D53"
	},
	{
		color: "#724192"
	},
	{
		color: "#967BDC"
	},
	{
		color: "#EC87C1"
	},
	{
		color: "#D870AF"
	},
	{
		color: "#F6F7FB"
	},
	{
		color: "#666C78"
	},
	{
		color: "#ABB1BD"
	},
	{
		color: "#CCD0D9"
	},
	{
		color: "#E6E9EE"
	},
	{
		color: "#48CFAE"
	},
	{
		color: "#36BC9B"
	},
	{
		color: "#3BAEDA"
	},
	{
		color: "#50C1E9"
	},
	{
		color: "#AC92ED"
	},
	{
		color: "#4B89DC"
	},
	{
		color: "#4B89DC"
	},
	{
		color: "#5D9CEC"
	},
	{
		color: "#8DC153"
	},
	{
		color: "#ED5564"
	},
	{
		color: "#DB4453"
	},
	{
		color: "#FB6E52"
	},
	{
		color: "#FFCE55"
	},
	{
		color: "#F6BB43"
	},
	{
		color: "#E9573E"
	},
	{
		color: "#9FF592"
	},
	{
		color: "#A0D468"
	}]
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		function a(t) {
			return r[t] ? e.resolve(JSON.parse(JSON.stringify(r[t]))) : n.getSvgElement(t).then(function(e) {
				for (var n, i = $(e.data), o = i.length, a = 0; a < o; a++) if ("svg" === i[a].tagName) {
					n = i[a];
					break
				}
				var s = parseFloat($(n).attr("width")),
				c = parseFloat($(n).attr("height"));
				s > c ? (s = 100 * s / c + "px", c = "100px") : (c = 100 * c / s + "px", s = "100px");
				var l = $(n).find("[fill], [style*='fill']"),
				p = [],
				d = [],
				u = {};
				$.each(l,
				function(e, t) {
					var n = $(t).attr("style");
					if (n) {
						for (var i = n.split(";"), o = 0, a = i.length; o < a; o++) if (i[o].indexOf("fill:") >= 0) {
							d.push(i[o].split(":")[1]);
							break
						}
					} else d.push($(t).attr("fill"))
				});
				for (var g = 0; g < d.length; g++) u[d[g]] || (u[d[g]] = 1, "none" !== d[g] ? p.push({
					fill: d[g],
					svgFill: d[g]
				}) : p.push({
					fill: "",
					svgFill: "none"
				}));
				for (var m = 0; m < p.length; m++) {
					var f = [];
					$.each(l,
					function(e, t) {
						var n, i = $(t).attr("style");
						if (i) {
							for (var o = i.split(";"), a = 0, r = o.length; a < r; a++) if (o[a].indexOf("fill:") >= 0) {
								n = o[a].split(":")[1];
								break
							}
						} else n = $(t).attr("fill");
						n === p[m].svgFill && f.push(e)
					}),
					p[m].elements = f
				}
				return r[t] = {
					width: s,
					height: c,
					items: p
				}
			})
		}
		var r = {},
		s = {
			fileType: 7,
			pageSize: 18,
			name: "shape",
			showSysTags: !0,
			showUserTags: !1,
			showRecentTags: !1
		},
		c = o(s, e, t, n, i);
		return c.config = s,
		c.parse = a,
		c
	}
	i.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService"];
	var o = n(144);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, o) {
		function r(t) {
			return i.addMusicLink(e.fileType, t)
		}
		function s(e) {
			return i.deleteFile(e)
		}
		var c = a(e, t, n, i, o);
		return c.addMusicLink = r,
		c.deleteMySound = s,
		c.config = e,
		c
	}
	function o(e, t, n, o) {
		"ngInject";
		return {
			2 : i({
				fileType: 2,
				pageSize: 10,
				name: "music",
				showSysTags: !1,
				showUserTags: !1,
				showRecentTags: !1,
				cat: 4,
				newest: 200
			},
			e, t, n, o),
			4 : i({
				fileType: 4,
				pageSize: 10,
				name: "sound",
				showSysTags: !1,
				showUserTags: !1,
				showRecentTags: !1,
				cat: 216,
				newest: 216
			},
			e, t, n, o)
		}
	}
	o.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService"];
	var a = n(144);
	e.exports = o
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s, c) {
		"ngInject";
		function l() {
			a.getFontNames(p().join()).then(function(e) {
				for (var t = 0; t < e.data.list.length; t++) {
					var n = e.data.list[t].fontFamily;
					if (v.indexOf(n) === -1) {
						v.push(n);
						var i = "@font-face{font-family:'" + n + "';src: url('" + s.FILE + e.data.list[t].woffPath + "') format('woff'), url('" + s.FILE + e.data.list[t].ttfPath + "') format('truetype');}";
						d(i)
					}
				}
			})
		}
		function p() {
			for (var e = /font-family:(.*?);/g,
			t = null,
			n = [], i = r.getCurrentPage().pageJson.elements, o = 0; o < i.length; o++) if ("2" == i[o].type) for (var a = i[o].content; null !== (t = e.exec(a));) n.push(t[1].trim());
			return n
		}
		function d(e) {
			var t = document.getElementsByTagName("style")[0],
			n = null;
			t || (t = document.createElement("style"), n = document.head || document.getElementsByTagName("head")[0], t.type = "text/css", n.appendChild(t));
			var i = document.createTextNode(e);
			t.appendChild(i)
		}
		function u() {
			return h.myFontLists.length > 0 ? e.resolve(h.myFontLists) : a.getMyFontFamily().then(function(e) {
				return h.myFontLists = e.data.list,
				e.data.list
			})
		}
		function g() {
			c.openFontMarket()
		}
		function m(e) {
			return e.productId && (e.id = e.productId),
			c.buyFont(e)
		}
		var f = {
			fileType: 3,
			pageSize: 9,
			name: "font",
			showSysTags: !1,
			showUserTags: !1,
			showRecentTags: !1,
			cat: 3,
			newest: 3
		},
		h = {
			myFontLists: [],
			personFontNoTip: []
		},
		v = [null, void 0],
		y = o(f, e, t, n, i, a);
		return y.getMyFontList = u,
		y.editFontFamily = l,
		y.openFontShopping = g,
		y.myFont = h,
		y.buyFont = m,
		y.editFontList = v,
		y.config = f,
		y
	}
	i.$inject = ["$q", "tagAPI", "fileAPI", "recentlyUseService", "fontAPI", "sceneService", "HOST", "fontModalFactory"];
	var o = n(144);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(t, n) {
			return e.assignTag(t, n)
		}
		function i(n, i) {
			return parseInt(n) ? e.cancelTag(n, i) : t.deleteFile(i)
		}
		function o(t) {
			return e.createTag(t)
		}
		function a(t) {
			return e.deleteTag(t)
		}
		function r(t, n) {
			return parseInt(t) ? e.clearImgTag(t) : e.clearMyImg(n)
		}
		function s(t, n) {
			return e.modifyTagName(t, n)
		}
		return {
			assignImgGroup: n,
			deleteFile: i,
			createImgGroup: o,
			deleteImgGroup: a,
			clearImgTag: r,
			modifyTagName: s
		}
	}
	n.$inject = ["tagAPI", "fileAPI"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	function i(e, t) {
		"ngInject";
		function i(e, t) {
			return t.every(function(t) {
				return e.hasOwnProperty(t)
			})
		}
		function a(t) {
			var n = arguments.length <= 1 || void 0 === arguments[1] ? 18 : arguments[1],
			i = e.getCurrentUser();
			return t = t + "-recently-" + i.id,
			s[t] ? s[t] : s[t] = new r(t, n)
		}
		var r = function() {
			function e(o) {
				var a = arguments.length <= 1 || void 0 === arguments[1] ? 18 : arguments[1];
				n(this, e),
				this.name = o,
				this.max = a;
				var r = t.getItem(this.name) || [];
				r = r.filter(function(e) {
					return i(e, ["id", "name", "path", "size", "fileType"])
				}),
				this.list = r
			}
			return o(e, [{
				key: "getList",
				value: function() {
					return this.list
				}
			},
			{
				key: "addItems",
				value: function() {
					for (var e = this,
					t = arguments.length,
					n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
					n.forEach(function(t) {
						if (t && t.id) {
							var n = $.extend({},
							t, !0);
							n.price && delete n.price,
							e.deleteItem(n),
							e.list.unshift(n)
						}
					}),
					this.updateList()
				}
			},
			{
				key: "deleteItem",
				value: function(e) {
					if (e && e.id) {
						var t = this.list.findIndex(function(t) {
							return t.id === e.id
						});
						t > -1 && this.list.splice(t, 1),
						this.updateList()
					}
				}
			},
			{
				key: "updateList",
				value: function() {
					this.list.length >= this.max && (this.list.length = this.max),
					t.setItem(this.name, this.list)
				}
			}]),
			e
		} (),
		s = {};
		return {
			get: a
		}
	}
	i.$inject = ["userService", "storageService"];
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} ();
	e.exports = i
},
function(e, t, n) {
	"use strict";
	var i = n(152).loadImg;
	e.exports = ["$q", "HOST",
	function(e, t) {
		"ngInject";
		function n(e) {
			var n = arguments.length <= 1 || void 0 === arguments[1] ? "115x115": arguments[1],
			i = "imageMogr2/auto-orient/thumbnail/" + n + ">/strip",
			o = t.FILE,
			a = e.tmbPath;
			return /\.(gif|ico|svg)$/i.test(a.split("?")[0]) || (a = a.indexOf("?") > -1 ? a + "|" + i: a + "?" + i),
			a = o + a
		}
		function o(t) {
			var o = arguments.length <= 1 || void 0 === arguments[1] ? "115x115": arguments[1];
			if (t.shape) return e.resolve(t.shape);
			var a = n(t, o);
			return i(a).then(function(e) {
				var t = e.width,
				n = e.height;
				return {
					width: t,
					height: n,
					ratio: t / n
				}
			})
		}
		return {
			getImgSrc: n,
			getImgShape: o
		}
	}]
},
function(e, t) {
	"use strict";
	function n(e) {
		return new Promise(function(t, n) {
			var i = new Image;
			i.onload = function() {
				t(this)
			},
			i.onerror = i.onabort = function(t) {
				n("loadImg fail: " + e)
			},
			i.src = e
		})
	}
	e.exports = {
		loadImg: n
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("upload", []).directive("eqxUpload", n(154)).factory("uploaderService", n(155)).name
},
function(e, t) {
	"use strict";
	function n(e, t, n, o, a) {
		"ngInject";
		function r(t, i) {
			function o(e) {
				var t = 0;
				if (!e) return 0;
				for (var n = 0; n < e.length; n++) {
					var i = e.charCodeAt(n);
					i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++:t += 2
				}
				return t
			}
			function a(e) {
				$("#upload-progress").css({
					width: e + "%",
					opacity: 1
				})
			}
			Qiniu.uploader({
				runtimes: "html5,flash,html4",
				browse_button: i.uploadBtn,
				uptoken_url: e.SERVIER_0 + "m/base/file/uptoken?type=image",
				uptoken: i.token,
				unique_names: !0,
				domain: "//qiniu-plupload.qiniudn.com/",
				container: i.uploadCon,
				max_file_size: "100mb",
				max_retries: 3,
				dragdrop: !0,
				chunk_size: "5mb",
				drop_element: i.uploadCon,
				filters: {
					mime_types: [{
						title: "Image files",
						extensions: i.extensions
					}]
				},
				auto_start: !0,
				init: {
					FilesAdded: function(e, t) {
						var a = !0,
						r = !0;
						if (t.forEach(function(t) {
							o(t.name) >= 50 && (e.removeFile(t), a && n.openMsgDialog({
								msg: "文件名称限制在50个字符内"
							}), a = !1);
							var s = t.getNative().size / 1024 / 1024;
							s > parseInt(i.maxFileSize, 10) && (e.removeFile(t), r && n.openMsgDialog({
								msg: "文件大小限制在" + i.maxFileSize + "M内"
							}), r = !1)
						}), i.maxCount && t.length > i.maxCount) {
							t.forEach(function(t) {
								e.removeFile(t)
							});
							var s = "文件个数在 " + i.maxCount + "个内";
							i.msg && (s = i.msg),
							n.openMsgDialog({
								msg: s
							})
						}
					},
					BeforeUpload: function(e, n) {
						t.$apply(function() {
							t.options.uploadTips = "上传中......"
						})
					},
					UploadProgress: function(e, t) {
						a(e.total.percent)
					},
					UploadComplete: function() {
						t.options.uploadTips = "上传",
						$("#upload-progress").css({
							width: 0,
							opacity: 0
						})
					},
					FileUploaded: function(e, n, o) {
						var r = JSON.parse(o);
						a(e.total.percent),
						i.success && t.$apply(function() {
							i.success({
								path: r.key,
								tmbPath: r.key,
								name: r.name,
								size: parseInt(r.size / 1024, 10)
							})
						})
					},
					Error: function(e, t, i) { (t && t.code === -600 || t && "-600" === t.code) && n.openMsgDialog({
							msg: "超出文件上传大小最大限制（100mb）"
						})
					},
					Key: function(e, t) {}
				}
			})
		}
		return {
			restrict: "EA",
			scope: {
				options: "=eqxUpload"
			},
			link: function(e) {
				var n = Object.assign({},
				{
					tokenType: "image",
					extensions: "jpg,gif,png,jpeg",
					maxFileSize: 3,
					uploadBtn: "pickfiles",
					uploadCon: "container",
					maxCount: 10
				},
				e.options);
				o.all([t.getUploadToken(n.tokenType), a.qiniu()]).then(function(t) {
					var o = i(t, 1),
					a = o[0];
					n.token = a,
					r(e, n)
				})
			}
		}
	}
	n.$inject = ["HOST", "uploaderService", "modalService", "$q", "delayLoadService"];
	var i = function() {
		function e(e, t) {
			var n = [],
			i = !0,
			o = !1,
			a = void 0;
			try {
				for (var r, s = e[Symbol.iterator](); ! (i = (r = s.next()).done) && (n.push(r.value), !t || n.length !== t); i = !0);
			} catch(c) {
				o = !0,
				a = c
			} finally {
				try { ! i && s["return"] && s["return"]()
				} finally {
					if (o) throw a
				}
			}
			return n
		}
		return function(t, n) {
			if (Array.isArray(t)) return t;
			if (Symbol.iterator in Object(t)) return e(t, n);
			throw new TypeError("Invalid attempt to destructure non-iterable instance")
		}
	} ();
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = {};
		return i.getUploadToken = function(i) {
			return e({
				method: "POST",
				url: t.SERVER_0 + "m/base/file/uptokens?type=" + i,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				}
			}).then(function(e) {
				return e.data && e.data.map ? e.data.map.token: n.reject()
			})
		},
		i.uploadBase64 = function(e, t) {
			var i = n.defer();
			return $.ajax({
				type: "POST",
				url: "//up.qiniu.com/putb64/-1",
				contentType: "application/octet-stream",
				beforeSend: function(t) {
					t.setRequestHeader("Authorization", "UpToken " + e)
				},
				data: t,
				success: function(e) {
					i.resolve(e)
				},
				error: function(e) {
					i.reject(e)
				}
			}),
			i.promise
		},
		i
	}
	n.$inject = ["$http", "HOST", "$q"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource.ui", [n(157), n(164), n(199), n(224), n(231)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.resource", []).directive("eqxResourceNav",
	function() {
		return {
			template: n(158)
		}
	}).directive("eqxResourceCategory",
	function() {
		return {
			template: n(159)
		}
	}).directive("eqxResourceTags",
	function() {
		return {
			template: n(160)
		}
	}).directive("eqxResourcePagination",
	function() {
		return {
			template: n(161)
		}
	}).directive("eqxResourceLoading",
	function() {
		return {
			template: n(162)
		}
	}).directive("eqxResourceNone",
	function() {
		return {
			template: n(163)
		}
	}).name
},
function(e, t) {
	e.exports = '<ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a data-toggle=tab>图片库</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click=setTab(TAB.my)><a data-toggle=tab>我的图片</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a data-toggle=tab>最近使用</a></li><eqx-image-action></eqx-image-action><eqx-image-upload></eqx-image-upload></ul>'
},
function(e, t) {
	e.exports = '<div class="category_list clearfix"><ul class="category_list_container clearfix"><li class=category_item ng-class="{\'active\': vm.category === category}" ng-repeat="category in vm.categoryList" ng-click=setCategory(category) ng-hide="category.id === \'search\' || category.id === 1103 || category.id === 200 || category.id === 216">{{category.name}}</li></ul><div style=float:right;margin-top:10px;position:relative;font-size:12px;margin-bottom:10px ng-if=vm.showSearch><input style="width:200px;height:30px;border:1px solid #ccd5db;border-radius:2px" class="search pl10" placeholder=搜索 ng-model=vm.search ng-keypress=searchMaterial($event)> <span ng-if="vm.title != \'字体素材\'" style=position:absolute;top:9px;right:8px class=eqf-search ng-click=searchMaterial();></span> <span ng-if="vm.title == \'字体素材\'" style=position:absolute;top:9px;right:8px class=eqf-search big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=字体搜索 categorythreeid=2 actiontype=4 ng-click=searchMaterial();></span></div></div>'
},
function(e, t) {
	e.exports = '<div class="cat_two_list clearfix" ng-class="{showTags: vm.category.showTags}"><ul ng-show=vm.category.showTags><li ng-repeat="tag in vm.category.list" ng-show="tag.id != \'bgColor\' || !vm.disableBgColor" ng-class="{\'active\': $index == vm.tagIndex}" ng-click=setTagIndex($index); style=cursor:pointer>{{tag.name}}</li></ul></div>'
},
function(e, t) {
	e.exports = '<div class="modal-footer bg-pagination clearfix no-line"><div class="fl mr20" ng-show="vm.tag.count > 0 && vm.tag.count > vm.tag.pageSize"><pagination style=float:left previous-text=&lsaquo; next-text=&rsaquo; first-text=首页 last-text=尾页 max-size=5 items-per-page=vm.tag.pageSize ng-model=vm.pageNo boundary-links=true total-items=vm.tag.count ng-change=onPageNoChange()></pagination><div class=current_page><span class=fl>到</span> <input type=text ng-model=vm.toPage ng-keyup="$event.keyCode == 13 ? setPageNo(vm.toPage) : null"> <span class=fl>页</span> <a ng-click=setPageNo(vm.toPage) class=go>确定</a></div></div><a ng-hide="vm.title==\'字体素材\'" class=modal-cancle ng-click=close()>取消</a> <a ng-hide="vm.title==\'字体素材\'" class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	e.exports = "<div style=position:absolute;top:0;right:0;bottom:0;left:0><div style=width:98px;height:60px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;text-align:center><img src=data:image/svg+xml,%3Csvg%20width%3D%2744%27%20height%3D%2744%27%20viewBox%3D%270%200%2044%2044%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20stroke%3D%27%23fff%27%3E%3Cg%20fill%3D%27none%27%20fill-rule%3D%27evenodd%27%20stroke-width%3D%272%27%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%270s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3Ccircle%20stroke%3D%27%2376838f%27%20cx%3D%2722%27%20cy%3D%2722%27%20r%3D%271%27%3E%3Canimate%20attributeName%3D%27r%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%2020%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.165%2C%200.84%2C%200.44%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3Canimate%20attributeName%3D%27stroke-opacity%27%20begin%3D%27-0.9s%27%20dur%3D%271.8s%27%20values%3D%271%3B%200%27%20calcMode%3D%27spline%27%20keyTimes%3D%270%3B%201%27%20keySplines%3D%270.3%2C%200.61%2C%200.355%2C%201%27%20repeatCount%3D%27indefinite%27%20/%3E%3C/circle%3E%3C/g%3E%3C/svg%3E><p>加载中，请稍后</p></div></div>"
},
function(e, t) {
	e.exports = "<div style=position:absolute;top:0;right:0;bottom:0;left:0;text-align:center><img style=padding-top:110px src=data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2297.062%22%20height%3D%2275%22%20viewBox%3D%220%200%2097.062%2075%22%3E%0A%20%20%3Cmetadata%3E%3C%3Fxpacket%20begin%3D%22%uFEFF%22%20id%3D%22W5M0MpCehiHzreSzNTczkc9d%22%3F%3E%0A%3Cx%3Axmpmeta%20xmlns%3Ax%3D%22adobe%3Ans%3Ameta/%22%20x%3Axmptk%3D%22Adobe%20XMP%20Core%205.6-c138%2079.159824%2C%202016/09/14-01%3A09%3A01%20%20%20%20%20%20%20%20%22%3E%0A%20%20%20%3Crdf%3ARDF%20xmlns%3Ardf%3D%22http%3A//www.w3.org/1999/02/22-rdf-syntax-ns%23%22%3E%0A%20%20%20%20%20%20%3Crdf%3ADescription%20rdf%3Aabout%3D%22%22/%3E%0A%20%20%20%3C/rdf%3ARDF%3E%0A%3C/x%3Axmpmeta%3E%0A%3C%3Fxpacket%20end%3D%22w%22%3F%3E%3C/metadata%3E%0A%3Cdefs%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20.cls-1%20%7B%0A%20%20%20%20%20%20%20%20fill%3A%20%23ccd5db%3B%0A%20%20%20%20%20%20%20%20fill-rule%3A%20evenodd%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%20%20%3C/defs%3E%0A%20%20%3Cpath%20id%3D%22%u4E3A%u7A7A%u72B6%u6001%22%20class%3D%22cls-1%22%20d%3D%22M1003.21%2C496.206a8.191%2C8.191%2C0%2C0%2C1%2C2.19-.141q32.835%2C0%2C65.67%2C0a2.321%2C2.321%2C0%2C0%2C1%2C2.22%2C1.681q6.3%2C19.127%2C12.57%2C38.266a8.521%2C8.521%2C0%2C0%2C1%2C.12%2C2.312q0.015%2C15.056.01%2C30.109A2.312%2C2.312%2C0%2C0%2C1%2C1083.4%2C571q-45.48-.009-90.976%2C0c-0.918%2C0-2.019.094-2.715-.638-0.761-.694-0.692-1.831-0.688-2.776%2C0-10.033.019-20.065-.008-30.1a7.028%2C7.028%2C0%2C0%2C1%2C.608-2.9q6.038-18.414%2C12.079-36.83a2.3%2C2.3%2C0%2C0%2C1%2C1.51-1.552h0m2.09%2C4.149q-5.625%2C17.122-11.24%2C34.248%2C14.115%2C0%2C28.22%2C0a2.518%2C2.518%2C0%2C0%2C1%2C1.85.6%2C2.957%2C2.957%2C0%2C0%2C1%2C.77%2C2.275%2C12.828%2C12.828%2C0%2C0%2C0%2C5.17%2C9.641%2C12.489%2C12.489%2C0%2C0%2C0%2C16.91-1.894%2C12.735%2C12.735%2C0%2C0%2C0%2C3.14-7.98%2C2.772%2C2.772%2C0%2C0%2C1%2C.68-1.965%2C2.511%2C2.511%2C0%2C0%2C1%2C1.93-.675q14.115%2C0.006%2C28.22%2C0-5.625-17.121-11.24-34.248-32.2-.006-64.41%2C0h0m-12.053%2C38.532q0%2C13.914%2C0%2C27.827%2C44.255%2C0%2C88.513%2C0V538.887q-13.77%2C0-27.54%2C0a17.124%2C17.124%2C0%2C0%2C1-7.98%2C12.491%2C16.668%2C16.668%2C0%2C0%2C1-21.3-3.226%2C17.147%2C17.147%2C0%2C0%2C1-4.15-9.266q-13.77%2C0-27.543%2C0h0m0%2C0h0Z%22%20transform%3D%22translate%28-988.938%20-496%29%22/%3E%0A%3C/svg%3E%0A><p style=padding-top:20px;color:#A3AFB7>未找到结果，请尝试其他关键词！</p></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.resource.ui.image", [n(165), n(171), n(177)]).directive("qnImg", n(183)).directive("ytImg", n(184)).directive("qiankuImg", n(187)).factory("imageModalFactory", n(190)).directive("imageSingleSelect", n(197)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.image.tpl", []).directive("eqxImageHeader",
	function() {
		return {
			template: n(166)
		}
	}).directive("eqxImageNav",
	function() {
		return {
			template: n(167)
		}
	}).directive("eqxImageAction",
	function() {
		return {
			template: n(168)
		}
	}).directive("eqxImageUpload",
	function() {
		return {
			template: n(169)
		}
	}).directive("eqxImageList",
	function() {
		return {
			template: n(170)
		}
	}).name
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal ng-click=close()><span aria-hidden=true>×</span></button><div class="modal-title h4"><span>素材库</span> <a class=bbs-help-tip-media target=_blank ng-href={{vm.hintHref}}><span class=eqf-exclaquestion-sign></span> </a><span ng-show=vm.error class=action ng-class="{\'modal-error\': vm.error}">{{ vm.error }}</span></div></div>'
},
function(e, t) {
	e.exports = '<div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a data-toggle=tab>图片库</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click=setTab(TAB.myPurchase)><a data-toggle=tab>我的购买</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click=setTab(TAB.my)><a data-toggle=tab>我的上传</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a data-toggle=tab>最近使用</a></li><eqx-image-action></eqx-image-action><eqx-image-upload></eqx-image-upload></ul></div>'
},
function(e, t) {
	e.exports = '<li class="add-tag clearfix"><a ng-href="{{ vm.onlineHref }}" target=_blank><span class=eqf-write></span> 在线制作</a></li>'
},
function(e, t) {
	e.exports = '<li class="my-bg-upload bg-img-upload" id=upload-image eqx-upload=vm.uploadOptions><div class="bg-img-upload-btn hint--top hint--rounded" data-hint=大小不超过3M，支持格式：jpg、png、gif，一次最多上传10张><div id=upload-progress class=progress style=width:0></div><span class=eqf-update></span> <em>{{vm.uploadOptions.uploadTips}}</em></div></li>'
},
function(e, t) {
	e.exports = '<div class="img_list img_list2"><eqx-resource-none ng-show="vm.itemList.length <= 0 && vm.category.id === \'search\' && !vm.showLoading"></eqx-resource-none><eqx-resource-loading ng-show=vm.showLoading></eqx-resource-loading><div image-single-select ng-if="vm.tag.id != \'bgColor\'" image-list=vm.itemList selected-image-lists=vm.selectedImageLists select-count=vm.selectCount select-image=selectImage></div><div class="img_list_container photo_list" ng-if="vm.tag.id == \'bgColor\'"><ul class="img_box clearfix"><li ng-repeat="bg in vm.itemList" ng-click=selectBg(bg)><div ng-style="{\'background-color\': bg.color}" style="position:relative;height:100%;width:63px;margin:0 auto;background-color:#6366c3"></div></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.crop", []).factory("imageCropFactory", n(172)).directive("eqxCropPreview", n(175)).service("imageCropService", n(176)).name
},
function(e, t, n) {
	"use strict";
	var i = n(173),
	o = n(174);
	e.exports = ["modalService", "delayLoadService",
	function(e, t) {
		"ngInject";
		function n(n, a) {
			return t.imgJcrop().then(function() {
				return e.open({
					windowClass: "console seven-contain pictures1",
					template: o,
					controller: i,
					backdrop: "static",
					resolve: {
						obj: function() {
							return JSON.parse(JSON.stringify(n))
						},
						cropOption: function() {
							return a
						}
					}
				})
			})
		}
		return {
			openCropModal: n
		}
	}]
},
function(e, t) {
	"use strict";
	e.exports = ["obj", "$scope", "cropOption", "HOST", "$rootScope",
	function(e, t, n, i, o) {
		"ngInject";
		return n ? (t.cropOption = n, t.cropSize = e.properties, t.HOST = i, n.currentItem = n.cropItems[0], t.cropItemChange = function(e) {
			null === e.lock && n.cropItems[7] && (n.cropItems[7].lock = !1),
			n.currentItem = e,
			o.$broadcast("cropItem.change", e)
		},
		t.ok = function() {
			e.properties.pageLength && (e.properties.type = n.currentItem.value),
			e.subType && delete e.subType,
			o.$broadcast("cropImage.ok", e)
		},
		void(t.cancel = function() {
			t.$dismiss()
		})) : t.$dismiss()
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{cropOption.title}} <span class=action>{{cropOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class="image_crop crop-img-cut" ctype={{cropOption.type}} ng-class="{\'bg-crop\': !cropOption.showItems}"><img id=target eqx-crop-preview ng-src="{{HOST.FILE + cropOption.imgSrc}}"></div><div class=cut-size ng-show=cropOption.showItems><ul><li ng-repeat="item in cropOption.cropItems"><input type=radio id={{item.desc}} name=cropSize ng-model=cropOption.currentItem ng-value=item ng-change=cropItemChange(item)><label for={{item.desc}}>{{item.desc}}</label><span ng-if="item.lock != null"><input type=checkbox id=lock ng-model=item.lock ng-change=cropItemChange(item)><label for=lock>锁定</label></span></li></ul></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e, t) {
			i(e, t),
			e.$on("$destroy",
			function() {
				g = !1
			}),
			e.$on("cropItem.change",
			function(e, t) {
				a(t)
			}),
			e.$on("cropImage.ok",
			function(n, i) {
				g || (d = i, r(e, t))
			}),
			e.$on("crop.success",
			function(t, n) {
				4 !== d.type && "4" !== d.type || (u && (n.radioValue = u.value, u.lock && "" + u.value == "8" && (n.lock = !0)), s(n)),
				"" + d.type == "3" && "" + d.properties.type == "2" && (n.type = 2, n.pageLength = d.properties.pageLength),
				e.$close({
					image: n,
					obj: d
				})
			})
		}
		function i(e, t) {
			t.hide().load(function() {
				t.show();
				var n = $(".image_crop"),
				i = {
					width: n.width(),
					height: n.height()
				},
				a = i.width / i.height;
				l = {
					width: this.width,
					height: this.height
				};
				var r, s = l.width / l.height;
				l.width > i.width || l.height > i.height ? s > a ? (t.css({
					width: i.width,
					height: i.width / s
				}), r = {
					position: "absolute",
					top: "50%",
					marginTop: -i.width / s / 2
				}) : (t.css({
					width: i.height * s,
					height: i.height
				}), r = {
					margin: "auto"
				}) : r = {
					position: "absolute",
					left: "50%",
					top: "50%",
					marginLeft: -l.width / 2,
					marginTop: -l.height / 2
				},
				p = {
					width: t.width(),
					height: t.height()
				},
				o(e, t, r)
			})
		}
		function o(e, t, n) {
			var i, o, a = t.parent().attr("ctype"),
			r = e.cropSize,
			s = {};
			r && (s = e.cropSize.cropSize),
			i = p.width,
			o = p.height;
			var l = e.cropOption.currentItem;
			if (s && (s.w > i && (s.w = i, s.h = i / l.ratio), s.h > o && (s.h = o, s.w = o * l.ratio), s.x2 = s.x + s.w, s.y2 = s.y + s.h), "" + a == 3 || "" + a == "square") i > o ? i = o * l.ratio: o = i / l.ratio,
			t.Jcrop({
				keySupport: !1,
				aspectRatio: l.ratio,
				allowSelect: !1,
				setSelect: s ? [s.x, s.y, s.x2, s.y2] : [0, 0, i, o],
				onRelease: function() {
					this.setOptions({
						setSelect: [0, 0, i, o]
					})
				}
			},
			function() {
				c = this
			});
			else {
				t.Jcrop({
					keySupport: !1,
					aspectRatio: l.ratio,
					allowSelect: !1,
					setSelect: s ? [s.x, s.y, s.x2, s.y2] : [0, 0, i, o],
					onRelease: function() {
						this.setOptions({
							setSelect: [0, 0, i, o]
						})
					}
				},
				function() {
					c = this
				});
				var d;
				l.ratio === -1 && (d = {
					aspectRatio: s.w / s.h,
					setSelect: [s.x, s.y, s.x2, s.y2]
				},
				c.setOptions(d))
			}
			$(".jcrop-holder").css(n)
		}
		function a(e) {
			var t, n = p.width,
			i = p.height;
			if (u = e, e.ratio === -1) {
				var o = c.tellSelect();
				t = e.lock ? {
					aspectRatio: o.w / o.h,
					setSelect: [0, 0, o.w, o.h]
				}: {
					aspectRatio: 0,
					setSelect: [0, 0, o.w, o.h]
				}
			} else 0 === e.ratio ? t = {
				aspectRatio: n / i,
				setSelect: [0, 0, n, i]
			}: (n > i ? n = i * e.ratio: i = n / e.ratio, t = {
				aspectRatio: n / i,
				setSelect: [0, 0, n, i]
			});
			c.setOptions(t)
		}
		function r(n, i) {
			var o = c.tellSelect(),
			a = {};
			$.extend(a, o);
			var r = n.cropSize.cropSize;
			if (r && parseInt(r.x, 10) === parseInt(o.x, 10) && parseInt(r.w, 10) === parseInt(o.w, 10) && parseInt(r.y, 10) === parseInt(o.y, 10) && parseInt(r.h, 10) === parseInt(o.h, 10)) return void n.$dismiss(d.properties.src);
			if (0 === o.w && 0 === o.h) {
				if (!d) return;
				return void n.$dismiss(d.properties.src)
			}
			if ("" + d.type == "3" && Math.abs(o.w - p.width) <= 2 && Math.abs(o.h - p.height) <= 2) {
				var s = {
					type: d.properties.type,
					src: d.properties.src,
					pageLength: d.properties.pageLength,
					id: d.properties.id
				};
				return void n.$close({
					image: s
				})
			}
			var u = l.width / p.width;
			a.ratio = u,
			o.w = parseInt(o.w * u, 10),
			o.h = parseInt(o.h * u, 10),
			o.x = parseInt(o.x * u, 10),
			o.y = parseInt(o.y * u, 10),
			o.y < 0 && (o.y = 0),
			o.x < 0 && (o.x = 0),
			o.src = i.attr("src").split(t.FILE)[1],
			o.x + o.w > l.width && (o.w = l.width - o.x),
			o.y + o.h > l.height && (o.h = l.height - o.y),
			"" + d.type == "3" ? o.fileType = 0 : o.fileType = 1,
			delete o.x2,
			delete o.y2,
			d.cw && (o.cw = d.cw),
			o.name = d.properties.name || "default.png",
			e.cropImage(o, a)
		}
		function s(e) {
			var n = d;
			n.properties.src = e.src,
			n.properties.id = e.id,
			e.originSrc && (n.properties.originSrc = e.originSrc, n.properties.cropSize = e.cropSize),
			e.radioValue && (n.properties.radioValue = e.radioValue),
			e.lock ? n.properties.lock = e.lock: n.properties.lock = !1;
			var i = e.width / e.height,
			o = $("#" + n.id),
			a = $("#inside_" + n.id),
			r = a.width(),
			s = a.height(),
			c = r / s;
			i >= c ? (s = r / i, a.height(s), n.css.height = s, n.properties.height = s, o.outerHeight(s), o.outerWidth(r), o.css("marginLeft", 0), o.css("marginTop", 0)) : (r = s * i, a.width(r), n.css.width = r, n.properties.width = r, o.outerWidth(r), o.outerHeight(s), o.css("marginTop", 0), o.css("marginLeft", 0)),
			o.attr("src", t.FILE + e.src + "/strip"),
			n.properties.imgStyle = {},
			n.properties.imgStyle.width = o.outerWidth(),
			n.properties.imgStyle.height = o.outerHeight(),
			n.properties.imgStyle.marginTop = o.css("marginTop"),
			n.properties.imgStyle.marginLeft = o.css("marginLeft")
		}
		var c, l, p, d, u, g = !1;
		return {
			link: n
		}
	}
	n.$inject = ["imageCropService", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		var t = {};
		return t.cropImage = function(t, n) {
			var i = "?imageMogr2/auto-orient/crop/!" + t.w + "x" + t.h + "a" + t.x + "a" + t.y;
			i = t.src.indexOf("?imageMogr2") >= 0 ? i.replace(/\?/, "|") : i;
			var o = {
				width: t.w,
				height: t.h,
				src: t.src + i,
				id: t.id,
				originSrc: t.src,
				cropSize: {
					x: n.x,
					y: n.y,
					w: n.w,
					h: n.h
				}
			};
			e.$broadcast("crop.success", o)
		},
		t
	}
	n.$inject = ["$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.image.imagemanagement", []).directive("imageManagement", n(178)).directive("imgGroup", n(181)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o) {
		"ngInject";
		function a(n) {
			function a() {
				for (var e = [], t = n.vm.selectedImageLists, i = 0; i < t.length; i++) e.push(t[i].id);
				return e
			}
			function r() {
				n.vm.tag.list = [];
				var e = n.vm.tagIndex;
				n.vm.tagIndex = null,
				n.setTagIndex(e),
				n.vm.selectedImageLists = []
			}
			n.assignImgGroup = function(t) {
				n.vm.currentGroupId = null;
				var o = a();
				if (t) return 0 === o.length ? void(n.vm.error = "请先点击管理选择一张图片再进行分组") : void e.assignImgGroup(t, o).then(function(e) {
					i.add("移动成功"),
					n.vm.selectedImageLists = [];
					for (var o = 0; o < n.vm.category.list.length; o++) n.vm.category.list[o].id === t && (n.vm.category.list[o].list = [])
				})
			},
			n.deleteFile = function() {
				var s = a(),
				c = "删除所选图片";
				return 0 === s.length ? void(n.vm.error = "选中图片后再进行删除操作!") : ("my-all" === n.vm.tag.id && (c = o.permission("deleteImgTips") ? "确定删除图片吗？": "删除所选图片后,该图片将在回收站中保留15天"), void t.openConfirmDialog({
					msg: c,
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.deleteFile(n.vm.tag.id, s).then(function(e) {
						i.add(e.data.msg),
						r()
					})
				}))
			},
			n.clearImgTag = function(n) {
				var a = "确定清空改组下所有图片";
				"my-all" === n && (a = o.permission("deleteImgTips") ? "确认删除图片吗？": "删除的图片,将在回收站中保留15天"),
				t.openConfirmDialog({
					msg: a,
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.clearImgTag(n, 1).then(function(e) {
						i.add(e.data.msg),
						r()
					})
				})
			},
			n.cacelManagement = function() {
				n.vm.managingImgStatus = !1,
				n.vm.selectCount = 1,
				n.vm.selectedImageLists = []
			},
			n.manageGroup = function() {
				n.vm.manageGroupStatus = !0
			},
			n.backImgList = function() {
				n.vm.category = null,
				n.setTab(n.TAB.my, !0),
				n.vm.manageGroupStatus = !1,
				n.vm.managingImgStatus = !1,
				n.vm.selectCount = 1,
				n.vm.selectedImageLists = []
			}
		}
		return {
			template: n(180),
			replace: !0,
			restrict: "E",
			link: a
		}
	}
	i.$inject = ["imgGroupService", "modalService", "i18nNotifications", "authorityService"],
	n(179),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=image-management-content ng-class="{\'image-management-hidden\':!$parent.vm.managingImgStatus}"><div class=move-img-group ng-if=!vm.manageGroupStatus><eqx-select class="select-sm select-contain border-width fl" model=vm.currentGroupId change=assignImgGroup(vm.currentGroupId)><eqx-select-option value=null>移动至</eqx-select-option><eqx-select-option value=group.id ng-repeat="group in vm.category.list" ng-if="group.id !=\'my-all\'">{{group.name}}</eqx-select-option></eqx-select></div><div class="set-group-btn image-management-btn" ng-click=manageGroup() ng-if=!vm.manageGroupStatus><span>分组管理</span></div><div class="set-group-btn image-management-btn" ng-click=backImgList() ng-if=vm.manageGroupStatus><span>取消分组管理</span></div><div class="img-delete-all image-management-btn" ng-if=!vm.manageGroupStatus ng-click=clearImgTag(vm.tag.id)><span>清空</span></div><div class="img-delete-select image-management-btn" ng-click=deleteFile() ng-if=!vm.manageGroupStatus><span>删除</span></div><div class="cacel-set-group-btn image-management-btn" ng-click=cacelManagement() ng-if=!vm.manageGroupStatus><span>取消管理</span></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o) {
		"ngInject";
		function a(n) {
			function a(e) {
				for (var t = 0; t < n.vm.category.list.length; t++) if (n.vm.category.list[t].id == e) return [t, n.vm.category.list[t]]
			}
			n._vm = {
				createGroupText: ""
			},
			n.createImgGroup = function() {
				return i(n._vm.createGroupText) > 16 ? void(n.vm.error = "分类名称不能超过16个字符") : n.vm.category.list.length > 8 ? (n.vm.error = "最多能创建8个自定义分组!", void(n._vm.createGroupText = "")) : void(n._vm.createGroupText && e.createImgGroup(n._vm.createGroupText).then(function(e) {
					o.add(e.data.msg),
					n.vm.category.list.push({
						bizType: 0,
						count: -1,
						id: e.data.obj,
						isBusy: !1,
						isLastPage: !1,
						list: [],
						name: n._vm.createGroupText,
						pageSize: 18,
						sort: 0
					}),
					n._vm.createGroupText = ""
				}))
			},
			n.deleteImgGroup = function(i) {
				t.openConfirmDialog({
					msg: "确定删除此分组",
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.deleteImgGroup(i).then(function(e) {
						o.add(e.data.msg),
						n.vm.category.list.splice(a(i)[0], 1)
					})
				})
			},
			n.editImgGroup = function(e, t) {
				n._vm[e] = !0,
				$(t.target).closest("div").attr("contenteditable", !0).focus()
			},
			n.editBlur = function(t, r, s) {
				if (s = $(t.target).text(), n._vm[r] = !1, $(t.target).removeAttr("contenteditable"), a(r)[1].name !== s) return i(s) > 16 ? (n.vm.error = "分类名称不能超过16个字符", void $(t.target).text(a(r)[1].name)) : void e.modifyTagName(r, s).then(function(e) {
					o.add(e.data.msg),
					a(r)[1].name = s
				})
			}
		}
		return {
			template: n(182),
			replace: !0,
			restrict: "E",
			link: a
		}
	}
	i.$inject = ["imgGroupService", "modalService", "validCharacterNumFilter", "i18nNotifications"],
	n(179),
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=img-create-group><div class=img-group-content><div class=create-img-group><input class="create-img-input create-img-border" placeholder=新建分组名称 ng-change=maxLength10() type=text ng-model=_vm.createGroupText /> <a class="create-img-btn create-img-border" ng-click=createImgGroup()><em class="eqf-plus2 add-img-group"></em>新建</a></div><ul class=img-group-list><li class=img-group-item ng-repeat="group in vm.category.list" ng-if="group.id !=\'my-all\'"><div class=img-group-edit ng-class="{\'img-group-edit\': !_vm[group.id], \'img-group-edit2\': _vm[group.id]}" ng-blur="editBlur($event, group.id, group.name)" ng-model=group.name>{{group.name}} <em class=eqf-wrong2 ng-click=deleteImgGroup(group.id)></em> <em class=eqf-xiuziti ng-click="editImgGroup(group.id, $event)"></em></div></li></ul></div></div>'
},
function(e, t) {
	"use strict";
	e.exports = ["HOST", "imgUtil",
	function(e, t) {
		"ngInject";
		return {
			restrict: "EA",
			scope: {
				img: "=qnImg"
			},
			template: '<div class="loading-img"></div>',
			replace: !0,
			link: function(e, n, i) {
				var o = e.img;
				if (o && o.tmbPath) {
					var a = i.size;
					/\d+x\d+/.test(a) || (a = "115x115");
					var r = t.getImgSrc(o, a);
					n.css({
						background: "url(" + r + ") no-repeat center/contain",
						width: "100%",
						height: "100%"
					})
				}
			}
		}
	}]
},
function(e, t, n) {
	"use strict";
	e.exports = function() {
		return {
			template: n(185),
			replace: !0,
			restrict: "EA"
		}
	}
},
function(e, t, n) {
	e.exports = '<span class=imagesYiTo><a href="http://www.yituw.com/searchs/DoSearch/?search=search&Srange_zh=chinese+new+year+2016&mode=&keyword=chinese+new+year+2016&Srange=" target=_blank tooltip-placement=right tooltip=亿图网正版授权 class=YiToLogo ng-click=$event.stopPropagation();><img src=' + n(186) + " /> </a></span>"
},
function(e, t, n) {
	e.exports = n.p + "images/1tu-faac25.png"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			template: n(188),
			replace: !0,
			restrict: "EA"
		}
	}
	e.exports = i
},
function(e, t, n) {
	e.exports = '<span class=imagesYiTo><a href="http://588ku.com/?m=element&keyword=qixi&h=eqxiu" target=_blank tooltip-placement=right data-hint=千库网正版授权 class=YiToLogo ng-click=$event.stopPropagation();><img src=' + n(189) + " /> </a></span>"
},
function(e, t, n) {
	e.exports = n.p + "images/qianku-7a78ae.svg"
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, o, a, r) {
		"ngInject";
		function s(o) {
			o = Object.assign({
				resourceName: "image"
			},
			o);
			var s = t[o.resourceName];
			return e.open({
				windowClass: "console img_console",
				template: n(194),
				controller: n(195),
				resolve: {
					imageConfig: function() {
						return o
					}
				}
			}).then(function(e) {
				return s.addUseHistory.apply(s, i(e)),
				r.all(e.map(function(e) {
					return a.getImgShape(e).then(function(t) {
						return e.shape = t,
						e
					})["catch"](function() {
						return null
					})
				})).then(function(e) {
					return e = e.filter(function(e) {
						return !! e
					}).map(function(e) {
						return JSON.parse(JSON.stringify(e))
					}),
					e.length ? e: r.reject("no images")
				})
			})
		}
		function c(e) {
			return e = Object.assign({
				resourceName: "bg"
			},
			e),
			s(e).then(function(e) {
				return e[0]
			})
		}
		function l(e) {
			return s(e).then(function(e) {
				return e[0]
			})
		}
		function p(e) {
			return l(e).then(function(e) {
				if (e.shape.width === e.shape.height) return e.path;
				var t = {
					type: "square",
					title: "图片裁切",
					desc: "",
					showItems: !1,
					imgSrc: e.path,
					cropItems: [{
						ratio: 1,
						desc: "正方形比例"
					}]
				};
				return o.openCropModal({
					properties: {},
					cw: 250
				},
				t).then(function(e) {
					var t = e.image;
					return t.src
				})
			})
		}
		return {
			getImages: s,
			getSquareImage: p,
			getImage: l,
			getBg: c
		}
	}
	o.$inject = ["modalService", "imageService", "imageCropFactory", "imgUtil", "$q"],
	n(191),
	e.exports = o
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<eqx-image-header></eqx-image-header><div class=dialog-contain id=container><div class="dialog-content bg_console sound-flex clearfix"><eqx-image-nav></eqx-image-nav><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head"><div class=img_list ng-class="{my_img_list: vm.tab == TAB.my}"><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if=!vm.managingImgStatus></eqx-resource-category><eqx-resource-tags ng-if=!vm.managingImgStatus></eqx-resource-tags><image-management ng-if=vm.managingImgStatus></image-management></div><span ng-class="{\'hidden-img_manage_btn\': vm.managingImgStatus}" class=img_manage_btn ng-if="vm.tab == TAB.my && config.manageGroup" ng-click=managingImg()>管理</span></div></div><eqx-image-list ng-if=!vm.manageGroupStatus></eqx-image-list><img-group ng-if=vm.manageGroupStatus></img-group></div><eqx-resource-pagination ng-if=!vm.manageGroupStatus></eqx-resource-pagination></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		var a = n[t.resourceName];
		t = Object.assign({
			disableBgColor: !0,
			manageGroup: !0,
			min: 1,
			max: 1,
			images: []
		},
		t || {},
		a.config),
		o(e, a, t),
		e.config = t;
		var r = Object.assign(e.vm, {
			hintHref: "http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696",
			onlineHref: i.HOST + "site/print/create",
			disableBgColor: t.disableBgColor,
			managingImgStatus: !1,
			error: null,
			selectCount: t.max,
			selectedImageLists: t.images,
			uploadOptions: {
				tokenType: "image",
				extensions: "jpg,gif,png,jpeg",
				maxFileSize: 3,
				uploadBtn: "upload-image",
				uploadCon: "container",
				maxCount: 10,
				uploadTips: "上传",
				msg: "一次最多上传10张图片",
				success: function(t) {
					var n = r.tag.id; (n + "").includes("-all") && (n = 0);
					var i = Object.assign({},
					t, {
						fileType: 1,
						bizType: 0,
						tagId: n
					});
					e.setTab(e.TAB.my),
					a.saveFileInfo(i)
				}
			}
		});
		e.selectImage = function() {
			e.$close(r.selectedImageLists)
		},
		e.selectBg = function(t) {
			e.$close([t])
		},
		e.confirm = function() {
			r.selectedImageLists.length > t.max ? r.error = "最多可选择" + t.max + "张图片": (r.error = null, e.$close(r.selectedImageLists))
		},
		e.managingImg = function() {
			e.vm.managingImgStatus = !0,
			e.vm.selectCount = 2
		},
		e.$watch("vm",
		function() {
			e.vm.tab != e.TAB.my && 1 === e.config.max && (e.vm.selectCount = 1, e.vm.managingImgStatus = !1, e.vm.manageGroupStatus = !1)
		},
		!0)
	}
	i.$inject = ["$scope", "imageConfig", "imageService", "HOST"];
	var o = n(196);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			return m.filter(function(e) {
				return e.id !== b.my && e.id !== b.recently && e.id !== b.myPurchase
			})
		}
		function o(e) {
			return m.find(function(t) {
				return t.id === e
			})
		}
		function a(e) {
			return m.find(function(t) {
				return t.name === e
			})
		}
		function r() {
			return o(b.my)
		}
		function s() {
			return o(b.myPurchase)
		}
		function c() {
			return o(b.recently)
		}
		function l() {
			n.tab === y.sys ? (x.showLoading = !0, t.$getCategories().then(function() {
				if (n.categoryName) var t = a(n.categoryName);
				t || (t = 1 === n.fileType || 2 === n.fileType || 4 === n.fileType ? m[1] : m[0]),
				e.setCategory(t, n.tagName)
			})) : d(n.tab)
		}
		function p(e, n) {
			t.config[e] = n
		}
		function d(n) {
			var i = null;
			switch (n) {
			case y.my:
				i = Promise.resolve(r());
				break;
			case y.recently:
				i = Promise.resolve(c());
				break;
			case y.myPurchase:
				i = Promise.resolve(s());
				break;
			default:
				i = t.$getCategories().then(function() {
					return m[0]
				})
			}
			i.then(function(t) {
				e.setCategory(t),
				x.tab = n
			})
		}
		var u = {
			showSearch: !0,
			tab: 1,
			categoryName: "",
			tagName: "",
			selectPageNo: 1
		},
		g = !0;
		n = Object.assign(u, n || {});
		var m = e.categories = t.categories,
		f = [],
		h = {
			id: -1,
			name: "",
			bizType: -1,
			showTags: !1,
			list: []
		},
		v = {},
		y = e.TAB = {
			sys: 1,
			my: 2,
			recently: 3,
			myPurchase: 4
		},
		b = t.ID,
		x = e.vm = {
			showLoading: !0,
			tagIndex: -1,
			pageNo: -1,
			toPage: 1,
			tab: y.sys,
			showSearch: n.showSearch,
			search: n.search,
			get categoryList() {
				return x.tab === y.sys ? i() : x.tab === y.my ? [r()] : x.tab === y.recently ? [c()] : x.tab === y.myPurchase ? [s()] : void 0
			},
			get tag() {
				return x.category && x.category.list[x.tagIndex] || v
			},
			get itemList() {
				return x.tag && (x.tag.list || {})[x.pageNo] || f
			},
			category: h
		};
		e.setTab = function(e, n) { (x.tab !== e || n) && (t.config.selectPageNo = 1, p("tab", e), d(e))
		},
		e.setCategory = function(n) {
			var i = arguments.length <= 1 || void 0 === arguments[1] ? "全部": arguments[1],
			o = arguments[2];
			return x.showLoading = !0,
			x.category === n ? void(x.showLoading = !1) : (x.category = n, x.tagIndex = -1, x.pageNo = -1, x.toPage = 1, p("categoryName", n.name), void t.$getTags(n.id).then(function(t) {
				var n = t.findIndex(function(e) {
					return e.name === i
				});
				n < 0 && (n = 0),
				e.setTagIndex(n, o)
			}))
		},
		e.setTagIndex = function(e, i) {
			if (x.tagIndex !== e) {
				x.showLoading = !0,
				x.tagIndex = e;
				var o = x.category,
				a = o.list[x.tagIndex];
				p("tagName", a.name),
				g ? x.pageNo = n.selectPageNo: x.pageNo = 1,
				x.toPage = x.pageNo,
				t.$getMoreItems(o.id, a.id, x.pageNo, i).then(function() {
					g = !1,
					x.showLoading = !1,
					n.itemListCallback && n.itemListCallback()
				})
			}
		},
		e.setPageNo = function(t) {
			t = parseInt(t),
			t !== t && (t = x.pageNo);
			var n = x.tag.count,
			i = x.tag.pageSize,
			o = 1,
			a = Math.ceil(n / i);
			t > a && (t = a),
			t < o && (t = o),
			x.toPage = t,
			x.pageNo !== t && (x.pageNo = t, e.loadMoreItems(t))
		},
		e.loadMoreItems = function(i) {
			x.showLoading = !0;
			var o = x.category,
			a = o.list[x.tagIndex];
			a && t.$getMoreItems(o.id, a.id, i, e.vm.search).then(function() {
				x.showLoading = !1,
				p("selectPageNo", x.pageNo),
				n.itemListCallback && n.itemListCallback()
			})
		},
		e.onPageNoChange = function() {
			x.toPage = x.pageNo,
			p("selectPageNo", x.pageNo),
			e.loadMoreItems(x.pageNo)
		},
		l(),
		e.close = function() {
			e.$dismiss()
		},
		e.searchMaterial = function(n) {
			var i = null;
			if (x.search && x.search.length > 0 && (!n || n && 13 === n.keyCode)) {
				p("search", x.search),
				x.category = x.categoryList[0];
				for (var o = 0; o < x.categoryList.length; o++)"search" === x.categoryList[o].id && (i = x.categoryList[o], t.clearTag(i.id, i.list[0].id));
				e.setCategory(i, 0, x.search)
			}
		}
	}
	n.$inject = ["$scope", "resourceService", "resourceConfig"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t(e) {
			e.chooseImage = function(t) {
				if (e.selectCount < 2) return e.selectedImageLists.push(t),
				void e.selectImage();
				var n = e.selectedImageLists.findIndex(function(e) {
					return e.id == t.id
				});
				n > -1 ? e.selectedImageLists.splice(n, 1) : e.selectedImageLists.push(t)
			},
			e.isSelected = function(t) {
				return e.selectedImageLists.find(function(e) {
					return e.id == t.id
				})
			}
		}
		return {
			template: n(198),
			replace: !0,
			restrict: "EA",
			scope: {
				managingImgStatus: "=",
				imageList: "=",
				selectedImageLists: "=",
				selectCount: "=",
				selectImage: "="
			},
			link: t
		}
	}
	i.$inject = ["$rootScope"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="img_list_container photo_list"><ul class="img_box clearfix"><li ng-repeat="img in imageList" class="my-tpl-self imageList" resource=img style=position:relative;overflow:hidden><div qn-img=img qn-size=115x115></div><div class=img-mask ng-if="selectCount > 1" ng-class="{\'selected-active\': isSelected(img)}"></div><div eqx-material-status obj=img success-fn=chooseImage select-count=selectCount type="\'pic\'" selected-image-lists=selectedImageLists></div></li></ul></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(200).size;
	e.exports = angular.module("resource.ui.music", [n(201)]).factory("musicModal", n(210)).directive("eqxCropPanel", n(221)).directive("eqxAudio", n(223)).filter("size",
	function() {
		return function(e) {
			return i(parseFloat(e))
		}
	}).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		return "number" != typeof e && (e = parseFloat(e)),
		parseFloat(e.toFixed(t))
	}
	function i(e) {
		return n(e, 0)
	}
	function o(e) {
		return n(e, 1)
	}
	function a(e) {
		return n(e, 2)
	}
	function r(e) {
		return e.toFixed(2)
	}
	function s(e) {
		return (!e || e < 0) && (e = 0),
		e < 1024 ? e + " KB": (e /= 1024, e < 1024 ? r(e) + " MB": (e /= 1024, e < 1024 ? r(e) + " GB": (e /= 1024, r(e) + " TB")))
	}
	e.exports = {
		toFixed: n,
		toFixed1: o,
		toFixed2: a,
		toInt: i,
		size: s
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.music.tpl", []).directive("eqxMusicHeader",
	function() {
		return {
			template: n(202)
		}
	}).directive("eqxMusicCategory",
	function() {
		return {
			template: n(203)
		}
	}).directive("eqxMusicNav",
	function() {
		return {
			template: n(204)
		}
	}).directive("eqxMusicList",
	function() {
		return {
			template: n(205)
		}
	}).name
},
function(e, t) {
	e.exports = '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{vm.title}} <span ng-show=vm.error class=action>{{vm.error}}</span></h4></div>'
},
function(e, t) {
	e.exports = '<div class="clearfix category_list"><audio style="margin:25px 0 0 20px;height:30px" eqx-audio></audio><div class=music-cate><ul class=clearfix ng-show="vm.tab == TAB.sys"><li ng-repeat="category in vm.categoryList" ng-class="{active: vm.category === category}" ng-click=setCategory(category) ng-hide="category.id === \'search\'">{{category.name}}</li></ul><div class=search-box ng-show="vm.tab == TAB.sys"><input class="search pl10 search-music" placeholder={{vm.searchTips}} ng-model=vm.search ng-keypress=searchMaterial($event)> <span class="eqf-search search-icon" ng-click=searchMaterial();></span></div></div></div>'
},
function(e, t) {
	e.exports = '<div class=cate-title style=width:160px;height:412px;background-color:#f7f7f7><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a>{{vm.nav.sys}}</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click=setTab(TAB.myPurchase)><a>{{vm.nav.myPurchase}}</a></li><li ng-class="{active: vm.tab == TAB.my}" ng-click=setTab(TAB.my)><a>{{vm.nav.my}}</a></li><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a>最近使用</a></li><li class=my-bg-upload><div id=upload-progress class=upload-progress-music></div><div class="sound-upload form" id=upload-music><span class=eqf-update eqx-upload=vm.uploadOptions></span><em>{{vm.uploadOptions.uploadTips}}</em></div><div class=form-menus style=z-index:3><div class="popover right" style=top:-5px;left:194px><div class=arrow></div><div class=popover-content style=font-size:12px><i>通过本地电脑上传或者添加外链，大小不超过4M，格式为MP3。链接如何减少文件大小，请查看</i><a style=padding:0;font-size:12px;display:inline;margin:0;height:20px;line-height:20px;border:none;color:#08a1ef!important href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target=_blank>如何裁剪音乐</a></div></div></div></li><li class="add-tag blue" ng-click=openLink()><a><span class=eqf-link style=padding-right:10px></span> <span>添加外链</span></a></li></ul></div>'
},
function(e, t, n) {
	e.exports = '<div class=tab-content id=bg_contain><div class="tab-pane tab-head active" style=margin:0;padding-top:15px><div class=tab-pane style=height:300px><div class=img_list><div class="sound-list clearfix" ng-show=vm.itemList.length><ul style=border-bottom:none><li style=cursor:pointer ng-repeat="music in vm.itemList" ng-class="{active: isSelectedMusic(music)}" ng-click=setMusic(music)><span><a class="del eqf-scene-settingII" title=裁切 ng-show="vm.tab == TAB.my || vm.tab == TAB.myPurchase" ng-click=crop(music)></a> <a class="sound eqf-play" title="{{music.isPlaying ? (\'暂停\') : (\'播放\')}}" ng-class="{\'eqf-play2\': !music.isPlaying, \'eqf-stop\': music.isPlaying}" ng-click=togglePlay(music)></a> <a class="del eqf-wrong2" ng-show="vm.tab == TAB.my" title=删除 ng-click=delete(music)></a></span><div class=linkName title={{music.name}}>{{music.name}}<eqx-material-status obj=music type="\'audio\'"></eqx-material-status><span ng-if="music.libType == 4" style=color:#666>（音乐来源: <a class=hint--right data-hint=更多音频定制点击天声第一网 href=http://www.tianshengdiyi.com/ target=_blank><img src=' + n(206) + ' style=width:24px;height:18px> </a>） </span><span ng-if="music.libType == 5" style=color:#666>（音乐来源: <a class=hint--right data-hint=松巴音乐提供正版授权 href=http://www.songba.org/ target=_blank><img src=' + n(207) + ' style=width:24px;height:18px> </a>） </span><span ng-if="music.libType == 6" style=color:#666>（音乐来源: <a class=hint--right data-hint=看见音乐提供正版授权 href=http://star.kanjian.com/ target=_blank><img src=' + n(208) + ' style=width:24px;height:18px> </a>） </span><span ng-if="music.libType == 7" style=color:#666>（音乐来源: <a class=hint--right data-hint=天音在线提供正版授权 href=http://www.tianyinzaixian.com/ target=_blank><img src=' + n(209) + ' style=width:24px;height:18px> </a>）</span></div></li></ul></div></div><eqx-resource-none ng-show="vm.itemList.length <= 0 && vm.category.id === \'search\' && !vm.showLoading"></eqx-resource-none><eqx-resource-loading ng-show=vm.showLoading></eqx-resource-loading><div class=sound-action ng-show="vm.itemList.length === 0 && vm.category.id !== \'search\' && !vm.showLoading"><p>通过本地电脑上传或者添加外链，大小不超过4M，格式为MP3.注意：音乐大小会影响打开速度。查看 <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=7505" target=_blank>如何改变大小</a></p></div></div></div></div>'
},
function(e, t, n) {
	e.exports = n.p + "images/jinnuojiayin-884f5d.jpg"
},
function(e, t, n) {
	e.exports = n.p + "images/songba-643cd1.png"
},
function(e, t, n) {
	e.exports = n.p + "images/kanjian-508fb5.png"
},
function(e, t, n) {
	e.exports = n.p + "images/tianyinzaixian-bec889.png"
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(i, o) {
				return e.open({
					windowClass: "console music_console",
					template: n(212),
					controller: n(213),
					resolve: {
						musicJson: function() {
							if (i) {
								var e = i.id,
								t = i.name;
								return {
									id: e,
									name: t,
									url: i.path || i.url
								}
							}
							return {}
						},
						fileType: function() {
							return o
						}
					}
				}).then(function(e) {
					return e ? (e.fileType = o, t[o].addUseHistory(e), e) : {}
				})
			},
			openLink: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(214),
					controller: n(215),
					resolve: {
						fileType: function() {
							return t
						}
					}
				})
			},
			openCrop: function(t, i) {
				return e.open({
					windowClass: "upload-console",
					template: n(216),
					backdrop: "static",
					controller: n(217),
					resolve: {
						sound: function() {
							return t
						},
						cropConfig: function() {
							return i || {}
						}
					}
				})
			}
		}
	}
	i.$inject = ["modalService", "musicService"],
	n(211),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<eqx-music-header></eqx-music-header><div class=dialog-contain id=container><div class="dialog-content bg_console clearfix"><div class="sound-flex sound-panel"><eqx-music-nav></eqx-music-nav><div class="cate-list bg-rig" style=height:506px;padding-bottom:116px><div id=bg_contain><div class="tab-pane active tab-head"><audio style="margin:25px 0 0 20px;height:30px" eqx-audio></audio><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if=!vm.managingImgStatus></eqx-resource-category><eqx-music-list></eqx-music-list></div></div></div></div></div><div style=font-size:12px;height:40px;line-height:40px;overflow:hidden;position:absolute;bottom:76px;left:206px;right:0 ng-if=vm.music.id><span><i>已选择: </i>{{vm.music.name | maxLength: 16}} <a class=eqf-wrong2 style=margin-left:10px title=清除 ng-click=setMusic(null)></a></span></div><eqx-resource-pagination></eqx-resource-pagination></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s, c, l, p) {
		"ngInject";
		function d(t, n) {
			e.$broadcast("sound.toggle", t, n)
		}
		function u(t) {
			e.$broadcast("sound.pause", t)
		}
		function g() {
			x.tab == e.TAB.myPurchase ? f.clearTag(f.ID.myPurchase, f.ID.myPurchase + "-all") : f.clearTag(f.ID.my, f.ID.my + "-all")
		}
		function m() {
			x.tab == e.TAB.myPurchase ? e.setTab(e.TAB.myPurchase, !0) : e.setTab(e.TAB.my, !0),
			e.loadMoreItems(1)
		}
		var f = i[n],
		h = Object.assign({},
		f.config);
		if (o(e, f, h), 2 == n) var v = "音乐素材",
		y = "音乐搜索",
		b = {
			sys: "音乐库",
			my: "我的上传",
			myPurchase: "我的购买"
		};
		else v = "音效素材",
		y = "音效搜索",
		b = {
			sys: "音效库",
			my: "我的上传",
			myPurchase: "我的购买"
		};
		var x = Object.assign(e.vm, {
			title: v,
			searchTips: y,
			nav: b,
			music: Object.assign(t, {
				fileType: n,
				path: t.url
			}),
			uploadOptions: {
				tokenType: "audio",
				extensions: "mp3",
				maxFileSize: 4,
				uploadBtn: "upload-music",
				uploadCon: "container",
				maxCount: 10,
				uploadTips: "上传",
				success: function(e) {
					var t = Object.assign({},
					e, {
						fileType: n,
						bizType: 0,
						tagId: 0
					});
					u(),
					a.openCrop(t).then(g).then(m)
				}
			}
		});
		e.isSelectedMusic = function(e) {
			return !! x.music && ( !! x.music.id && x.music.id == e.id)
		},
		e.setMusic = function(e) {
			x.music = e
		},
		e.togglePlay = function(t) {
			return x.tab === e.TAB.my ? r.getCropInfo(t.id).then(function(e) {
				var n = e.data.obj,
				i = n ? n.url: null;
				d(t, i)
			}) : void d(t)
		},
		e["delete"] = function(t) {
			s.openConfirmDialog({
				msg: "确定删除此音乐吗？"
			}).then(function() {
				f.deleteMySound(t.id).then(function() {
					x.music === t && e.setMusic(null),
					u(t)
				}).then(g).then(m)
			})
		},
		e.crop = function(e) {
			r.getCropInfo(e.id).then(function(t) {
				u();
				var n = {
					soundId: e.id,
					lastCropInfo: t.data.obj
				};
				a.openCrop(e, n).then(m)
			})
		},
		e.confirm = function() {
			x.music && x.music.price ? l.checkPurchased(x.music.id).then(function(t) {
				if (t.data.map.isPurchase) s.openConfirmDialog({
					msg: "用户已购买，是否立即使用？",
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.$close(x.music),
					l.checkProductExist(n, {
						id: x.music.id,
						name: x.music.name,
						path: x.music.path,
						fileType: n,
						price: x.music.price
					}),
					f.clearTag("myPurchase", "myPurchase-all")
				});
				else {
					var i = {
						id: x.music.id,
						price: x.music.price,
						buyItem: "购买音乐",
						name: ""
					};
					c.buyMaterial(i).then(function(e) {
						var t = {
							id: i.id,
							orderId: e.data.map.orderId,
							name: x.music.name || x.music.title,
							path: x.music.path,
							price: i.price,
							source: 2,
							prodType: 4,
							musicType: n
						};
						return l.saveToMyResource(t)
					}).then(function(t) {
						if (1 == t.data.map.status) {
							p.add("支付成功，已保存至我的购买");
							var n = JSON.parse(JSON.stringify(x.music));
							delete n.price,
							f.clearTag("myPurchase", "myPurchase-all"),
							e.$close(x.music)
						} else s.openMsgDialog({
							msg: t.data.map.error || "网络繁忙,请稍后再试"
						})
					})
				}
			}) : x.music && x.music.id ? r.getCropInfo(x.music.id).then(function(t) {
				var n = t.data.obj;
				n && n.url && (x.music.path = n.url),
				e.$close(x.music)
			}) : e.$close()
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.openLink = function() {
			return a.openLink(n).then(m)
		}
	}
	i.$inject = ["$scope", "musicJson", "fileType", "musicService", "musicModal", "audioAPI", "modalService", "buyService", "materialAPI", "i18nNotifications"];
	var o = n(196);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>外部链接 <span ng-show=!vm.error class=action>可从外部使用链接添加音乐</span> <span ng-show=vm.error class=action>{{vm.error}}</span></h4></div><div class=dialog-contain><div class=dialog-content><form class=form-contain role=form><div class="form-list audio_area clearfix"><lable class=form-label>链接地址:</lable><div class=form-input><input type=text class=link ng-model=vm.src placeholder=请输入mp3格式的音乐链接></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = t[n],
		o = e.vm = {
			error: "",
			src: ""
		};
		e.confirm = function() {
			var t = o.src;
			return t.length ? /^http?:\/\/.*\.mp3$/.test(t) ? void i.addMusicLink(t).then(function() {
				e.$close("")
			})["catch"](function(e) {
				o.error = e.data.msg,
				$(".link").focus()
			}) : (o.error = "请输入正确的的音乐链接(mp3格式)", void $(".link").focus()) : (o.error = "链接地址不能为空", void $(".link").focus())
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "musicService", "fileType"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><h4 class=modal-title>音频裁切</h4></div><div class="dialog-contain cropimage crop-sound"><div class="crop-content dialog-content clearfix"><div class=sound-title>{{title}}</div><eqx-crop-panel></eqx-crop-panel><div class=set-point-wrapper><em ng-class="{\'eqf-play2\': state != \'start\', \'eqf-stop\': state == \'start\'}" ng-click=play();></em><div><span ng-click=setStartTime()>设当前播放为起点</span> 起点: <input class=from-point type=number min=0 ng-model=minuteS ng-change=changeStartTime()> 分 <input type=number max=59 min=0 ng-model=secondS ng-change=changeStartTime()>秒</div><div class=set-point><span ng-click=setEndTime();>设当前播放为终点</span> 终点: <input type=number min=0 ng-model=minuteE ng-change=changeEndTime()> 分 <input type=number ng-change=changeEndTime() ng-model=secondE max=59 min=0>秒</div></div><div class=sound-len><h6>音乐长度</h6><h1>{{cropLen}}</h1><h6>（建议长度控制在20秒内</h6></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s) {
		"ngInject";
		function c(n, i) {
			var o = {
				id: n,
				url: i,
				start: e.startTime,
				duration: Math.abs(e.endTime - e.startTime),
				rate: ""
			};
			return t.saveCropInfo(o)
		}
		e.startTime = 0,
		e.endTime = 0,
		e.currentTime = 0,
		e.minuteS = 0,
		e.secondS = 0,
		e.minuteE = 0,
		e.secondS = 0,
		e.soundSrc = i.FILE + r.path,
		e.title = r.name,
		e.cropLen = "0:00",
		e.resourceType = "mp3",
		e.soundType = r.fileType,
		e.lastCropInfo = s.lastCropInfo,
		e.ok = function() {
			var i = e.startTime,
			o = e.endTime - e.startTime;
			return o <= 0 ? void a.openMsgDialog({
				msg: "裁切长度不能为0。"
			}) : (o >= e.duration && (i = null, o = null), void t.crop(r.path, i, o).then(function(i) {
				var o = i.data.obj;
				$("#loading").show(),
				t.pollingStatus(o).then(function(e) {
					return $("#loading").hide(),
					s.soundId ? c(s.soundId, e) : n.saveFileInfo(r).then(function(t) {
						var n = t.data.obj;
						return c(n.id, e)
					})
				},
				function() {
					$("#loading").hide(),
					a.openMsgDialog({
						msg: "裁切失败"
					}),
					e.$close()
				}).then(function(t) {
					e.$close(t)
				})
			}))
		},
		e.play = function() {
			"start" !== e.state ? e.state = "start": e.state = "pause"
		},
		e.changeStartTime = function() {
			e.secondS || (e.secondS = 0),
			e.secondS = Math.floor(e.secondS),
			e.startTime = 60 * e.minuteS + e.secondS,
			e.startTime > e.endTime && (e.minuteS = Math.floor(e.endTime / 60), e.secondS = Math.round(e.endTime % 60), e.startTime = e.endTime)
		},
		e.changeEndTime = function() {
			e.secondE || (e.secondE = 0),
			e.secondE = Math.floor(e.secondE),
			e.endTime = 60 * e.minuteE + e.secondE,
			e.endTime > e.duration ? (e.minuteE = Math.floor(e.duration / 60), e.secondE = Math.round(e.duration % 60), e.endTime = e.duration) : e.endTime < e.startTime && (e.minuteE = Math.floor(e.startTime / 60), e.secondE = Math.round(e.startTime % 60), e.endTime = e.startTime)
		},
		e.setStartTime = function() {
			e.startTime = e.currentTime
		},
		e.setEndTime = function() {
			e.endTime = e.currentTime
		},
		e.$watch("startTime",
		function(t, n) {
			t !== n && (e.minuteS = Math.floor(t / 60), e.secondS = Math.round(t % 60), e.cropLen = o(Math.abs(e.endTime - e.startTime)))
		}),
		e.$watch("endTime",
		function(t, n) {
			t !== n && (e.minuteE = Math.floor(t / 60), e.secondE = Math.round(t % 60), e.cropLen = o(Math.abs(e.endTime - e.startTime)))
		}),
		e.cancel = function() {
			e.$dismiss()
		}
	}
	i.$inject = ["$scope", "audioAPI", "fileAPI", "HOST", "modalService", "sound", "cropConfig"],
	n(218);
	var o = n(220).toMinute;
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	"use strict";
	function n(e) {
		return Math.round(e % 60) >= 10 ? Math.floor(e / 60) + ":" + Math.round(e % 60) : Math.floor(e / 60) + ":0" + Math.round(e % 60)
	}
	e.exports = {
		toMinute: n
	}
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(222),
			link: function(e, t) {
				function n(e) {
					r = e,
					v = t.offset().left
				}
				function i(t) {
					if (r) {
						var n = t.clientX - v;
						"s" === r ? (n >= f ? n = f: n <= 0 && (n = 0), e.startTime = Math.round(n / 850 * e.duration)) : "e" === r ? (n <= m ? n = m: n >= 850 && (n = 850), e.endTime = Math.round(n / 850 * e.duration)) : (n <= m ? n = m: n >= f && (n = f), e.currentTime = Math.round(n / 850 * e.duration)),
						e.$apply()
					}
				}
				function a(t) {
					var n = l.position().left;
					n >= 800 ? l.css({
						zIndex: 2
					}) : l.css({
						zIndex: 1
					}),
					r && ("s" === r ? (m = t.clientX - v, m >= f ? m = f: m <= 0 && (m = 0), e.startTime = Math.round(m / 850 * e.duration)) : "e" === r ? (f = t.clientX - v, f <= m ? f = m: f >= 850 && (f = 850), e.endTime = Math.round(f / 850 * e.duration)) : (h = t.clientX - v, h < m && (h = m), c.currentTime = e.currentTime), r = null)
				}
				var r, s = t.find("audio"),
				c = s.get(0),
				l = t.find(".bar-s"),
				p = t.find(".bar-c"),
				d = t.find(".bar-e"),
				u = t.find(".left-distance"),
				g = t.find(".right-distance"),
				m = 0,
				f = 850,
				h = 0,
				v = 0,
				y = e.lastCropInfo;
				e.curT = "0:00",
				e.endT = "0:00",
				s.attr("src", e.soundSrc),
				p.hide(),
				l.on("mousedown",
				function() {
					return n("s")
				}),
				d.on("mousedown",
				function() {
					return n("e")
				}),
				p.on("mousedown",
				function() {
					return n("c")
				}),
				t.on("mousemove", i),
				t.on("mouseup mouseleave", a),
				s.on("error",
				function(t) {
					switch (t.target.error.code) {
					case t.target.error.MEDIA_ERR_ABORTED:
						console.error("You aborted the video playback.");
						break;
					case t.target.error.MEDIA_ERR_NETWORK:
						console.error("A network error caused the video download to fail part-way.");
						break;
					case t.target.error.MEDIA_ERR_DECODE:
						console.error("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");
						break;
					case t.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
						console.error("The video could not be loaded, either because the server or network failed or because the format is not supported.");
						break;
					default:
						console.error("An unknown error occurred.")
					}
					e.$dismiss()
				}),
				s.on("loadedmetadata",
				function() {
					if (!isNaN(c.duration)) {
						var t = Math.floor(c.duration),
						n = "";
						2 == e.soundType ? n = t < 90 ? t: 90 : 4 == e.soundType && (n = t < 15 ? t: 15),
						y ? (e.startTime = y.start, e.endTime = y.start + y.duration, e.currentTime = e.lastCropInfo.start) : (e.endTime = n, e.startTime = 0, e.currentTime = 0),
						e.duration = t,
						e.endT = o(e.endTime);
						for (var i = 850 / e.duration,
						a = e.duration / 6 + 1,
						r = [], s = 1; s <= a; s++) r.push(o(6 * s));
						e.timeline = r,
						e.liW = 6 * i + "px",
						e.endLi = 850 - 6 * i * (Math.floor(a) - 1) + "px",
						e.$apply()
					}
				}),
				s.on("timeupdate",
				function() {
					"c" !== r && (e.currentTime = c.currentTime, e.$apply())
				}),
				e.$watch("state",
				function(t) {
					"start" == t ? (e.currentTime >= e.endTime && (c.currentTime = e.startTime), c.currentTime < e.startTime && (c.currentTime = e.startTime), p.show(), c.play()) : "pause" == t && c.pause()
				}),
				e.$watch("endTime",
				function(t) {
					e.endT = o(t),
					f = t / e.duration * 850,
					f = f > 850 ? 850 : f,
					d.css("left", f - 5 + "px"),
					g.css("width", 850 - f + "px"),
					f < h && (e.currentTime = t, c.currentTime = t)
				}),
				e.$watch("startTime",
				function(t) {
					m = t / e.duration * 850,
					m = m > 850 ? 850 : m,
					l.css("left", m - 5 + "px"),
					u.css("width", m + "px"),
					h < m && (e.currentTime = t, c.currentTime = t)
				}),
				e.$watch("currentTime",
				function(t) {
					e.curT = o(t),
					h = Math.round(t / e.duration * 850),
					h >= f && (h = f, e.state = "pause"),
					p.css("left", h - 5 + "px")
				}),
				e.$watch("soundSrc",
				function(t, n) {
					t !== n && (p.hide(), s.attr("src", t), e.state = "pause")
				})
			}
		}
	}
	var o = n(220).toMinute;
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=crop-panel><ul class=time-line><li ng-class="{\'s-scale\': ($index+1) % 5 != 0, \'l-scale\': ($index+1) % 5 == 0}" ng-style="{\'width\': ($index+1) != timeline.length ? liW : endLi}" ng-repeat="scale in timeline"><span ng-if="$index == 0" class=time-line-0>0:00</span> <span ng-if="($index+1) % 5 == 0">{{scale}}</span></li></ul><em class=bar-s><em class=triangle></em> <em class=line></em> </em><em class=bar-c><em class=triangle></em> <em class=line></em> </em><em class=bar-e><em class=triangle></em> <em class=line></em></em><div class=left-distance></div><div class=right-distance></div></div><span>{{curT}}/<span>{{endT}}</span></span><audio></audio>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, n) {
			function i(e) {
				e && e.pause && e.pause()
			}
			function o(t, n, i, o) {
				var a, r = {};
				r.src = o ? o: n.src || n.url || n.path || n.tmbPath,
				a = /^https?/.test(r.src) ? r.src: e.FILE + r.src;
				var s = a.substr(a.lastIndexOf("/") + 1),
				c = i.src.substr(a.lastIndexOf("/") + 1);
				null === t.id ? s === c && n.isPlaying ? i.pause() : s !== c || n.isPlaying ? (i.src = a, i.play(), t.isPlaying = !1, n.isPlaying = !0) : i.play() : t.id === n.id && n.isPlaying ? i.pause() : t.id !== n.id || n.isPlaying ? (i.src = a, i.play(), t.isPlaying = !1, n.isPlaying = !0) : (i.src = a, i.play())
			}
			var a = {};
			n.on("pause",
			function() {
				n.attr("src") && t.$apply(function() {
					return a.isPlaying = !1
				})
			}).on("play",
			function() {
				n.attr("src") && t.$apply(function() {
					return a.isPlaying = !0
				})
			}),
			t.$on("sound.toggle",
			function(e, t, i, r) {
				o(a, t, n[0], i, r),
				a = t
			}),
			t.$on("sound.pause",
			function(e) {
				e && e.id == a.id && i(n[0])
			}),
			t.$on("$destroy",
			function() {
				a && a.id && (a.isPlaying = !1)
			})
		}
		return {
			link: t
		}
	}
	n.$inject = ["HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("resource.ui.shape", [n(225)]).factory("shapeModalFactory", n(228)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.shape.tpl", []).directive("eqxShapeHeader",
	function() {
		return {
			template: n(226)
		}
	}).directive("eqxShapeNav",
	function() {
		return {
			template: n(227)
		}
	}).name
},
function(e, t) {
	e.exports = "<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>形状库 <span ng-show=!authError class=action>矢量素材，可更换颜色，放大不失真</span> <span ng-show=authError class=action>{{authError}}</span></h4></div>"
},
function(e, t) {
	e.exports = '<div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab== TAB.sys}" ng-click=setTab(TAB.sys)><a href="">形状库</a></li></ul><ul class="nav tabs-left user-tabs" style=padding-top:0><li ng-class="{active: vm.tab == TAB.recently}" ng-click=setTab(TAB.recently)><a href="">最近使用</a></li></ul></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i(e) {
			var n = o(e);
			return a().then(function(e) {
				return t.parse(e.path).then(function(t) {
					return Object.assign(n.properties, {
						src: e.path,
						id: e.id,
						items: t.items
					}),
					Object.assign(n.css, {
						height: t.height,
						width: t.width
					}),
					n
				})
			})
		}
		function o(e) {
			return JSON.parse(JSON.stringify(e))
		}
		function a() {
			return e.open({
				windowClass: "console img_console",
				template: n(229),
				controller: n(230)
			}).then(function(e) {
				return t.addUseHistory(e),
				e
			})
		}
		return {
			getSvg: a,
			getShapeJson: i
		}
	}
	i.$inject = ["modalService", "shapeService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<eqx-shape-header></eqx-shape-header><div class=dialog-contain><div class="dialog-content bg_console sound-flex clearfix"><eqx-shape-nav></eqx-shape-nav><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head"><div class=img_list><eqx-resource-category ng-show="vm.tab == TAB.sys"></eqx-resource-category><eqx-resource-tags></eqx-resource-tags></div></div><div class=img_list><div class="img_list_container photo_list"><ul class="img_box clearfix" style=height:333px><li ng-repeat="img in vm.itemList" style="width:100px;height:100px;position:relative;display:inline-block;background:#e6ebed no-repeat center/contain" ng-style="{backgroundImage: \'url(\' + HOST.FILE+ img.path + \')\'}" ng-click=selectSvg(img)></li></ul></div></div></div></div><eqx-resource-pagination></eqx-resource-pagination></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n) {
		"ngInject";
		var i = Object.assign({
			showSearch: !1
		},
		n.config);
		o(e, n, i),
		e.HOST = t,
		e.selectSvg = function(t) {
			e.$close(t)
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	i.$inject = ["$scope", "HOST", "shapeService"];
	var o = n(196);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	n(200).size;
	e.exports = angular.module("resource.ui.font", [n(232)]).factory("fontModalFactory", n(236)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.font.tpl", []).directive("eqxFontHeader",
	function() {
		return {
			template: n(233)
		}
	}).directive("eqxFontNav",
	function() {
		return {
			template: n(234)
		}
	}).directive("eqxFontList",
	function() {
		return {
			template: n(235)
		}
	}).name
},
function(e, t) {
	e.exports = '<div class="modal-header no-bottom-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{vm.title}} <span ng-show=vm.error class=action>{{vm.error}}</span></h4></div>'
},
function(e, t) {
	e.exports = '<div class=cate-title><ul class="nav tabs-left" style=padding-top:0><li ng-class="{active: vm.tab == TAB.sys}" ng-click=setTab(TAB.sys)><a data-toggle=tab>字体库</a></li><li ng-class="{active: vm.tab == TAB.myPurchase}" ng-click=setTab(TAB.myPurchase)><a data-toggle=tab>我的字体</a></li></ul></div>'
},
function(e, t) {
	e.exports = '<div class=font_list><eqx-resource-none ng-show="vm.itemList.length <= 0 && vm.category.id === \'search\' && !vm.showLoading"></eqx-resource-none><eqx-resource-loading ng-show=vm.showLoading></eqx-resource-loading><div style=height:355px;margin-left:15px><ul><li ng-repeat="font in vm.itemList" class=font_box><div class=font-name><div class=font-display><span ng-style="{fontFamily: font.font_family? font.font_family : font.fontFamily }">{{vm.fontDisplay ? vm.fontDisplay : font.preview_text}}</span></div><span ng-class="{true: \'fontName-ellipsis\',false: \'fontName\'}[vm.tab == TAB.sys]">{{font.name}}</span> <a ng-if="vm.tab == TAB.sys" class=fontBuy ng-click=buyFont(font)>购买</a> <span ng-if="vm.tab == TAB.sys" class=fontPrice>{{font.price}}秀点/年</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 0" class="fontType fontPersonal" ng-class="{\'fontOverTime\': font.expStatus == 0}">个人</span> <span ng-if="vm.tab == TAB.myPurchase && font.license == 1 && font.fontType != 0" class="fontType fontBusiness" ng-class="{\'fontOverTime\': font.expStatus == 0}">企业</span><div ng-if="vm.tab == TAB.myPurchase" class="fr switch fontSwitch" ng-class="font.status == 1 ? \'switch-open\' : \'switch-close\'" ng-click=openOrClose(font)><div class=circle-con><i class=circle></i></div></div></div></li></ul></div><div class=display-time><span>实时预览</span> <input placeholder=请输入文字预览字体效果 ng-model=vm.previewFont check-count=20 ng-keypress=displayPreviewFont($event)> <span class=font-count>{{(vm.previewFont?countCharacters(vm.previewFont.trim()):0)}}/20</span> <a class="btn btn-primary" ng-click=displayPreviewFont() big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=字体预览 categorythreeid=3 actiontype=4>确认</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i() {
			return e.open({
				windowClass: "console img_console",
				template: n(239),
				controller: n(240)
			})
		}
		function o(e) {
			return void 0 !== e.price && null !== e.price || (e.price = 0),
			void 0 !== e.business_price && null !== e.business_price || (e.business_price = 0),
			t.open({
				template: n(241),
				controller: n(242),
				resolve: {
					font: function() {
						return e
					}
				}
			}).result
		}
		return {
			openFontMarket: i,
			buyFont: o
		}
	}
	i.$inject = ["modalService", "$modal"],
	n(237),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<eqx-font-header></eqx-font-header><div class=dialog-contain id=container><div class="dialog-content bg_console sound-flex clearfix"><eqx-font-nav></eqx-font-nav><div class="cate-list bg-rig"><div id=bg_contain><div class="tab-pane active tab-head"><div class=font_list><eqx-resource-category ng-show="vm.tab == TAB.sys" ng-if=!vm.managingImgStatus></eqx-resource-category><eqx-resource-tags ng-if=!vm.managingImgStatus></eqx-resource-tags></div></div></div><eqx-font-list ng-if=!vm.manageGroupStatus></eqx-font-list></div></div><eqx-resource-pagination></eqx-resource-pagination></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s) {
		"ngInject";
		function c(e) {
			var t = document.getElementById("fontFacePreview"),
			n = document.head || document.getElementsByTagName("head")[0];
			t && n.removeChild(t),
			t = document.createElement("style"),
			t.type = "text/css",
			t.id = "fontFacePreview",
			n.appendChild(t);
			var i = document.createTextNode(e);
			t.appendChild(i)
		}
		var l = t;
		e.cancel = function() {
			e.$dismiss()
		},
		e.countCharacters = a,
		e.buyFont = function(e) {
			i.getFontLicense(e.sourceId).then(function(i) {
				return 1 == i.data.obj ? n.add("当前字体已经购买，请到字体工具栏中使用。") : (e.license = i.data.obj, t.buyFont(e))
			})
		},
		e.displayPreviewFont = function(t) {
			if (!t || t && 13 === t.keyCode) {
				var n = "",
				i = "http://font.eqh5.com/store/fonts/";
				d.itemList.forEach(function(t) {
					var o = t.font_family ? t.font_family: t.fontFamily,
					a = null;
					a = e.vm.previewFont ? e.vm.previewFont: t.preview_text ? t.preview_text: "易企秀免费简单好用",
					d.fontDisplay = a,
					a = encodeURIComponent(a);
					var r = new Date;
					n = n + "@font-face{font-family:'" + o + "';src: url('" + i + o + ".woff?text=" + a + "&date=" + r.getTime() + "') format('woff');}"
				}),
				c(n)
			}
		};
		var p = Object.assign({
			itemListCallback: e.displayPreviewFont
		},
		l.config);
		o(e, l, p);
		var d = Object.assign(e.vm, {
			title: "字体素材",
			previewFont: ""
		});
		e.openOrClose = function(e) {
			if (0 == e.expStatus) s.openConfirmDialog({
				msg: "当前字体已过期，是否重新购买？",
				confirmName: "立即购买",
				cancelName: "取消"
			}).then(function() {
				l.buyFont(e).then(function() {
					l.myFont.myFontLists = [],
					l.$getMoreItems("myPurchase", "myPurchase-all")
				})
			});
			else {
				var t = 1;
				t = 1 === e.status ? 0 : 1,
				r.openCloseFontStatus(e.id, t).then(function(n) {
					n.data.success ? (e.status = t, l.myFont.myFontLists = [], s.openMsgDialog({
						msg: "操作成功"
					})) : s.openMsgDialog({
						msg: "网络繁忙,请稍后再试"
					})
				})
			}
		}
	}
	i.$inject = ["$scope", "fontService", "i18nNotifications", "materialAPI", "validCharacterNumFilter", "fontAPI", "modalService"];
	var o = n(196);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>购买字体</h4></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class=buy-font-info><div ng-if="(font.license == null || (font.license != null && font.expStatus == 0)) && disableBuyPersonalFont()" class="hint--top hint--rounded" data-hint=企业用户及公共用户只允许购买企业授权版本><input type=radio ng-model=usage.type value=personal ng-checked="usage.type === \'personal\'" ng-disabled=true> <span class=disable-buy-peronal>购买个人授权版本，不可用于商业用途({{font.price}}秀点/年)</span></div><div ng-if="(font.license == null || (font.license != null && font.expStatus == 0)) && !disableBuyPersonalFont()"><input type=radio ng-model=usage.type value=personal ng-checked="usage.type === \'personal\'"> <span>购买个人授权版本，不可用于商业用途({{font.price}}秀点/年)</span></div><div ng-if="font.license == 0 && font.expStatus != 0"><span>已购买个人授权版本,不可用于商业用途</span></div><div ng-show="font.license !=1 || font.expStatus == 0"><input type=radio ng-model=usage.type value=business ng-checked="usage.type === \'business\'"> <span>购买企业授权版本，授权范围内可用于商业用途({{font.business_price }}秀点/年）</span></div><div ng-if="font.brandId === 10"><input type=checkbox ng-model=acceptFZFont.value>已阅读并接受<a style=color:#08a1ef ng-click=openFZAgreement()>《方正字库知识产权用户许可协议》</a></div></div></div><div class="btn-contain btn-small"><button ng-show="font.license == null || ( font.license == 0 && userType != 21 && userType != 51) || font.expStatus == 0" ng-disabled="(font.brandId === 10) && (!acceptFZFont.value)" ng-click=confirmBuyFont(); class="btn btn-main" style=width:100px;height:36px>立即购买</button> <a ng-click=cancel(); class=btn-grey0>取消</a></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o, a, r, s, c, l, p, d) {
		"ngInject";
		function u(t) {
			return a.saveToMyResource(t).then(function(t) {
				1 == t.data.map.status ? (c.add("当前字体购买成功，请到字体工具栏中使用。"), o.clearTag("myPurchase", "myPurchase-all"), o.myFont.myFontLists = [], e.ok()) : r.openMsgDialog({
					msg: t.data.map.error || "网络繁忙,请稍后再试"
				})
			})
		}
		e.font = s,
		e.usage = {},
		e.acceptFZFont = {
			value: !1
		},
		e.userType = l.getCurrentUser().type,
		1 === e.userType && 0 != e.font.license ? e.usage.type = "personal": e.usage.type = "business",
		e.ok = function() {
			e.$close(e.usage.license)
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.confirmBuyFont = function() {
			e.usage.type || (21 !== e.userType && 51 !== e.userType ? e.usage.type = "business": e.usage.type = "personal");
			var n = {
				id: s.id,
				buyItem: s.name || "购买字体"
			};
			"personal" === e.usage.type ? (e.usage.price = e.font.price, e.usage.license = 0) : (e.usage.price = e.font.business_price, e.usage.license = 1, n.signUrl = t.MALL_HOST + "api/m/order/sign_business"),
			n.price = e.usage.price;
			var o = {
				id: s.id,
				license: e.usage.license,
				price: e.usage.price,
				source: 2,
				prodType: 3
			};
			return 0 == n.price ? (o.orderId = "", u(o)) : void i.buyMaterial(n).then(function(e) {
				return e ? (o.orderId = e.data.map.orderId, u(o)) : void r.openMsgDialog({
					msg: "网络繁忙,请稍后再试"
				})
			})
		},
		e.openFZAgreement = function() {
			p.open({
				windowClass: "login-container seven-contain",
				template: n(243)
			})
		},
		e.disableBuyPersonalFont = function() {
			return d.permission("disableBuyPersonalFont")
		}
	}
	i.$inject = ["$scope", "HOST", "buyService", "fontService", "materialAPI", "modalService", "font", "i18nNotifications", "userService", "$modal", "authorityService"],
	e.exports = i
},
function(e, t) {
	e.exports = "<style>.fz-font-agreement{line-height:2;margin:40px 80px}.fz-font-agreement p{text-indent:2em}.fz-font-agreement h6{font-weight:700}</style><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=$close()><span aria-hidden=true>×</span></button><h4 class=modal-title style=text-align:center>方正字库知识产权用户许可协议</h4></div><div class=dialog-contain eqd-scroll disable-mouse=true prevent-exception=true style=height:520px;margin-bottom:40px><ul class=fz-font-agreement><li><h6>用户须知：</h6><p style=font-weight:700>本《方正字库知识产权用户许可协议》（以下简称“协议”）是您与北京北大方正电子有限公司（以下简称“方正电子公司”）之间有关安装、使用本协议附随的“方正字库”（以下简称“字库软件”）的法律协议。您在使用本“字库软件”的所有或任何部分前，应接受本协议中规定的所有条款和条件，特别是其中对下列内容的规定：（a）使用（第3、4 部分）；（b）知识产权（第5部分）；（c）保证（第6部分）及责任（第7部分）。安装、使用本字库软件的行为表示您同意接受本协议的条款，并遵守本协议。否则，请不要安装和/或使用本字库软件。</p><br/><p>方正字库软件依据国家法律既包含字体美术作品著作权，又包含计算机软件著作权，因此方正电子公司享有本字库软件所有的知识产权。方正电子公司只允许您在遵守本协议各项条款的前提下使用本字库软件。</p><br/><h6>1．说明</h6><p>1.1 计算机软件说明：</p><p>本“字库软件”指附随了本协议、包含一款或多款字体的字库软件的文件、软盘、光盘或其他形式介质储存的所有内容，包括但不限于计算机软件、字体、说明书等印刷材料，以及光盘封套等包装材料（其他代理商、销售商等非方正电子公司自行印制的印刷材料及包装材料等除外）。本字库软件中所涉及的字库格式包括但不限于True type格式、Open type格式、PostScript Type 1、Type 0格式和CID格式</p><p>1.2 美术作品说明</p><p>字库软件所实现的字是美术作品，因此您对该美术作品的使用要遵循《中华人民共和国著作权法》以及《中华人民共和国著作权法实施条例》有关规定。</p><p>本字库软件中不同字体所包含的字符数量可能因遵循不同规格标准而有不同。此种字符数量差异并不属于质量瑕疵，用户之选择代表对所选字体规格的认可。</p><br/><h6>2．定义</h6><p>北京中网易企秀科技有限公司是方正电子公司许可的经销商，易企秀是北京中网易企秀科技有限公司拥有的在线设计平台</p><p>2.1“用户”或“您”是指在易企秀平台、向北京中网易企秀科技有限公司购买正版软件产品的复制件，并直接在计算机上安装、使用本字库软件及本字库软件所包含字体的自然人、法人或其他组织。</p><p>用户应依照本协议安装、使用本字库软件及本字库软件所包含的字体</p><p>2.2 “设计作品”是指通过在易企秀平台的“场景”中进行设计而得来的设计案。</p><h6>3．字库软件的使用</h6><p>如您在易企秀平台处获得字库软件，并且以您遵守本协议的条款为前提，方正电子公司即授予您以下关于本字库软件的非独占性许可，允许您按照本协议规定的如下用途使用本字库软件：</p><p>3.1安装使用：您仅可以在易企秀平台的场景中使用本字库软件；</p><p>3.2设计作品的传播：我们许可您通过各种途径对在易企秀平台的场景中所创作的设计作品进行传播。但如果您在易企秀平台之外，商业性地传播上述设计作品，您需要得到额外授权。</p><p style=font-weight:700>如果您对方正字体的使用需求超出了本协议的使用许可范围，尤其是，您出于商业目的为他人而复制、发行或者展览了本协议中的方正字体，请与我们联系以获取方正字库知识产权的相应授权。</p><br/><h6>4．字库软件的使用限制</h6><p>4.1您不得对本字库软件进行复制、修改、仿制、反编译、反汇编、反向工程、转换、翻译、拆分，或以其他方式试图从本软件取得源代码，或从本软件文档中摘取其实质部分作其他应用；</p><p>4.2您不得单独或者附带地以出售、出租、出借等方式向公众发行或通过赠与、转让以及有线或者无线网络传播本字库软件；</p><p>4.3 您不得单独或者附带地将本字库软件及其所包含的字体提供给未经方正电子公司许可的第三人，使该第三人以向公众展览、展示、放映、表演等方式使用本字库软件及其字体，不论您的提供行为是出于商业目的还是非商业目的。</p><p>4.4未经方正电子公司的书面许可，您不得将所购买的字库产品以任何形式内嵌在所开发的游戏内。</p><p>4.5根据字库软件中字体的美术作品属性，如果您没有获得方正电子公司的明确的授权许可不得实施下述行为，包括但不限于：发表、署名、修改、复制、发行、出租、展览、放映、广播、信息网络传播、摄制、改编、翻译、汇编等。</p><p>如果您在向公众做如下形式（包括但不限于）的发布时需要使用方正字体的，必须事先获得方正电子公司的书面授权许可：</p><p>4.3.1 将方正字体直接、格式转换或修改后用于企业名称、商标、标识；</p><p>4.3.2 将方正字体直接、格式转换或修改后用于企业宣传册；</p><p>4.3.3将方正字体直接、格式转换或修改后用于产品包装、附加标牌；</p><p>4.3.4将方正字体直接、格式转换或修改后用于产品说明书；</p><p>4.3.5将方正字体直接、格式转换或修改后用于发布卖场海报、平面广告、电视广告、户外广告、网络广告等；</p><p>4.3.6将方正字体直接、格式转换或修改后用于企业自有网站；</p><p>4.3.7将方正字体直接、格式转换或修改后用于发布音像制品、展览、展示中；</p><p>4.3.8其他应当由方正电子公司书面许可的情况。</p><p>4.6 其他依法应被禁止或者限制的行为。</p><br/><h6>5．知识产权</h6><p>本字库软件及其所包含的字体以及方正电子公司授权您制作的任何副本均为方正电子公司享有知识产权的作品（在本“字库软件”产品中另有知识产权声明的除外），本字库软件的结构、组织和代码以及与本字库软件相关的所有信息均为方正电子公司的商业秘密。本字库软件及其所包含的字体（即美术作品）受《中华人民共和国著作权法》、《计算机软件保护条例》和其他知识产权法律法规及国际公约、条约的保护。除本协议中明确的许可，方正电子公司不授予您对本字库软件其他的知识产权权利。</p><br/><h6>6．保证</h6><p>6.1在您遵守本协议条款的前提下，方正电子公司保证：</p><p>(a) 本字库软件符合附随书面材料所述的功能；</p><p>(b) 为您提供的支持服务与附随的书面材料中所述相符；</p><p>6.2 方正电子公司及其授权供应商对您所承担的全部责任，以及您所享有的所有补偿以下列两者之一为限：</p><p>(a) 退还您购买不符合本协议第6.1条规定的字库软件产品时已支付的价款（如有）；</p><p>(b) 修正或更换不符合本协议第6.1条规定的字库软件。经更换的字库软件产品的保证期限为原保证期剩余的期限或自更换日起计三十天（以时间较长者为准）。</p><p>进行索赔时，您必须在购得本字库软件后九十（90）天内、且仅在可提供购买本字库软件发票的情况下，向方正电子公司或其授权供应商提出</p><p>6.3本字库软件因事故、不当使用或错误操作而造成无法使用的，不适用本协议的保证条款。</p><p>6.4前述保证规定了当方正电子公司违反本协议第6.1条保证规定时的唯一和专有的赔偿方式。在适用法律所允许的最大范围内，方正电子公司就本字库软件不做其他明示或默示的保证，其中包括（但不限于）对字库软件产品的适销性、适用性、所有权或无侵权的默示保证以及提供或未提供支持服务。</p><br/><h6>7．责任限制</h6><p>方正电子公司在任何情况下都不对任何损失、索赔或费用或任何因果的、特殊的、意外的、间接的、惩罚性的或其他任何损失（包括但不限于利润损失、营业中断、商业信息的遗失或任何其他金钱上的损失）承担任何责任，也不对任何第三方的索赔或费用承担赔偿责任，即使方正电子公司事先被告知该损害发生的可能性。不论任何情况，方正电子公司依照本协议任何条款下所承担的全部责任，均限于您购买本软件产品所实际已付的价款（如果有的话）。但是，如果您已经与方正电子公司就授权许可使用达成书面协议，则方正电子公司的赔偿责任应以该协议条款为准。</p><br/><h6>8．许可终止</h6><p>一旦您违反本协议的条款，方正电子公司随时可能终止本协议、收回授权，并要求您承担相应法律责任。</p><br/><h6>9．适用法律与管辖</h6><p>本协议适用中华人民共和国的法律。</p><p>如您与方正电子公司就本字库软件的相关问题发生争议，您与方正电子公司均有权向北京市海淀区人民法院 提起诉讼。</p><br/><br/><br/><p>如果您对本协议有任何疑问或者希望获得有关字体授权许可的任何信息，请通过如下方式与方正电子公司联系：</p><p>北京北大方正电子有限公司</p><p>地址： 北京市海淀区上地5街9号 方正大厦</p><p>邮编：100085</p><p>电话：4006-516763</p><p>邮箱：font_sales@founder.com</p><p>网址：http://www.foundertype.com</p><br/><br/><br/><br/></li></ul></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("business.material", [n(245), n(250), n(257)]).name
},
function(e, t, n) {
	"use strict";
	var i = n(246);
	e.exports = angular.module("business.material.status", []).directive("eqxMaterialStatus", i).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				obj: "=",
				type: "=",
				selectCount: "=",
				successFn: "=",
				selectedImageLists: "="
			},
			controller: a
		}
	}
	var o = n(247),
	a = n(248);
	n(249),
	e.exports = i
},
function(e, t) {
	e.exports = "<div ng-if=\"type === 'tpl'\"><div ng-show=obj.price class=price><span>{{obj.price}}秀点</span></div><div ng-show=obj.price class=overlay ng-click=$event.stopPropagation()><div class=cover><div eqx-material-preview obj=obj type=type success-fn=successFn></div><div eqx-material-buy-process obj=obj type=type preview=false success-fn=successFn></div></div></div></div><div ng-if=\"type === 'pic'\"><div ng-show=obj.price class=price><span>{{obj.price}}秀点</span></div><div class=overlay ng-click=$event.stopPropagation()><div class=cover><div eqx-material-preview obj=obj type=type success-fn=successFn selected-image-lists=selectedImageLists></div><div ng-show=obj.price eqx-material-buy-process obj=obj type=type preview=false success-fn=successFn selected-image-lists=selectedImageLists></div><div ng-show=!obj.price><a class=use ng-click=successFn(obj)>{{getButStr()}}</a></div></div></div></div><span ng-if=\"type === 'audio'\" ng-show=obj.price>{{obj.price}}秀点</span>"
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		e.getButStr = function() {
			return e.selectedImageLists.find(function(t) {
				return t.id == e.obj.id
			}) ? "取消": e.selectCount > 1 ? "选择": "使用"
		}
	}
	n.$inject = ["$scope"],
	e.exports = n
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = n(251),
	o = n(254),
	a = n(255);
	e.exports = angular.module("business.material.buyProcess", []).directive("eqxMaterialBuyProcess", i).controller("materialBuyMessageCtrl", o).factory("buyMessageFact", a).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				obj: "=",
				type: "=",
				preview: "=",
				successFn: "=",
				previewCancel: "=",
				selectedImageLists: "="
			},
			controller: a
		}
	}
	var o = n(252),
	a = n(253);
	e.exports = i
},
function(e, t) {
	e.exports = '<a ng-show="!preview && !isSelected()" class=buy ng-click=buyMaterial(price)>购买</a> <a ng-show="!preview && isSelected()" class=use ng-click=successFn(obj)>取消</a> <a ng-show="preview && !isSelected()" class="btn btn-sm green" ng-click=buyMaterial(price);>立即购买</a> <a ng-show="preview && isSelected()" class="btn btn-sm green" ng-click=successFn(obj);>取消使用</a>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s) {
		"ngInject";
		e.buyMaterial = function() {
			"pic" == e.type ? i.checkPurchased(e.obj.id).then(function(t) {
				if (t.data.map.isPurchase) s.openConfirmDialog({
					msg: "用户已购买，是否立即使用？",
					confirmName: "确定",
					cancelName: "取消"
				}).then(function() {
					e.obj.path = t.data.map.product.authedPath;
					var n = e.obj;
					i.checkProductExist(1, {
						id: n.id,
						name: n.name,
						path: n.path,
						price: n.price,
						libType: n.libType,
						fileType: 1
					}),
					a.image.clearTag("myPurchase", "myPurchase-all"),
					e.successFn(e.obj),
					e.previewCancel && e.previewCancel()
				});
				else {
					var c = {
						id: e.obj.id,
						price: e.obj.price,
						buyItem: e.obj.buyItem || "购买图片"
					};
					r.buyMaterial(c).then(function(t) {
						var n = e.obj.name || e.obj.title || "图片";
						n = n.substr(0, 50);
						var o = {
							id: e.obj.id,
							name: n,
							path: t.data.obj.authedPath,
							price: t.data.obj.price,
							orderId: t.data.map.orderId,
							source: 2,
							prodType: 1
						};
						return e.obj.path = t.data.obj.authedPath,
						i.saveToMyResource(o)
					}).then(function(t) {
						1 == t.data.map.status ? (o.add("支付成功，已保存至我的购买"), a.image.clearTag("myPurchase", "myPurchase-all"), e.successFn(e.obj), n.$broadcast("material.buy.success", {
							type: e.type,
							obj: e.obj
						})) : s.openMsgDialog({
							msg: t.data.map.error || "网络繁忙,请稍后再试"
						})
					})
				}
			}) : t.openMessage(e.obj, e.type, e.successFn)
		},
		e.isSelected = function() {
			return !! e.selectedImageLists && e.selectedImageLists.find(function(t) {
				return t.id == e.obj.id
			})
		}
	}
	n.$inject = ["$scope", "buyMessageFact", "$rootScope", "materialAPI", "i18nNotifications", "imageService", "buyService", "modalService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c) {
		"ngInject";
		e.price = t.price,
		o.userXd().then(function(t) {
			e.userXd = t,
			e.buyXD = e.userXd < e.price
		}),
		e.acceptCopyrightAgreement = {
			value: !0
		},
		e.ok = function() {
			e.$close()
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.confirmBuyMaterial = function() {
			e.buyXD ? (o.buyXd(), e.cancel()) : a.buyMaterial(t.id, n).then(function() {
				t.isPaid = 1,
				r.add("购买成功"),
				e.ok(),
				i(t),
				c.$broadcast("material.buy.success", {
					type: n,
					obj: t
				})
			})["catch"](function(e) {
				var t = e.data.msg ? e.data.msg: "网络繁忙";
				s.openMsgDialog({
					msg: t
				})
			})
		}
	}
	n.$inject = ["$scope", "obj", "type", "successFn", "XDService", "materialAPI", "i18nNotifications", "modalService", "$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t(t, n, i) {
			return e.open({
				windowClass: "console agreement_console",
				template: o,
				controller: "materialBuyMessageCtrl",
				resolve: {
					obj: function() {
						return t
					},
					type: function() {
						return n
					},
					successFn: function() {
						return i
					}
				}
			}).result
		}
		return {
			openMessage: t
		}
	}
	i.$inject = ["$modal"];
	var o = n(256);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>购买</h4></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class=buy-font-info style=margin-left:0><div style=text-align:center;padding-top:10px><span>当前需消耗秀点 <span style=color:#ff6e6e>{{price}}</span> 个，账户秀点余额 <span ng-show=!buyXD style=color:#ff6e6e>{{userXd}}个。</span> <span ng-show=buyXD>不足 (<span style=color:#ff6e6e>{{userXd}} </span>)。</span> <span ng-show=buyXD>请充值！</span></span></div></div></div><div class="btn-contain btn-small" style="padding:15px 0"><a ng-click=cancel(); class=btn-grey0>取消</a> <button ng-show="!acceptCopyrightAgreement.value && !buyXD" ng-disabled=true ng-click=confirmBuyMaterial(); class="btn btn-main hint--right hint--rounded" style=width:100px;height:36px data-hint=请勾选易企秀版权说明>购买</button> <button ng-show="acceptCopyrightAgreement.value && !buyXD" ng-click=confirmBuyMaterial(); class="btn btn-main" style=width:100px;height:36px>购买</button> <button ng-show=buyXD ng-click=confirmBuyMaterial(); class="btn btn-main" style=width:100px;height:36px>充值</button></div><div class="dialog-contain font-nav-tag bug-font-modal"><div class=buy-font-info style=margin-left:0;text-align:center;font-size:12px;margin-bottom:10px><div ng-show=!buyXD><input type=checkbox ng-model=acceptCopyrightAgreement.value><span></span>购买版权仅限本账号使用。</div></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(258),
	o = n(263);
	e.exports = angular.module("business.material.preview", []).directive("eqxMaterialPreview", i).controller("previewDetailCtrl", o).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				obj: "=",
				type: "=",
				successFn: "=",
				selectedImageLists: "="
			},
			controller: a
		}
	}
	var o = n(259),
	a = n(260);
	e.exports = i
},
function(e, t) {
	e.exports = "<a class=preview ng-click=preview()>预览</a>"
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		e.preview = function() {
			var n = "version_frame";
			"tpl" === e.type && (n = "six-contain"),
			t.open({
				windowClass: n,
				template: o,
				controller: "previewDetailCtrl",
				resolve: {
					obj: function() {
						return e.obj
					},
					type: function() {
						return e.type
					},
					successFn: function() {
						return e.successFn
					},
					selectedImageLists: function() {
						return e.selectedImageLists
					}
				}
			})
		}
	}
	i.$inject = ["$scope", "$modal"],
	n(261);
	var o = n(262);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=pay-tpl-preview><span class="eqf-wrong cancel" ng-click=cancel()></span><div class=information><div class=title>预览</div><div class=bug><div ng-show=obj.price class=price><span class=activePrice>{{obj.price}}</span> <span class=measureUnit>秀点</span></div><div ng-show=!obj.price style=font-size:28px;font-family:ArialMT,Arial;color:#48D5B2>免费</div><div class=createScene><div ng-show=obj.price eqx-material-buy-process obj=obj type=type preview=true preview-cancel=cancel success-fn=successFn selected-image-lists=selectedImageLists></div><div ng-show=!obj.price><a ng-show=!isSelected() class="btn btn-sm green" ng-click=use(obj)>立即使用</a> <a ng-show=isSelected() class="btn btn-sm green" ng-click=use(obj)>取消使用</a></div></div></div></div><div ng-if="type === \'tpl\'" class=wrap><div class="content nr" ng-if=obj style=height:486px thumb-tpl=obj render=true show-del=false shift-size=486 disable-use=true></div></div><div ng-if="type === \'pic\'" class=image><li><eqx-loading-image data-url="{{FILE + obj.path}}"></eqx-loading-image></li></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c) {
		"ngInject";
		e.type = n,
		e.FILE = a.FILE,
		e.successFn = i,
		e.obj = t,
		e.selectedImageLists = o,
		"tpl" === n && c.getTpl(t.id).then(function(t) {
			t.data.obj && (e.obj.elements = t.data.obj.elements)
		}),
		e.cancel = function() {
			e.$dismiss()
		},
		e.use = function(t) {
			e.successFn(t),
			e.cancel()
		},
		e.isSelected = function() {
			return !! o && o.find(function(t) {
				return t.id == e.obj.id
			})
		},
		r(function() {
			"tpl" === n && $(".pay-tpl-preview").css("height", "486")
		}),
		s.$on("material.buy.success",
		function(t, n) {
			"tpl" !== n.type && "pic" !== n.type || e.cancel()
		})
	}
	n.$inject = ["$scope", "obj", "type", "successFn", "selectedImageLists", "HOST", "$timeout", "$rootScope", "tplAPI"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.service", [n(265)]).factory("cacheService", n(273)).factory("EqxCore", n(274)).factory("fileService", n(275)).factory("sceneService", n(276)).factory("historyService", n(278)).factory("tplService", n(280)).factory("tplTagService", n(281)).factory("userService", n(282)).factory("flagService", n(283)).factory("storageService", n(284)).factory("sessionStorageService", n(285)).factory("XDService", n(286)).factory("authorityService", n(287)).factory("setCompService", n(288)).factory("bigDataService", n(289)).factory("urlParameterService", n(290)).factory("appDeleteCompService", n(291)).factory("delayLoadService", n(292)).factory("buyService", n(294)).factory("clientReportService", n(295)).factory("gravityService", n(296)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("service.XD", []).factory("buyXdModal", n(266)).factory("payModal", n(269)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function() {
				return e.open({
					windowClass: "console",
					template: n(267),
					controller: n(268),
					resolve: {}
				})
			}
		}
	}
	i.$inject = ["modalService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-body><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><div class=confirm-msg><h4 class=text-left>尊敬的易企秀用户</h4><p class="mt20 text-left ml20 mr20" style=line-height:1.5em>感谢您对易企秀的支持，您即将购买500个秀点。购买、发票等相关问题，请<a class=text-primary target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=12324">查看详情</a>。<br/>1.暂仅支持一次购买500秀点，费用500元；<br/>2.包年购买、优惠购买，请先<a class=text-primary href=privilege target=_blank>升级企业账号</a>；<br/>3.购买需要发票的，请联系fapiao@eqxiu.com；</p></div></div><div class="text-right pb20 btn-small"><a class="btn btn-primary mr20" ng-click=confirm()>立即购买</a></div>';
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		function a(i, a, r) {
			t.getPayXdQrCode(i, a, r).then(function(i) {
				if (e.$close(), i.data.success) {
					var a = i.data.obj;
					o.openBuy(a).then(function() {
						t.userXd()
					})
				} else {
					var r = "/upgrade/" === n.path().substring(0, 9) || "/xdBuy" === n.path();
					970301 === i.data.code && r && alert("当前用户不一致,请刷新页面再次购买!")
				}
			})
		}
		e.confirm = function() {
			a(10, 1, !1)
		},
		e.cancel = function() {
			e.$close()
		}
	}
	n.$inject = ["$scope", "XDService", "$location", "userService", "payModal"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			openBuy: function(t) {
				return e.open({
					windowClass: "console",
					template: n(271),
					controller: n(272),
					resolve: {
						qrCodeUrl: function() {
							return t.url
						},
						type: function() {
							return 10
						},
						money: function() {
							return t.price / 100
						},
						oprice: function() {
							return t.oprice / 100
						},
						method: function() {
							return "buyXd"
						},
						counts: function() {}
					}
				})
			}
		}
	}
	i.$inject = ["modalService"],
	n(270),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>请选择喜欢的支付方式进行支付</h4></div><div><ul class="nav nav-bg"><li ng-class="{active:payWay==\'alipay\'}"><a ng-click="getWeChatUrl(\'alipay\');">支付宝</a></li><li ng-class="{active:payWay==\'wechat\'}"><a ng-click="getWeChatUrl(\'wechat\');" ng-hide="type==3 || money === 6800 || money === 15600 ">微信</a></li><li ng-class="{active:payWay==\'remit\'}"><a ng-click="getWeChatUrl(\'remit\');">汇款支付</a></li><li ng-class="{active:payWay==\'unionpay\'}"><a ng-click="getWeChatUrl(\'unionpay\');">银联支付</a></li></ul><div class=tab-content><div class=tab-pane ng-class="{active:payWay==\'alipay\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url={{qrCodeUrl}}></div></div><div class=tab-pane ng-class="{active:payWay==\'wechat\'}"><h4 class="text-center mt20">扫码支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="qrcode text-center" style="width:100%;padding:12px 0" qr-code qr-url={{qrCodeUrl}}></div></div><div class=tab-pane ng-class="{active:payWay==\'remit\'}"><h4 class="text-center mt20">需支付</h4><h3 class=text-center style=color:red;margin-top:15px>{{money}}元</h3><div class="remit-contain p20"><p>对公支付请按照下列步骤进行：</p><p style=padding-top:15px>步骤1：打款<br/>公司名称：北京中网易企秀科技有限公司<br/>开户行全称：中国工商银行股份有限公司北京海淀支行<br/>银行账号：0200049609201083655</p><p style=padding-top:15px><span class=action>重要说明！！！</span><br/>步骤2：发邮件到fapiao@eqxiu.com,以便易企秀更快捷给你提供相关服务。邮件内容如下：<br/>购买项目：（秀点，企业体验版，企业基础版，企业标准版，企业高级版等）<br/>购买金额，购买数量，易企秀账号，联系电话。</p></div></div><div class=tab-pane ng-class="{active:payWay==\'unionpay\'}" ng-init="paying = true;"><div ng-show=paying><h4 class="text-center mt20">需支付</h4><h3 class=text-center style=color:red;margin-top:15px;margin-bottom:20px>{{money}}元</h3><div style=text-align:center;margin-bottom:20px;width:180px;position:relative;margin-left:-90px;left:50% ng-show="counts.length>0 && payWay==\'unionpay\'"><eqx-select class="select-great select-contain border-width" model=count ng-init="count = counts[0]" change=setCount(count.value,$index)><eqx-select-option value=count ng-repeat="count in counts track by $index">{{count.name}}</eqx-select-option></eqx-select></div><div class=text-center style=padding-bottom:20px><a ng-click="paying = false" ng-href="{{HOST.SERVER_0 + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target=_blank>立即支付</a></div></div><div ng-show=!paying class="p20 text-center"><p>请在新开启的支付页面中完成支付后，点击完成支付按钮关闭对话框。<br/>未完成支付，可点击重新支付按钮再次进行支付</p><p style=margin-top:20px><a class="btn btn-primary" ng-href="{{HOST.SERVER_0 + \'m/u/union/pay?goodsId=\' + type + \'&amount=\' + curentCount}}" target=_blank>重新支付</a></p></div></div></div><div style=text-align:center;margin-bottom:20px;width:180px;position:relative;margin-left:-90px;left:50% ng-show="counts.length>0 && payWay!=\'unionpay\'"><eqx-select class="select-great select-contain border-width" model=count ng-init="count = counts[0]" change=setCount(count.value,$index)><eqx-select-option value=count ng-repeat="count in counts track by $index">{{count.name}}</eqx-select-option></eqx-select></div><div ng-show="payWay==\'alipay\'" style=padding-bottom:10px class=text-center><a ng-href="{{HOST.SERVER_0 +\'m/u/alipay/direct?goodsId=\' + type + \'&amount=\' + curentCount+ \'&goodsType=\' + goodsType}}" target=_blank>支付宝网页支付</a></div></div><div class="modal-footer pay-invoice"><a class="btn btn-primary fr" ng-click=paymented()>完成支付</a> <a ng-click=invoiceNotice()>发票须知</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c, l, p) {
		"ngInject";
		e.qrCodeUrl = n,
		e.HOST = p;
		var d = o;
		o === s ? e.money = d: e.money = s + "-" + (s - d) + "=" + d,
		e.type = i,
		1 === i ? e.payUrl = p + "download/vip1-201512.pdf": 2 === i ? e.payUrl = p + "download/vip2-201512.pdf": 3 === i ? e.payUrl = p + "download/vip4-201512.pdf": 4 === i ? e.payUrl = p + "download/vip3-201512.pdf": 10 === i && (e.payUrl = p + "download/xd-201512.pdf"),
		e.counts = r,
		e.payWay = "alipay",
		r && r.length > 0 && (e.curentCount = r[0].value);
		var u = {},
		g = {};
		u["alipay1" + e.curentCount] = n,
		g["alipay1" + e.curentCount] = e.money,
		e.paymented = function() {
			e.$close(),
			"/xdBuy" === l.path() && l.path("usercenter/member")
		},
		e.cancel = function() {
			e.$dismiss()
		},
		"member" === a ? e.goodsType = 0 : e.goodsType = 1,
		e.getWeChatUrl = function(n) {
			var o = e.payWay;
			e.payWay = n;
			var r = 1;
			if ("wechat" === e.payWay && (r = 0), u[e.payWay + "" + r + e.curentCount]) return e.qrCodeUrl = u[e.payWay + "" + r + e.curentCount],
			void(e.money = g[e.payWay + "" + r + e.curentCount]);
			if ("member" === a) {
				var s = i,
				l = e.curentCount;
				1 === i && 6 === e.curentCount && (s = 2, l = 1),
				t.getCompanyQrCode(s, r, l).then(function(t) {
					t.data.success ? (u[e.payWay + "" + r + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.price / 100 : e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({
						msg: t.data.msg
					}), e.payWay = o)
				})
			} else t.getPayXdQrCode(i, r).then(function(t) {
				t.data.success ? (u[e.payWay + "" + r + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.price / 100 : e.money = g[e.payWay + "" + r + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({
					msg: t.data.msg
				}), e.payWay = o)
			})
		},
		e.setCount = function(n) {
			var o = e.curentCount;
			e.curentCount = n;
			var a = 1;
			if ("wechat" === e.payWay && (a = 0), u[e.payWay + "" + a + e.curentCount]) return e.qrCodeUrl = u[e.payWay + "" + a + e.curentCount],
			e.money = g[e.payWay + "" + a + e.curentCount],
			void(e.curentCount = n);
			var r = i,
			s = n;
			1 === i && 6 === n && (r = 2, s = 1),
			t.getCompanyQrCode(r, a, s).then(function(t) {
				t.data.success ? (u[e.payWay + "" + a + e.curentCount] = e.qrCodeUrl = t.data.obj.url, t.data.obj.price === t.data.obj.oprice ? e.money = g[e.payWay + "" + a + e.curentCount] = t.data.obj.price / 100 : e.money = g[e.payWay + "" + a + e.curentCount] = t.data.obj.oprice / 100 + "-" + (t.data.obj.oprice / 100 - t.data.obj.price / 100) + "=" + t.data.obj.price / 100) : (c.openMsgDialog({
					msg: t.data.msg
				}), e.curentCount = o)
			})
		}
	}
	n.$inject = ["$scope", "XDService", "qrCodeUrl", "type", "money", "method", "counts", "oprice", "modalService", "$location", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			get: function(e) {
				return JSON.parse(window.sessionStorage.getItem(e))
			},
			set: function(e, t) {
				return window.sessionStorage.setItem(e, JSON.stringify(t)),
				t
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return window.EqxCore
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r, s, c, l, p) {
		"ngInject";
		function d() {
			if (A) return A.eqxPageList[j]
		}
		function u(e) {
			var t = d();
			return t ? t.getEqxCompById(e) : void console.error("invalid page!")
		}
		function g(e) {
			return n.getSceneMeta(e)["catch"](function(e) {
				if (403 === e.data.code) var t = "场景地址有误，请确认！";
				else t = e.data.msg;
				return a.openMsgDialog({
					msg: t,
					btn: "我知道了"
				}).then(function() {
					window.open(r.HOST + "h5/list", "_self")
				}),
				s.reject()
			}).then(function(e) {
				P = e.data.map.count;
				var n = e.data,
				i = t.adaptor,
				l = i.SceneAdaptor,
				d = i.perfectMeta.perfectMeta;
				new l(n).addMetaFn(d).start(),
				E.map = n.map;
				var u = E.meta = n.meta;
				m(u) && a.openMsgDialog({
					msg: "此场景正在审核中,不能编辑",
					btn: "确定"
				}).then(function() {
					return window.open(r.HOST + "h5/list", "_self"),
					s.reject()
				}),
				delete u.property.wxAuth,
				L = o(u),
				M = JSON.parse(JSON.stringify(u));
				var g = t.core.scene.EqxScene;
				return A = new g(E, {
					mode: "edit",
					disablePageEffect: !0,
					disableCompEvent: !0,
					disableTrigger: !0,
					disableArrow: !0,
					disableCompAnim: !0,
					disableCommentManager: !0,
					initManagers: !1
				}),
				A.meta.name || (A.meta.name = "标题"),
				p.getCurrentUserPromise().then(function(e) {
					return "" + e.type != "99" && "" + e.type != "4" || !A.meta.property.editorModel || c.setEditorModel(A.meta.property.editorModel),
					A
				})
			})
		}
		function m(e) {
			return 1 === e.status && 1 === e.isExpedited
		}
		function f() {
			return a.openMsgDialog({
				msg: "此场景正在审核中,不能编辑",
				btn: "确定"
			}).then(function() {
				return window.open(r.HOST + "h5/list", "_self"),
				s.reject()
			})
		}
		function h(i) {
			var o = arguments.length <= 1 || void 0 === arguments[1] ? 1 : arguments[1];
			return n.getAllPageList(i, P).then(function(n) {
				A.setPageList(n),
				"app" === c.getEditorModel() && (A = l.deleteComp(A));
				var i = t.adaptor,
				a = i.SceneAdaptor,
				r = i.perfectPage.perfectPage,
				s = i.perfectComp.perfectComp;
				new a(E).addPageFn(r).addEleFn(s).start(),
				A.initManagers();
				var p = E.list.length;
				return e.initSceneHistory(A.sceneJson),
				o === -1 ? o = p: (!o || o < 0 || o > p) && (o = 1),
				j = o - 1,
				A.initEqxPages(),
				A
			})
		}
		function v(e) {
			delete e.property.wxAuth;
			var t = o(e);
			return L != t ? n.saveSceneSettings(e).then(function(n) {
				return L = t,
				M = JSON.parse(JSON.stringify(n.data.obj)),
				M.property = JSON.parse(M.property),
				Object.assign(A.sceneJson.meta, M),
				e
			})["catch"](function(e) {
				if (120307 == e.data.code) return f()
			}) : s.resolve(e)
		}
		function y() {
			A.syncMeta();
			var e = A.sceneJson.meta;
			return v(e)
		}
		function b(e) {
			return v(e)
		}
		function x(e, t) {
			return n.publishScene(e, t)
		}
		function w(e) {
			var t = A.getEqxPageByIndex(e),
			n = t.toPageJson();
			return i.savePage(n).then(function(e) {
				return y(),
				e
			})["catch"](function(e) {
				if (120307 == e.data.code) return f()
			})
		}
		function S(t, n) {
			var o = A.sceneJson.list,
			a = o[t].id;
			return i.createPage(a, n).then(function(n) {
				var i = A.insertPage(t, n.data.obj);
				return e.addPageHistory(i.pageJson, "初始化:创建页"),
				i
			})
		}
		function k(t) {
			var n = A.getEqxPageByIndex(t),
			o = n.getCopyJson(),
			a = o.id,
			r = o.properties.longPage;
			return i.createPage(a, r).then(function(n) {
				var i = n.data.obj;
				i.properties = o.properties,
				i.elements = o.elements;
				var a = A.insertPage(t, n.data.obj);
				return e.addPageHistory(a.pageJson, "初始化:创建页"),
				w(t + 1)["finally"](function() {
					return a
				})
			})
		}
		function C(t) {
			var n = A.sceneJson.list,
			o = n[t].id;
			return i.copyPage(o).then(function(n) {
				var i = A.insertPage(t, n.data.obj);
				return e.addPageHistory(i.pageJson, "初始化:复制页"),
				i
			})
		}
		function T(e) {
			var t = A.sceneJson.list,
			n = t[e].id;
			return i.deletePage(n).then(function() {
				y(),
				A.deletePage(e);
				var t = A.sceneJson.list.length - 1;
				return e < t ? e: t
			})
		}
		function $(e, t) {
			var n = A.sceneJson.list,
			o = n[e].id;
			return i.sortPage(o, t + 1).then(function() {
				return A.sortPage(e, t)
			})
		}
		function q(e) {
			return i.savePageName(e)
		}
		function I(e) {
			return null !== O ? s.resolve(O) : n.getSceneAddAdType(e).then(function(e) {
				return O = e.data.obj,
				e.data.obj
			})
		}
		var E = {
			meta: {},
			map: {},
			list: []
		},
		P = 0,
		A = null,
		j = -1,
		L = null,
		M = null,
		O = null;
		return {
			get currentPageIndex() {
				return j
			},
			set currentPageIndex(e) {
				j = e
			},
			get eqxScene() {
				return A
			},
			initSceneMeta: g,
			initScene: h,
			getCurrentPage: d,
			getCompById: u,
			createPage: S,
			copyPage: C,
			copyPage2: k,
			savePage: w,
			setSceneSettings: b,
			saveSceneSettings: y,
			publishScene: x,
			deletePage: T,
			sortPage: $,
			savePageName: q,
			getSceneAddAdType: I
		}
	}
	i.$inject = ["historyService", "EqxCore", "sceneAPI", "pageAPI", "modalService", "HOST", "$q", "urlParameterService", "appDeleteCompService", "userService"];
	var o = n(277).getHash;
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e) {
		var t = o(e),
		n = angular.toJson(t),
		i = 0;
		if (0 === n.length) return i;
		for (var a = 0; a < n.length; a++) {
			var r = n.charCodeAt(a);
			i = (i << 5) - i + r,
			i &= i
		}
		return i
	}
	var o = n(106).remove$key;
	e.exports = {
		getHash: i
	}
},
function(e, t, n) {
	"use strict";
	function i() {
		"ngInject";
		function e(e) {
			t(),
			(e.list || []).forEach(function(e) {
				return i(e, "初始化")
			})
		}
		function t() {
			a = {}
		}
		function n(e) {
			return a[e]
		}
		function i(e, t) {
			var n = a[e.id];
			return n || (n = a[e.id] = new o),
			n.addHistory(e, t),
			n
		}
		var a = {};
		return {
			clearHistory: t,
			initSceneHistory: e,
			getPageHistory: n,
			addPageHistory: i
		}
	}
	var o = n(279);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(277).getHash,
	r = function() {
		function e() {
			i(this, e),
			this.histories = [],
			this.index = -1
		}
		return o(e, [{
			key: "toString",
			value: function() {
				var e = this.histories.map(function(e) {
					return e.json.elements.length
				});
				return "[" + e + "] len " + e.length + " index: " + this.index
			}
		},
		{
			key: "pushHistory",
			value: function(t, n) {
				var i = (this.toString(), e.newHistory(t, n)),
				o = this.histories[this.histories.length - 1];
				if (!o || o.hash != i.hash) {
					this.histories.length = this.index + 1,
					this.histories.push(i);
					this.toString();
					return i
				}
			}
		},
		{
			key: "addHistory",
			value: function(e, t) {
				var n = this.pushHistory(e, t);
				if (n) return this.index += 1,
				n
			}
		},
		{
			key: "back",
			value: function() {
				var e = this.histories[this.index - 1];
				return e && (this.index -= 1),
				e
			}
		},
		{
			key: "forward",
			value: function() {
				var e = this.histories[this.index + 1];
				return e && (this.index += 1),
				e
			}
		},
		{
			key: "canBack",
			value: function() {
				return this.index > 0
			}
		},
		{
			key: "canForward",
			value: function() {
				return this.index < this.histories.length - 1
			}
		},
		{
			key: "nowHistory",
			value: function() {
				return this.histories[this.index]
			}
		}], [{
			key: "newHistory",
			value: function(e, t) {
				return {
					reason: t,
					time: (new Date).getTime(),
					json: JSON.parse(JSON.stringify(e)),
					hash: a(e)
				}
			}
		}]),
		e
	} ();
	e.exports = r
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o, a, r, s) {
		"ngInject";
		function c(e) {
			return {
				key: e,
				isBusy: !1,
				isLastPage: !1,
				pageNo: 0,
				list: []
			}
		}
		function l(e) {
			if (!e) throw new Error("invalid tpl key!");
			var t = k.find(function(t) {
				return t.key == e
			});
			return t || (t = c(e), k.push(t)),
			t
		}
		function p(o) {
			var a = l(o);
			if (a && !a.isLastPage && !a.isBusy) {
				a.isBusy = !0;
				var r, s = a.pageNo + 1,
				c = i.getCurrentUser();
				if (!c.property.myTplId && "myTpl" === o || !c.companyTplId && "company" === o || !c.myXbId && "myXB" === o) r = t.resolve({
					data: {
						list: []
					}
				});
				else switch (o) {
				case "myTpl":
					r = e.getCustomerPageTpls(c.property.myTplId, s, w);
					break;
				case "company":
					r = e.getCustomerPageTpls(c.companyTplId, s, w);
					break;
				case "myXB":
					r = e.getCustomerPageTpls(c.myXbId, s, w);
					break;
				case "recently":
					r = t.resolve({
						data: {
							list: g()
						}
					});
					break;
				case "myTask":
					r = e.getMyTaskTpls(s, w, 4);
					break;
				case "allTask":
					r = e.getAllTask(s, w);
					break;
				default:
					r = e.getPageTpls(o, s, w)
				}
				return r.then(function(e) {
					var t, i = e.data.list;
					return i.length < w && (a.isLastPage = !0),
					a.pageNo = s,
					(t = a.list).push.apply(t, n(i)),
					a.isBusy = !1,
					i
				})["catch"](function(e) {
					return a.isBusy = !1
				})
			}
		}
		function d(e, t) {
			"recently" === t && (u(e), f());
			var n = l(t),
			i = n.list,
			o = e.id;
			return a.deletePage(o).then(function() {
				var t = i.indexOf(e);
				t > -1 && i.splice(t, 1)
			})
		}
		function u(e) {
			var t = l("recently"),
			n = t.list.findIndex(function(t) {
				return t.id === e.id
			});
			n > -1 && t.list.splice(n, 1)
		}
		function g() {
			var e = i.getCurrentUser();
			return r.getItem("tpl-recently-" + e.id) || []
		}
		function m(e) {
			var t = l("recently");
			u(e),
			t.list.unshift(e),
			f()
		}
		function f(e) {
			if (e || (e = l("recently").list), e) {
				e.length >= 18 && (e.length = 18);
				var t = i.getCurrentUser();
				r.setItem("tpl-recently-" + t.id, e)
			}
		}
		function h(t) {
			if (S) {
				var n = S.property;
				return n && n.myTplId ? t.sceneId = n.myTplId: t.sceneId = null,
				e.saveMyTpl(t).then(function(e) {
					return n.myTplId = e.data.obj,
					x("myTpl")
				})
			}
		}
		function v(t) {
			if (S) {
				var n = parseInt(S.companyTplId, 10);
				return n ? t.sceneId = n: t.sceneId = null,
				e.saveCompanyTpl(t).then(function(e) {
					S.companyTplId = e.data.obj,
					x("company")
				})
			}
		}
		function y(e) {
			var t = parseInt(S.myXbId, 10);
			t ? e.sceneId = t: e.sceneId = null;
			var n = [],
			i = 0,
			o = 0,
			a = "";
			return angular.forEach(e.elements,
			function(t) {
				if ("9" != ("" + t.type).charAt(0) && "v" != ("" + t.type).charAt(0) && "w" != ("" + t.type).charAt(0) && "s" != ("" + t.type).charAt(0) ? (t.trigger ? (o += 1, delete t.trigger) : t.sound && (a += ", 音效", o += 1, delete t.trigger), n.push(t)) : ("9" == ("" + t.type).charAt(0) && (a += ", 音乐"), "v" == ("" + t.type).charAt(0) && (a += ", 视频"), "w" == ("" + t.type).charAt(0) && (a += ", 微信"), "s" == ("" + t.type).charAt(0) && (a += ", 音效"), i += 1), "g" == ("" + t.type).charAt(0)) if (e.properties || (e.properties = {}), t.content.indexOf("TencentGDT ")) {
					var r = /placement_id:(.*?),/g,
					s = /app_id:(.*?),/g,
					c = Number(r.exec(t.content)[1].replace(/\'/g, "").trim()),
					l = Number(s.exec(t.content)[1].replace(/\'/g, "").trim());
					e.properties.advertisement = {
						type: "tsa",
						id: l + ":" + c
					}
				} else {
					var p = t.content.indexOf("data-ad-client") + 16,
					d = t.content.substring(p, p + 23),
					u = t.content.indexOf("data-ad-slot") + 14,
					g = t.content.substring(u, u + 10);
					e.properties.advertisement = {
						type: "google",
						id: d + ":" + g
					}
				}
			}),
			o > 0 && (a += ", 触发", i += 1),
			e.properties && e.properties.trigger && (delete e.properties.trigger, 0 === o && (a += ", 触发", i += 1)),
			e.properties && (e.properties.effect || e.properties.fallingObject || e.properties.finger || e.properties.scratch) && (e.properties.effect && delete e.properties.effect, e.properties.fallingObject && delete e.properties.fallingObject, e.properties.finger && delete e.properties.finger, e.properties.scratch && delete e.properties.scratch, a += ", 特效", i += 1),
			e.elements = n,
			{
				pageJson: e,
				hasForbid: i,
				hasAnim: o,
				text: a
			}
		}
		function b(n) {
			if (!S) return t.reject();
			var i = y(n),
			n = i.pageJson,
			o = i.hasForbid,
			a = i.text;
			return o ? s.openConfirmDialog({
				msg: '秀板中不允许使用<font color="#ff6e6e">' + a.substr(2) + "</font>组件，若继续保存，被限制组件将会被删除，是否继续？",
				confirmName: "继续",
				cancelName: "取消"
			}).then(function() {
				return e.saveMyXB(n).then(function(e) {
					S.myXbId = e.data.obj,
					x("myXB")
				})
			}) : e.saveMyXB(n).then(function(e) {
				S.myXbId = e.data.obj,
				x("myXB")
			})
		}
		function x(e) {
			var t = l(e);
			if (t) return t.isBusy = !1,
			t.isLastPage = !1,
			t.pageNo = 0,
			t.list.length = 0,
			t
		}
		var w = 21,
		S = i.getCurrentUser(),
		k = (o.eqxScene.sceneJson, []);
		return {
			getTplGroupByKey: l,
			$getMoreTpls: p,
			clearTplGroup: x,
			deleteTpl: d,
			saveMyTpl: h,
			saveCompanyTpl: v,
			saveMyXB: b,
			addRecently: m,
			deleteRecently: u,
			updateRecently: f
		}
	}
	i.$inject = ["tplAPI", "$q", "userService", "sceneService", "pageAPI", "storageService", "modalService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i) {
		"ngInject";
		function o(e) {
			return p.find(function(t) {
				return t.name == e
			})
		}
		function a() {
			return p
		}
		function r(n) {
			var a = o(n);
			if (a.list.length) return t.resolve(a.list);
			var r = i.get("tplTag") || {};
			return r[n] ? s(a, r[n]) : e.getTplTags({
				type: a.type,
				bizType: a.bizType
			}).then(function(e) {
				return s(a, e.data.list)
			})
		}
		function s(e, o) {
			var a, r = e.name,
			s = i.get("tplTag") || {};
			return s[r] = o,
			i.set("tplTag", s),
			(a = e.list).push.apply(a, n(o)),
			t.resolve(o)
		}
		function c() {
			return t.all(p.map(function(e) {
				return r(e.name)
			}))
		}
		var l = {
			purpose: "用途",
			"function": "功能",
			style: "风格"
		},
		p = [{
			name: l.purpose,
			type: 1,
			bizType: 11001,
			list: []
		},
		{
			name: l["function"],
			type: 1,
			bizType: 11002,
			list: []
		},
		{
			name: l.style,
			type: 1,
			bizType: 11003,
			list: []
		}];
		return {
			getTagGroupByName: o,
			getTplTagGroups: a,
			$getAllTagList: c,
			$getTagListByGroupName: r
		}
	}
	i.$inject = ["tagAPI", "$q", "cacheService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			return "string" == typeof e.property && (e.property = JSON.parse(e.property)),
			e.property = e.property || {},
			p = e
		}
		function i() {
			return a() ? t.resolve(p) : d ? d: d = e.login().then(function(e) {
				return n(e.data.obj)
			})["catch"](function(e) {
				return console.error("login", e),
				t.reject(e)
			})["finally"](function() {
				d = null
			})
		}
		function o() {
			return p
		}
		function a() {
			return !! p
		}
		function r() {
			return ! 0
		}
		function s() {
			return ! 0
		}
		function c() {}
		function l() {
			return ! 0
		}
		var p = null,
		d = null;
		return {
			getCurrentUser: o,
			isAuthenticated: a,
			isEditor: r,
			isTplEditor: s,
			isAdvancedUser: c,
			isAllowToAccess: l,
			getCurrentUserPromise: i
		}
	}
	n.$inject = ["userAPI", "$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			sceneSetting: {
				show: !1,
				showWx: !1,
				settingTab: "常用",
				flagEqAdType: !1,
				unSLPBL: !0
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(e) {
			var t = localStorage.getItem(e);
			if ("string" == typeof t) try {
				return t = JSON.parse(t),
				r(t),
				t
			} catch(n) {
				console.warn(n)
			}
		}
		function n(e, t) {
			return r(t),
			localStorage.setItem(e, JSON.stringify(t)),
			t
		}
		function o(e) {
			var n = t(e) || {};
			return n[c]
		}
		function a(e, n) {
			r(n);
			var i = t(e) || {};
			i[c] = n,
			localStorage.setItem(e, JSON.stringify(i))
		}
		function r(e) {
			Array.isArray(e) ? e.forEach(s) : "object" === ("undefined" == typeof e ? "undefined": i(e)) && s(e)
		}
		function s(e) {
			delete e.$$hashKey
		}
		var c = e.getCurrentUser().id;
		return {
			getItem: t,
			setItem: n,
			getItemByUser: o,
			setItemByUser: a
		}
	}
	n.$inject = ["userService"];
	var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
	function(e) {
		return typeof e
	}: function(e) {
		return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol": typeof e
	};
	e.exports = n
},
function(e, t) {
	"use strict";
	e.exports = function() {
		function e(e) {
			n(e);
			var t = sessionStorage.getItem(e);
			return JSON.parse(t)
		}
		function t(e, t) {
			n(e),
			sessionStorage.setItem(e, JSON.stringify(t))
		}
		function n(e) {
			if (!i.includes(e)) throw "custom error: [" + e + "] not reg in sessionStorageService"
		}
		var i = ["editor_bg_selected_tab", "editor_image_selected_tab", "editor_music_selected_tab", "editor_sound_selected_tab"];
		return {
			getItem: e,
			setItem: t
		}
	}
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			return e.getUserXd().then(function(e) {
				return e.data.obj
			})
		}
		function o(t, n, i) {
			return e.getPayXdQrCode(t, n, i)
		}
		function a() {
			n.buy()
		}
		return {
			userXd: i,
			buyXd: a,
			getPayXdQrCode: o
		}
	}
	n.$inject = ["XDAPI", "buyXdModal", "eqxNgPay"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			if (!s || !c || !l) {
				s = r.memberType ? "" + r.type + "0" + r.memberType: r.type,
				s = parseInt(s, 10);
				var e = "normal";
				"" + r.type != "99" && "" + r.type != "4" || (e = t.getEditorModel()),
				c = "normal" === e ? 601 : "app" === e ? 602 : 601,
				l.push(c)
			}
		}
		function o(e) {
			var t = !0;
			return p[e] ? (i(), t = p[e].indexOf(s) !== -1 || p[e].indexOf(c) !== -1) : void console.error("不存在该能力", e)
		}
		function a(e) {
			if (!d[e]) return void console.error(e + "不存在");
			i();
			var t = !1;
			if (l) for (var n = l,
			o = 0; o < n.length; o++) if (d[e].indexOf(n[o]) !== -1) {
				t = !0;
				break
			}
			return t
		}
		var r = e.getCurrentUser(),
		s = null,
		c = null,
		l = [];
		r.roleIdList && (l = r.roleIdList.concat());
		var p = n.authority,
		d = {
			fillSampleCompSetting: [17, 16, 4, 602],
			selectThumbnail: [12, 15, 13, 4, 18, 22, 602],
			settingElementCharacter: [15, 13, 4, 602],
			adComp: [4, 12, 13, 15, 18]
		};
		return {
			permission: o,
			assignDesignerAuthority: a
		}
	}
	n.$inject = ["userService", "urlParameterService", "AUTHORITY"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			var t = e.getCurrentPage().pageJson.elements;
			return n(),
			$.each(t,
			function(e, t) {
				var n = Object.assign([], t);
				o[n.type] ? (n.name = n.name || o[n.type].des + o[n.type].num, o[n.type].num++, a.push(n)) : (n.name = "组件", a.push(n), console.error("组件类型为: " + n.type + "的还没有添加到数组labels中"))
			}),
			a
		}
		function n() {
			a = [],
			$.each(o,
			function(e, t) {
				t.num = 1
			})
		}
		function i(e) {
			return t().find(function(t) {
				return t.id === e
			})
		}
		var o = {
			2 : {
				des: "文本",
				num: 1
			},
			201 : {
				des: "文本",
				num: 1
			},
			3 : {
				des: "背景",
				num: 1
			},
			x: {
				des: "秀字体",
				num: 1
			},
			4 : {
				des: "图片",
				num: 1
			},
			401 : {
				des: "微信头像",
				num: 1
			},
			403 : {
				des: "微信上传替换图片",
				num: 1
			},
			h: {
				des: "图形",
				num: 1
			},
			5 : {
				des: "输入框",
				num: 1
			},
			501 : {
				des: "输入框",
				num: 1
			},
			502 : {
				des: "输入框",
				num: 1
			},
			503 : {
				des: "输入框",
				num: 1
			},
			504 : {
				des: "输入框",
				num: 1
			},
			r: {
				des: "单选框",
				num: 1
			},
			c: {
				des: "复选框",
				num: 1
			},
			p: {
				des: "图集",
				num: 1
			},
			6 : {
				des: "按钮",
				num: 1
			},
			601 : {
				des: "按钮",
				num: 1
			},
			i: {
				des: "计数器",
				num: 1
			},
			m: {
				des: "地图",
				num: 1
			},
			w: {
				des: "微信音频",
				num: 1
			},
			w01: {
				des: "微信播放语音",
				num: 1
			},
			w02: {
				des: "微信录音",
				num: 1
			},
			t: {
				des: "图表",
				num: 1
			},
			z: {
				des: "下拉列表",
				num: 1
			},
			b: {
				des: "留言板",
				num: 1
			},
			v: {
				des: "视频",
				num: 1
			},
			a: {
				des: "评分",
				num: 1
			},
			n: {
				des: "随机图片",
				num: 1
			},
			8 : {
				des: "电话",
				num: 1
			},
			l: {
				des: "链接",
				num: 1
			},
			s: {
				des: "音效",
				num: 1
			},
			d: {
				des: "阅读量",
				num: 1
			},
			g: {
				des: "广告",
				num: 1
			},
			e: {
				des: "倒计时",
				num: 1
			},
			f: {
				des: "计时",
				num: 1
			},
			k: {
				des: "投票",
				num: 1
			}
		},
		a = [];
		return {
			getPageElementById: i
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		function a(e, i, o, a, r, l, p) {
			var d = t.getCurrentUser(),
			u = n.eqxScene;
			if (d && u) {
				var g = {
					uid: d.id,
					phone: d.checkPhone.toString(),
					email: d.checkEmail.toString(),
					pubOwner: d.id,
					itemId: u.meta.id.toString()
				};
				s.categoryOneId = "1",
				s.categoryOne = "场景编辑页",
				s.categoryTwoId = e,
				s.categoryTwo = i,
				s.categoryThreeId = o,
				s.categoryThree = a,
				s.itemMaps = r,
				s.actionType = l ? l.toString() : "4",
				s.actionTime = (new Date).getTime(),
				s.refer = p,
				c.push($.extend(!0, {},
				s, g))
			}
		}
		function r(t) {
			var n = i.BIG_DATA + "logserver/v0.1/push";
			return e({
				withCredentials: !0,
				method: "POST",
				url: n,
				headers: {
					"Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
				},
				data: t
			})
		}
		var s = {
			ua: navigator.userAgent.toLowerCase(),
			netType: null,
			eqxPlatformType: "PC",
			eqxPlatformVersion: "1.0.1",
			categoryOneId: null,
			categoryOne: null,
			categoryTwoId: null,
			categoryTwo: null,
			categoryThreeId: null,
			categoryThree: null,
			itemType: "内容页",
			itemMaps: null,
			mediaType: "PC",
			refer: null,
			actionType: null,
			actionTime: null
		},
		c = [];
		return a(null, null, null, null, null, null, document.referrer),
		o(function() {
			c.length > 0 && r(c).then(function() {
				c = []
			})
		},
		6e4),
		{
			addSendList: a
		}
	}
	n.$inject = ["$http", "userService", "sceneService", "HOST", "$interval"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			r = e
		}
		function t() {
			return r
		}
		function n(e) {
			s = e
		}
		function i() {
			return s
		}
		function o(e) {
			"2" !== e && 2 !== e || (c = "app")
		}
		function a() {
			return c
		}
		var r = null,
		s = !1,
		c = "normal";
		return {
			setYQCAcceptId: e,
			getYQCAcceptId: t,
			setYQCMakeOrderTpl: n,
			getYQCMakeOrderTpl: i,
			setEditorModel: o,
			getEditorModel: a
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			return t.sceneJson.list.forEach(function(n, i) {
				var o = [];
				n.elements.forEach(function(e) {
					var t = ["p", "i", "d", "e", "f", "j", "k", "401", "403", "w01", "w02", "201", "r", "c", "z", "a", "t", "b", "v", "g"];
					if (! (t.indexOf(e.type) > -1 || "h" === e.type && e.properties.items && e.properties.items.length > 1)) {
						e.css.opacity && (e.css.opacity = 1),
						!e.css.backgroundColor || ["6", "601", "5", "501", "502", "503", "504"].indexOf("" + e.type) > -1 || (e.css.backgroundColor = "rgba(255,255,255,0)"),
						e.css.transform && (e.css.transform = "rotateZ(0deg)"),
						e.css.borderRadius && (e.css.borderRadius = "0px"),
						e.css.borderRadiusPerc && (e.css.borderRadiusPerc = 0),
						e.css.borderBottomLeftRadius && (e.css.borderBottomLeftRadius = 0),
						e.css.borderBottomRightRadius && (e.css.borderBottomRightRadius = 0),
						e.css.borderTopLeftRadius && (e.css.borderTopLeftRadius = 0),
						e.css.borderTopRightRadius && (e.css.borderTopRightRadius = 0),
						e.css.boxShadow && (e.css.boxShadow = "0px 0px 0px rgba(0,0,0,0.5)"),
						e.css.boxShadowDirection && (e.css.boxShadowDirection = 0),
						e.css.boxShadowSize && (e.css.boxShadowSize = 0),
						e.css.borderStyle && (e.css.borderStyle = "solid"),
						delete e.css.letterSpacing,
						e.properties && delete e.properties.url,
						delete e.trigger;
						var n = [];
						e.properties.anim && e.properties.anim[0] && (n.push(e.properties.anim[0]), e.properties.anim = n, "typer" === e.properties.anim[0].type && (e.properties.anim = [])),
						o.push(e)
					}
				}),
				n.elements = o;
				var a = t.getEqxPageByIndex(i),
				r = a.toPageJson();
				e.savePage(r)
			}),
			t
		}
		return {
			deleteComp: t
		}
	}
	n.$inject = ["pageAPI"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function n() {
			return o.delayLoadJSAndCSS(e.PATH.qiniu, "js").then(i)
		}
		function i() {
			return o.delayLoadJSAndCSS(e.PATH.plupload, "js")
		}
		function a() {
			return o.delayLoadJSAndCSS(e.PATH.datePickerCss, "css").then(function() {
				return o.delayLoadJSAndCSS(e.PATH.moment, "js", "moment")
			}).then(function() {
				return o.delayLoadJSAndCSS(e.PATH.datePicker, "js", "datePicker")
			})
		}
		function r() {
			return o.delayLoadJSAndCSS(e.PATH.imgJcropCss, "css").then(function() {
				return o.delayLoadJSAndCSS(e.PATH.imgJcropJs, "js", "imgJcropJs")
			})
		}
		function s() {
			return p ? t.resolve() : p = t(function(e) {
				window.qqMapCallback = function() {
					return e()
				}
			})
		}
		function c() {
			return t.all([o.delayLoadJSAndCSS(e.PATH.QQMap, "js", "QQMap"), s()])
		}
		function l() {
			return o.delayLoadJSAndCSS(e.PATH.canvg, "js").then(function() {
				return o.delayLoadJSAndCSS(e.PATH.html2canvas, "js", "html2canvasJs")
			})
		}
		var p = null;
		return {
			qiniu: n,
			datePicker: a,
			imgJcrop: r,
			qqMap: c,
			loadHtml2Canvas: l
		}
	}
	i.$inject = ["HOST", "$q"];
	var o = n(293);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		return new Promise(function(o) {
			var a = null,
			r = null,
			s = null,
			c = 0;
			if (t || (t = e.substr(e.lastIndexOf(".") + 1)), "js" === t) {
				var l = document.getElementsByTagName("script");
				for (c = 0; c < l.length; c++)(l[c].src && l[c].src.indexOf(e) != -1 || l[c].title == n) && (r = l[c], o(l[c]));
				r || (a = document.createElement("script"), a.type = "text/javascript", a.src = e, i && i(a), n && (a.title = n))
			} else if ("css" == t) {
				var p = document.getElementsByTagName("link");
				for (c = 0; c < p.length; c++)(p[c].href && p[c].href.indexOf(e) != -1 || p[c].title == n) && (s = p[c], o(p[c]));
				s || (a = document.createElement("link"), a.rel = "stylesheet", a.type = "text/css", a.href = e, n && (a.title = n), a.disabled = !1)
			} else o(!1);
			if (a) {
				var d = document.getElementsByTagName("head")[0];
				d.appendChild(a),
				a.onload = function() {
					o(a)
				}
			}
		})
	}
	e.exports = {
		delayLoadJSAndCSS: n
	}
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(i) {
			return i.orderAppId = i.orderAppId || t.MALL_BUY_ID,
			i.signUrl = i.signUrl || t.MALL_HOST + "api/m/order/sign",
			e.pay(i).then(function(e) {
				if ("errorInfo" == e.value.msgType) return ! 1;
				var t = {
					productId: i.id,
					totalFee: i.price,
					outOrderId: e.value.data.obj.merchantOrderNo,
					channel: "EDITOR"
				};
				return n.saveOrderToBusinessCity(t)
			})
		}
		return {
			buyMaterial: o
		}
	}
	n.$inject = ["eqxNgPay", "HOST", "materialAPI", "modalService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(e) {
			s.push(e)
		}
		function n(e) {
			var t = s.filter(function(t) {
				return t.type == e
			});
			console.log("remove reports", e, t),
			s = s.filter(function(t) {
				return t.type != e
			})
		}
		function i() {
			console.log("remove all reports", s),
			s.length = 0
		}
		function o(e) {
			var t = s.filter(function(t) {
				return t.type == e
			});
			if (t.length) return s = s.filter(function(t) {
				return t.type != e
			}),
			r(t)
		}
		function a() {
			var e = r(s);
			return i(),
			e
		}
		function r(t) {
			return console.log("emit reports", t),
			e({
				method: "POST",
				url: "//client-report.eqxiu.com/client/report",
				withCredentials: !1,
				headers: {
					"Content-Type": "application/json; charset=UTF-8"
				},
				data: t
			})
		}
		var s = [];
		return {
			add: t,
			remove: n,
			removeAll: i,
			emit: o,
			emitAll: a
		}
	}
	n.$inject = ["$http"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(n) {
			return i.imgList.length > 0 ? t.resolve(i.imgList) : e.getSysMaterialItems(n).then(function(e) {
				return i.imgList = e.data.list,
				e.data.list
			})
		}
		var i = {
			imgList: []
		};
		return {
			getGravityImg: n
		}
	}
	n.$inject = ["fileAPI", "$q"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("common.ui", [n(298), n(300), n(311), n(313), n(317), n(323), n(325), n(326), n(327)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("eqx.ui.clickFarmer", []).directive("clickFarmerSetting", ["$rootScope", "$q", "userService", "modalService", "XDService", "sceneService", "i18nNotifications", "materialAPI", "HOST",
	function(e, t, i, o, a, r, s, c, l) {
		return {
			restrict: "AE",
			template: n(299),
			scope: {
				obj: "="
			},
			link: function(t) {
				var n = r.eqxScene;
				t.timeSetting = [{
					key: 30,
					value: "30分钟"
				},
				{
					key: 60,
					value: "1小时"
				},
				{
					key: 360,
					value: "6小时"
				},
				{
					key: 1440,
					value: "1天"
				},
				{
					key: 4320,
					value: "3天"
				},
				{
					key: 10080,
					value: "7天"
				},
				{
					key: 1e6,
					value: "永久"
				}];
				var p = i.getCurrentUser();
				t.clickInterval = {},
				t.buyXd = a.buyXd,
				n.sceneJson.meta.property.clickFarmerStatus && n.sceneJson.meta.property.clickFarmerStatus > 0 ? t.clickFarmerStatus = n.sceneJson.meta.property.clickFarmerStatus: [3, 99].indexOf(p.type) > -1 || [1, 2, 3, 4, 6, 7, 8, 9].indexOf(p.memberType) > -1 ? t.clickFarmerStatus = 2 : t.clickFarmerStatus = null,
				t.obj.properties.clickFarmer ? t.clickFarmer = t.obj.properties.clickFarmer: t.clickFarmer = t.obj.properties.clickFarmer = !1,
				t.obj.properties.clickInterval ? angular.forEach(t.timeSetting,
				function(e) {
					e.key === t.obj.properties.clickInterval && (t.clickInterval = e)
				}) : (t.obj.properties.clickInterval = 1440, t.clickInterval = {
					key: 1440,
					value: "1天"
				}),
				t.setClickFarming = function() { ! t.clickFarmerStatus && t.clickFarmer ? a.userXd().then(function(i) {
						var a = i || 0;
						a >= 18 ? o.openConfirmDialog({
							msg: "当前选择需要消耗秀点18个<br>秀点余额" + a + "个，是否使用？",
							confirmName: "确定",
							cancelName: "取消"
						}).then(function() {
							c.buyClickFarmer(n.sceneJson.meta.id, t.obj.id, 1).then(function() {
								t.obj.properties.clickFarmer = t.clickFarmer = !0,
								t.clickFarmerStatus = 1,
								n.sceneJson.meta.property.clickFarmerStatus = 1,
								s.add("购买成功"),
								e.$broadcast("confirmClickFarmer")
							})
						}) : o.openMsgDialog({
							msg: '当前选择需要消耗秀点18个<br>秀点余额不足(<font color="#ff6e6e">' + (a || 0) + "</font>个)，请先充值？"
						})
					}) : c.buyClickFarmer(n.sceneJson.meta.id, t.obj.id, t.clickFarmerStatus).then(function() {
						t.obj.properties.clickFarmer = t.clickFarmer,
						e.$broadcast("confirmClickFarmer");
					})
				},
				t.convertClickFarmer = function() {
					1 === p.type ? o.openConfirmDialog({
						msg: "企业付费用户功能， 是否升级？",
						confirmName: "立即升级",
						cancelName: "我知道了"
					}).then(function() {
						window.open(l.HOST + "site/privilege", "_blank")
					}) : t.clickFarmer = !t.clickFarmer
				},
				t.$on("confirmCompCreate",
				function() {
					t.setClickFarming()
				}),
				t.changeTimeSetting = function() {
					t.obj.properties.clickInterval = t.clickInterval.key
				}
			}
		}
	}]).name
},
function(e, t) {
	e.exports = '<span class=title>禁止重复提交</span><div class=rating-choice style=line-height:36px><div class="fl switch" style=margin-top:7px ng-class="clickFarmer ? \'switch-open\' : \'switch-close\'" ng-click=convertClickFarmer()><div class=circle-con><i class=circle></i></div></div><a class="bbs-help-tip-media hint--right hint--rounded" data-hint=此功能只能在微信环境下使用，可禁止同一微信账号在提交间隔内重复提交。 style="margin:0 10px"><span class=eqf-exclaquestion-sign style=color:#ff6e6e></span></a><div class=ml20 style=display:inline-block ng-show="!clickFarmerStatus && !clickFarmer"><span>需<span style=color:#ff6e6e>18</span>秀点</span> <a ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></div><div class="fl title" ng-show=clickFarmer><span class=fl style="margin:0 10px">提交间隔</span><eqx-select class="select-sm select-contain border-width fl" model=clickInterval change=changeTimeSetting() style=margin-top:3px ng-show=clickFarmer><eqx-select-option value=myGroup ng-repeat="myGroup in timeSetting">{{myGroup.value}}</eqx-select-option></eqx-select></div></div>'
},
function(e, t, n) {
	"use strict";
	n(301),
	n(303),
	n(309),
	e.exports = angular.module("colorpicker.module", []).factory("Helper",
	function() {
		return {
			closestSlider: function(e) {
				var t = e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector;
				return t.bind(e)("I") ? e.parentNode: e
			},
			getOffset: function(e, t) {
				for (var n = 0,
				i = 0,
				o = 0,
				a = 0; e && !isNaN(e.offsetLeft) && !isNaN(e.offsetTop);) n += e.offsetLeft,
				i += e.offsetTop,
				t || "BODY" !== e.tagName ? (o += e.scrollLeft, a += e.scrollTop) : (o += document.documentElement.scrollLeft || e.scrollLeft, a += document.documentElement.scrollTop || e.scrollTop),
				e = e.offsetParent;
				return {
					top: i,
					left: n,
					scrollX: o,
					scrollY: a
				}
			},
			stringParsers: [{
				re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				parse: function(e) {
					return [e[1], e[2], e[3], e[4]]
				}
			},
			{
				re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				parse: function(e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
				}
			},
			{
				re: /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
				parse: function(e) {
					return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
				}
			},
			{
				re: /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
				parse: function(e) {
					return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
				}
			}]
		}
	}).factory("Color", ["Helper",
	function(e) {
		"ngInject";
		return {
			value: {
				h: 1,
				s: 1,
				b: 1,
				a: 1
			},
			rgb: function t() {
				var t = this.toRGB();
				return "rgb(" + t.r + "," + t.g + "," + t.b + ")"
			},
			rgba: function() {
				var e = this.toRGB();
				return "rgba(" + e.r + "," + e.g + "," + e.b + "," + e.a + ")"
			},
			hex: function() {
				return this.toHex()
			},
			RGBtoHSB: function(e, t, n, i) {
				e /= 255,
				t /= 255,
				n /= 255;
				var o, a, r, s;
				return r = Math.max(e, t, n),
				s = r - Math.min(e, t, n),
				o = 0 === s ? null: r === e ? (t - n) / s: r === t ? (n - e) / s + 2 : (e - t) / s + 4,
				o = (o + 360) % 6 * 60 / 360,
				a = 0 === s ? 0 : s / r,
				{
					h: o || 1,
					s: a,
					b: r,
					a: i || 1
				}
			},
			setColor: function(t) {
				t = t.toLowerCase();
				for (var n in e.stringParsers) if (e.stringParsers.hasOwnProperty(n)) {
					var i = e.stringParsers[n],
					o = i.re.exec(t),
					a = o && i.parse(o);
					if (a) return this.value = this.RGBtoHSB.apply(null, a),
					!1
				}
			},
			setHue: function(e) {
				this.value.h = 1 - e
			},
			setSaturation: function(e) {
				this.value.s = e
			},
			setLightness: function(e) {
				this.value.b = 1 - e
			},
			setAlpha: function(e) {
				this.value.a = parseInt(100 * (1 - e), 10) / 100
			},
			toRGB: function(e, t, n, i) {
				e || (e = this.value.h, t = this.value.s, n = this.value.b),
				e *= 360;
				var o, a, r, s, c;
				return e = e % 360 / 60,
				c = n * t,
				s = c * (1 - Math.abs(e % 2 - 1)),
				o = a = r = n - c,
				e = ~~e,
				o += [c, s, 0, 0, s, c][e],
				a += [s, c, c, s, 0, 0][e],
				r += [0, 0, s, c, c, s][e],
				{
					r: Math.round(255 * o),
					g: Math.round(255 * a),
					b: Math.round(255 * r),
					a: i || this.value.a
				}
			},
			toHex: function(e, t, n, i) {
				var o = this.toRGB(e, t, n, i);
				return "#" + (1 << 24 | parseInt(o.r, 10) << 16 | parseInt(o.g, 10) << 8 | parseInt(o.b, 10)).toString(16).substr(1)
			}
		}
	}]).factory("Slider", ["Helper",
	function(e) {
		"ngInject";
		var t = {
			maxLeft: 0,
			maxTop: 0,
			callLeft: null,
			callTop: null,
			knob: {
				top: 0,
				left: 0
			}
		},
		n = {};
		return {
			getSlider: function() {
				return t
			},
			getLeftPosition: function(e) {
				return Math.max(0, Math.min(t.maxLeft, t.left + ((e.pageX || n.left) - n.left)))
			},
			getTopPosition: function(e) {
				return Math.max(0, Math.min(t.maxTop, t.top + ((e.pageY || n.top) - n.top)))
			},
			setSlider: function(i, o) {
				var a = e.closestSlider(i.target),
				r = e.getOffset(a, o);
				t.knob = a.children[0].style,
				t.left = i.pageX - r.left - window.pageXOffset + r.scrollX,
				t.top = i.pageY - r.top - window.pageYOffset + r.scrollY,
				n = {
					left: i.pageX,
					top: i.pageY
				}
			},
			setSaturation: function(e, n) {
				t = {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setLightness"
				},
				this.setSlider(e, n)
			},
			setHue: function(e, n) {
				t = {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setHue"
				},
				this.setSlider(e, n)
			},
			setAlpha: function(e, n) {
				t = {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setAlpha"
				},
				this.setSlider(e, n)
			},
			setKnob: function(e, n) {
				t.knob.top = e + "px",
				t.knob.left = n + "px"
			}
		}
	}]).directive("colorpicker", ["$document", "$compile", "Color", "Slider", "Helper",
	function(e, t, n, i, o) {
		"ngInject";
		return {
			scope: {
				disable: "@",
				y: "@"
			},
			require: "?ngModel",
			restrict: "A",
			link: function(a, r, s, c) {
				var l, p = {
					x: parseInt(s.x, 10) || 0,
					y: parseInt(a.y, 10) || 0
				},
				d = s.colorpicker ? s.colorpicker: "hex",
				u = angular.isDefined(s.colorpickerPosition) ? s.colorpickerPosition: "bottom",
				g = !!angular.isDefined(s.colorpickerInline) && s.colorpickerInline,
				m = !!angular.isDefined(s.colorpickerFixedPosition) && s.colorpickerFixedPosition,
				f = angular.isDefined(s.colorpickerParent) ? r.parent() : angular.element(document.body),
				h = !!angular.isDefined(s.colorpickerWithInput) && s.colorpickerWithInput,
				v = h ? '<input type="text" name="colorpicker-input">': "",
				y = g ? "": '<button type="button" class="close close-colorpicker">&times;</button>',
				b = '<div class="colorpicker dropdown" ng-click="$event.stopPropagation();"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>' + v + y + "</div></div>",
				x = angular.element(b),
				w = n,
				S = x.find("colorpicker-hue"),
				k = x.find("colorpicker-saturation"),
				C = x.find("colorpicker-preview"),
				T = x.find("i");
				if (t(x)(a), a.disable && a.$watch("disable",
				function(e, t) {
					e !== t && "false" === e && F()
				}), a.$watch("y",
				function(e, t) {
					e && e !== t && (p.y = parseInt(e, 10))
				}), h) {
					var q = x.find("input");
					q.on("mousedown",
					function(e) {
						e.stopPropagation()
					}).on("keyup",
					function(e) {
						var t = this.value;
						r.val(t),
						c && a.$apply(c.$setViewValue(t)),
						e.stopPropagation(),
						e.preventDefault()
					}),
					r.on("keyup",
					function() {
						q.val(r.val())
					})
				}
				var I = function() {
					e.on("mousemove", P),
					e.on("mouseup", A)
				};
				"rgba" === d && (x.addClass("alpha"), l = x.find("colorpicker-alpha"), l.on("click",
				function(e) {
					i.setAlpha(e, m),
					P(e)
				}).on("mousedown",
				function(e) {
					i.setAlpha(e, m),
					I()
				})),
				S.on("click",
				function(e) {
					i.setHue(e, m),
					P(e)
				}).on("mousedown",
				function(e) {
					i.setHue(e, m),
					I()
				}),
				k.on("click",
				function(e) {
					i.setSaturation(e, m),
					P(e)
				}).on("mousedown",
				function(e) {
					i.setSaturation(e, m),
					I()
				}),
				m && x.addClass("colorpicker-fixed-position"),
				x.addClass("colorpicker-position-" + u),
				"true" === g && x.addClass("colorpicker-inline"),
				f.append(x),
				c && (c.$render = function() {
					r.val(c.$viewValue)
				},
				a.$watch(s.ngModel,
				function() {
					j()
				})),
				r.on("$destroy",
				function() {
					x.remove()
				});
				var E = function() {
					try {
						C.css("backgroundColor", w[d]())
					} catch(e) {
						C.css("backgroundColor", w.toHex())
					}
					k.css("backgroundColor", w.toHex(w.value.h, 1, 1, 1)),
					"rgba" === d && (l.css.backgroundColor = w.toHex())
				},
				P = function(e) {
					var t = i.getLeftPosition(e),
					n = i.getTopPosition(e),
					o = i.getSlider();
					i.setKnob(n, t),
					o.callLeft && w[o.callLeft].call(w, t / 100),
					o.callTop && w[o.callTop].call(w, n / 100),
					E();
					var s = w[d]();
					return r.val(s),
					c && a.$apply(c.$setViewValue(s)),
					h && q.val(s),
					!1
				},
				A = function _() {
					e.off("mousemove", P),
					e.off("mouseup", _)
				},
				j = function() {
					w.setColor(r.val()),
					T.eq(0).css({
						left: 100 * w.value.s + "px",
						top: 100 - 100 * w.value.b + "px"
					}),
					T.eq(1).css("top", 100 * (1 - w.value.h) + "px"),
					T.eq(2).css("top", 100 * (1 - w.value.a) + "px"),
					E()
				},
				L = function() {
					var e, t = o.getOffset(r[0]);
					return angular.isDefined(s.colorpickerParent) && (t.left = 0, t.top = 0),
					"top" === u ? e = {
						top: t.top - 147 + p.y,
						left: t.left + p.x
					}: "right" === u ? e = {
						top: t.top + p.y,
						left: t.left + 126 + p.x
					}: "bottom" === u ? (e = {
						top: t.top + r[0].offsetHeight + 2 + p.y,
						left: t.left + p.x
					},
					"grid.color" === s.ngModel && (e.top = $(r[0]).offset().top + 30, e.left = $(r[0]).offset().left)) : "left" === u ? e = {
						top: t.top + p.y,
						left: t.left - 150 + p.x
					}: "sceneToobar" === u && (e = {
						top: t.top + p.y - 110,
						left: t.left - 150 + p.x + 40
					}),
					{
						top: e.top + "px",
						left: e.left + "px"
					}
				},
				M = function() {
					F()
				};
				g === !1 ? r.on("click",
				function() {
					j(),
					x.addClass("colorpicker-visible").css(L()),
					e.on("mousedown", M)
				}) : (j(), x.addClass("colorpicker-visible").css(L())),
				x.on("mousedown",
				function(e) {
					e.stopPropagation(),
					e.preventDefault()
				});
				var O = function(e) {
					c && a.$emit(e, {
						name: s.ngModel,
						value: c.$modelValue
					})
				},
				F = function() {
					x.hasClass("colorpicker-visible") && (x.removeClass("colorpicker-visible"), O("colorpicker-closed"), e.off("mousedown", M))
				};
				x.find("button").on("click",
				function() {
					F()
				})
			}
		}
	}]).factory("colorService",
	function() {
		"ngInject";
		function e() {
			return s
		}
		function t(e) {
			return s = e
		}
		function n() {
			return angular.copy(c)
		}
		function i(e) {
			r.indexOf(e) > -1 && r.splice(r.indexOf(e), 1),
			r.unshift(e),
			r.length > 7 && r.pop(),
			localStorage.setItem("historyColor", r.join(","))
		}
		function o() {
			return r ? r: (r = localStorage.getItem("historyColor"), r = r ? r.split(",") : [])
		}
		function a(e, t) {
			var n = e.$root.$$phase;
			"$apply" === n || "$digest" === n ? t && "function" == typeof t && t() : e.$apply(t)
		}
		var r = null,
		s = "",
		c = ["eef1f6", "ffcbd0", "bde6ff", "97ecb9", "ffc36d", "95f4e2", "ccd0ff", "eccaf1", "ffbed0", "ffffff", "a8b8d0", "e87474", "59c7f9", "56b786", "ea9924", "2ecbbe", "8d91ff", "c277d0", "ff79a2", "000000", "7a90b2", "c4433c", "2196ed", "48916c", "d67b03", "23a193", "696cb4", "a158b3", "bf4c76"];
		return {
			getCustomColor: e,
			setCustomColor: t,
			safeApply: a,
			getColors: n,
			setHistoryColors: i,
			getHistoryColors: o
		}
	}).directive("eqdColorpicker", ["$compile", "colorService", "$timeout",
	function(e, t, n) {
		"ngInject";
		function i(i, r) {
			var s = angular.element(document.getElementById("btn-toolbar"));
			i.direction = i.direction || "right",
			i.x = i.x || 0,
			i.y = i.y || 0;
			var c = t.getColors();
			i.greyColors = c.slice(0, 9),
			i.richColors = c.slice(9),
			i.historyColors = t.getHistoryColors();
			var l = e(a)(i);
			$("body").append(l),
			r.on("$destroy",
			function() {
				l && l.remove()
			}),
			r.click(function() {
				if (!i.visible) {
					t.safeApply(i,
					function() {
						i.visible = !0
					}),
					i.colorpicker.css("transform", ""),
					i.picker.colorpicker("setValue", i.selectColor || "transparent"),
					i.setColorpickerPos(i, r, i.colorpicker),
					o.bind("mousedown",
					function() {
						t.safeApply(i,
						function() {
							i.visible = !1;
							var e = t.getCustomColor();
							e && t.setHistoryColors(e.slice(1))
						}),
						o.unbind("mousedown")
					}),
					s.bind("mousedown",
					function() {
						t.safeApply(i,
						function() {
							i.visible = !1;
							var e = t.getCustomColor();
							e && t.setHistoryColors(e.slice(1))
						})
					});
					var e = $(".eqc-colorpicker .content input");
					e.keydown(function(e) {
						8 !== e.keyCode && 37 !== e.keyCode && 38 !== e.keyCode && 39 !== e.keyCode && 40 !== e.keyCode && 46 !== e.keyCode || e.stopPropagation(),
						n(function() {
							e.target.focus()
						},
						200)
					})
				}
			})
		}
		var o = $(document),
		a = '<div class="eqc-colorpicker {{isToolbarColorPicker}}" ng-show="visible" ><div class="content"><div class="color" ng-click="chooseColor($event)"><div class="select"><ul><li class="clear"></li><li ng-repeat="color in greyColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}"></li><li ng-repeat="color in richColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}"></li></ul></div><div class="history"><ul><div class="more">最近使用</div><li ng-repeat="color in historyColors" ng-style="{backgroundColor: \'#\' + color}" color="{{color}}" ></li></ul></div><input eqd-color-more /><div class="subHistory"><li ng-style="{backgroundColor: \'#\' + selectColor}" color="{{selectColor}}" ></li><li ng-style="{backgroundColor: \'#\' + historyColors[0]}" color="{{historyColors[0]}}" ></li></div></div></div></div>';
		return {
			scope: {
				selectColor: "=",
				notify: "@",
				direction: "@",
				isToolbarColorPicker: "=",
				x: "@",
				y: "@",
				isConvertTransparent: "@"
			},
			link: i
		}
	}]).directive("eqdColorMore", ["$rootScope", "colorService",
	function(e, t) {
		"ngInject";
		function n(n, o) {
			var a = n.colorpicker = o.closest(".eqc-colorpicker");
			a.mousedown(function(e) {
				if (e.stopPropagation(), $(e.target).hasClass("eqc-colorpicker")) {
					var t = a.get(0).style.transform;
					t = /translate3d/.test(t) ? t: "translate3d(0,0,0)",
					t = /translate3d\((-?\d+)(px)?,\s*(-?\d+)(px)?,\s*(-?\d+)(px)?\)/.exec(t);
					var n = {
						pageX: e.pageX,
						pageY: e.pageY,
						translateX: parseInt(t[1], 10),
						translateY: parseInt(t[3], 10)
					};
					i.mousemove(function(e) {
						var t = e.pageX - n.pageX,
						i = e.pageY - n.pageY;
						a.css("transform", "translate3d(" + (n.translateX + t) + "px," + (n.translateY + i) + "px,0")
					}),
					i.mouseup(function() {
						i.unbind("mousemove mouseup")
					})
				}
			});
			var r = n.picker = o.colorpicker({
				inline: !0,
				format: "rgba",
				container: a.children(".content"),
				customClass: "colorpicker-2x",
				sliders: {
					saturation: {
						maxLeft: 150,
						maxTop: 150
					},
					hue: {
						maxTop: 150
					},
					alpha: {
						maxTop: 150
					}
				}
			});
			a.click(function(e) {
				e.stopPropagation()
			}),
			r.on("changeColor",
			function(e) {
				t.safeApply(n,
				function() {
					var t = e.color.toRGB();
					n.selectColor = "rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")"
				})
			}),
			r.on("completeColor",
			function(i) {
				e.$broadcast("completeColor", n.notify);
				var o = i.color.toHex();
				t.setCustomColor(o)
			}),
			o.on("$destroy",
			function() {
				r.colorpicker("destroy")
			}),
			n.$on("colorpicker.hide",
			function() {
				t.safeApply(n,
				function() {
					n.visible = !1
				})
			}),
			n.chooseColor = function(i) {
				i.stopPropagation();
				var o = $(i.target);
				if (o.is("li")) {
					var a = o.attr("color");
					if (a) {
						var s = "#" + a;
						n.selectColor = s,
						t.setCustomColor(s),
						r.colorpicker("setValue", s)
					} else n.selectColor = "",
					r.colorpicker("setValue", "transparent");
					setTimeout(function() {
						e.$broadcast("completeColor", n.notify),
						n.$apply()
					},
					10)
				}
			},
			n.setColorpickerPos = function(e, t, n) {
				var i = {},
				o = {
					width: 234,
					height: 425
				},
				a = t.offset(),
				r = {
					top: a.top,
					left: a.left,
					width: t.width(),
					height: t.height()
				};
				switch (e.direction) {
				case "top":
					i.top = r.top - o.height,
					i.left = r.left;
					break;
				case "bottom":
					i.top = r.top + r.height,
					i.left = r.left;
					break;
				case "left":
					i.top = r.top,
					i.left = r.left - o.width;
					break;
				case "right":
					i.top = r.top,
					i.left = r.left + r.width
				}
				i.top + o.height > window.screen.availHeight && (i.top = window.screen.availHeight - o.height),
				i.left + o.width > document.body.clientWidth && (i.left = document.body.clientWidth - o.width),
				n.css({
					top: i.top + parseInt(e.y, 10),
					left: i.left + parseInt(e.x, 10)
				})
			}
		}
		var i = $(document);
		return {
			restrict: "EA",
			link: n
		}
	}]).directive("eqdInputColor",
	function() {
		"ngInject";
		return {
			restrict: "E",
			template: n(310),
			replace: !0,
			controller: ["$scope", "$attrs",
			function(e, t) {
				e.x = t.x || 151,
				e.y = t.y || -2,
				e.w = t.w || 144,
				e.h = t.h || 28,
				e.colorMode = t.colorMode || "rgba",
				e.direction = t.direction || "right",
				e.theme = t.theme || "",
				e.notify = t.notify || "",
				e.idName = t.toolcolorpicker || "normalColorPicker",
				e.isConvertTransparent = t.isconverttransparent || "false"
			}],
			scope: {
				selectColor: "=",
				defaultColor: "=",
				theme: "@"
			}
		}
	}).name
},
function(e, t, n) {
	var i, o, a, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ?
	function(e) {
		return typeof e
	}: function(e) {
		return e && "function" == typeof Symbol && e.constructor === Symbol ? "symbol": typeof e
	};
	/*!
	 * Bootstrap Colorpicker
	 * http://mjolnic.github.io/bootstrap-colorpicker/
	 *
	 * Originally written by (c) 2012 Stefan Petre
	 * Licensed under the Apache License v2.0
	 * http://www.apache.org/licenses/LICENSE-2.0.txt
	 *
	 * @todo Update DOCS
	 */
	!
	function(s) {
		"use strict";
		"object" === r(t) ? e.exports = s(window.jQuery) : (o = [n(302)], i = s, a = "function" == typeof i ? i.apply(t, o) : i, !(void 0 !== a && (e.exports = a)))
	} (function(e) {
		"use strict";
		var t = function(t, n) {
			this.value = {
				h: 0,
				s: 0,
				b: 0,
				a: 1
			},
			this.origFormat = null,
			n && e.extend(this.colors, n),
			t && (void 0 !== t.toLowerCase ? (t += "", this.setColor(t)) : void 0 !== t.h && (this.value = t))
		};
		t.prototype = {
			constructor: t,
			colors: {
				aliceblue: "#f0f8ff",
				antiquewhite: "#faebd7",
				aqua: "#00ffff",
				aquamarine: "#7fffd4",
				azure: "#f0ffff",
				beige: "#f5f5dc",
				bisque: "#ffe4c4",
				black: "#000000",
				blanchedalmond: "#ffebcd",
				blue: "#0000ff",
				blueviolet: "#8a2be2",
				brown: "#a52a2a",
				burlywood: "#deb887",
				cadetblue: "#5f9ea0",
				chartreuse: "#7fff00",
				chocolate: "#d2691e",
				coral: "#ff7f50",
				cornflowerblue: "#6495ed",
				cornsilk: "#fff8dc",
				crimson: "#dc143c",
				cyan: "#00ffff",
				darkblue: "#00008b",
				darkcyan: "#008b8b",
				darkgoldenrod: "#b8860b",
				darkgray: "#a9a9a9",
				darkgreen: "#006400",
				darkkhaki: "#bdb76b",
				darkmagenta: "#8b008b",
				darkolivegreen: "#556b2f",
				darkorange: "#ff8c00",
				darkorchid: "#9932cc",
				darkred: "#8b0000",
				darksalmon: "#e9967a",
				darkseagreen: "#8fbc8f",
				darkslateblue: "#483d8b",
				darkslategray: "#2f4f4f",
				darkturquoise: "#00ced1",
				darkviolet: "#9400d3",
				deeppink: "#ff1493",
				deepskyblue: "#00bfff",
				dimgray: "#696969",
				dodgerblue: "#1e90ff",
				firebrick: "#b22222",
				floralwhite: "#fffaf0",
				forestgreen: "#228b22",
				fuchsia: "#ff00ff",
				gainsboro: "#dcdcdc",
				ghostwhite: "#f8f8ff",
				gold: "#ffd700",
				goldenrod: "#daa520",
				gray: "#808080",
				green: "#008000",
				greenyellow: "#adff2f",
				honeydew: "#f0fff0",
				hotpink: "#ff69b4",
				indianred: "#cd5c5c",
				indigo: "#4b0082",
				ivory: "#fffff0",
				khaki: "#f0e68c",
				lavender: "#e6e6fa",
				lavenderblush: "#fff0f5",
				lawngreen: "#7cfc00",
				lemonchiffon: "#fffacd",
				lightblue: "#add8e6",
				lightcoral: "#f08080",
				lightcyan: "#e0ffff",
				lightgoldenrodyellow: "#fafad2",
				lightgrey: "#d3d3d3",
				lightgreen: "#90ee90",
				lightpink: "#ffb6c1",
				lightsalmon: "#ffa07a",
				lightseagreen: "#20b2aa",
				lightskyblue: "#87cefa",
				lightslategray: "#778899",
				lightsteelblue: "#b0c4de",
				lightyellow: "#ffffe0",
				lime: "#00ff00",
				limegreen: "#32cd32",
				linen: "#faf0e6",
				magenta: "#ff00ff",
				maroon: "#800000",
				mediumaquamarine: "#66cdaa",
				mediumblue: "#0000cd",
				mediumorchid: "#ba55d3",
				mediumpurple: "#9370d8",
				mediumseagreen: "#3cb371",
				mediumslateblue: "#7b68ee",
				mediumspringgreen: "#00fa9a",
				mediumturquoise: "#48d1cc",
				mediumvioletred: "#c71585",
				midnightblue: "#191970",
				mintcream: "#f5fffa",
				mistyrose: "#ffe4e1",
				moccasin: "#ffe4b5",
				navajowhite: "#ffdead",
				navy: "#000080",
				oldlace: "#fdf5e6",
				olive: "#808000",
				olivedrab: "#6b8e23",
				orange: "#ffa500",
				orangered: "#ff4500",
				orchid: "#da70d6",
				palegoldenrod: "#eee8aa",
				palegreen: "#98fb98",
				paleturquoise: "#afeeee",
				palevioletred: "#d87093",
				papayawhip: "#ffefd5",
				peachpuff: "#ffdab9",
				peru: "#cd853f",
				pink: "#ffc0cb",
				plum: "#dda0dd",
				powderblue: "#b0e0e6",
				purple: "#800080",
				red: "#ff0000",
				rosybrown: "#bc8f8f",
				royalblue: "#4169e1",
				saddlebrown: "#8b4513",
				salmon: "#fa8072",
				sandybrown: "#f4a460",
				seagreen: "#2e8b57",
				seashell: "#fff5ee",
				sienna: "#a0522d",
				silver: "#c0c0c0",
				skyblue: "#87ceeb",
				slateblue: "#6a5acd",
				slategray: "#708090",
				snow: "#fffafa",
				springgreen: "#00ff7f",
				steelblue: "#4682b4",
				tan: "#d2b48c",
				teal: "#008080",
				thistle: "#d8bfd8",
				tomato: "#ff6347",
				turquoise: "#40e0d0",
				violet: "#ee82ee",
				wheat: "#f5deb3",
				white: "#ffffff",
				whitesmoke: "#f5f5f5",
				yellow: "#ffff00",
				yellowgreen: "#9acd32",
				transparent: "transparent"
			},
			_sanitizeNumber: function(e) {
				return "number" == typeof e ? e: isNaN(e) || null === e || "" === e || void 0 === e ? 1 : void 0 !== e.toLowerCase ? parseFloat(e) : 1
			},
			isTransparent: function(e) {
				return !! e && (e = e.toLowerCase().trim(), "transparent" === e || e.match(/#?00000000/) || e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))
			},
			rgbaIsTransparent: function(e) {
				return 0 === e.r && 0 === e.g && 0 === e.b && 0 === e.a
			},
			setColor: function(e) {
				e = e.toLowerCase().trim(),
				e && (this.isTransparent(e) ? this.value = {
					h: 0,
					s: 0,
					b: 0,
					a: 0
				}: this.value = this.stringToHSB(e) || {
					h: 0,
					s: 0,
					b: 0,
					a: 1
				})
			},
			stringToHSB: function(t) {
				t = t.toLowerCase();
				var n;
				"undefined" != typeof this.colors[t] && (t = this.colors[t], n = "alias");
				var i = this,
				o = !1;
				return e.each(this.stringParsers,
				function(e, a) {
					var r = a.re.exec(t),
					s = r && a.parse.apply(i, [r]),
					c = n || a.format || "rgba";
					return ! s || (o = c.match(/hsla?/) ? i.RGBtoHSB.apply(i, i.HSLtoRGB.apply(i, s)) : i.RGBtoHSB.apply(i, s), i.origFormat = c, !1)
				}),
				o
			},
			setHue: function(e) {
				this.value.h = 1 - e
			},
			setSaturation: function(e) {
				this.value.s = e
			},
			setBrightness: function(e) {
				this.value.b = 1 - e
			},
			setAlpha: function(e) {
				this.value.a = parseInt(100 * (1 - e), 10) / 100
			},
			toRGB: function(e, t, n, i) {
				e || (e = this.value.h, t = this.value.s, n = this.value.b),
				e *= 360;
				var o, a, r, s, c;
				return e = e % 360 / 60,
				c = n * t,
				s = c * (1 - Math.abs(e % 2 - 1)),
				o = a = r = n - c,
				e = ~~e,
				o += [c, s, 0, 0, s, c][e],
				a += [s, c, c, s, 0, 0][e],
				r += [0, 0, s, c, c, s][e],
				{
					r: Math.round(255 * o),
					g: Math.round(255 * a),
					b: Math.round(255 * r),
					a: i || this.value.a
				}
			},
			toHex: function(e, t, n, i) {
				var o = this.toRGB(e, t, n, i);
				return this.rgbaIsTransparent(o) ? "transparent": "#" + (1 << 24 | parseInt(o.r) << 16 | parseInt(o.g) << 8 | parseInt(o.b)).toString(16).substr(1)
			},
			toHSL: function(e, t, n, i) {
				e = e || this.value.h,
				t = t || this.value.s,
				n = n || this.value.b,
				i = i || this.value.a;
				var o = e,
				a = (2 - t) * n,
				r = t * n;
				return r /= a > 0 && a <= 1 ? a: 2 - a,
				a /= 2,
				r > 1 && (r = 1),
				{
					h: isNaN(o) ? 0 : o,
					s: isNaN(r) ? 0 : r,
					l: isNaN(a) ? 0 : a,
					a: isNaN(i) ? 0 : i
				}
			},
			toAlias: function(e, t, n, i) {
				var o = this.toHex(e, t, n, i);
				for (var a in this.colors) if (this.colors[a] === o) return a;
				return ! 1
			},
			RGBtoHSB: function(e, t, n, i) {
				e /= 255,
				t /= 255,
				n /= 255;
				var o, a, r, s;
				return r = Math.max(e, t, n),
				s = r - Math.min(e, t, n),
				o = 0 === s ? null: r === e ? (t - n) / s: r === t ? (n - e) / s + 2 : (e - t) / s + 4,
				o = (o + 360) % 6 * 60 / 360,
				a = 0 === s ? 0 : s / r,
				{
					h: this._sanitizeNumber(o),
					s: a,
					b: r,
					a: this._sanitizeNumber(i)
				}
			},
			HueToRGB: function(e, t, n) {
				return n < 0 ? n += 1 : n > 1 && (n -= 1),
				6 * n < 1 ? e + (t - e) * n * 6 : 2 * n < 1 ? t: 3 * n < 2 ? e + (t - e) * (2 / 3 - n) * 6 : e
			},
			HSLtoRGB: function(e, t, n, i) {
				t < 0 && (t = 0);
				var o;
				o = n <= .5 ? n * (1 + t) : n + t - n * t;
				var a = 2 * n - o,
				r = e + 1 / 3,
				s = e,
				c = e - 1 / 3,
				l = Math.round(255 * this.HueToRGB(a, o, r)),
				p = Math.round(255 * this.HueToRGB(a, o, s)),
				d = Math.round(255 * this.HueToRGB(a, o, c));
				return [l, p, d, this._sanitizeNumber(i)]
			},
			toString: function(e) {
				e = e || "rgba";
				var t = !1;
				switch (e) {
				case "rgb":
					return t = this.toRGB(),
					this.rgbaIsTransparent(t) ? "transparent": "rgb(" + t.r + "," + t.g + "," + t.b + ")";
				case "rgba":
					return t = this.toRGB(),
					"rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")";
				case "hsl":
					return t = this.toHSL(),
					"hsl(" + Math.round(360 * t.h) + "," + Math.round(100 * t.s) + "%," + Math.round(100 * t.l) + "%)";
				case "hsla":
					return t = this.toHSL(),
					"hsla(" + Math.round(360 * t.h) + "," + Math.round(100 * t.s) + "%," + Math.round(100 * t.l) + "%," + t.a + ")";
				case "hex":
					return this.toHex();
				case "alias":
					return this.toAlias() || this.toHex();
				default:
					return t
				}
			},
			stringParsers: [{
				re: /rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,
				format: "rgb",
				parse: function(e) {
					return [e[1], e[2], e[3], 1]
				}
			},
			{
				re: /rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,
				format: "rgb",
				parse: function(e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], 1]
				}
			},
			{
				re: /rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				format: "rgba",
				parse: function(e) {
					return [e[1], e[2], e[3], e[4]]
				}
			},
			{
				re: /rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				format: "rgba",
				parse: function(e) {
					return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
				}
			},
			{
				re: /hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,
				format: "hsl",
				parse: function(e) {
					return [e[1] / 360, e[2] / 100, e[3] / 100, e[4]]
				}
			},
			{
				re: /hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
				format: "hsla",
				parse: function(e) {
					return [e[1] / 360, e[2] / 100, e[3] / 100, e[4]]
				}
			},
			{
				re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
				format: "hex",
				parse: function(e) {
					return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16), 1]
				}
			},
			{
				re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,
				format: "hex",
				parse: function(e) {
					return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16), 1]
				}
			}],
			colorNameToHex: function(e) {
				return "undefined" != typeof this.colors[e.toLowerCase()] && this.colors[e.toLowerCase()]
			}
		};
		var n = {
			horizontal: !1,
			inline: !1,
			color: !1,
			format: !1,
			input: "input",
			container: !1,
			component: ".add-on, .input-group-addon",
			sliders: {
				saturation: {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setBrightness"
				},
				hue: {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setHue"
				},
				alpha: {
					maxLeft: 0,
					maxTop: 100,
					callLeft: !1,
					callTop: "setAlpha"
				}
			},
			slidersHorz: {
				saturation: {
					maxLeft: 100,
					maxTop: 100,
					callLeft: "setSaturation",
					callTop: "setBrightness"
				},
				hue: {
					maxLeft: 100,
					maxTop: 0,
					callLeft: "setHue",
					callTop: !1
				},
				alpha: {
					maxLeft: 100,
					maxTop: 0,
					callLeft: "setAlpha",
					callTop: !1
				}
			},
			template: '<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',
			align: "right",
			customClass: null,
			colorSelectors: null
		},
		i = function(i, o) {
			if (this.element = e(i).addClass("colorpicker-element"), this.options = e.extend(!0, {},
			n, this.element.data(), o), this.component = this.options.component, this.component = this.component !== !1 && this.element.find(this.component), this.component && 0 === this.component.length && (this.component = !1), this.container = this.options.container === !0 ? this.element: this.options.container, this.container = this.container !== !1 && e(this.container), this.input = this.element.is("input") ? this.element: !!this.options.input && this.element.find(this.options.input), this.input && 0 === this.input.length && (this.input = !1), this.color = new t(this.options.color !== !1 ? this.options.color: this.getValue(), this.options.colorSelectors), this.format = this.options.format !== !1 ? this.options.format: this.color.origFormat, this.options.color !== !1 && (this.updateInput(this.color), this.updateData(this.color)), this.picker = e(this.options.template), this.options.customClass && this.picker.addClass(this.options.customClass), this.options.inline ? this.picker.addClass("colorpicker-inline colorpicker-visible") : this.picker.addClass("colorpicker-hidden"), this.options.horizontal && this.picker.addClass("colorpicker-horizontal"), "rgba" !== this.format && "hsla" !== this.format && this.options.format !== !1 || this.picker.addClass("colorpicker-with-alpha"), "right" === this.options.align && this.picker.addClass("colorpicker-right"), this.options.inline === !0 && this.picker.addClass("colorpicker-no-arrow"), this.options.colorSelectors) {
				var a = this;
				e.each(this.options.colorSelectors,
				function(t, n) {
					var i = e("<i />").css("background-color", n).data("class", t);
					i.click(function() {
						a.setValue(e(this).css("background-color"))
					}),
					a.picker.find(".colorpicker-selectors").append(i)
				}),
				this.picker.find(".colorpicker-selectors").show()
			}
			this.picker.on("mousedown.colorpicker touchstart.colorpicker", e.proxy(this.mousedown, this)),
			this.picker.appendTo(this.container ? this.container: e("body")),
			this.input !== !1 && (this.input.on({
				"keyup.colorpicker": e.proxy(this.keyup, this)
			}), this.input.on({
				"change.colorpicker": e.proxy(this.change, this)
			}), this.component === !1 && this.element.on({
				"focus.colorpicker": e.proxy(this.show, this)
			}), this.options.inline === !1 && this.element.on({
				"focusout.colorpicker": e.proxy(this.hide, this)
			})),
			this.component !== !1 && this.component.on({
				"click.colorpicker": e.proxy(this.show, this)
			}),
			this.input === !1 && this.component === !1 && this.element.on({
				"click.colorpicker": e.proxy(this.show, this)
			}),
			this.input !== !1 && this.component !== !1 && "color" === this.input.attr("type") && this.input.on({
				"click.colorpicker": e.proxy(this.show, this),
				"focus.colorpicker": e.proxy(this.show, this)
			}),
			this.update(),
			e(e.proxy(function() {
				this.element.trigger("create")
			},
			this))
		};
		i.Color = t,
		i.prototype = {
			constructor: i,
			destroy: function() {
				this.picker.remove(),
				this.element.removeData("colorpicker").off(".colorpicker"),
				this.input !== !1 && this.input.off(".colorpicker"),
				this.component !== !1 && this.component.off(".colorpicker"),
				this.element.removeClass("colorpicker-element"),
				this.element.trigger({
					type: "destroy"
				})
			},
			reposition: function() {
				if (this.options.inline !== !1 || this.options.container) return ! 1;
				var e = this.container && this.container[0] !== document.body ? "position": "offset",
				t = this.component || this.element,
				n = t[e]();
				"right" === this.options.align && (n.left -= this.picker.outerWidth() - t.outerWidth()),
				this.picker.css({
					top: n.top + t.outerHeight(),
					left: n.left
				})
			},
			show: function(t) {
				return ! this.isDisabled() && (this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"), this.reposition(), e(window).on("resize.colorpicker", e.proxy(this.reposition, this)), !t || this.hasInput() && "color" !== this.input.attr("type") || t.stopPropagation && t.preventDefault && (t.stopPropagation(), t.preventDefault()), this.options.inline === !1 && e(window.document).on({
					"mousedown.colorpicker": e.proxy(this.hide, this)
				}), void this.element.trigger({
					type: "showPicker",
					color: this.color
				}))
			},
			hide: function() {
				this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),
				e(window).off("resize.colorpicker", this.reposition),
				e(document).off({
					"mousedown.colorpicker": this.hide
				}),
				this.update(),
				this.element.trigger({
					type: "hidePicker",
					color: this.color
				})
			},
			updateData: function(e) {
				return e = e || this.color.toString(this.format),
				this.element.data("color", e),
				e
			},
			updateInput: function(e) {
				if (e = e || this.color.toString(this.format), this.input !== !1) {
					if (this.options.colorSelectors) {
						var n = new t(e, this.options.colorSelectors),
						i = n.toAlias();
						"undefined" != typeof this.options.colorSelectors[i] && (e = i)
					}
					this.input.prop("value", e)
				}
				return e
			},
			updatePicker: function(e) {
				void 0 !== e && (this.color = new t(e, this.options.colorSelectors));
				var n = this.options.horizontal === !1 ? this.options.sliders: this.options.slidersHorz,
				i = this.picker.find("i");
				if (0 !== i.length) return this.options.horizontal === !1 ? (n = this.options.sliders, i.eq(1).css("top", n.hue.maxTop * (1 - this.color.value.h)).end().eq(2).css("top", n.alpha.maxTop * (1 - this.color.value.a))) : (n = this.options.slidersHorz, i.eq(1).css("left", n.hue.maxLeft * (1 - this.color.value.h)).end().eq(2).css("left", n.alpha.maxLeft * (1 - this.color.value.a))),
				i.eq(0).css({
					top: n.saturation.maxTop - this.color.value.b * n.saturation.maxTop,
					left: this.color.value.s * n.saturation.maxLeft
				}),
				this.picker.find(".colorpicker-saturation").css("backgroundColor", this.color.toHex(this.color.value.h, 1, 1, 1)),
				this.picker.find(".colorpicker-alpha").css("backgroundColor", this.color.toHex()),
				this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor", this.color.toString(this.format)),
				e
			},
			updateComponent: function(e) {
				if (e = e || this.color.toString(this.format), this.component !== !1) {
					var t = this.component.find("i").eq(0);
					t.length > 0 ? t.css({
						backgroundColor: e
					}) : this.component.css({
						backgroundColor: e
					})
				}
				return e
			},
			update: function(e) {
				var t;
				return this.getValue(!1) === !1 && e !== !0 || (t = this.updateComponent(), this.updateInput(t), this.updateData(t), this.updatePicker()),
				t
			},
			setValue: function(e) {
				this.color = new t(e, this.options.colorSelectors),
				this.update(!0),
				this.element.trigger({
					type: "changeColor",
					color: this.color,
					value: e
				})
			},
			getValue: function(e) {
				e = void 0 === e ? "#000000": e;
				var t;
				return t = this.hasInput() ? this.input.val() : this.element.data("color"),
				void 0 !== t && "" !== t && null !== t || (t = e),
				t
			},
			hasInput: function() {
				return this.input !== !1
			},
			isDisabled: function() {
				return !! this.hasInput() && this.input.prop("disabled") === !0
			},
			disable: function() {
				return !! this.hasInput() && (this.input.prop("disabled", !0), this.element.trigger({
					type: "disable",
					color: this.color,
					value: this.getValue()
				}), !0)
			},
			enable: function() {
				return !! this.hasInput() && (this.input.prop("disabled", !1), this.element.trigger({
					type: "enable",
					color: this.color,
					value: this.getValue()
				}), !0)
			},
			currentSlider: null,
			mousePointer: {
				left: 0,
				top: 0
			},
			mousedown: function(t) {
				t.pageX || t.pageY || !t.originalEvent || (t.pageX = t.originalEvent.touches[0].pageX, t.pageY = t.originalEvent.touches[0].pageY),
				t.stopPropagation(),
				t.preventDefault();
				var n = e(t.target),
				i = n.closest("div"),
				o = this.options.horizontal ? this.options.slidersHorz: this.options.sliders;
				if (!i.is(".colorpicker")) {
					if (i.is(".colorpicker-saturation")) this.currentSlider = e.extend({},
					o.saturation);
					else if (i.is(".colorpicker-hue")) this.currentSlider = e.extend({},
					o.hue);
					else {
						if (!i.is(".colorpicker-alpha")) return ! 1;
						this.currentSlider = e.extend({},
						o.alpha)
					}
					var a = i.offset();
					this.currentSlider.guide = i.find("i")[0].style,
					this.currentSlider.left = t.pageX - a.left,
					this.currentSlider.top = t.pageY - a.top,
					this.mousePointer = {
						left: t.pageX,
						top: t.pageY
					},
					e(document).on({
						"mousemove.colorpicker": e.proxy(this.mousemove, this),
						"touchmove.colorpicker": e.proxy(this.mousemove, this),
						"mouseup.colorpicker": e.proxy(this.mouseup, this),
						"touchend.colorpicker": e.proxy(this.mouseup, this)
					}).trigger("mousemove")
				}
				return ! 1
			},
			mousemove: function(e) {
				e.pageX || e.pageY || !e.originalEvent || (e.pageX = e.originalEvent.touches[0].pageX, e.pageY = e.originalEvent.touches[0].pageY),
				e.stopPropagation(),
				e.preventDefault();
				var t = Math.max(0, Math.min(this.currentSlider.maxLeft, this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left))),
				n = Math.max(0, Math.min(this.currentSlider.maxTop, this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)));
				return this.currentSlider.guide.left = t + "px",
				this.currentSlider.guide.top = n + "px",
				this.currentSlider.callLeft && this.color[this.currentSlider.callLeft].call(this.color, t / this.currentSlider.maxLeft),
				this.currentSlider.callTop && this.color[this.currentSlider.callTop].call(this.color, n / this.currentSlider.maxTop),
				"setAlpha" === this.currentSlider.callTop && this.options.format === !1 && (1 !== this.color.value.a ? (this.format = "rgba", this.color.origFormat = "rgba") : (this.format = "hex", this.color.origFormat = "hex")),
				this.update(!0),
				this.element.trigger({
					type: "changeColor",
					color: this.color
				}),
				!1
			},
			mouseup: function(t) {
				return t.stopPropagation(),
				t.preventDefault(),
				e(document).off({
					"mousemove.colorpicker": this.mousemove,
					"touchmove.colorpicker": this.mousemove,
					"mouseup.colorpicker": this.mouseup,
					"touchend.colorpicker": this.mouseup
				}),
				this.element.trigger({
					type: "completeColor",
					color: this.color
				}),
				!1
			},
			change: function(e) {
				this.keyup(e)
			},
			keyup: function(e) {
				38 === e.keyCode ? (this.color.value.a < 1 && (this.color.value.a = Math.round(100 * (this.color.value.a + .01)) / 100), this.update(!0)) : 40 === e.keyCode ? (this.color.value.a > 0 && (this.color.value.a = Math.round(100 * (this.color.value.a - .01)) / 100), this.update(!0)) : (this.color = new t(this.input.val(), this.options.colorSelectors), this.color.origFormat && this.options.format === !1 && (this.format = this.color.origFormat), this.getValue(!1) !== !1 && (this.updateData(), this.updateComponent(), this.updatePicker())),
				this.element.trigger({
					type: "changeColor",
					color: this.color,
					value: this.input.val()
				})
			}
		},
		e.colorpicker = i,
		e.fn.colorpicker = function(t) {
			var n, o = arguments,
			a = this.each(function() {
				var a = e(this),
				s = a.data("colorpicker"),
				c = "object" === ("undefined" == typeof t ? "undefined": r(t)) ? t: {};
				s || "string" == typeof t ? "string" == typeof t && (n = s[t].apply(s, Array.prototype.slice.call(o, 1))) : a.data("colorpicker", new i(this, c))
			});
			return "getValue" === t ? n: a
		},
		e.fn.colorpicker.constructor = i
	})
},
function(e, t) {
	e.exports = jquery
},
function(e, t) {},
, , , , ,
function(e, t) {},
function(e, t) {
	e.exports = '<div class="eqc-input-color {{theme}}" ng-style="{backgroundColor: selectColor, width: w - 2,height: h}"><div x={{x}} y={{y}} ng-style="{width: w - 2, height: h}" select-color=selectColor notify={{notify}} eqd-colorpicker={{colorMode}} direction={{direction}} colorpicker-with-input=true is-toolbar-color-picker=idName istoolbarcolor={{idName}} is-convert-transparent={{isConvertTransparent}}></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("eqx.ui.dropDown", []).directive("eqdSelect", ["$rootScope",
	function(e) {
		"ngInject";
		function t(t, n) {
			function i() {
				a.unbind("click", i),
				r.removeClass("visible")
			}
			function o(e) {
				var n = e.index();
				t.current = t.list[n],
				r.removeClass("visible")
			}
			var a = $(document),
			r = n.find(".eqc-drop-down-list"),
			s = r.find(".iScrollIndicator");
			n.on("$destroy",
			function() {
				a.unbind("click", i)
			}),
			t.showList = function(n) {
				return n.stopPropagation(),
				r.hasClass("visible") ? void i() : (e.$broadcast("iscroll.refresh." + t.scrollType), $(".eqc-drop-down-list").removeClass("visible"), r.addClass("visible"), a.click(i), void s.click(function(e) {
					e.stopPropagation()
				}))
			},
			t.selectItem = function(e) {
				e.stopPropagation();
				var t = e.target,
				n = t.tagName.toLowerCase(),
				i = $(t);
				"li" == n ? o(i) : "div" == n && (i = i.closest("li"), o(i))
			}
		}
		return {
			restrict: "E",
			replace: !0,
			template: n(312),
			scope: {
				list: "=",
				current: "=",
				scrollType: "@",
				fontFamily: "=",
				isBorder: "@",
				x: "@"
			},
			link: t
		}
	}]).controller("SimpleSelectController", ["$scope", "$element", "$attrs", "$parse", "$timeout",
	function(e, t, n, i, o) {
		"ngInject";
		var a = this;
		e.list = [],
		e.current = null,
		a.addSelectChoice = function(t) {
			e.list.push(t)
		},
		a.removeSelectChoice = function(t) {
			var n = e.list.indexOf(t);
			n !== -1 && e.list.splice(n, 1)
		};
		var r;
		a.setObjectConfig = function(e) {
			void 0 === r && (r = e)
		},
		e.setDefaultSelectedValue = function() {
			angular.forEach(e.list,
			function(t) {
				t.value == e.model && (e.current = t)
			})
		};
		var s = e.$watchCollection("list",
		function() {
			e.setDefaultSelectedValue()
		}),
		c = e.$watch("current",
		function(t) {
			t && e.model != t.value && (e.model = t.value, o(function() {
				n.change && e.$parent.$eval(n.change)
			},
			100))
		}),
		l = e.$watch("model",
		function(t) {
			t && e.setDefaultSelectedValue()
		});
		e.$on("$destroy",
		function() {
			s(),
			c(),
			l()
		}),
		e.$watch("model",
		function(t, n) {
			t != n && angular.forEach(e.list,
			function(t) {
				t.value == e.model && (e.current = t)
			})
		})
	}]).directive("eqxSelect", ["$compile",
	function(e) {
		"ngInject";
		var t = '<eqd-select list="list" class="select-contain" current="current"></eqd-select>';
		return {
			restrict: "E",
			scope: {
				model: "="
			},
			controller: "SimpleSelectController",
			compile: function(n, i) {
				var o = i["class"];
				return n.removeClass(o),
				function(n, i) {
					i.append(e(angular.element(t).addClass(o))(n))
				}
			}
		}
	}]).directive("eqxSelectOption", ["$parse", "$interpolate",
	function(e, t) {
		"ngInject";
		return {
			restrict: "E",
			require: "^eqxSelect",
			compile: function(n, i) {
				var o, a;
				return i.ngRepeat && (o = e(i.value), a = t(n.html())),
				function(e, t, n, i) {
					t.css("display", "none");
					var r;
					if (o) {
						var s = o(e);
						i.setObjectConfig(angular.isObject(s)),
						r = {
							name: a(e),
							value: s
						}
					} else r = {
						name: t.html(),
						value: e.$parent.$eval(n.value)
					};
					i.addSelectChoice(r),
					t.on("$destroy",
					function() {
						i.removeSelectChoice(r)
					})
				}
			}
		}
	}]).name
},
function(e, t) {
	e.exports = '<div class=clearfix><div class=eqc-mask ng-click=showList($event)><div class=eqc-name>{{current.name}}</div><span class="more eqf-more"></span></div><div class="eqc-drop-down-list transform-change"><div class=list><div class=eqc-scroll eqd-scroll={{scrollType}}><ul class=clearfix ng-click=selectItem($event)><li ng-repeat="item in list" ng-class="{active: item == current}" ng-style="{fontFamily: item.fontFamily}" class=eqc-target>{{item.name}}</li></ul></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("eqx.ui.modal", []).factory("modalService", n(314)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i(t) {
			return e.open(t).result
		}
		function o(e) {
			return i({
				backdrop: "static",
				keyboard: !1,
				backdropClick: !1,
				windowClass: "confirm-dialog",
				template: n(315),
				controller: ["$scope", "confirmObj", "$sce",
				function(e, t, n) {
					e.confirmObj = t,
					e.ok = function() {
						e.$close()
					},
					e.cancel = function() {
						e.$dismiss()
					},
					e.confirmObj.msg = n.trustAsHtml(e.confirmObj.msg)
				}],
				resolve: {
					confirmObj: function() {
						return e
					}
				}
			})
		}
		function a(e) {
			return i({
				backdrop: "static",
				keyboard: !1,
				backdropClick: !1,
				windowClass: "message-dialog",
				template: n(316),
				controller: ["$scope", "msgObj",
				function(e, t) {
					e.msgObj = t,
					e.close = function() {
						e.$close()
					},
					e.cancel = function() {
						e.$dismiss()
					}
				}],
				resolve: {
					msgObj: function() {
						return e
					}
				}
			})
		}
		return {
			open: i,
			openConfirmDialog: o,
			openMsgDialog: a
		}
	}
	i.$inject = ["$modal", "$q"];
	n(119);
	e.exports = i
},
function(e, t) {
	e.exports = "<div class=modal-body ng-if=confirmObj.msg><div class=confirm-msg compile ng-bind-html=confirmObj.msg></div></div><div class=\"btn-contain btn-small\"><a ng-click=ok(); class=btn-main ng-class=\"{deletePage: confirmObj.delete}\">{{confirmObj.confirmName || ('确定')}} </a><a ng-click=cancel(); class=btn-grey0 ng-class={cancelDeletePage:confirmObj.delete}>{{confirmObj.cancelName || ('取消')}}</a></div>"
},
function(e, t) {
	e.exports = "<div class=modal-header><span class=\"glyphicon glyphicon-exclamation-sign\"></span> <span>{{msgObj.title || ('提示')}}</span></div><div class=modal-body ng-if=msgObj.msg><div class=msg ng-class=\"msgObj.title ? '' : 'msg-padding'\" ng-bind-html=msgObj.msg></div></div><div class=modal-footer><a ng-click=close(); class=\"btn btn-primary\" style=width:88px>{{msgObj.btn || ('关闭')}}</a></div>"
},
function(e, t, n) {
	"use strict";
	var i = n(318),
	o = n(319),
	a = n(320);
	e.exports = angular.module("ui.notify", []).directive("notificationFadeout", o).directive("eqxNotification", a).factory("notifications", ["$rootScope",
	function(e) {
		"ngInject";
		var t = {
			STICKY: [],
			ROUTE_CURRENT: [],
			ROUTE_NEXT: []
		},
		n = {},
		i = function(e, t) {
			if (!angular.isObject(t)) throw new Error("Only object can be added to the notification service");
			return e.push(t),
			t
		};
		return e.$on("$routeChangeSuccess",
		function() {
			t.ROUTE_CURRENT.length = 0,
			t.ROUTE_CURRENT = angular.copy(t.ROUTE_NEXT),
			t.ROUTE_NEXT.length = 0
		}),
		n.getCurrent = function() {
			return [].concat(t.STICKY, t.ROUTE_CURRENT)
		},
		n.pushForCurrentRoute = function(e) {
			return i(t.ROUTE_CURRENT, e)
		},
		n.remove = function(e) {
			angular.forEach(t,
			function(t) {
				var n = t.indexOf(e);
				n > -1 && t.splice(n, 1)
			})
		},
		n.removeAll = function() {
			angular.forEach(t,
			function(e) {
				e.length = 0
			})
		},
		n
	}]).factory("i18nNotifications", ["notifications",
	function(e) {
		"ngInject";
		var t = function(e, t, n, o) {
			return angular.extend({
				message: i.get(e, n),
				type: i.get(t, n)
			},
			o)
		};
		return {
			pushForCurrentRoute: function(n, i, o, a) {
				return e.pushForCurrentRoute(t(n, i, o, a))
			},
			add: function(t, n) {
				return e.pushForCurrentRoute({
					message: t,
					type: n || "success"
				})
			},
			getCurrent: function() {
				return e.getCurrent()
			},
			remove: function(t) {
				return e.remove(t)
			},
			removeAll: function() {
				return e.removeAll()
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			get: function(t, n) {
				var a = i[t];
				return a ? e(a)(n) : o(a, t)
			}
		}
	}
	n.$inject = ["$interpolate"];
	var i = {
		"notify.success": "success",
		"notify.info": "info",
		"notify.danger": "danger",
		"notify.warning": "warning",
		"notify.tip": "tip",
		"errors.route.changeError": "Route change error",
		"crud.user.save.success": "A user with id '{{id}}' was saved successfully.",
		"crud.user.remove.success": "A user with id '{{id}}' was removed successfully.",
		"crud.user.remove.error": "Something went wrong when removing user with id '{{id}}'.",
		"crud.user.save.error": "Something went wrong when saving a user...",
		"crud.project.save.success": "A project with id '{{id}}' was saved successfully.",
		"crud.project.remove.success": "A project with id '{{id}}' was removed successfully.",
		"crud.project.save.error": "Something went wrong when saving a project...",
		"login.reason.notAuthorized": "离开久了，麻烦再登录一次吧！",
		"login.reason.notAuthenticated": "为了保障您的账号安全，请登录！",
		"login.error.invalidCredentials": "登录失败，请检查邮箱和密码是否正确。",
		"login.error.serverError": "There was a problem with authenticating: {{exception}}.",
		"register.error.serverError": "There was a problem with authenticating: {{exception}}.",
		"login.reset.notmatch": "新密码和重复密码不匹配",
		"register.error.match": "两次输入密码不一致",
		"register.error.agreement": "请先同意注册协议再完成注册",
		"file.bg.pageSize": "12",
		"scene.save.success.published": "场景已保存成功！",
		"scene.save.success.nopublish": "保存成功，还需要发布哦！",
		"scene.save.success.companyTpl": "成功生成企业样例",
		"scene.clear.success.companyTpl": "成功取消企业样例",
		"companytpl.setting.success": "成功生成企业模板",
		"mytpl.setting.success": "成功生成我的模板",
		"scene.publish.success": "场景发布成功",
		"account.success": "提交成功！",
		"branch.open.success": "账号打开成功！",
		"branch.close.success": "账号关闭成功！",
		"dept.create.success": "部门创建成功！",
		"dept.update.success": "修改成功！",
		"branch.create.success": "账号创建成功！",
		"branch.update.success": "账号修改成功！",
		"scene.setting.success": "场景设置成功！",
		"data.assign.success": "分组成功！",
		"data.delete.success": "数据删除成功！",
		"group.delete.data": "分组内素材移除成功！",
		"custom.data.delete": "此条客户数据删除成功！",
		"group.delete.success": "分组删除成功！",
		"group.create.success": "分组创建成功！",
		"group.edit.success": "分组修改成功！",
		"group.scene.success": "成功将此场景移动至分组",
		"rel.tip": "您的账号还没有绑定邮箱，去用户中心->账号管理，马上绑定",
		"page.change.success": "页面名称修改成功！",
		"email.save.success": "邮箱绑定成功！",
		"bbs.save.success": "论坛账号绑定成功！",
		"reset.psw.success": "密码修改成功！",
		"save.success": "保存成功！",
		"upload.success": "上传成功！",
		"mail.rel.success": "关联成功！",
		"mail.unbind.success": "解除关联成功！",
		"file.assign.success": "分组成功！",
		"already.rel": "此账号已经关联过邮箱",
		"branch.reset.success": "子账号密码重置成功！",
		"already.bind.error": "{{msg}}",
		"reject.crop.image": "不支持裁剪GIF格式图片！",
		"visitor.apply": "信息已经提交审核，审核通过后会更新秀客信息，请耐心等待。",
		"select.trigger.source": "请选择触发源",
		"scratch.percentage.overflow": "涂抹比例不能大于100%",
		"invitation.sendemail.success": "邮件发送成功!",
		"invitation.sendemail.error": "邮件发送失败!",
		"outbox.warning": "红色警告：超出虚线外边框的内容，将无法在手机中被看到",
		"outbox.tip": "橙色警告：超出虚线内边框的内容，在部分老机型手机中将无法看到",
		"already.apply.discovery": "您已申请加入秀场，暂时不能再申请！",
		"already.apply.sample": "您已申请过成为样例，暂时不能再申请！",
		"already.apply.activity": "您已申请过成为活动，暂时不能再申请！",
		"phone.message": "成功开通短信提醒",
		"scene.apply.success": "申请成功",
		"xd.insufficient": "秀点余额不足，去用户中心－>会员服务进行充值",
		"customer.name.overflow": "姓名不能超过50个字符",
		"scene.deny.apply": "审核未通过的场景不能申请活动",
		"scene.incheck.apply": "审核中的场景不能申请活动",
		"scene.accessCode.apply": "加密设置的场景不能加入活动",
		"scene.accessClose.apply": "关闭的场景不能加入活动",
		"spread.share.messagecustomer": "请选择收件人",
		"spread.share.messageless": "可用短信数量不足,请兑换短信",
		"spread.share.messagecontent": "请先选择短信内容!",
		"spread.share.messagesendsuccess": "发送成功",
		"spread.share.messagebuylayout": "请选择购买类型",
		"spread.share.messagebuyxdless": "秀点余额不足,请先购买秀点!",
		"spread.share.guaranteeSucc": "申请保障服务成功",
		"spread.share.guaranteeClose": "取消保障服务成功",
		"print.scene.images.fail": "请先保存预览图",
		"print.shop.images.fail": "印刷需保存预览图",
		"print.images.number": "只能选择两张图片",
		"print.images.null": "未选择任何图片",
		"print.images": "敬请期待！",
		"spread.share.guaranteeBuyXd": "购买保障服务成功",
		"spread.share.guaranteeApplyError": "您的场景保障服务剩余次数不足,请先购买",
		"spread.share.guaranteeApplyUnPublice": "场景未发布,不能参加保障服务",
		"spread.share.guaranteeApplyCheck": "审核关闭的场景,不能参加保障服务",
		"spread.share.guaranteeApplyUnCheck": "审核驳回的场景,不能参加保障服务",
		"delete.scene.guarantee": "场景已经静态化,不能删除",
		"transfer.scene.guarantee": "场景已经静态化,不能转送",
		"usercenter.buybranch.success": "子帐号购买成功",
		"usercenter.buybranch.notcompany": "{{errMsg}}",
		"rel.register.account.success": "设置成功"
	},
	o = function(e, t) {
		return e || "?" + t + "?"
	};
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "EA",
			link: function(t, n) {
				n.fadeOut(4e3,
				function() {
					e.remove(t.notification)
				})
			}
		}
	}
	n.$inject = ["i18nNotifications"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(321);
	n(322),
	e.exports = function() {
		return {
			restrict: "EA",
			template: i,
			controller: ["$scope", "i18nNotifications",
			function(e, t) {
				"ngInject";
				e.notifications = t,
				e.removeNotification = function(e) {
					t.remove(e)
				}
			}]
		}
	}
},
function(e, t) {
	e.exports = "<div class=position:relative><div style=z-index:2000 class=eqx-notify ng-if=notifications.getCurrent().length><div ng-class=\"['alert', 'alert-'+notification.type]\" ng-repeat=\"notification in notifications.getCurrent()\" notification-fadeout><button class=close ng-click=removeNotification(notification)>×</button> {{notification.message}}</div></div></div>"
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i() {
		"ngInject";
		return {
			require: "ngModel",
			template: '<div class="slider-con"></div>',
			link: function(e, t, n, i) {
				var o = $(document);
				t.on("$destroy",
				function() {
					t.unbind("mousedown")
				});
				var a = "string" == typeof n.min ? parseFloat(n.min) : -Number.MAX_VALUE,
				r = "string" == typeof n.max ? parseFloat(n.max) : Number.MAX_VALUE,
				s = "string" == typeof n.step ? parseFloat(n.step) : 1,
				c = r / 100,
				l = "string" == typeof n.max ? parseFloat(n.fixed) : 1;
				i.$render = function() {
					t.find(".slider-con").css("width", 100 * (i.$modelValue || 0) / r + "%")
				},
				t.mousedown(function(t) {
					t.stopPropagation();
					var n, p = t.offsetX,
					d = t.pageX,
					u = function(t) {
						t.stopPropagation(),
						n = t.pageX - d;
						var o = (p + n) * c / s;
						o = parseFloat(o.toFixed(l)),
						o > r ? o = r: o < a && (o = a),
						i.$viewValue !== o && (i.$setViewValue(o), i.$render(), e.$apply())
					},
					g = function m() {
						o.unbind("mouseup", m),
						o.unbind("mousemove", u)
					};
					o.mousemove(u),
					o.mouseup(g)
				}),
				t.click(function(t) {
					t.stopPropagation();
					var n = Math.abs(t.offsetX * r / 100 / s).toFixed(l) * s;
					n > r ? n = Math.abs(r) : n < a && (n = Math.abs(a)),
					i.$setViewValue(n),
					i.$render(),
					e.$apply()
				})
			}
		}
	}
	n(324),
	e.exports = angular.module("ui.slider", []).directive("uiSliderT", i).name
},
function(e, t) {},
function(e, t) {
	"use strict";
	e.exports = angular.module("ui.uiSlider", []).directive("uiSlider", ["$timeout",
	function(e) {
		var t = {};
		return {
			require: "ngModel",
			compile: function() {
				return function(n, i, o, a) {
					function r(e, t) {
						return t ? parseFloat(e) : parseInt(e, 10)
					}
					function s() {
						i.slider("destroy")
					}
					var c = angular.extend(n.$eval(o.uiSlider) || {},
					t),
					l = {
						min: null,
						max: null
					},
					p = ["min", "max", "step"],
					d = !angular.isUndefined(o.useDecimals),
					u = function() {
						angular.isArray(a.$viewValue) && c.range !== !0 && (console.warn("Change your range option of ui-slider. When assigning ngModel an array of values then the range option should be set to true."), c.range = !0),
						angular.forEach(p,
						function(e) {
							angular.isDefined(o[e]) && (c[e] = r(o[e], d))
						}),
						i.slider(c),
						u = angular.noop
					};
					angular.forEach(p,
					function(e) {
						o.$observe(e,
						function(t) {
							t && (u(), c[e] = r(t, d), i.slider("option", e, r(t, d)), a.$render())
						})
					}),
					o.$observe("disabled",
					function(e) {
						u(),
						i.slider("option", "disabled", !!e)
					}),
					n.$watch(o.uiSlider,
					function(e) {
						u(),
						void 0 !== e && i.slider("option", e)
					},
					!0),
					e(u, 0, !0),
					i.bind("slide",
					function(e, t) {
						a.$setViewValue(t.values || t.value),
						n.$apply()
					}),
					a.$render = function() {
						u();
						var e = c.range === !0 ? "values": "value";
						c.range || !isNaN(a.$viewValue) || a.$viewValue instanceof Array ? c.range && !angular.isDefined(a.$viewValue) && (a.$viewValue = [0, 0]) : a.$viewValue = 0,
						c.range === !0 && (angular.isDefined(c.min) && c.min > a.$viewValue[0] && (a.$viewValue[0] = c.min), angular.isDefined(c.max) && c.max < a.$viewValue[1] && (a.$viewValue[1] = c.max), a.$viewValue[0] > a.$viewValue[1] && (l.min >= a.$viewValue[1] && (a.$viewValue[0] = l.min), l.max <= a.$viewValue[0] && (a.$viewValue[1] = l.max)), l.min = a.$viewValue[0], l.max = a.$viewValue[1]),
						i.slider(e, a.$viewValue)
					},
					n.$watch(o.ngModel,
					function() {
						c.range === !0 && a.$render()
					},
					!0),
					i.bind("$destroy", s);
					var g = $('<div class="ui-slider-progress-bar"></div>');
					i.append(g);
					var m = n.$watch(o.ngModel,
					function() {
						setTimeout(function() {
							g.css("width", $(".ui-slider-handle", i).css("left"))
						})
					},
					!0);
					i.bind("$destroy",
					function() {
						m()
					})
				}
			}
		}
	}]).name
},
function(e, t) {
	"use strict";
	e.exports = angular.module("ui.switch", []).directive("switchBtn",
	function() {
		return {
			require: "ngModel",
			restrict: "AE",
			template: '<div class="switch" ng-click="switch()"><div class="circle-con"><i class="circle"></i></div></div>',
			link: function(e, t, n, i) {
				var o = t.find(".switch");
				i.$render = function() {
					o.toggleClass("switch-open", angular.equals(i.$modelValue, "enable")),
					o.toggleClass("switch-close", angular.equals(i.$modelValue, "disable"))
				},
				o.bind("click",
				function() {
					var t = o.hasClass("switch-open");
					e.$apply(function() {
						i.$setViewValue(t ? "disable": "enable"),
						i.$render()
					})
				})
			}
		}
	}).name
},
function(e, t, n) {
	"use strict";
	var i = n(328);
	n(329),
	e.exports = angular.module("time2.directive", []).directive("datePicker",
	function() {
		"ngInject";
		function e(e, t, n, o) {
			function a(e) {
				var n = e.enableClear,
				o = e.startDate,
				a = (e.minDate, e.maxDate, e.format),
				l = e.singleDatePicker,
				p = e.drops,
				d = e.timePicker,
				u = void 0 === d || d,
				g = e.timePicker24Hour,
				m = e.timePickerIncrement,
				f = e.startDateDefault,
				h = void 0 === f ? i.nowTime() : f,
				v = !1;
				o || (v = !0, o = h);
				var y = {
					singleDatePicker: l || !0,
					timePicker: u,
					timePicker24Hour: g || !0,
					timePickerIncrement: m || 1,
					startDate: new Date(o),
					drops: p || "down",
					linkedCalendars: !1,
					locale: {
						format: a || c,
						applyLabel: "确定",
						cancelLabel: "取消",
						daysOfWeek: ["日", "一", "二", "三", "四", "五", "六"],
						monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"]
					}
				};
				n && (y.locale.cancelLabel = "清除"),
				t.daterangepicker(y),
				v && s(),
				n && t.on("cancel.daterangepicker",
				function(e, t) {
					r()
				})
			}
			function r() {
				e.$apply(function() {
					s()
				})
			}
			function s() {
				t.val(""),
				o.$setViewValue("")
			}
			var c = "YYYY-MM-DD HH:mm";
			e.$watchCollection("timeConfig",
			function(e) {
				a(e)
			}),
			t.on("$destroy",
			function() {
				t.data("daterangepicker").remove()
			})
		}
		return {
			restrict: "A",
			require: "ngModel",
			scope: {
				timeConfig: "=datePicker"
			},
			link: e
		}
	}).name
},
function(e, t) {
	"use strict";
	function n() {
		var e = new Date;
		return e.setHours(23, 59, 59, 999),
		e
	}
	function i() {
		var e = new Date;
		return e.setHours(0, 0, 0, 0),
		e
	}
	function o() {
		return n().getTime()
	}
	function a() {
		return i().getTime()
	}
	function r() {
		return (new Date).getTime()
	}
	e.exports = {
		nowTime: r,
		endDateOfToday: n,
		startDateOfToday: i,
		endTimeOfToday: o,
		startTimeOfToday: a
	}
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = n(331);
	e.exports = angular.module("common.filter", []).filter("validCharacterNum",
	function() {
		return i
	}).name
},
function(e, t) {
	"use strict";
	function n(e) {
		var t = 0;
		if (!e) return 0;
		for (var n = 0; n < e.length; n++) {
			var i = e.charCodeAt(n);
			i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++:t += 2
		}
		return t
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(333),
	o = n(334),
	a = n(335),
	r = n(336),
	s = n(337),
	c = n(338),
	l = n(339),
	p = n(340),
	d = n(341),
	u = n(342);
	e.exports = angular.module("app.config", []).factory("loadingService", n(343)).config(i).config(a).config(s).config(r).config(u).config(["$httpProvider",
	function(e) {
		"ngInject";
		e.interceptors.push(p),
		e.interceptors.push(c),
		e.interceptors.push(l),
		e.interceptors.push(d)
	}]).run(o).run(["$rootScope", "HOST",
	function(e, t) {
		"ngInject";
		e.HOST = t
	}]).name
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = t.HOST,
		i = n.length;
		"/" === n[i - 1] && (n = n.slice(0, i - 1)),
		e.setConfig({
			host: n
		})
	}
	n.$inject = ["eqxNgAuthProvider", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			e = e || "/",
			window.location.href = e
		}
		function i() {
			o || (o = t.showAuth({
				type: "login"
			}).then(function() {
				e.retryAll()
			},
			function() {
				e.cancelAll(),
				n()
			})["finally"](function() {
				o = null
			}))
		}
		var o = null;
		e.onItemAddedCallbacks.push(function() {
			e.hasMore() && i()
		})
	}
	n.$inject = ["securityRetryQueue", "eqxNgAuth"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		t.html5Mode(!0),
		e.when("/support", {
			template: "<editor-support></editor-support>"
		}).when("/:sceneId", {
			reloadOnSearch: !1,
			template: "<editor-scene></editor-scene>",
			resolve: {
				user: ["userService", "HOST",
				function(e, t) {
					return e.getCurrentUserPromise().then(function(e) {
						return [2, 21].indexOf(e.type) > -1 && (t.SERVER_0 = t.SERVER_0_VIP),
						e
					})
				}],
				eqxScene: ["sceneService", "$route", "$q", "$location",
				function(e, t, n, i) {
					function o() {
						var e = navigator.userAgent;
						return ! window.sessionStorage || "false" !== sessionStorage.getItem("h5editor.needsSupport") && (!(document.documentMode >= 11) && !/chrome|safari/i.test(e))
					}
					var a = t.current.params.sceneId;
					return o() ? (window.sessionStorage.setItem("h5editor.sceneId", a), i.path("support"), n.reject("")) : e.initSceneMeta(a)
				}]
			}
		}).otherwise({
			redirectTo: "/support"
		})
	}
	n.$inject = ["$routeProvider", "$locationProvider"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = t.$get(),
		i = "application/x-www-form-urlencoded";
		e.defaults.withCredentials = !0,
		e.defaults.headers.post["Content-Type"] = i,
		e.defaults.transformRequest.unshift(function(e, t) {
			return t("content-type") == i ? n(e) : e
		})
	}
	n.$inject = ["$httpProvider", "$httpParamSerializerProvider"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e.httpOptions({
			_isTemplate: !0
		}),
		t.decorator("$templateCache", ["$delegate",
		function(e) {
			var t = e.get;
			return e.get = function(e) {
				var n;
				if (n = t(e), !n) throw new Error("Wrong Template URL " + e);
				return n
			},
			e
		}])
	}
	n.$inject = ["$templateRequestProvider", "$provide"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			response: function(t) {
				if (t.config._isTemplate) return t;
				if (t.data.constructor === Object) {
					var n = t.data;
					if ("list" in n && (n.list = n.list || []), n.success === !1) return n.msg = n.msg || "无错误信息",
					n.code = n.code || 500,
					e.reject(t)
				}
				return t
			},
			responseError: function(t) {
				return null === t.data && (t.data = {
					success: !1,
					code: 500,
					msg: "服务器未响应"
				}),
				e.reject(t)
			}
		}
	}
	n.$inject = ["$q"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o(t) {
			return n.pushRetryFn(function() {
				return e.get("$http")(t.config)
			},
			"unauthorized-server")
		}
		return {
			response: function(e) {
				var t = e.data.code;
				return 1001 == t || 1002 == t ? o(e) : e
			},
			responseError: function(e) {
				return 401 === e.status ? o(e) : (403 === e.status && (alert("对不起，您没有查看此内容的权限"), i.path("/home")), t.reject(e))
			}
		}
	}
	n.$inject = ["$injector", "$q", "securityRetryQueue", "$location"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			e.loading && t.show()
		}
		function i(e) {
			e.config.loading && t.hide()
		}
		return {
			request: function(e) {
				return n(e),
				e
			},
			responseError: function(t) {
				return i(t),
				e.reject(t)
			},
			response: function(e) {
				return i(e),
				e
			}
		}
	}
	n.$inject = ["$q", "loadingService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n(e) {
			return JSON.parse(JSON.stringify(e))
		}
		function i(e) {
			var i = e.config.url;
			if (o(i) || a(i)) {
				var r = t.get("userService"),
				s = t.get("clientReportService");
				console.log("=== addSceneReport");
				var c = n(r.getCurrentUser()),
				l = n(e.config);
				delete l.withCredentials,
				delete l.headers,
				delete l.transformResponse,
				delete l.transformRequest;
				var p = {
					type: "h5editor.sceneDataError",
					priority: 10,
					content: "编辑器场景数据异常",
					ext: {
						user: c,
						ua: window.navigator.userAgent,
						href: window.location.href,
						httpReq: l
					}
				},
				d = n(e.data);
				o(i) && d.list.forEach(function(e) {
					delete e.elements
				}),
				p.ext.httpRes = d,
				s.add(p)
			}
		}
		var o = function(e) {
			return e.indexOf("m/scene/pages/") > -1
		},
		a = function(e) {
			return e.indexOf("m/scene/detail/") > -1
		};
		return {
			response: function(e) {
				return i(e),
				e
			},
			responseError: function(t) {
				return i(t),
				e.reject(t)
			}
		}
	}
	n.$inject = ["$q", "$injector"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = t.PAY_HOST,
		i = n.length;
		"/" === n[i - 1] && (n = n.slice(0, i - 1)),
		e.setConfig({
			host: n
		})
	}
	n.$inject = ["eqxNgPayProvider", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e() {
			$("#loading").show(),
			n++
		}
		function t() {
			n--,
			n || $("#loading").hide()
		}
		var n = 1;
		return {
			show: e,
			hide: t
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	n(345);
	var i = n(119),
	o = [n(348), n(493), n(508), n(680), n(705), n(714), n(766), n(774)];
	i.DEBUG || o.push(n(809)),
	e.exports = angular.module("app.scene", o).directive("editorScene", ["loadingService", "$timeout", "authorityService", "sceneService", "$route", "orderAPI", "$rootScope", "$location", "$q",
	function(e, t, i, o, a, r, s, c, l) {
		"ngInject";
		var p = i.permission("disablePsd"),
		d = n(812);
		return p && (d = d.replace(/<eqx-psd-loading.*><\/eqx-psd-loading>/, "")),
		{
			restrict: "EA",
			template: d,
			link: function() {
				t(function() {
					function n() {
						var e = a.current.params,
						t = e.sceneId,
						n = e.i;
						return o.initScene(parseInt(t), parseInt(n) || 1)
					}
					l.all([n()]).then(function() {
						s.$broadcast("eqxScene.ready"),
						t(function() {
							e.hide()
						},
						500)
					})
				})
			}
		}
	}]).name
},
function(e, t) {},
, ,
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.workspace", [n(349), n(363), n(413), n(419), n(424), n(429), n(453), n(458)]).factory("compService", n(462)).factory("disableService", n(463)).factory("selectService", n(464)).factory("copyService", n(465)).factory("copyAnimService", n(466)).factory("workspaceService", n(467)).factory("warnService", n(468)).factory("zoomService", n(469)).directive("eqxWorkspace", n(470)).directive("eqxWsScroll", n(474)).directive("eqxSelectBox", n(475)).directive("compClick", n(477)).directive("compDrag", n(478)).directive("imageSize", n(479)).directive("panelDraggable", n(480)).directive("eqxKeymap", n(481)).directive("eqxWsPhone", n(482)).directive("disableContextMenu", n(486)).directive("eqxThumbnail", n(487)).directive("eqxSettingTpl", n(490)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.resize", []).directive("compResize", n(350)).directive("compRotate", n(362)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		function o(n, o, g) {
			function m() {
				o.find(".resizable.circle").toArray().forEach(function(e, t) {
					var n = $(e);
					u(n, y) && h(v, n, t)
				}),
				o.find(".resizable.line").toArray().forEach(function(e, t) {
					var n = $(e);
					u(n, y) && h(v, n, t, !0)
				})
			}
			function f(e) {
				var t = {
					".line-n": [".circle-nw", ".circle-ne"],
					".line-e": [".circle-ne", ".circle-se"],
					".line-s": [".circle-se", ".circle-sw"],
					".line-w": [".circle-sw", ".circle-nw"]
				};
				o.find(".resizable.circle").css({
					"z-index": ""
				}),
				o.find(".resizable.line").css({
					"z-index": ""
				});
				var n = Object.keys(t).find(function(t) {
					return e.is(t)
				});
				n && t[n].forEach(function(e) {
					return $(e).css({
						"z-index": parseInt($(e).css("zIndex") + 1)
					})
				}),
				e.css({
					"z-index": parseInt(e.css("z-index")) + 1
				})
			}
			function h(t, i, o, d) {
				i.on("mousedown.compResize",
				function(u) {
					u.stopPropagation(),
					f(i);
					var g = t.$li,
					m = t.compJson.css,
					h = l.parseTransform(m.transform).rotate,
					v = new r(m.left, m.top, m.width, m.height),
					y = v.rotate2(h),
					b = y.nw,
					C = y.ne,
					T = y.se,
					$ = y.sw;
					x = new c(b, C),
					w = new c(C, T),
					S = new c(T, $),
					k = new c(b, $);
					var q = ["nw", "ne", "se", "sw"],
					I = y[q[o]],
					E = q[(o + 2) % 4],
					P = y[E],
					A = new c(P, y[q[(o + 3) % 4]]),
					j = A.whichSide(I),
					L = new a(I),
					M = new a(u.pageX, u.pageY),
					O = null,
					F = {};
					p.on("mousemove.compResize",
					function(i) {
						O = new a(i.pageX, i.pageY);
						var o = M.offset(O);
						L.x = I.x + o.x,
						L.y = I.y + o.y;
						var r = A.whichSide(L),
						c = x.distanceTo(L),
						l = w.distanceTo(L),
						p = S.distanceTo(L),
						u = k.distanceTo(L),
						f = null,
						v = null,
						y = 0 != j && j * r <= 0 || 0 == j && r < 0,
						b = 1;
						switch (E) {
						case "nw":
							v = c,
							(y || v < b) && (v = b),
							f = d ? m.width: m.width / m.height * v;
							break;
						case "ne":
							d ? (v = m.height, f = l, (y || f < b) && (f = b)) : (v = c, (y || v < b) && (v = b), f = m.width / m.height * v);
							break;
						case "se":
							v = p,
							(y || v < b) && (v = b),
							f = d ? m.width: m.width / m.height * v;
							break;
						case "sw":
							d ? (v = m.height, f = u, (y || f < b) && (f = b)) : (v = p, (y || v < b) && (v = b), f = m.width / m.height * v);
							break;
						default:
							console.error("invalid vertex")
						}
						var C = Math.round(v),
						T = Math.round(f),
						$ = s(E, P, f, v, h);
						F = {
							left: Math.round($.x),
							top: Math.round($.y),
							width: T,
							height: C
						},
						g.css(F),
						n.$apply(function() {
							e.$broadcast("compResize.move", t, m, F)
						})
					}),
					p.on("mouseup.compResize",
					function() {
						p.off(".compResize"),
						g.css(F),
						n.$apply(function() {
							e.$broadcast("compResize.move", t, m, F),
							e.$broadcast("compResize.end", t, F)
						})
					})
				}),
				i.on("$destroy",
				function() {
					i.unbind(".compResize")
				})
			}
			var v = t.getCompById(g.compId);
			if (v && !v.$compResize) {
				n.comp = v,
				v.$compResize = !0,
				n.accessResizeRotate = i.permission("resizeRotate");
				var y = n.show = d(g.compResize || ""),
				b = v.$li;
				b.css({
					position: "absolute"
				}),
				o.on("$destroy",
				function() {
					v.$compResize = !1,
					b.css({
						position: ""
					})
				});
				var x, w, S, k;
				m()
			}
		}
		var p = $(document);
		return {
			template: n(361),
			restrict: "EA",
			scope: {},
			link: o,
			replace: !0
		}
	}
	i.$inject = ["$rootScope", "compService", "authorityService"],
	n(351);
	var o = n(353),
	a = o.Point,
	r = o.Rect,
	s = o.fixedPointToNW,
	c = o.Line,
	l = n(358),
	p = n(359),
	d = p.getResizeShowMap,
	u = p.isEnabled;
	e.exports = i
},
function(e, t) {},
,
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, o) {
		var a = c(n, i) / 2,
		u = m(l(i / n)),
		f = g(u + o),
		h = g(u - o),
		v = a * d(f),
		y = a * p(f),
		b = a * d(h),
		x = a * p(h);
		switch (e) {
		case "nw":
			var w = t.x + v,
			S = t.y + y;
			return new r(s(w - n / 2), s(S - i / 2));
		case "se":
			return w = t.x - v,
			S = t.y - y,
			new r(s(w - n / 2), s(S - i / 2));
		case "ne":
			return w = t.x - b,
			S = t.y + x,
			new r(s(w - n / 2), s(S - i / 2));
		case "sw":
			return w = t.x + b,
			S = t.y - x,
			new r(s(w - n / 2), s(S - i / 2))
		}
	}
	var o = n(354),
	a = n(357),
	r = n(355),
	s = n(200).toInt,
	c = Math.hypot,
	l = Math.atan,
	p = Math.sin,
	d = Math.cos,
	u = n(356),
	g = u.deg2arc,
	m = u.arc2deg;
	e.exports = {
		Point: r,
		Line: a,
		Rect: o,
		fixedPointToNW: i
	}
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(355),
	r = n(200).toInt,
	s = Math.abs,
	c = Math.hypot,
	l = Math.atan,
	p = Math.sin,
	d = Math.cos,
	u = n(356),
	g = u.deg2arc,
	m = u.arc2deg,
	f = function() {
		function e() {
			i(this, e);
			for (var t = arguments.length,
			n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
			switch (n.length) {
			case 1:
				var r = new a(n[0].p1),
				s = new a(n[0].p2);
				break;
			case 2:
				r = new a(n[0]),
				s = new a(n[1]);
				break;
			case 3:
				r = new a(n[0]),
				s = new a(r.x + n[1], r.y + n[2]);
				break;
			case 4:
				r = new a(n[0], n[1]),
				s = new a(r.x + n[2], r.y + n[3]);
				break;
			default:
				throw new Error("Invalid args for Rect")
			}
			var c = r.x,
			l = s.x,
			p = r.y,
			d = s.y;
			if (c > l || p > d) {
				if (c > l) {
					var u = [l, c];
					c = u[0],
					l = u[1]
				}
				if (p > d) {
					var g = [d, p];
					p = g[0],
					d = g[1]
				}
				r = new a(c, p),
				s = new a(l, d)
			}
			this.p1 = r,
			this.p2 = s,
			this.width = s.x - r.x,
			this.height = s.y - r.y
		}
		return o(e, [{
			key: "toString",
			value: function() {
				return "p1: " + this.p1 + " p2: " + this.p2 + " w: " + this.width + " h: " + this.height + " center: " + this.center()
			}
		},
		{
			key: "contains",
			value: function(t) {
				return t instanceof a ? this.containsPoint(t) : t instanceof e && this.containsRect(t)
			}
		},
		{
			key: "move",
			value: function(e, t) {
				this.p1.x += e,
				this.p2.x += e,
				this.p1.y += t,
				this.p2.y += t
			}
		},
		{
			key: "moveX",
			value: function(e) {
				this.move(e, 0)
			}
		},
		{
			key: "moveY",
			value: function(e) {
				this.move(0, e)
			}
		},
		{
			key: "containsPoint",
			value: function(e) {
				return e.x >= this.p1.x && e.x <= this.p2.x && e.y >= this.p1.y && e.y <= this.p2.y
			}
		},
		{
			key: "containsRect",
			value: function(e) {
				return this.containsPoint(e.p1) && this.containsPoint(e.p2)
			}
		},
		{
			key: "center",
			value: function() {
				var e = (this.p1.x + this.p2.x) / 2,
				t = (this.p1.y + this.p2.y) / 2;
				return new a(e, t)
			}
		},
		{
			key: "rotate",
			value: function(t) {
				var n = this.width,
				i = this.height,
				o = this.center(),
				u = o.x,
				f = o.y,
				h = c(n, i),
				v = m(l(i / n)),
				y = g(v + t),
				b = g(v - t),
				x = s(h * d(y) / 2),
				w = s(h * p(y) / 2),
				S = s(h * d(b) / 2),
				k = s(h * p(b) / 2),
				C = function(e, t) {
					return e - t
				},
				T = [x, S].reduce(function(e, t) {
					return e.concat(u + t, u - t)
				},
				[]).sort(C),
				$ = [w, k].reduce(function(e, t) {
					return e.concat(f + t, f - t)
				},
				[]).sort(C),
				q = new a(r(T[0]), r($[0])),
				I = new a(r(T[T.length - 1]), r($[$.length - 1]));
				return new e(q, I)
			}
		},
		{
			key: "rotate2",
			value: function(e) {
				var t = this.width,
				n = this.height,
				i = this.center(),
				o = i.x,
				s = i.y,
				u = c(t, n),
				f = m(l(n / t)),
				h = g(f + e),
				v = g(f - e),
				y = u * d(h) / 2,
				b = u * p(h) / 2,
				x = u * d(v) / 2,
				w = u * p(v) / 2;
				return {
					nw: new a(r(o - y), r(s - b)),
					ne: new a(r(o + x), r(s - w)),
					se: new a(r(o + y), r(s + b)),
					sw: new a(r(o - x), r(s + w))
				}
			}
		}], [{
			key: "getContainingRect",
			value: function(t) {
				var n = Number.MAX_VALUE,
				i = Number.MAX_VALUE,
				o = Number.MIN_VALUE,
				r = Number.MIN_VALUE,
				s = [];
				return t.forEach(function(t) {
					t instanceof e && s.push(t.p1, t.p2),
					t instanceof a && s.push(t)
				}),
				s.forEach(function(e) {
					var t = e.x,
					a = e.y;
					t < n && (n = t),
					t > o && (o = t),
					a < i && (i = a),
					a > r && (r = a)
				}),
				new e(new a(n, i), new a(o, r))
			}
		}]),
		e
	} ();
	e.exports = f
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(354),
	r = function() {
		function e() {
			i(this, e);
			for (var t = arguments.length,
			n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
			if (1 == n.length) {
				var a = n[0];
				this.x = a.x,
				this.y = a.y
			} else {
				if (2 != n.length) throw new(Function.prototype.bind.apply(Error, [null].concat(["Invalid args for Point"], n)));
				this.x = n[0],
				this.y = n[1]
			}
		}
		return o(e, [{
			key: "toString",
			value: function() {
				return "(" + this.x + ", " + this.y + ")"
			}
		},
		{
			key: "moveX",
			value: function(e) {
				return this.move(e, 0)
			}
		},
		{
			key: "moveY",
			value: function(e) {
				return this.move(0, e)
			}
		},
		{
			key: "move",
			value: function(e, t) {
				return this.x += e,
				this.y += t,
				this
			}
		},
		{
			key: "offset",
			value: function(t) {
				return new e(t.x - this.x, t.y - this.y)
			}
		},
		{
			key: "update",
			value: function(e, t) {
				this.x = e,
				this.y = t
			}
		},
		{
			key: "equals",
			value: function(e) {
				return this.x === e.x && this.y === e.y
			}
		},
		{
			key: "between",
			value: function(e, t) {
				return new a(e, t).contains(this)
			}
		},
		{
			key: "inRect",
			value: function(e) {
				return e.contains(this)
			}
		}]),
		e
	} ();
	e.exports = r
},
function(e, t) {
	"use strict";
	function n(e) {
		return e / 180 * Math.PI
	}
	function i(e) {
		return 180 * e / Math.PI
	}
	e.exports = {
		deg2arc: n,
		arc2deg: i
	}
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var o = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	a = n(355),
	r = Math.abs,
	s = Math.sqrt,
	c = function() {
		function e() {
			i(this, e);
			for (var t = arguments.length,
			n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
			switch (n.length) {
			case 2:
				var a = n[0],
				r = a.x,
				s = a.y,
				c = n[1],
				l = c.x,
				p = c.y;
				this.A = s - p,
				this.B = l - r,
				this.C = r * p - l * s;
				break;
			case 3:
				var d = n[0],
				u = n[1],
				g = n[2];
				this.A = d,
				this.B = u,
				this.C = g;
				break;
			default:
				throw new Error("invalid args for Line")
			}
		}
		return o(e, [{
			key: "distanceTo",
			value: function(t) {
				var n = s(this.A * this.A + this.B * this.B);
				if (t instanceof a) return r(this.A * t.x + this.B * t.y + this.C) / n;
				if (t instanceof e) return r(this.C - t.C) / n;
				throw new Error("unknown geo type")
			}
		},
		{
			key: "whichSide",
			value: function(e) {
				return this.A * e.x + this.B * e.y + this.C
			}
		}]),
		e
	} ();
	e.exports = c
},
function(e, t, n) {
	"use strict";
	function i() {
		var e = arguments.length <= 0 || void 0 === arguments[0] ? "": arguments[0],
		t = {};
		return e = e.replace(p,
		function(e, n) {
			return t.rotate = g(n)
		}),
		e = e.replace(d,
		function(e, n, i) {
			return t.scale = {
				x: g(n),
				y: g(i)
			}
		}),
		e.replace(u,
		function(e, n, i, o) {
			return t.translate3d = {
				x: g(n),
				y: g(i),
				z: g(o)
			}
		}),
		t
	}
	function o(e) {
		return void 0 !== e ? "rotateZ(" + e + "deg)": ""
	}
	function a(e) {
		if (e) {
			var t = e.x,
			n = void 0 === t ? 1 : t,
			i = e.y,
			o = void 0 === i ? 1 : i;
			return "scale(" + n + ", " + o + ")"
		}
		return ""
	}
	function r(e) {
		if (e) {
			var t = e.x,
			n = void 0 === t ? 0 : t,
			i = e.y,
			o = void 0 === i ? 0 : i,
			a = e.z,
			r = void 0 === a ? 0 : a;
			return "translate3d(" + n + "px, " + o + "px, " + r + "px)"
		}
		return ""
	}
	function s(e) {
		var t = [r(e.translate3d), o(e.rotate), a(e.scale)].join(" ");
		return c(t)
	}
	function c(e) {
		return e.trim().replace(/\s{2,}/, " ")
	}
	function l(e, t) {
		var n = i(e),
		o = Object.assign({},
		n, t);
		return s(o)
	}
	var p = /rotateZ\((-?\d*\.?\d*)deg\)/,
	d = /scale\((-?\d+),\s?(\d+)\)/,
	u = /translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),\s?(-?\d*(?:px)?)\)/,
	g = n(200).toInt;
	e.exports = {
		rotateReg: p,
		scaleReg: d,
		translate3dReg: u,
		parseTransform: i,
		getRotateStr: o,
		getScaleStr: a,
		getTranslate3dStr: r,
		getTransformStr: s,
		trimTransformStr: c,
		updateTransformStr: l
	}
},
function(e, t, n) {
	"use strict";
	function i(e) {
		var t = {};
		return e.split(",").forEach(function(e) {
			return e ? t[e] = !0 : void 0
		}),
		t
	}
	function o(e) {
		var t = [".line-n", ".circle-ne", ".line-e", ".circle-se", ".line-s", ".circle-sw", ".line-w", ".circle-nw"],
		n = t.find(function(t) {
			return e.is(t)
		});
		if (n) return /-(\w+)$/.exec(n)[1]
	}
	function a(e, t) {
		var n = o(e);
		return !! n && t[n]
	}
	function r(e, t, n) {
		var i = l.parseTransform(t[0].style.transform).rotate,
		o = e.find(".line.resizable").toArray(),
		r = e.find(".circle.resizable").toArray(),
		s = parseInt((i + 45 + 360) / 90 % 2);
		c(o, s).forEach(function(e, t) {
			var i = $(e);
			a(i, n) && i.css("cursor", t % 2 ? "ew-resize": "ns-resize")
		}),
		c(r, s).forEach(function(e, t) {
			var i = $(e);
			a(i, n) && i.css("cursor", t % 2 ? "nesw-resize": "nwse-resize")
		})
	}
	function s(e, t) {
		var n = t.x - e.x,
		i = t.y - e.y,
		o = Math.abs(n / i),
		a = Math.atan(o) / (2 * Math.PI) * 360;
		return n > 0 && i < 0 ? a = 360 + a: n > 0 && i > 0 ? a = 180 - a: n < 0 && i > 0 ? a = 180 + a: n < 0 && i < 0 && (a = 360 - a),
		a > 360 && (a -= 360),
		p(a)
	}
	var c = n(360).rotateArray,
	l = n(358),
	p = n(200).toInt;
	e.exports = {
		getResizeShowMap: i,
		updateCursor: r,
		calAngle: s,
		isEnabled: a,
		getBarDir: o
	}
},
function(e, t) {
	"use strict";
	function n(e, t) {
		if (t > 0) for (; t > 0;) {
			var n = e.pop();
			e.unshift(n),
			t -= 1
		} else for (; t < 0;) n = e.shift(),
		e.push(n),
		t += 1;
		return e
	}
	e.exports = {
		rotateArray: n
	}
},
function(e, t) {
	e.exports = '<div class=eqc-select ng-show=comp.$$resize><div class=rotate-circle ng-show="show.r && !accessResizeRotate"></div><div class=rotate-line ng-show="show.r && !accessResizeRotate"></div><div class="bar bar-m-line"></div><div class="line-n line resizable"><div class=circle ng-show=show.n></div></div><div class="line-e line resizable"><div class=circle ng-show=show.e></div></div><div class="line-s line resizable"><div class=circle ng-show=show.s></div></div><div class="line-w line resizable"><div class=circle ng-show=show.w></div></div><div class="circle-nw circle resizable" ng-show=show.nw></div><div class="circle-ne circle resizable" ng-show=show.ne></div><div class="circle-se circle resizable" ng-show=show.se></div><div class="circle-sw circle resizable" ng-show=show.sw></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function n(n, r, p) {
			var d = t.getCompById(p.compRotate);
			if (d) {
				var u = d.$li,
				g = r.find(".rotate-circle");
				g.on("$destroy",
				function() {
					g.off(".compRotate")
				});
				var m = n.show = l(p.compResize || "");
				s(r, u, m),

				n.$on("compSetting.rotate",
				function(e, t) {
					t === d && s(r, u, m)
				}),
				g.on("mousedown.compRotate",
				function(t) {
					t.stopPropagation();
					var n = d.eqxScene.$ele,
					l = n.offset(),
					p = new o(t.pageX, t.pageY),
					g = new o(p.x, p.y),
					f = d.compJson.css,
					h = new o(l.left + f.left + f.width / 2, l.top + f.top + f.height / 2),
					v = c(h, p),
					y = c(h, g),
					b = a.parseTransform(d.$li[0].style.transform).rotate,
					x = b,
					w = r.find(".bar-m-line");
					i.on("mousemove.compRotate",
					function(t) {
						g = new o(t.pageX, t.pageY),
						y = c(h, g);
						var n = y - v,
						i = (b + n + 360) % 360;
						x = "rotateZ(" + i + "deg)",
						u.css({
							transform: x
						}),
						e.$broadcast("compRotate.move", d, x),
						i < 1 || i > 359 ? w.show() : w.hide()
					}),
					i.on("mouseup.compRotate",
					function() {
						i.unbind(".compRotate"),
						s(r, u, m),
						e.$broadcast("compRotate.move", d, x),
						e.$broadcast("compRotate.end", d, x),
						w.hide()
					})
				})
			}
		}
		var i = $(document);
		return {
			link: n
		}
	}
	i.$inject = ["$rootScope", "compService"];
	var o = n(355),
	a = n(358),
	r = n(359),
	s = r.updateCursor,
	c = r.calAngle,
	l = r.getResizeShowMap;
	e.exports = i
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.compSetting", [n(364), n(367), n(398)]).directive("eqxCompSetting", n(408)).directive("limitInput",
	function() {
		return {
			require: "ngModel",
			link: function(e, t, n, i) {
				e.$watch(function() {
					return $(t).val()
				},
				function(e) {
					Math.abs(e) > n.max && (i.$setViewValue(n.max), i.$render()),
					Math.abs(e) < n.min && (i.$setViewValue(n.min), i.$render())
				})
			}
		}
	}).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("compSetting.anim", []).directive("compSettingAnim", n(365)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {
				comp: "=eqxComp",
				confirm: "&"
			},
			template: n(366),
			controller: ["$scope", "$timeout", "modalService", "musicModal", "authorityService",
			function(e, t, n, i, o) {
				"ngInject";
				function a(e) {
					var t = l[e],
					n = 4;
					i.open(t.sound, n).then(function(e) {
						if (e.id && e.name && (e.path || e.url)) {
							var n = e.id,
							i = e.name,
							o = e.path || e.url;
							t.sound = {
								id: n,
								name: i,
								path: o
							}
						} else delete t.sound
					})
				}
				var r = e.comp,
				s = e.ANIMATIONS = [{
					type: -1,
					name: "无"
				},
				{
					type: 0,
					name: "淡入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 1,
					name: "移入",
					cat: "进入",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 2,
					name: "弹入",
					cat: "进入",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 20,
					name: "翻转进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 3,
					name: "中心弹入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 4,
					name: "中心放大",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 12,
					name: "翻滚进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 24,
					name: "翻开进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 13,
					name: "光速进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 26,
					name: "魔幻进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 27,
					name: "缩小进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 31,
					name: "旋转进入",
					cat: "进入",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 6,
					name: "摇摆",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 5,
					name: "抖动",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 7,
					name: "旋转",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					linear: !0,
					sound: !0
				},
				{
					type: 8,
					name: "翻转",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 9,
					name: "悬摆",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 23,
					name: "闪烁",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 29,
					name: "下滑",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 30,
					name: "上滑",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 21,
					name: "放大抖动",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 22,
					name: "倾斜摆动",
					cat: "强调",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 10,
					name: "淡出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 17,
					name: "移出",
					cat: "退出",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 19,
					name: "弹出",
					cat: "退出",
					direction: !0,
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 11,
					name: "翻转消失",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 14,
					name: "中心消失",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 18,
					name: "中心缩小",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 15,
					name: "翻滚退出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 25,
					name: "翻开消失",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 16,
					name: "光速退出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				},
				{
					type: 28,
					name: "放大退出",
					cat: "退出",
					duration: !0,
					delay: !0,
					countNum: !0,
					count: !0,
					sound: !0
				}];
				o.permission("animationTyper") || s.push({
					type: "typer",
					name: "文本: 打字机",
					cat: "特殊",
					interval: !0,
					delay: !0,
					sound: !0
				}),
				e.DIRECTIONS = [{
					type: 0,
					name: "从左向右"
				},
				{
					type: 1,
					name: "从上到下"
				},
				{
					type: 2,
					name: "从右向左"
				},
				{
					type: 3,
					name: "从下到上"
				}];
				var c = r.compJson,
				l = e.anims = c.properties.anim;
				l.forEach(function(e) {
					e.$show = !0
				}),
				e.showFeature = function(e, t) {
					return !! s.find(function(t) {
						return t.type === e
					})[t]
				},
				e.checkboxValue = {
					"true": 1,
					"false": 0
				},
				e.toggleCount = function(e) {
					e.count = !e.count
				},
				e.removeAnim = function(e) {
					l.splice(e, 1)
				},
				e.onAnimTypeChange = function(t) {
					"typer" === e.anims[t].type && 2 != c.type ? (n.openMsgDialog({
						msg: "当前选择仅适用于文本组件!"
					}), e.removeAnim(t)) : e.previewAnim(t)
				},
				e.addAnim = function() {
					o.permission("styleAnimationOnly") ? l.length < 1 && l.push({
						type: -1,
						direction: 0,
						duration: 2,
						delay: 0,
						countNum: 1,
						interval: 0,
						count: 0,
						$show: !0
					}) : l.push({
						type: -1,
						direction: 0,
						duration: 2,
						delay: 0,
						countNum: 1,
						interval: 0,
						count: 0,
						$show: !0
					})
				},
				e.previewAnim = function(e) {
					r.stopAnimation(),
					t(function() {
						return r.startAnimation({
							index: e,
							reset: !0,
							maxCount: 1
						})
					},
					0)
				},
				e.removeInvalidAnim = function() {
					l = e.anims = c.properties.anim = l.filter(function(e) {
						return e.type !== -1
					})
				},
				e.clear = function() {
					r.stopAnimation(),
					l.length = []
				},
				e.$on("$destroy",
				function() {
					e.removeInvalidAnim()
				}),
				e.confirmAnim = function() {
					e.removeInvalidAnim(),
					e.confirm()
				},
				e.chooseSound = a
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div><div style=height:430px><div style=height:100% eqd-scroll><div class=anim_area><div class=anim-panels style=padding-top:10px ng-if=anims.length><section ng-repeat="anim in anims"><div class="style_list pr20 pl20 border-bottom" ng-click="anim.$show = !anim.$show"><em>动画</em>&nbsp;{{$index+1}}<div class="animation-opera fr"><span title=删除此动画 class=eqf-wrong style=margin-right:10px ng-click=removeAnim($index)></span> <b class=caret ng-class="{\'off\': anim.$show}"></b></div></div><div class="pl20 pr20" style=background-color:#fff ng-show=anim.$show><div class="style_list_angel clearfix"><label>方式</label><div class="flo_lef touming"><select style="width:100px;border:1px solid #C9C9C9" ng-model=anim.type ng-change=onAnimTypeChange($index) ng-options="temp.type as temp.name group by temp.cat for temp in ANIMATIONS"><option value=-1>无</option></select></div></div><div class="style_list_angel clearfix" ng-show="showFeature(anim.type, \'linear\')"><label>速度</label><div class="clearfix touming"><div class=num style=text-align:right;margin-top:4px><input type=checkbox name=linear title=linear ng-model=anim.linear ng-true-value=1 ng-false-value=0 style=margin-right:2px;margin-top:0> <em>匀速</em></div></div></div><div class="style_list_angel clearfix" ng-show="showFeature(anim.type, \'direction\')"><label>方向</label><div class="flo_lef touoming"><select style="width:100px;border:1px solid #C9C9C9" ng-model=anim.direction ng-options="dir.type as dir.name for dir in DIRECTIONS"></select></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'duration\')"><label>时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 limit-input ng-model=anim.duration /></p><div class=slider ui-slider-t ng-model=anim.duration fixed=1 min=0 max=20></div></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'interval\')"><label>间隔时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 limit-input ng-model=anim.interval onfocus=this.select() /></p><div class=slider ui-slider-t ng-model=anim.interval fixed=1 min=0 max=20></div></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'delay\')"><label>延迟</label><div class="touming clearfix"><p class=num><input class="form-control input_kuang short" type=number step=0.1 min=0 max=20 limit-input ng-model=anim.delay /></p><div class=slider ui-slider-t ng-model=anim.delay fixed=1 min=0 max=20></div></div></div><div class=style_list_angel ng-show="showFeature(anim.type, \'countNum\')"><label>次数</label><div class="touming clearfix"><p class=num style=float:left;margin-right:10px><input ng-disabled=anim.count limit-input class="form-control input_kuang short" type=number min=1 max=10 limit-input ng-model=anim.countNum /></p><div class=checkbox-square style=margin-left:50px ng-class="{checked: anim.count}"><em class=eqf-yes2></em> <input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=anim.count></div><em ng-click=toggleCount(anim)>循环</em></div></div><div class=style_list_angel ng-if=false><label>伴随音效</label><div class="touming clearfix"><div style=padding-top:4px;cursor:pointer ng-click=chooseSound($index) ng-bind="anim.sound.name || \'选择音效\'"></div></div></div></div></section></div><div class=add-anim><a class="btn btn-sm green mr20" style=float:left ng-click=addAnim()><span class=eqf-plus2></span>添加动画</a> <a class="btn btn-sm blue" ng-click=previewAnim()><span class=eqf-play2></span>预览动画</a></div></div></div></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirmAnim()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除动画</a></div></div>';
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("compSetting.style", [n(368), n(375)]).directive("compSettingStyle", n(379)).directive("compSettingBorder", n(382)).directive("compSettingBoxShadow", n(384)).directive("compSettingComment", n(386)).directive("compSettingMap", n(388)).directive("compSettingWx", n(390)).directive("compSettingShapeColor", n(392)).directive("compSettingDropDown", n(394)).directive("fillCompStyle", n(396)).name
},
function(e, t, n) {
	"use strict";
	n(369);
	var i = n(370),
	o = n(374);
	e.exports = angular.module("compSetting.style.chart", []).directive("compSettingChart", i).directive("legendStyle", o).name
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i() {
		"ngInject";
		return {
			restrict: "E",
			template: n(373),
			controller: o
		}
	}
	var o = n(371);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function o(t) {
			var n = d.options;
			n.scaleFontColor = t.options.scaleFontColor,
			n.onAnimationComplete = function() {
				var e = this.chart.ctx,
				n = this.segments;
				e.textAlign = "start",
				e.textBaseline = "middle";
				for (var i = 0,
				o = 0; o < n.length; o++) i += parseFloat(n[o].value);
				for (e.fillText(i, e.width / 2 - 20, e.height / 2, 100), o = 0; o < n.length; o++) {
					var a = n[o].startAngle + (n[o].endAngle - n[o].startAngle) / 2,
					r = (n[o].outerRadius - n[o].innerRadius) / 1.5 + n[o].innerRadius,
					s = n[o].x + Math.cos(a) * r,
					c = n[o].y + Math.sin(a) * r;
					e.textAlign = "center",
					e.textBaseline = "middle",
					e.fillStyle = t.options.scaleFontColor,
					e.font = "normal 12px Helvetica",
					e.fillText(n[o].value, s, c)
				}
			},
			d.destroy(),
			d = new Chart(e.ctx).Pie(t.segments, n),
			p.data("pieChart", d)
		}
		function a(e, t) {
			if (e.sectorNum !== t.sectorNum) {
				var n = 0;
				if (e.sectorNum > t.sectorNum) {
					n = e.sectorNum - t.sectorNum;
					for (var i = 0; i < n; i++) {
						var a = Math.floor(100 * Math.random() + 10);
						d.addData({
							label: "扇区" + (parseInt(t.sectorNum, 10) + i + 1),
							value: a,
							color: e.colors[parseInt(t.sectorNum, 10) + i]
						}),
						e.segments.push({
							label: "扇区" + (parseInt(t.sectorNum, 10) + i + 1),
							value: a,
							color: e.colors[parseInt(t.sectorNum, 10) + i]
						})
					}
				} else for (n = t.sectorNum - e.sectorNum, e.segments = e.segments.slice(0, e.sectorNum), i = 0; i < n; i++) d.removeData(d.segments.length - 1)
			} else if (e.options.scaleFontColor !== t.options.scaleFontColor) o(e);
			else {
				for (var r = 0,
				s = d.segments.length; r < s; r++) d.segments[r].label = e.segments[r].label,
				isNaN(e.segments[r].value) || e.segments[r].value < 0 ? d.segments[r].value = "": d.segments[r].value = e.segments[r].value,
				d.segments[r].fillColor = jQuery.Color(e.segments[r].color).toString(),
				d.segments[r].highlightColor = jQuery.Color(e.segments[r].color).toString();
				d.update(),
				l.find("#legend-" + c.id).html(d.generateLegend())
			}
			c.properties.pieChart = e,
			c.properties.pieChart.options = d.options
		}
		function r(t) {
			for (var n, i = [], o = [], a = [], r = [], s = "", d = "", g = "", m = 0; m < t.segments.length; m++) n = t.segments[m],
			s = isNaN(n.value1) || n.value1 < 0 ? "": n.value1,
			d = isNaN(n.value2) || n.value2 < 0 ? "": n.value2,
			g = isNaN(n.value3) || n.value3 < 0 ? "": n.value3,
			(n.label || s || d || g) && (r.push(n.label), i.push(s), o.push(d), a.push(g));
			var f = {
				labels: r,
				datasets: [{
					fillColor: t.fillColors[0],
					strokeColor: "rgba(0,0,0,0)",
					data: i,
					label: t.lengends[0]
				},
				{
					fillColor: t.fillColors[1],
					strokeColor: "rgba(0,0,0,0)",
					data: o,
					label: t.lengends[1]
				},
				{
					fillColor: t.fillColors[2],
					strokeColor: "rgba(0,0,0,0)",
					data: a,
					label: t.lengends[2]
				}]
			};
			u.destroy(),
			u = new Chart(e.ctx).Bar(f, t.options),
			l.find("#legend-" + c.id).html(u.generateLegend()),
			c.properties.barChart = t,
			c.properties.barChart.options = u.options,
			p.data("barChart", u),
			e.comp.barChart = u
		}
		function s(t) {
			var n, i = [],
			o = [],
			a = [],
			r = [],
			s = "",
			d = "",
			u = "",
			m = [],
			f = [];
			g.datasets.forEach(function(e) {
				m.push(e.strokeColor),
				f.push(e.fillColor)
			});
			for (var h = 0; h < t.lengends.length; h++)"" + e.charts.chartType == "line" ? m[h] = t.fillColors[h] : f[h] = t.fillColors[h];
			for (var v = 0; v < t.segments.length; v++) n = t.segments[v],
			s = isNaN(n.value1) || n.value1 < 0 ? 0 : n.value1,
			d = isNaN(n.value2) || n.value2 < 0 ? 0 : n.value2,
			u = isNaN(n.value3) || n.value3 < 0 ? 0 : n.value3,
			(n.label || s || d || u) && (r.push(n.label), i.push(s), o.push(d), a.push(u));
			var y = {
				labels: r,
				datasets: [{
					label: t.lengends[0],
					fillColor: f[0],
					strokeColor: m[0],
					pointColor: m[0],
					pointStrokeColor: "#fff",
					data: i
				},
				{
					label: t.lengends[1],
					fillColor: f[1],
					strokeColor: m[1],
					pointColor: m[1],
					pointStrokeColor: "#fff",
					data: o
				},
				{
					label: t.lengends[2],
					fillColor: f[2],
					strokeColor: m[2],
					pointColor: m[2],
					pointStrokeColor: "#fff",
					data: a
				}]
			};
			g.destroy(),
			g = new Chart(e.ctx).Line(y, t.options),
			g.datasets.forEach(function(e) {
				var t = !0;
				e.points.forEach(function(e) {
					e.value && (t = !1)
				}),
				t ? e.points.length = 0 : e.points.forEach(function(e) {
					e.value || (e.value = 0)
				})
			}),
			g.update(),
			l.find("#legend-" + c.id).html(g.generateLegend()),
			c.properties.lineChart = t,
			c.properties.lineChart.options = g.options,
			p.data("lineChart", g)
		}
		if (e.confirm = function() {
			e.$close()
		},
		!e.$parent.charts) {
			var c = e.elemDef = e.comp.compJson || {
				css: {}
			},
			l = $(".workspace #chart-" + c.id),
			p = $(".workspace").find("#" + c.id),
			d = e.comp.pieChart,
			u = e.comp.barChart,
			g = e.comp.lineChart;
			if (c.type + "" == "t") {
				e.charts = {},
				e.charts.options = {},
				e.charts.chartType = c.properties.chartType,
				e.charts.colors = ["#57c7d4", "#3aa99e", "#f2a654", "#f96868", "#926dde", "#62a8ea", "#F978A6", "#F8E59B"],
				e.charts.segments = [],
				e.charts.sectorNum = 2,
				e.charts.chartTitle = l.find(".chart-title").html(),
				e.ctx = p.get(0).getContext("2d"),
				c.properties.legPosition ? e.charts.legPosition = c.properties.legPosition: (e.charts.legPosition = "position-left", c.properties.legPosition = "position-left");
				var m = [],
				f = [],
				h = [],
				v = [],
				y = [],
				b = [],
				x = 0,
				w = [];
				if (d) {
					if (e.charts.options = d.options, d.segments) {
						e.charts.sectorNum = "" + d.segments.length,
						x = d.segments.length;
						for (var S = 0; S < x; S++) e.charts.segments.push({
							label: d.segments[S].label,
							value: d.segments[S].value,
							color: e.comp.compJson.properties.pieChart && e.comp.compJson.properties.pieChart.segments[S] ? e.comp.compJson.properties.pieChart.segments[S].color: d.segments[S].fillColor
						})
					}
					c.properties.pieChart = e.charts
				}
				if (u) {
					if (e.charts.options = u.options, u.datasets) {
						for (w = u.datasets, x = w[0].bars.length, S = 0; S < x; S++) m.push(w[0].bars[S].label);
						for (S = 0; S < w.length; S++) {
							f.push(w[S].label),
							h.push(w[S].fillColor);
							for (var k = w[S].bars.length, C = 0; C < k; C++) 0 === S ? v.push(w[S].bars[C].value) : 1 === S ? y.push(w[S].bars[C].value) : b.push(w[S].bars[C].value)
						}
					}
					c.properties.barChart = e.charts
				}
				if (g) {
					if (e.charts.options = g.options, g.datasets) {
						for (w = g.datasets, S = 0; S < w.length; S++) if (x = w[S].points.length, 0 !== x) {
							for (C = 0; C < x; C++) m.push(w[S].points[C].label);
							break
						}
						for (S = 0; S < w.length; S++) {
							f.push(w[S].label),
							"" + e.charts.chartType == "line" ? h.push(w[S].strokeColor) : h.push(w[S].fillColor);
							var T = w[S].points.length;
							for (C = 0; C < T; C++) 0 === S ? v.push(w[S].points[C].value) : 1 === S ? y.push(w[S].points[C].value) : b.push(w[S].points[C].value)
						}
					}
					c.properties.lineChart = e.charts
				}
				if (u || g) {
					e.charts.lengends = f,
					e.charts.fillColors = h;
					for (var q = 0; q < m.length; q++) e.charts.segments.push({
						label: m[q],
						value1: v[q],
						value2: y[q],
						value3: b[q]
					});
					for (; e.charts.segments.length < 12;) e.charts.segments.push({
						label: "",
						value1: "",
						value2: "",
						value3: ""
					})
				}
				c.properties.chartTitle = e.charts.chartTitle
			}
			e.$watch("charts",
			function(t, n) {
				c.type + "" == "t" && t && t !== n && (l.find(".chart-title").html(t.chartTitle), c.properties.chartTitle = t.chartTitle, "" + e.charts.chartType == "pie" ? a(t, n) : "" + e.charts.chartType == "bar" && u.datasets ? r(t) : "" + e.charts.chartType != "line" && "" + e.charts.chartType != "curve" || !g.datasets || s(t), p.attr("width") && (p.removeAttr("width"), p.css("width", "100%")), p.attr("height") && (p.removeAttr("height"), p.css("height", "50%")), "" + e.charts.chartType == "pie" ? d.update() : "" + e.charts.chartType == "bar" ? u.update() : "" + e.charts.chartType != "line" && "" + e.charts.chartType != "curve" || g.update())
			},
			!0),
			e.maxLength20 = function() {
				for (var t = e.charts.segments,
				n = 0; n < t.length; n++) t[n].label = e.substtrCharacters(t[n].label);
				e.charts.legendName && (e.charts.legendName = e.substtrCharacters(e.charts.legendName))
			},
			e.substtrCharacters = function(e) {
				if (e && (e = e.replace(/\n|\r/g, " ")), e && e.length > 10) {
					var t = e.replace(/[^\x00-\xff]/g, "xx");
					if (t.length > 20) {
						var n = t.substring(0, 20).replace(/xx/g, "中").length;
						e = e.substring(0, n)
					}
				}
				return e
			},
			e.showEditDataView = function() {
				t.open({
					windowClass: "six-contain",
					template: n(372),
					controller: i,
					scope: e
				})
			}
		}
	}
	i.$inject = ["$scope", "$modal"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=viewData><div class=explain>表格中的一行代表x轴上一个关键点数；一列代表一个类型的数据</div><table id=chart-table ng-if="elemDef.properties.chartType!=\'pie\'"><tr><td>图例名</td><td><input type=text ng-model=charts.lengends[0] ng-change=maxLength20() /></td><td><input type=text ng-model=charts.lengends[1] ng-change=maxLength20() /></td><td><input type=text ng-model=charts.lengends[2] ng-change=maxLength20() /></td></tr><tr><td>填充色</td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color=charts.fillColors[0] direction=left theme=flo_lef notify=grid x=-1 w=114 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color=charts.fillColors[1] direction=left theme=flo_lef notify=grid x=-1 w=114 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td><td><div class="color_select clearfix"><eqd-input-color class="input_kuang flo_lef" select-color=charts.fillColors[2] direction=left theme=flo_lef notify=grid x=-1 w=114 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td></tr><tr ng-repeat="segment in charts.segments"><td><input type=text ng-model=segment.label ng-change=maxLength20() /></td><td><input class=chart-input type=number ng-model=segment.value1 /></td><td><input class=chart-input type=number ng-model=segment.value2 /></td><td><input class=chart-input type=number ng-model=segment.value3 /></td></tr></table><a class="btn btn-sm btn-chart green" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	e.exports = '<div class="style_list_angel charts_group clearfix" style="padding:7px 20px"><div ng-show="elemDef.properties.chartType==\'pie\'"><label>扇区个数</label><select class=chart-select ng-model=charts.sectorNum><option value=2>2</option><option value=3>3</option><option value=4>4</option><option value=5>5</option><option value=6>6</option><option value=7>7</option><option value=8>8</option></select></div><div class="style_list_angel clearfix"><label>标题名</label><input type=text ng-model=charts.chartTitle style=width:150px /></div><div class="style_list_angel clearfix"><label>图例设置</label><select legend-style class=chart-select ng-model=charts.legPosition><option value=position-align>横向排列</option><option value=position-left>纵向居左</option><option value=position-right>纵向居右</option><option value=position-none>不显示</option></select></div><div class="style_list_angel clearfix"><label style=width:85px>标签字体颜色</label><div class="color_select clearfix"><eqd-input-color select-color=charts.options.scaleFontColor direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=flo_right style=width:90px style-input elem-id={{elemDef.id}} ng-model=charts.options.scaleFontColor type=text /></div></div><table class=pie-table ng-if="elemDef.properties.chartType==\'pie\'"><tr ng-repeat="segment in charts.segments"><td><input class=data-label type=text ng-model=segment.label ng-change=maxLength20() /></td><td><input class=data-value type=text ng-model=segment.value /></td><td ng-if="elemDef.properties.chartType==\'pie\'"><div class="color_select clearfix"><eqd-input-color select-color=segment.color direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div></td></tr></table><a ng-if="elemDef.properties.chartType!=\'pie\'" class="btn btn-primary" ng-click=showEditDataView(); style=margin-top:10px>编辑表单数据</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			restrict: "AE",
			link: function(e, t) {
				var n = $("#legend-" + e.elemDef.id);
				e.$watch(function() {
					return t.val()
				},
				function(t, i) {
					t !== i && (n.removeAttr("class"), "" + t == "position-align" ? n.addClass("position-align") : "" + t == "position-right" ? n.addClass("position-right") : "" + t == "position-none" && n.addClass("position-none"), e.elemDef.properties.legPosition = t)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(376),
	o = n(378);
	e.exports = angular.module("adSetting.style", []).directive("compSettingAd", i).directive("advertisementContent", o).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(377),
			controller: ["$scope",
			function(e) {
				"ngInject";
				function t(t) {
					for (var i = 0; i < e.adSizes.length; i++) if (e.adSizes[i].value === t) return n.css.width = e.adSizes[i].width,
					n.css.height = e.adSizes[i].height,
					e.comp.update$li(n.css),
					e.adSizes[i]
				}
				var n = e.elemDef = e.comp.compJson || {
					css: {}
				};
				e.proModel = {},
				e.model = {},
				e.adSizes = [{
					name: "大矩形",
					value: 1,
					width: 336,
					height: 280
				},
				{
					name: "大型移动横幅",
					value: 2,
					width: 320,
					height: 100
				},
				{
					name: "大型摩天大楼",
					value: 3,
					width: 300,
					height: 600
				},
				{
					name: "中等矩形",
					value: 4,
					width: 300,
					height: 250
				}],
				e.proModel.content = n.content,
				e.proModel.size = n.properties.size,
				e.$watch("proModel",
				function() {
					var i = {};
					if ($.extend(!0, i, e.proModel), i.size && i.size !== n.properties.size) {
						var o = t(i.size);
						e.model.width = o.width,
						e.model.height = o.height
					}
					n.content = e.proModel.content,
					n.properties.size = e.proModel.size;
					var a = $("#nr #iframe-" + e.target).get(0);
					a && $(a).remove(),
					a = e.$parent.comp.iframeDiv,
					a = a.get(0),
					a.onload = function() {
						jQuery = a.contentWindow.jQuery,
						$body = jQuery(a.contentDocument.body),
						$body.append(jQuery(i.content))
					},
					$("#nr #" + e.target + " .ad-contain").append(a)
				},
				!0)
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei><div class="style_list_angel clearfix"><label>广告代码</label><div class="color_select clearfix"><textarea class=flo_right style=height:120px advertisement-content content={{proModel.content}} target={{elemDef.id}} elem-id={{elemDef.id}} ng-model=proModel.content>\n            </textarea><input style=display:none style-input elem-id={{elemDef.id}} ng-model=model.width css-item=width type=text /> <input style=display:none style-input elem-id={{elemDef.id}} ng-model=model.height css-item=height type=text /></div></div><div class="style_list_angel clearfix"><label>广告尺寸</label><div class="color_select clearfix"><select class=flo_right ng-change=changeSize(size) ng-model=proModel.size style="width:150px;border:1px solid #C9C9C9" ng-options="size.value as size.name for size in adSizes"></select></div></div></div>'
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		return {
			scope: {
				target: "@",
				content: "@"
			},
			restrict: "A",
			link: function(e) {
				var t, n, i = $("#nr #iframe-" + e.target).get(0);
				e.$watch("content",
				function(o, a) {
					o !== a && (i && $(i).remove(), i = e.$parent.comp.iframeDiv, i = i.get(0), i.onload = function() {
						n = i.contentWindow.jQuery,
						t = n(i.contentDocument.body),
						t.append(n(o))
					},
					$("#nr #" + e.target + " .ad-contain").append(i))
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			scope: {
				comp: "=eqxComp",
				confirm: "&"
			},
			template: n(381),
			controller: ["$scope", "$rootScope", "authorityService",
			function(e, t, n) {
				"ngInject";
				function i(e) {
					var t = o.parseTransform(e || "");
					return r(t.rotate) || 0
				}
				e.styleFillSampleCompSetting = n.assignDesignerAuthority("fillSampleCompSetting"),
				e.styleLineHeight = n.permission("styleLineHeight"),
				e.styleBackground = n.permission("styleBackground"),
				["6", "601", "5", "501", "502", "503", "504"].indexOf("" + e.comp.compJson.type) > -1 && (e.styleBackground = !1),
				e.styleOpacity = n.permission("styleOpacity"),
				e.styleFixedComp = n.permission("styleFixedComp"),
				e.stylePaddingTop = n.permission("stylePaddingTop"),
				e.styleBoxShadow = n.permission("styleBoxShadow"),
				e.styleBoxBorderRadian = n.permission("styleBoxBorderRadian"),
				e.styleBoxBorderRotate = n.permission("styleBoxBorderRotate"),
				e.styleBoxBorderStyle = n.permission("styleBoxBorderStyle");
				var s = e.comp,
				c = e.css = s.compJson.css;
				e.compProp = s.compJson.properties,
				e.ability = (s.$ability || {}).style;
				var l = s.eqxPage;
				e.pageProp = l.pageJson.properties;
				var p = e.TAB = {
					none: 0,
					base: 1,
					border: 2,
					boxShadow: 3,
					fillCompStyle: 4
				};
				e.boxShadow = a.parseBoxShadow(c.boxShadow, c.boxShadowSize, c.boxShadowDirection);
				var d = e.vm = {
					tab: p.base,
					maxBorderRadius: Math.min(c.width, c.height) / 2,
					rotate: i(c.transform),
					opacity: 100 - 100 * c.opacity
				};
				e.setTab = function(e) {
					d.tab = d.tab === e ? p.none: e
				},
				e.$watch("css.backgroundColor",
				function(e) {
					s.update$boxDiv({
						backgroundColor: e
					})
				}),
				e.$watch("css.color",
				function(e) {
					s.update$boxDiv({
						color: e
					})
				}),
				e.$watch("vm.opacity",
				function(e) {
					s.update$li({
						opacity: (100 - e) / 100
					})
				}),
				e.$watch("css.paddingTop",
				function(e) {
					s.update$boxDiv({
						paddingTop: e
					})
				}),
				e.$watch("css.lineHeight",
				function(e) {
					s.update$boxDiv({
						lineHeight: e
					})
				}),
				e.$watch("boxShadow",
				function(e) {
					var t = a.getBoxShadowStr(e);
					s.update$boxDiv({
						boxShadow: t
					});
					var n = e.direction,
					i = e.size;
					s.updateCss({
						boxShadowDirection: n,
						boxShadowSize: i
					})
				},
				!0),
				e.$watch("css.borderWidth",
				function(e) {
					"4" == s.type && s.updateSize(c, {
						borderWidth: e
					}),
					s.update$boxDiv({
						borderWidth: e
					})
				}),
				e.$watch("css.borderRadius",
				function(e) {
					s.update$boxDiv({
						borderRadius: e,
						borderTopLeftRadius: e,
						borderTopRightRadius: e,
						borderBottomRightRadius: e,
						borderBottomLeftRadius: e
					})
				}),
				e.$watch("css.borderStyle",
				function(e) {
					s.update$boxDiv({
						borderStyle: e
					})
				}),
				e.$watch("css.borderColor",
				function(e) {
					s.update$boxDiv({
						borderColor: e
					})
				}),
				e.$watch("vm.rotate",
				function(e) {
					var n = o.parseTransform(c.transform);
					n.rotate = e,
					c.transform = o.getTransformStr(n),
					s.update$li({
						transform: c.transform
					}),
					t.$broadcast("compSetting.rotate", s)
				}),
				e.$on("compRotate.move",
				function(t, n, o) {
					d.rotate = i(o),
					e.$apply()
				}),
				e.clear = function() {
					s.resetStyle()
				}
			}]
		}
	}
	var o = n(358),
	a = n(380),
	r = n(200).toInt;
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i() {
		var e = arguments.length <= 0 || void 0 === arguments[0] ? "0px 0px 0px rgba(0,0,0,0.5)": arguments[0],
		t = arguments[1],
		n = arguments[2],
		i = "";
		e = e.replace(c,
		function(e) {
			return i = e,
			""
		});
		var o = e.trim().split(" "),
		s = parseFloat(o[0]),
		l = parseFloat(o[1]),
		p = r(Math.atan(l / s)) || 0;
		return s < 0 && (p += 180),
		s > 0 && l < 0 && (p = 360 + p),
		p = (p + 270) % 360,
		n && (p = n),
		{
			direction: a(p),
			size: a(t || Math.hypot(s, l)),
			blur: a(o[2]),
			color: i
		}
	}
	function o(e) {
		var t = (e.direction + 90) % 360,
		n = a(e.size * Math.cos(s(t))),
		i = a(e.size * Math.sin(s(t)));
		return n + "px " + i + "px " + e.blur + "px " + e.color
	}
	var a = n(200).toInt,
	r = n(356).arc2deg,
	s = n(356).deg2arc,
	c = /rgba\([^)]*\)/;
	e.exports = {
		parseBoxShadow: i,
		getBoxShadowStr: o
	}
},
function(e, t) {
	e.exports = '<div><div class=yangshi><section><div class="style_list border-bottom pl20" ng-click=setTab(TAB.base) ng-if="(ability.backgroundColor && !styleBackground)\r\n            || ability.color || (ability.opacity && !styleOpacity)\r\n            || (ability.paddingTop && !stylePaddingTop) || (ability.lineHeight && !styleLineHeight)\r\n            || !styleFixedComp"><span>基础样式</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.base}"></b></div><div ng-class="{\'h-scroll\': vm.tab == TAB.base}"><div eqd-scroll style=height:100%;max-height:260px disable-mouse=true prevent-exception=true><div><div class=style_con_hei ng-if="vm.tab == TAB.base"><div class="style_list_angel clearfix" ng-if="ability.backgroundColor && !styleBackground"><label>背景颜色</label><div class="color_select clearfix"><eqd-input-color select-color=css.backgroundColor direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=flo_right style=width:100px ng-model=css.backgroundColor type=text /></div></div><div class="style_list_angel clearfix" ng-if=ability.color><label>文字颜色</label><div class="color_select clearfix"><eqd-input-color select-color=css.color direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=flo_right style=width:100px ng-model=css.color type=text /></div></div><div class="style_list_angel clearfix" ng-if="ability.opacity && !styleOpacity"><label>透明度</label><div class="touming clearfix"><p class=num><input class=short type=number min=0 max=100 limit-input ng-model=vm.opacity /></p><div class=slider ui-slider-t ng-model=vm.opacity min=0 max=100></div></div></div><div class="style_list_angel clearfix" ng-if="ability.paddingTop && !stylePaddingTop"><div><label>边距</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max=20 limit-input ng-model=css.paddingTop /></p><div class=slider ui-slider-t ng-model=css.paddingTop min=0 max=20></div></div></div></div><div class="style_list_angel clearfix" ng-if="ability.lineHeight && !styleLineHeight"><div><label>行高</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number step=0.1 min=0 max=3 limit-input ng-model=css.lineHeight /></p><div class=slider ui-slider-t ng-model=css.lineHeight fixed=1 min=0 max=3></div></div></div></div><div class="style_list_angel clearfix" ng-if=!styleFixedComp><div><label>固定组件</label><div class="touming clearfix" ng-show=pageProp.longPage><input class=short type=checkbox ng-model=compProp.lock style=float:left;width:20px /><div style=padding-top:4px>固定组件位置(长页面)</div></div><div ng-show=!pageProp.longPage class="touming clearfix" tooltip-placement=top tooltip=固定组件只能在长页面内使用><input disabled=true class=short type=checkbox ng-model=compProp.lock style=float:left;width:20px /><div style=padding-top:4px>固定组件位置(长页面)</div></div></div></div><comp-setting-shape-color ng-if="comp.type == \'h\'"></comp-setting-shape-color></div></div></div></div></section><comp-setting-border ng-if="ability.border || ability.rotate"></comp-setting-border><comp-setting-box-shadow ng-if=ability.boxShadow></comp-setting-box-shadow><comp-setting-comment ng-if="comp.type == \'b\'"></comp-setting-comment><comp-setting-map ng-if="comp.type == \'m\'"></comp-setting-map><comp-setting-chart ng-if="comp.type == \'t\'"></comp-setting-chart><comp-setting-wx ng-if="comp.type == \'201\' || comp.type == \'401\'"></comp-setting-wx><comp-setting-ad ng-if="comp.type == \'g\'"></comp-setting-ad><comp-setting-drop-down ng-if="comp.type == \'z\'"></comp-setting-drop-down><fill-comp-style ng-if=styleFillSampleCompSetting></fill-comp-style></div><div class=btn-option ng-if="comp.type !== \'z\'"><a class="btn btn-sm green" ng-click=confirm()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除样式</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(383)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<section><div class="style_list border-bottom pl20" ng-click=setTab(TAB.border)><span>边框样式</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.border}"></b></div><div class=style_con_hei ng-show="vm.tab == TAB.border"><div class="style_list_angel clearfix" ng-if=ability.border><label>尺寸</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max=20 limit-input ng-model=css.borderWidth /></p><div class=slider ui-slider-t ng-model=css.borderWidth min=0 max=20></div></div></div><div class="style_list_angel clearfix" ng-if="ability.border && !styleBoxBorderRadian"><label>弧度</label><div class="touming clearfix"><p class=num><input class="input_kuang short" type=number min=0 max={{vm.maxBorderRadius}} limit-input ng-model=css.borderRadius /></p><div class=slider ui-slider-t ng-model=css.borderRadius min=0 max={{vm.maxBorderRadius}}></div></div></div><div class="style_list_angel clearfix" ng-if="ability.border && !styleBoxBorderStyle"><label>样式</label><div class=touming><select style="border:1px solid #ccc;height:20px;width:155px" ng-model=css.borderStyle><option value=none>----无-----</option><option value=solid>直线</option><option value=dashed>破折线</option><option value=dotted>点状线</option><option value=double>双划线</option><option value=groove>3D凹槽</option><option value=ridge>3D垄状</option><option value=inset>3D内嵌</option><option value=outset>3D外嵌</option></select></div></div><div class="style_list_angel clearfix" ng-if=ability.border><label>颜色</label><div class="color_select clearfix"><input class="flo_right short" style=width:100px ng-model=css.borderColor type=text /><eqd-input-color select-color=css.borderColor direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker></eqd-input-color></div></div><div class="style_list_angel clearfix" ng-if="ability.rotate && !styleBoxBorderRotate"><div><label>旋转</label><div class="touming clearfix"><p class=num><input min=0 max=359 step=1 limit-input class="input_kuang short" type=number ng-model=vm.rotate /></p><div class=slider ng-model=vm.rotate ui-slider-t min=0 max=360></div></div></div></div></div></section>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(385)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<section ng-if=!styleBoxShadow><div class="style_list border-bottom border-top pl20" ng-click=setTab(TAB.boxShadow)><span>阴影样式</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.boxShadow}"></b></div><div class=style_con_hei ng-show="vm.tab == TAB.boxShadow"><div class="style_list_angel clearfix"><label>大小</label><div class="touming clearfix"><div class=slider ui-slider-t ng-model=boxShadow.size min=0 max=20></div><p class=num><input type=number class="input_kuang short" min=0 max=20 limit-input ng-model=boxShadow.size /></p></div></div><div class="style_list_angel clearfix"><label>模糊</label><div class="touming clearfix"><div class=slider ui-slider-t ng-model=boxShadow.blur min=0 max=20 limit-input></div><p class=num><input type=number class="input_kuang short" min=0 max=20 limit-input ng-model=boxShadow.blur /></p></div></div><div class="style_list_angel clearfix"><label>颜色</label><div class="clearfix color_select"><input class="flo_right short" style=width:100px ng-model=boxShadow.color type=text /><eqd-input-color select-color=boxShadow.color direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker></eqd-input-color></div></div><div class="style_list_angel clearfix"><label>方向</label><div class="touming clearfix"><div class=slider ui-slider-t ng-model=boxShadow.direction min=0 max=359></div><p class=num><input class="input_kuang short" type=number min=0 max=359 limit-input ng-model=boxShadow.direction /></p></div></div></div></section>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(387),
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.boardsModel = {
					style: e.comp.compJson.properties.style,
					meslabel: e.comp.compJson.properties.meslabel,
					morelabel: e.comp.compJson.properties.morelabel
				};
				var t = $("#nr #inside_" + e.comp.compJson.id + " > .element-box");
				e.vm = {};
				e.$watch("boardsModel",
				function() {
					var n = {};
					$.extend(!0, n, e.boardsModel),
					e.comp.compJson.properties.style !== n.style && ("pink" === n.style ? e.vm.backgroundColor = "#F6DCF0": "black" === n.style ? e.vm.backgroundColor = "#252525": e.vm.backgroundColor = "#F0F3F4", t.css("backgroundColor", e.vm.backgroundColor), t.find(".boards-" + e.comp.compJson.properties.style).removeClass("boards-" + e.comp.compJson.properties.style).addClass("boards-" + n.style), e.comp.compJson.properties.style = n.style, e.comp.compJson.css.backgroundColor = e.vm.backgroundColor),
					e.comp.compJson.properties.meslabel !== n.meslabel && (e.comp.compJson.properties.meslabel = n.meslabel, t.find(".replay").html(n.meslabel)),
					e.comp.compJson.properties.morelabel !== n.morelabel && (e.comp.compJson.properties.morelabel = n.morelabel, t.find(".more").html(n.morelabel))
				},
				!0)
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei><div class="style_list_angel clearfix" ng-init="styles=[{name:\'默认\',value:\'default\'},{name:\'黑色\',value:\'black\'},{name:\'粉色\',value:\'pink\'}]"><label>配色风格</label><div class="color_select clearfix"><select class=flo_right ng-model=boardsModel.style style="width:140px;border:1px solid #C9C9C9" ng-options="style.value as style.name for style in styles"></select></div></div><div class="style_list_angel clearfix"><label>我要留言</label><div class="color_select clearfix"><input class=flo_right style=width:140px ng-model=boardsModel.meslabel maxlength=10 type=text /> <span str=boardsModel.meslabel strlen class=strlen max=10>{{boardsModel.meslabel.length}}/10</span></div></div><div style=border-bottom:none class="style_list_angel clearfix"><label>更多留言</label><div class="color_select clearfix"><input class=flo_right style=width:140px ng-model=boardsModel.morelabel maxlength=10 type=text /> <span str=boardsModel.morelabel strlen class=strlen max=10>{{boardsModel.morelabel.length}}}/10</span></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(389),
			controller: ["$scope", "$rootScope", "selectService",
			function(e, t, n) {
				"ngInject";
				var i = e.vm = {
					content: e.comp.compJson.content,
					address: e.comp.compJson.properties.address
				};
				e.settingContent = function() {
					var t = e.comp.label;
					if (i.content) {
						var n = e.comp.map;
						t ? (t.setContent(i.content), t.getMap() || t.setMap(n)) : t = new qq.maps.Label({
							position: n.getCenter(),
							map: n,
							content: i.content
						})
					} else t && t.setMap(null);
					e.comp.compJson.content = i.content
				},
				e.setPosition = function() {
					t.$broadcast("wsComp.edit", n.comps[0])
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei ng-disabled=!comp.map><div class="style_list_angel clearfix"><label>标签内容</label><div class="color_select clearfix"><input class=flo_right style=width:140px style-input elem-id={{comp.compJson.id}} ng-model=vm.content css-item=content type=text ng-change=settingContent() /></div></div><div style=border-bottom:none class="style_list_angel clearfix"><label>地图位置</label><div class="color_select clearfix" style=text-align:right><i class=eqf-map style=margin-right:5px></i> <a class=primary style=text-decoration:underline;line-height:20px ng-click=setPosition()>{{vm.address}}</a></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(391),
			controller: ["$scope", "sceneService",
			function(e, t) {
				"ngInject";
				var n = t.getCurrentPage(),
				i = e.vm = {
					content: e.comp.compJson.content,
					type: e.comp.compJson.properties.type
				},
				o = e.comp.compJson;
				e.settingNiketype = function() {
					o.properties.type = i.type;
					var e = o.properties.id,
					t = n.getCompJsonById(e);
					t.properties.type = i.type
				},
				e.settingContent = function() {
					e.comp.updateContent(i.content)
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=style_con_hei><div class="style_list_angel clearfix" ng-show="comp.type == \'201\'"><label>文字内容</label><div class="color_select clearfix"><input class=flo_right style=width:155px ng-model=vm.content ng-change=settingContent() type=text /></div></div><div class="style_list_angel clearfix"><label>昵称类型</label><div class="touming clearfix"><select style="border:1px solid #ccc;height:20px;width:155px" ng-model=vm.type ng-change=settingNiketype()><option value=own>浏览者昵称头像</option><option value=share>分享者昵称头像</option></select></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(393),
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.shapeAttrs = e.comp.compJson.properties.items;
				var t = $("#nr #inside_" + e.comp.compJson.id + " > .element-box");
				e.scrollShow = !1,
				e.changePos = function(t) {
					e.scrollTop = t.y,
					e.$apply()
				},
				e.shapeAttrs && e.shapeAttrs.length > 6 && (e.scrollShow = !0),
				e.$watch("shapeAttrs",
				function(n, i) {
					if (n && n !== i) {
						var o = n.length,
						a = e.comp.compJson.properties.src;
						if (a) {
							if (!o) return;
							var r = t.find("[fill], [style*='fill']");
							$.each(r,
							function(e) {
								for (var t = 0; t < o; t++) for (var i = n[t].elements, a = 0; a < i.length; a++) e === i[a] && r.eq(e).css({
									fill: jQuery.Color(n[t].fill).toString()
								})
							})
						}
					}
				},
				!0)
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="style_list_angel clearfix" ng-repeat="shapeColor in shapeAttrs"><label>形状颜色{{$index+1}}</label><div class="color_select clearfix"><eqd-input-color select-color=shapeColor.fill direction=left theme=flo_lef notify=grid x=-1 w=37 h=20 toolcolorpicker=styleColorPicker></eqd-input-color><input class=flo_right style=width:100px style-input elem-id={{elemDef.id}} ng-model=shapeColor.fill type=text /></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(395),
			controller: ["$scope", "$timeout", "modalService", "validCharacterNumFilter",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					var t = 0;
					angular.forEach(e.model.choices.options,
					function(n, i) {
						n.label === e.comp.compJson.showText && (t++, e.currentParam.selectedOption = n)
					}),
					t < 1 && (e.currentParam.selectedOption = "空", e.model.placeholderText = e.comp.compJson.showText)
				}
				function a() {
					null === e.currentParam.selectedOption || "空" === e.currentParam.selectedOption ? e.comp.compJson.showText = e.model.placeholderText: e.comp.compJson.showText = e.currentParam.selectedOption.label,
					e.comp.compJson.placeholderText = e.model.placeholderText,
					$("#selectedSpan" + e.comp.compJson.id).text(e.comp.compJson.showText)
				}
				e.comp.compJson.selectedOption = "",
				e.model = {
					choices: e.comp.compJson.choices,
					placeholderText: "请选择"
				},
				e.currentParam = {
					placeholderAvaiable: !0,
					selectedOption: "空"
				},
				e.checkPlaceholder = function() {
					null !== e.currentParam.selectedOption ? (e.currentParam.placeholderAvaiable = !1, e.comp.compJson.showText = e.currentParam.selectedOption.label, e.comp.compJson.placeholderText = e.model.placeholderText, $("#selectedSpan" + e.comp.compJson.id).text(e.currentParam.selectedOption.label)) : e.currentParam.placeholderAvaiable = !0
				},
				e.addNewOption = function(t) {
					e.model.choices.options.length < 10 ? (++e.model.choices.seq, e.model.choices.options.splice(t + 1, 0, {
						id: e.model.choices.seq,
						label: "请输入内容"
					})) : n.openMsgDialog({
						msg: "您可以添加十个选项，每个选项最多请不要超过20字符。"
					})
				},
				e.deleteTheOption = function(t) {
					e.model.choices.options.length > 1 && n.openConfirmDialog({
						msg: "您确定要删除内容为“" + e.model.choices.options[t].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"
					}).then(function() {
						e.model.choices.options.splice(t, 1)
					})
				},
				e.countCharacters = i,
				e.clear = function() {
					e.model.choices = {
						seq: 3,
						options: [{
							id: 1,
							label: "请输入内容"
						},
						{
							id: 2,
							label: "请输入内容"
						},
						{
							id: 3,
							label: "请输入内容"
						}]
					},
					e.currentParam.selectedOption = "空",
					e.model.placeholderText = "请选择"
				},
				e.$watch("model.choices.options",
				function() {
					e.comp.compJson.choices = e.model.choices,
					t(function() {})
				},
				!0),
				e.$watch("model.placeholderText",
				function() {
					a()
				},
				!0),
				e.$watch("currentParam.selectedOption",
				function() {
					a()
				},
				!0),
				o()
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div><div class=styleDropdown><section><div class=mainAttribute><div class=component><label class=componentLabel>默认选项</label><div><select class=componentSelect ng-change=checkPlaceholder(); ng-model=currentParam.selectedOption ng-options="option.label for option in model.choices.options"><option value="">空</option></select></div></div><div class=component><label class=componentLabel>占位文本</label><input class="flo_right placeHolderInput" type=text check-count=20 ng-model=model.placeholderText ng-disabled="currentParam.placeholderAvaiable ===false"/> <span class=countSpan>{{(model.placeholderText?countCharacters(model.placeholderText.trim()):0)}}/20</span></div><div class=component style=height:37px><label class=componentLabel>必填</label><div class=checkbox-square ng-class="{checked: comp.compJson.required}" style=margin-top:2px><em class=eqf-yes2></em> <input type=checkbox ng-model=comp.compJson.required name=iCheck></div></div><div class=component style=margin-right:0;border-bottom:0><div><div class=optionTitle><span text>选项</span></div><div><div eqd-scroll style=height:220px disable-mouse=true prevent-exception=true><div><div class=optionPart ng-repeat="option in model.choices.options"><input class=optionInput type=text check-count=20 stop-propagation ng-model=option.label /> <span class=optionSpan>{{(option.label?countCharacters(option.label.trim()):0)}}/20</span><div class=iconPart><a class=iconPlus><span class="eqf-plus iconBlue" ng-click=addNewOption($index)></span></a> <a class=iconMinus><span class="eqf-delete2 iconRed" ng-click=deleteTheOption($index)></span></a></div></div></div></div><div class=anim_area style="transition-timing-function:cubic-bezier(.1,.57,.1,1);transition-duration:0s;transform:translate(0,0) translateZ(0)"><div class=add-anim style=padding-left:0><a class="btn btn-sm green mr20" style=float:left ng-click=addNewOption(model.choices.options.length)><span class=eqf-plus2></span>增加选项</a></div></div></div></div></div></div></section></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirm()>确定</a> <a class="btn btn-sm out-red" ng-click=clear()>清除属性</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, n) {
		return t in e ? Object.defineProperty(e, t, {
			value: n,
			enumerable: !0,
			configurable: !0,
			writable: !0
		}) : e[t] = n,
		e
	}
	function o() {
		return {
			restrict: "E",
			template: n(397),
			controller: ["$scope", "setCompService", "$rootScope", "$timeout", "authorityService",
			function(e, t, n, o, a) {
				"ngInject";
				var r = e.comp.compJson.css;
				e.styleFillFontWeight = a.permission("styleFillFontWeight"),
				e.styleFillFontItalic = a.permission("styleFillFontItalic"),
				e.styleFillUnderLine = a.permission("styleFillUnderLine"),
				e.styleFillLineThrough = a.permission("styleFillLineThrough"),
				e.styleFillAddLink = a.permission("styleFillAddLink"),
				e.styleFillRemoveLink = a.permission("styleFillRemoveLink"),
				e.styleFillLetterSpacing = a.permission("styleFillLetterSpacing"),
				e.styleFillName = a.permission("styleFillName"),
				e.styleFillStatus = a.permission("styleFillStatus"),
				e.styleFillRemark = a.permission("styleFillRemark"),
				e.fillvm = {
					currentElement: t.getPageElementById(e.comp.compJson.id),
					letterSpacing: r.letterSpacing || "0",
					fontSize: r.fontSize || 12
				},
				2 == e.comp.compJson.type || 4 == e.comp.compJson.type ? e.statusArr = [{
					name: "可控可替换",
					value: 1
				},
				{
					name: "可控不可替换",
					value: 2
				},
				{
					name: "不可控可替换",
					value: 3
				},
				{
					name: "不可控不可替换",
					value: 4
				}] : e.statusArr = [{
					name: "可控",
					value: 2
				},
				{
					name: "不可控",
					value: 4
				}],
				e.wordLineList = [{
					name: "0%",
					value: "0"
				},
				{
					name: "10%",
					value: "0.1em"
				},
				{
					name: "25%",
					value: "0.25em"
				},
				{
					name: "50%",
					value: "0.5em"
				},
				{
					name: "75%",
					value: "0.75em"
				},
				{
					name: "100%",
					value: "1em"
				}],
				e.fillvm.currentElement && !e.fillvm.currentElement.properties.setstatus && (e.fillvm.currentElement.properties.setstatus = 4),
				e.setName = function() {
					e.comp.compJson.name = e.fillvm.currentElement.name
				},
				e.setRemark = function() {
					e.comp.compJson.properties.setremark = e.fillvm.currentElement.properties.setremark
				},
				e.setStatus = function() {
					e.comp.compJson.properties.setstatus = e.fillvm.currentElement.properties.setstatus
				},
				e.boldItalic = function(t, n) {
					r[t] ? r[t] = "": r[t] = n,
					e.comp.update$boxDiv(i({},
					t, r[t]))
				},
				e.underDelLine = function(t) {
					var n = $.trim(r.textDecoration);
					n && n.indexOf(t) !== -1 ? r.textDecoration = n.replace(t, "") : r.textDecoration = n + " " + t,
					e.comp.update$boxDiv({
						textDecoration: r.textDecoration
					})
				},
				e.textAlign = function(t) {
					r.textAlign = t,
					e.comp.update$boxDiv({
						textAlign: t
					})
				},
				e.addLink = function() {
					e.comp && n.$broadcast("wsComp.edit.link", e.comp)
				},
				e.removeLink = function() {
					delete e.comp.compJson.properties.url
				},
				e.wordLine = function(t) {
					r.letterSpacing = t,
					e.comp.update$boxDiv({
						letterSpacing: t
					})
				},
				e.changeFontSize = function() {
					var t = null,
					n = null;
					e.fillvm.fontSize = e.fillvm.fontSize.replace(/[^\d]/g, "");
					var i = parseInt(e.fillvm.fontSize);
					t = i ? i < 12 ? 12 : i > 96 ? 96 : i: 12,
					e.fillvm.fontSize || o(function() {
						e.fillvm.fontSize = e.fillvm.fontSize || 12
					},
					750),
					e.comp.update$boxDiv({
						fontSize: t
					}),
					e.comp.update$boxDiv({
						lineHeight: n
					})
				}
			}]
		}
	}
	e.exports = o
},
function(e, t) {
	e.exports = '<section><div class="style_list border-bottom border-top pl20" ng-click=setTab(TAB.fillCompStyle)><span>填空设置</span> <b class=caret ng-class="{\'off\': vm.tab !== TAB.fillCompStyle}"></b></div><div class=style_con_hei ng-show="vm.tab == TAB.fillCompStyle"><div class="style_list_angel clearfix" ng-hide=styleFillName><label>名称</label><div class="color_select clearfix"><input class=flo_right check-count=16 style=width:140px ng-model=fillvm.currentElement.name type=text ng-blur=setName(); maxlength=16 /> <span class=countSpan>{{fillvm.currentElement.name.length}}/16</span></div></div><div class="style_list_angel clearfix" ng-hide=styleFillStatus><label>状态</label><div class="color_select clearfix"><select style="width:140px;border:1px solid #C9C9C9;float:right" ng-model=fillvm.currentElement.properties.setstatus ng-options="status.value as status.name for status in statusArr" ng-change=setStatus();></select></div></div><div class="style_list_angel clearfix" ng-hide=styleFillRemark><label>备注</label><div class="color_select clearfix"><input class=flo_right style=width:140px ng-model=fillvm.currentElement.properties.setremark type=text ng-blur=setRemark(); /></div></div><div class="style_list_angel clearfix"><label>字体大小</label><div class="color_select clearfix"><input class=flo_right style=width:140px type=text ng-model=fillvm.fontSize ng-change=changeFontSize(); /></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2 && !styleFillLetterSpacing"><label>字间距</label><div class="color_select clearfix"><select style="width:140px;border:1px solid #C9C9C9;float:right" ng-model=fillvm.letterSpacing ng-options="wordLine.value as wordLine.name for wordLine in wordLineList" ng-change=wordLine(fillvm.letterSpacing)></select></div></div><div class="style_list_angel clearfix" ng-if="comp.compJson.type == 2"><div ng-hide=styleFillFontWeight class="css-font hint--bottom hint--rounded" data-hint=加粗 ng-click="boldItalic(\'fontWeight\', \'bold\');"><i class=eqf-b></i></div><div ng-hide=styleFillFontItalic class="css-font hint--bottom hint--rounded" data-hint=倾斜 ng-click="boldItalic(\'fontStyle\', \'italic\');"><i class=eqf-I></i></div><div ng-hide=styleFillUnderLine class="css-font hint--bottom hint--rounded" data-hint=下划线 ng-click="underDelLine(\'underline\');"><i class=eqf-U></i></div><div ng-hide=styleFillLineThrough class="css-font hint--bottom hint--rounded" data-hint=删除线 ng-click="underDelLine(\'line-through\');;"><i class=eqf-del2></i></div><div class="css-font hint--bottom hint--rounded" data-hint=居左 ng-click="textAlign(\'left\');"><i class=eqf-leftword></i></div><div class="css-font hint--bottom hint--rounded" data-hint=居中 ng-click="textAlign(\'center\');"><i class=eqf-minddleword></i></div><div class="css-font hint--bottom hint--rounded" data-hint=居右 ng-click="textAlign(\'right\');"><i class=eqf-rightword></i></div><div ng-hide=styleFillLineThrough class="css-font hint--bottom hint--rounded" data-hint=添加超链接 ng-click=addLink();><i class=eqf-link></i></div><div ng-hide=styleFillRemoveLink class="css-font hint--bottom hint--rounded" data-hint=清除超链接 ng-click=removeLink()><i class=eqf-linkout></i></div></div></div></section>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("compSeting.trigger", []).directive("compSettingTrigger", n(399)).directive("triggerElemList", n(404)).directive("highlightElement", n(407)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {
				comp: "=eqxComp",
				confirm: "&"
			},
			template: n(403),
			controller: ["$scope", "$rootScope", "sceneService", "$compile",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					var e = [];
					return d.eqxCompList.forEach(function(t) { ["2", "4", "x", "h"].indexOf("" + t.type) !== -1 && e.push(t)
					}),
					e
				}
				function a() {
					var t = [];
					return m.sends.forEach(function(n) {
						var i = {};
						i.delay = n.delay,
						i.type = n.type,
						i.triggerElements = [],
						n.handles.forEach(function(t) {
							1 == t.type || 2 == t.type ? (i.title = e.eventTypes[0].title, i.eventType = 1) : 3 == t.type && (i.title = e.eventTypes[1].title, i.eventType = 2),
							t.ids.forEach(function(n) {
								var o = d.eqxCompList.filter(function(e) {
									return e.compJson.id == n
								})[0];
								i.triggerElements.push({
									comp: o,
									type: t.type
								}),
								2 == t.type ? e.addHideIcon(o) : e.addShowIcon(o)
							})
						}),
						t.push(i)
					}),
					t
				}
				function r() {
					var t = [];
					return e.triggerEvents.forEach(function(e, n) {
						var i = {
							ids: [],
							type: 1
						},
						o = {
							ids: [],
							type: 2
						},
						a = {
							ids: [],
							type: 3
						},
						r = {
							delay: e.delay,
							type: e.type,
							sendIndex: n + 1,
							handles: []
						};
						e.triggerElements.forEach(function(e) {
							i.type == e.type && i.ids.push(e.comp.compJson.id),
							o.type == e.type && o.ids.push(e.comp.compJson.id),
							a.type == e.type && a.ids.push(e.comp.compJson.id),
							l(e.comp.compJson.id, g, e.type)
						}),
						i.ids.length && r.handles.push(i),
						o.ids.length && r.handles.push(o),
						a.ids.length && r.handles.push(a),
						t.push(r)
					}),
					m.sends && s(t),
					t
				}
				function s(e) {
					m.sends.forEach(function(t) {
						t.handles.forEach(function(t) {
							t.ids.forEach(function(t) {
								var n = !1;
								e.forEach(function(e) {
									e.handles.forEach(function(e) {
										e.ids.forEach(function(e) {
											e == t && (n = !0)
										})
									})
								}),
								n || c(t)
							})
						})
					})
				}
				function c(e) {
					var t = d.pageJson.elements.filter(function(t) {
						return t.id == e
					})[0];
					if (t && t.trigger && t.trigger.receives) {
						var n = t.trigger.receives;
						n.forEach(function(e, t) {
							var i = e.ids.indexOf(g);
							i != -1 && (e.ids.splice(i, 1), 0 == e.ids.length && n.splice(t, 1))
						}),
						0 == n.length && (delete t.trigger.receives, t.trigger.sends || delete t.trigger)
					}
				}
				function l(e, t, n) {
					var i = [],
					o = d.pageJson.elements.filter(function(t) {
						return t.id == e
					})[0];
					if (o) {
						o.trigger = o.trigger || {},
						i = o.trigger.receives = o.trigger.receives || [];
						var a = i.filter(function(e) {
							return e.type == n
						})[0];
						a ? a.ids.indexOf(t) == -1 && a.ids.push(t) : (a = {
							ids: [t],
							type: n
						},
						i.push(a)),
						i.forEach(function(e, o) {
							e.type != n && e.ids.indexOf(t) != -1 && (e.ids.splice(e.ids.indexOf(t), 1), 0 == e.ids.length && i.splice(o, 1))
						})
					}
				}
				function p() {
					var t = [];
					return e.triggerSources.forEach(function(n) {
						var i = !1;
						if (e.triggerEvents.forEach(function(e) {
							e.triggerElements.forEach(function(e) {
								n == e.comp && (i = !0)
							})
						}), !i) {
							var o = 1;
							1 == e.sendType.value && n == e.comp && (o = 2),
							t.push({
								comp: n,
								type: o,
								checked: !1
							})
						}
					}),
					t
				}
				var d = n.getCurrentPage(),
				u = e.comp.compJson,
				g = u.id,
				m = u.trigger = u.trigger || {};
				m.sends = m.sends || [],
				e.sendTypes = [{
					name: "click",
					value: 1,
					title: "点击"
				},
				{
					name: "shake",
					value: 2,
					title: "摇一摇"
				}],
				e.sendType = e.sendTypes[0],
				e.eventTypes = [{
					name: "existElement",
					value: 1,
					title: "选择界面已有元素",
					children: [{
						type: "SHOW",
						title: "显示"
					},
					{
						type: "HIDE",
						title: "隐藏"
					}]
				},
				{
					name: "randomEvent",
					value: 2,
					title: "随机图片"
				}],
				e.addShowIcon = function(t) {
					e.removeIcon(t),
					$('<div class="boom"></div>').appendTo(t.$li)
				},
				e.addHideIcon = function(t) {
					e.removeIcon(t),
					$('<div class="boom1"></div>').appendTo(t.$li)
				},
				e.removeIcon = function(e) {
					e.$li.children(".boom1").remove(),
					e.$li.children(".boom").remove()
				},
				e.triggerSources = o(),
				e.changeTriggerType = function(t) {
					1 == t.value ? (g = u.id, m = u.trigger = u.trigger || {},
					m.sends = m.sends || []) : (g = d.pageJson.id, m = d.pageJson.properties.trigger = d.pageJson.properties.trigger || {},
					m.sends = m.sends || []),
					e.triggerEvents = a()
				},
				e.triggerEvents = a(),
				e.formatTrigger = function() {
					m.sends = r(),
					0 == m.sends.length && delete m.sends,
					m.receives && 0 == m.receives.length && delete m.receives,
					m.sends || m.receives || (1 == e.sendType.value ? delete u.trigger: delete d.pageJson.properties.trigger)
				},
				e.changeTriggerSource = function(t) {
					e.comp = t,
					e.comp.$li.trigger("mousedown.compClick")
				},
				e.switchShow = function(t) {
					1 == t.type ? (t.type = 2, e.addHideIcon(t.comp)) : 2 == t.type && (t.type = 1, e.addShowIcon(t.comp)),
					e.formatTrigger()
				},
				e.removeTriggerElem = function(t, n) {
					var i = e.triggerEvents.indexOf(n),
					o = e.triggerEvents[i].triggerElements.indexOf(t);
					1 == e.triggerEvents[i].triggerElements.length ? e.removeTrigger(e.triggerEvents[i]) : (e.triggerEvents[i].triggerElements.splice(o, 1), e.formatTrigger()),
					e.removeIcon(t.comp)
				},
				e.removeTriggerRandom = function(n) {
					e.removeTrigger(n);
					var i = n.triggerElements[0].comp;
					i && (e.removeIcon(i), t.$broadcast("wsComp.delete", i))
				},
				e.removeTrigger = function(t) {
					var n = e.triggerEvents.indexOf(t);
					e.triggerEvents.splice(n, 1),
					t.triggerElements.forEach(function(t) {
						e.removeIcon(t.comp)
					}),
					e.formatTrigger()
				},
				e.$on("$destroy",
				function() {
					d.eqxCompList.forEach(function(t) {
						e.removeIcon(t)
					})
				}),
				e.editorTriggerEvent = function(t) {
					e.editorTriggerElements = p(),
					t.triggerElements.forEach(function(t) {
						e.editorTriggerElements.push({
							comp: t.comp,
							type: t.type,
							checked: !0
						})
					}),
					e.triggerEvent = t,
					i('<div class="trigger-elem-list" trigger-elem-list panel-draggable></div>')(e).appendTo(".main .content"),
					$('<div class="mask-trigger">').insertAfter("#nr .edit_area")
				},
				e.addTriggerEvent = function(t) {
					e.triggerEvent = {
						delay: 0,
						type: e.sendType.value,
						eventType: t.value,
						title: e.eventTypes[0].title,
						triggerElements: []
					},
					e.triggerEvents.push(e.triggerEvent),
					e.editorTriggerElements = p(),
					i('<div class="trigger-elem-list" trigger-elem-list panel-draggable></div>')(e).appendTo(".main .content"),
					$('<div class="mask-trigger">').insertAfter("#nr .edit_area")
				},
				e.addTriggerElement = function(t) {
					e.triggerEvent = {
						delay: 0,
						type: e.sendType.value,
						eventType: e.eventTypes[1].value,
						title: e.eventTypes[1].title,
						triggerElements: []
					},
					e.triggerEvents.push(e.triggerEvent),
					e.triggerEvent.triggerElements.push({
						comp: t,
						type: 3
					}),
					e.formatTrigger()
				},
				e.confirmTrigger = function() {
					e.confirm()
				},
				e.clearTrigger = function() {
					e.triggerEvents.splice(0, e.triggerEvents.length),
					e.formatTrigger()
				}
			}]
		}
	}
	n(400),
	e.exports = i
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<div><div style=height:410px><div eqd-scroll style=height:100% disable-mouse=true prevent-exception=true><div class=trigger-area><div class=trigger-panels><div class="style_list_angel clearfix pl20"><label style=width:100px;margin-top:5px>浏览页面时，当</label><div class="flo_lef touming"><eqx-select class="select-sm border-width select-contain" model=sendType change=changeTriggerType(sendType)><eqx-select-option value=sendType ng-repeat="sendType in sendTypes">{{sendType.title}}</eqx-select-option></eqx-select></div></div><div class="style_list_angel clearfix pl20" ng-show="sendType.value!=2"><label style=margin-top:5px>页面元素</label><div class="flo_lef touming"><eqx-select class="select-sm border-width select-contain" model=comp change=changeTriggerSource(comp)><eqx-select-option value=triggerSource ng-repeat="triggerSource in triggerSources">{{triggerSource.compJson.name}}</eqx-select-option></eqx-select></div></div></div><div class=event-list><div ng-repeat="triggerEvent in triggerEvents"><div class=select-exist-elem ng-show="triggerEvent.eventType == 1"><section><div class="style_list pl20" ng-class={active:opea.show} ng-init="opea.show=true" ng-click="opea.show=!opea.show">{{triggerEvent.title}} <span ng-click="editorTriggerEvent(triggerEvent);opea.show=!opea.show;">&nbsp;&nbsp;&nbsp;&nbsp;编辑</span> <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b> <span style=margin-left:35px class=eqf-wrong ng-click=removeTrigger(triggerEvent)></span></div><div ng-if=opea.show><form role=form><div class="style_list_angel ml20 mr20"><label>延迟时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model=triggerEvent.delay /></p><div class=slider ui-slider-t ng-model=triggerEvent.delay min=0 max=20></div></div></div><div class="select-trigger-item ml20 mr20"><ul ng-show=triggerEvent.triggerElements.length><li ng-repeat="triggerElement in triggerEvent.triggerElements | orderBy : \'comp.compJson.name\'"><div style="padding:10px 20px"><span hover-element={{triggerElement.comp.compJson.id}} style=cursor:pointer><span>{{triggerElement.comp.compJson.name}}</span></span><div class=fr><span style=padding-right:5px class=fl>{{triggerElement.type == 1 ? \'显示\':\'隐藏\'}}</span><div class=switch style=float:left ng-if="comp!=triggerElement.comp || sendType.value == 2" ng-class="{\'switch-open\':triggerElement.type==1,\'switch-close\':triggerElement.type==2}" ng-click=switchShow(triggerElement)><div class=circle-con><i class=circle></i></div></div><span style=padding-left:10px class=eqf-wrong ng-click="removeTriggerElem(triggerElement, triggerEvent);"></span></div></div></li></ul></div></form></div></section></div><div class=random-event ng-show="triggerEvent.eventType == 2"><section><div class="style_list pr20 pl20" ng-class={active:opea.show} ng-init="opea.show=true" ng-click="opea.show=!opea.show">{{triggerEvent.title}} <b class=caret ng-if=opea.show></b> <b class="caret off" ng-if=!opea.show></b> <span style=margin-left:34px class=eqf-wrong ng-click=removeTriggerRandom(triggerEvent)></span></div><div ng-if=opea.show><form role=form><div class="style_list_angel ml20 mr20"><label>延迟时间</label><div class="touming clearfix"><p class=num><input limit-input class="input_kuang short" type=number step=0.1 min=0 max=20 ng-model=triggerEvent.delay /></p><div class=slider ui-slider-t ng-model=triggerEvent.delay min=0 max=20></div></div></div><div class=select-trigger-item><div ng-show=triggerEvent.triggerElements.length><div ng-repeat="triggerElement in triggerEvent.triggerElements"><span style="cursor:pointer;padding:10px 20px" hover-element={{triggerElement.comp.compJson.id}}><span>随机图片</span> {{$index+1}}</span> <a style=display:inline ng-click=removeTriggerRandom(triggerEvent);>取消</a></div></div></div></form></div></section></div></div></div><div ng-show=triggerSources.includes(comp) class="trigger-btn pl20" ng-mouseleave="obj.showTriggerPanel = false"><div class=event-panel style=margin-bottom:5px><div class=add-trigger ng-click="obj.showTriggerPanel = true;$event.stopPropagation();">添加触发 <span class=clickmore></span></div><div><ul ng-show=obj.showTriggerPanel><li ng-repeat="eventType in eventTypes" ng-click="obj.showTriggerPanel = false;"><span style=display:inline-block;width:100% ng-if="eventType.value == 1" ng-click=addTriggerEvent(eventType)>{{eventType.title}}</span><eqx-random style=display:inline-block;width:100% ng-if="eventType.value == 2" add-element=addTriggerElement(eqxRandomEvent)>{{eventType.title}}</eqx-random></li></ul></div></div></div></div></div></div><div class=btn-option><a class="btn btn-sm green" ng-click=confirmTrigger()>确定</a> <a class="btn btn-sm out-red" ng-click=clearTrigger()>清除</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			template: n(406),
			replace: !1,
			link: function(e) {
				var t = e.triggerEvent;
				e.addTriggerEle = function(n, i) {
					if (i) {
						var o = {
							comp: n.comp,
							type: n.type
						};
						t.triggerElements.push(o),
						1 == n.type ? e.addShowIcon(n.comp) : e.addHideIcon(n.comp)
					} else t.triggerElements.forEach(function(i, o) {
						i.comp == n.comp && (t.triggerElements.splice(o, 1), e.removeIcon(i.comp))
					})
				},
				e.switchEditorShow = function(n) {
					var i = t.triggerElements.filter(function(e) {
						return e.comp == n.comp
					})[0];
					1 == n.type ? n.type = 2 : n.type = 1,
					e.switchShow(i)
				},
				e.confirmList = function() {
					$(".mask-trigger").remove(),
					$(".trigger-list").remove(),
					0 == t.triggerElements.length ? e.triggerEvents.pop() : e.formatTrigger()
				}
			}
		}
	}
	n(405),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=trigger-list><div class=modal-header><h4 class=modal-title>选择触发哪些元素显示或隐藏</h4></div><div class=modal-body><ul highlight-element><li class=trigger-elem ng-repeat="editorTriggerElement in editorTriggerElements" id="{{\'trigger_\' + editorTriggerElement.comp.compJson.id}}"><div><div class="square one-line"><div class=checkbox-square ng-class="{checked: editorTriggerElement.checked}"><em class=eqf-yes2></em> <input type=checkbox ng-model=editorTriggerElement.checked ng-change="addTriggerEle(editorTriggerElement, editorTriggerElement.checked)"/></div><label>{{editorTriggerElement.comp.compJson.name}}</label><div class=fr ng-if=editorTriggerElement.checked><a style=padding-right:5px class=fl>{{editorTriggerElement.type == 1 ? \'显示\':\'隐藏\'}}</a><div class=switch style=float:left ng-if="sendType.value == 2 || comp != editorTriggerElement.comp" ng-class="{\'switch-open\':editorTriggerElement.type==1,\'switch-close\':editorTriggerElement.type==2}" ng-click="switchEditorShow( editorTriggerElement)"><div class=circle-con><i class=circle></i></div></div></div></div></div></li></ul></div><div class=modal-footer><a class="btn btn-primary" ng-click=confirmList()><span>确定</span></a></div></div>'
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e(e, t) {
			var n, i = {};
			e.editorTriggerElements.forEach(function(e) {
				var t = e.comp.compJson;
				i[t.id] = t.css.zIndex || 1
			}),
			i[e.comp.compJson.id] = e.comp.compJson.css.zIndex || 1,
			setTimeout(function() {
				t.find(".trigger-elem").hover(function() {
					n = $(this).attr("id").substring(8),
					e.triggerSources.forEach(function(t) {
						t != e.comp ? t.$li.css({
							zIndex: "",
							backgroundColor: ""
						}) : t.$li.css({
							zIndex: "10001",
							backgroundColor: "rgba(8, 161, 239, .9)"
						})
					});
					var t = $("#inside_" + n);
					t.css({
						zIndex: "10001",
						backgroundColor: "rgba(255,255,255,0.9)"
					})
				},
				function() {
					e.editorTriggerElements.forEach(function(e) {
						e.comp.$li.css({
							zIndex: "10001",
							backgroundColor: "rgba(255,255,255,0.9)"
						})
					})
				})
			},
			0),
			t.on("$destroy",
			function() {
				e.editorTriggerElements.forEach(function(e) {
					e.comp.$li.css({
						zIndex: i[e.comp.compJson.id],
						backgroundColor: ""
					})
				}),
				e.comp.$li.css({
					zIndex: i[e.comp.compJson.id],
					backgroundColor: ""
				})
			})
		}
		return {
			restrict: "A",
			link: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			restrict: "AE",
			replace: !0,
			scope: {},
			template: n(412),
			link: function(n, i) {
				function o() {
					var t = e.getItem("compSettingCss") || {
						top: 100,
						left: 180
					};
					t.top < 51 && (t.top = 51),
					t.left < 0 && (t.left = 0),
					i.css(t)
				}
				o(),
				n.accessStyleTrigger = t.permission("styleTrigger"),
				n.updatePosition = function() {
					var t = parseFloat(i.css("top") || 100),
					n = parseFloat(i.css("left") || 180);
					e.setItem("compSettingCss", {
						top: t,
						left: n
					})
				}
			},
			controller: ["$rootScope", "selectService", "$scope", "$timeout",
			function(e, t, n, i) {
				function a() {
					g || c(n,
					function() {
						if (1 !== t.comps.length) u.comp = null;
						else {
							var e = t.comps[0];
							e !== u.comp && (u.comp = e, u.show = !0, n.setTab(o))
						}
						l()
					})
				}
				function r(t) {
					e.$broadcast("compStyle.save", t || u.comp)
				}
				function s() {
					l(),
					c(n,
					function() {
						return u.comp = null
					})
				}
				function c(e, t) {
					var n = e.$root.$$phase;
					"$apply" === n || "$digest" === n ? t && "function" == typeof t && t() : e.$apply(t)
				}
				function l() {
					n.updatePosition && n.updatePosition()
				}
				var p = n.TAB = {
					style: 1,
					anim: 2,
					trigger: 3
				},
				d = ["p"],
				u = n.vm = {
					tab: o,
					show: !0,
					color: "#FFFFFF",
					comp: null,
					count: 1
				};
				n.setTab = function(e) {
					if (u.comp) {
						var t = u.comp.$ability; (!t.anim && e === p.anim || !t.trigger && e === p.trigger) && (e = p.style)
					}
					u.tab = e,
					o = e
				},
				n.showCompSetting = function() {
					return !! u.comp && !d.includes(u.comp.compJson.type) && u.show
				},
				n.cancel = function() {
					u.show = !1
				},
				n.confirm = function() {
					u.show = !1
				},
				n.$watch("vm.comp",
				function(e, t) {
					t && !e && r(t)
				}),
				n.$watch("vm.show",
				function(e, t) {
					t && !e && r()
				});
				var g = !1;
				n.$on("replacePage", a),
				n.$on("selectService.add", a),
				n.$on("selectService.remove",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.includes(u.comp) && s()
				}),
				n.$on("selectBox.end",
				function() {
					g = !1,
					a()
				}),
				n.$on("selectBox.start",
				function() {
					g = !0
				}),
				n.$on("contextMenu.style",
				function() {
					return n.setTab(p.style)
				}),
				n.$on("contextMenu.anim",
				function() {
					return n.setTab(p.anim)
				}),
				n.$on("contextMenu.trigger",
				function() {
					return n.setTab(p.trigger)
				}),
				n.$on("closeCompSetting",
				function(e, t) {
					t && u.comp && t == u.comp && s()
				})
			}]
		}
	}
	i.$inject = ["storageService", "authorityService"],
	n(409);
	var o = 1;
	e.exports = i
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<div class=comp-setting ng-show=showCompSetting()><div class=cancel><span class=set-title>组件设置</span> <span class="set-close eqf-wrong" ng-click=cancel()></span></div><ul class="nav nav-tabs"><li ng-class="{active: vm.tab == TAB.style}"><a class=all-change ng-click=setTab(TAB.style)>样式</a></li><li ng-class="{active: vm.tab == TAB.anim}" ng-if=vm.comp.$ability.anim><a class=all-change ng-click=setTab(TAB.anim);>动画</a></li><li ng-class="{active: vm.tab == TAB.trigger}" ng-if="vm.comp.$ability.trigger && !accessStyleTrigger"><a class=all-change ng-click=setTab(TAB.trigger)>触发</a></li></ul><div class=style_content ng-if=vm.comp><comp-setting-style ng-if="vm.tab == TAB.style" confirm=confirm() eqx-comp=vm.comp></comp-setting-style><comp-setting-anim ng-if="vm.tab == TAB.anim" confirm=confirm() eqx-comp=vm.comp></comp-setting-anim><comp-setting-trigger ng-if="vm.tab == TAB.trigger" confirm=confirm() eqx-comp=vm.comp></comp-setting-trigger><eqd-drop-down></eqd-drop-down></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.assist", []).directive("eqxAssistLines", n(414)).directive("eqxAssistGrid", n(416)).factory("assistLineService", n(417)).factory("assistGridService", n(418)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		function o(e, t) {
			var n = e.left,
			i = e.top,
			o = e.width,
			c = e.height,
			l = e.transform,
			p = t.x,
			d = t.y,
			u = new r(n + p, i + d),
			g = new r(u.x + o, u.y + c),
			m = new a(u, g);
			if (l) {
				var f = s.parseTransform(l);
				if (f && f.rotate) return m.rotate(f.rotate)
			}
			return m
		}
		return {
			template: '<div class="assist-lines"></div>',
			replace: !0,
			link: function(p, d) {
				function u() {
					for (var a = arguments.length,
					s = Array(a), c = 0; c < a; c++) s[c] = arguments[c];
					if (t.getAssistLineState()) {
						v = !1;
						var l = f.$ele,
						p = d.offset(),
						u = l.offset();
						m = new r(p.left, p.top).offset(new r(u.left, u.top));
						var g = i.getScale(),
						y = m.x,
						b = m.y;
						y /= g,
						b /= g,
						m.x = y,
						m.y = b;
						var x = {
							left: 0,
							top: 0,
							width: l.width(),
							height: l.height()
						},
						w = o(x, m);
						t.addPoints(w.p1, w.p2, w.center()),
						h = e.getCurrentPage(),
						h.eqxCompList.filter(function(e) {
							return s.indexOf(e) === -1
						}).forEach(function(e) {
							var n = e.compJson.css,
							i = o(n, m);
							t.addPoints(i.p1, i.p2, i.center())
						});
						var S = h.pageJson.properties,
						k = 320,
						C = S.longPage || 486,
						T = n.getXsYs(k, C, 1),
						$ = T.xs,
						q = T.ys;
						t.addXs($.map(function(e) {
							return e + m.x
						})),
						t.addYs(q.map(function(e) {
							return e + m.y
						}));
						var I = t.$vLineMap,
						E = t.$hLineMap;
						t.xs.forEach(function(e) {
							if (!I[e]) {
								var n = t.get$vLine(e);
								I[e] = n,
								n.appendTo(d)
							}
						}),
						t.ys.forEach(function(e) {
							if (!E[e]) {
								var n = t.get$hLine(e);
								E[e] = n,
								n.appendTo(d)
							}
						})
					}
				}
				function g(e) {
					if (e === y.id) {
						var n = y.p1,
						i = y.p2,
						r = y.comps;
						t.hide$vLines(),
						t.hide$hLines();
						var p = {
							x: m.x + i.x - n.x,
							y: m.y + i.y - n.y
						},
						d = r.map(function(e) {
							e.$translate3d = null;
							var t = e.compJson.css;
							return o(t, p)
						}),
						u = a.getContainingRect(d),
						g = u.center(),
						f = t.nearXs(u.p1.x, u.p2.x, g.x),
						h = t.nearYs(u.p1.y, u.p2.y, g.y),
						v = t.hintMaxLines;
						f.length > v && (f.length = v),
						h.length > v && (h.length = v);
						var b = t.minDiff(f, [u.p1.x, u.p2.x, g.x]),
						x = t.minDiff(h, [u.p1.y, u.p2.y, g.y]);
						t.show$vLines(f),
						t.show$hLines(h),
						b = c(b),
						x = c(x);
						var w = l(b) <= t.attractThreshold,
						S = l(x) <= t.attractThreshold;
						t.getAttractState() && (w || S) && r.forEach(function(e) {
							var t = e.$li,
							n = t[0].style.transform,
							i = s.parseTransform(n);
							w && (i.translate3d.x -= b),
							S && (i.translate3d.y -= x),
							e.$translate3d = i.translate3d;
							var o = s.updateTransformStr(n, i);
							t.css("transform", o)
						})
					}
				}
				var m, f = e.eqxScene,
				h = null,
				v = !0,
				y = {
					p1: null,
					p2: null,
					comps: null,
					id: 0
				};
				p.$on("compDrag.end",
				function() {
					t.getAssistLineState() && (v = !0, t.clear())
				}),
				p.$on("compDrag.start",
				function(e, t) {}),
				p.$on("compDrag.move",
				function(e, n, i) {
					for (var o = arguments.length,
					a = Array(o > 3 ? o - 3 : 0), r = 3; r < o; r++) a[r - 3] = arguments[r];
					if (t.getAssistLineState()) {
						if (v) return u.apply(void 0, a);
						var s = y.id + 1;
						y.id = s,
						y.p1 = n,
						y.p2 = i,
						y.comps = a,
						g(s)
					}
				})
			}
		}
	}
	i.$inject = ["sceneService", "assistLineService", "assistGridService", "zoomService"],
	n(415);
	var o = n(353),
	a = o.Rect,
	r = o.Point,
	s = n(358),
	c = n(200).toInt,
	l = Math.abs;
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, n, i, o) {
			if (t) {
				var a = e.getXsYs(n, i, o),
				r = a.xs,
				s = a.ys,
				c = {
					width: Math.round(n * o),
					height: Math.round(i * o)
				};
				t.css(c).attr(c);
				var l = t.get(0).getContext("2d");
				l.clearRect(0, 0, c.width, c.height),
				l.fillStyle = e.getColor(),
				r.forEach(function(e) {
					l.fillRect(e, -20, .5, c.height + 40)
				}),
				s.forEach(function(e) {
					l.fillRect(0, e, c.width, .5)
				})
			}
		}
		return {
			scope: {
				eqxPage: "="
			},
			link: function(n, i) {
				function o(e) {
					var i = n.eqxPage;
					if (i && a) {
						var o = i.getPageWidth(),
						r = e || i.getPageHeight(),
						s = 1;
						t(a, o, r, s)
					}
				}
				var a = null;
				n.$watch("eqxPage",
				function() {
					o()
				}),
				n.$on("longPageAdjust.move",
				function(e, t) {
					o(t)
				}),
				n.$watch(function() {
					return e.getColor() + e.getGridState()
				},
				function() {
					o()
				}),
				a = $('<canvas class="eqx-assist-grid">').appendTo(i)
			}
		}
	}
	n.$inject = ["assistGridService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		function n() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			t.forEach(function(e) {
				C.some(function(t) {
					return t.equals(e)
				}) || (C.push(e), i(T, e.x), i(q, e.y))
			})
		}
		function a(e) {
			e.forEach(function(e) {
				return i(T, e)
			})
		}
		function r(e) {
			e.forEach(function(e) {
				return i(q, e)
			})
		}
		function s() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			return p(T, t)
		}
		function c(e, t) {
			var n = 100,
			i = 100;
			return e.forEach(function(e) {
				t.forEach(function(t) {
					i = t - e,
					o(i) < o(n) && (n = i)
				})
			}),
			n
		}
		function l() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			return p(q, t)
		}
		function p(e, t) {
			var n = e.filter(function(e) {
				return t.some(function(t) {
					return o(e - t) < S
				})
			});
			return n
		}
		function d() {
			var e = t.getScale(),
			n = 1,
			i = n * e;
			return i < n && (i = n),
			i
		}
		function u(e) {
			var t = d();
			return $("<div></div>").css({
				display: "none",
				position: "absolute",
				left: e,
				height: "100%",
				"border-right-width": t + "px",
				"border-right-style": "solid",
				"border-right-color": "rgba(255,227,0,1)"
			})
		}
		function g(e) {
			var t = d();
			return $("<div></div>").css({
				display: "none",
				position: "absolute",
				top: e,
				width: "100%",
				"border-top-width": t + "px",
				"border-top-style": "solid",
				"border-top-color": "rgba(255,227,0,1)"
			})
		}
		function m() {
			y(I)
		}
		function f() {
			y(E)
		}
		function h(e) {
			b(I, e)
		}
		function v(e) {
			b(E, e)
		}
		function y(e) {
			Object.keys(e).forEach(function(t) {
				return e[t].hide()
			})
		}
		function b(e, t) {
			t.forEach(function(t) {
				return e[t] && e[t].show()
			})
		}
		function x() {
			C.length = 0,
			T.forEach(function(e) {
				var t = I[e];
				t && (t.remove(), delete I[e])
			}),
			q.forEach(function(e) {
				var t = E[e];
				t && (t.remove(), delete E[e])
			}),
			T.length = 0,
			q.length = 0
		}
		var w = 3,
		S = 2,
		k = 3,
		C = [],
		T = [],
		q = [],
		I = {},
		E = {};
		return {
			getAssistLineState: function() {
				var t = e.getItem("assistLineState");
				return void 0 !== t && null !== t || (t = !0),
				t
			},
			setAssistLineState: function(t) {
				return e.setItem("assistLineState", t)
			},
			getAttractState: function() {
				var t = e.getItem("attractState");
				return void 0 !== t && null !== t || (t = !0),
				t
			},
			setAttractState: function(t) {
				return e.setItem("attractState", t)
			},
			attractThreshold: w,
			hintThreshold: S,
			hintMaxLines: k,
			points: C,
			xs: T,
			ys: q,
			$vLineMap: I,
			$hLineMap: E,
			clear: x,
			addPoints: n,
			addXs: a,
			addYs: r,
			nearXs: s,
			nearYs: l,
			show$vLines: h,
			show$hLines: v,
			hide$vLines: m,
			hide$hLines: f,
			get$vLine: u,
			get$hLine: g,
			minDiff: c
		}
	}
	function i(e, t) {
		for (var n = e.length,
		i = 0; i < n; i++) {
			var o = e[i];
			if (t < o) return e.splice(i, 0, t),
			t;
			if (t === o) return - 1
		}
		e.push(t)
	}
	n.$inject = ["storageService", "zoomService"];
	var o = Math.abs;
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			e.setItem("grid.state", t)
		}
		function n() {
			var t = e.getItem("grid.state");
			return void 0 !== t && null !== t || e.setItem("grid.state", !0),
			e.getItem("grid.state")
		}
		function i(t) {
			e.setItem("grid.color", t)
		}
		function o() {
			return e.getItem("grid.color") || "rgba(150, 150, 150, 0.2)"
		}
		function a() {
			return parseInt(e.getItem("grid.cellSize") || "36")
		}
		function r(t) {
			e.setItem("grid.cellSize", t)
		}
		function s(e, t, i) {
			var o = [],
			r = [];
			if (!n()) return {
				xs: o,
				ys: r
			};
			for (var s = {
				width: Math.round(e * i),
				height: Math.round(t * i)
			},
			c = a(), l = Math.ceil(s.height / c / 2), p = Math.ceil(s.width / c / 2), d = 0; d < p; d++) {
				var u = Math.round(s.width / 2 - d * c);
				o.push(u),
				d > 0 && (u = Math.round(s.width / 2 + d * c), o.push(u))
			}
			for (var g = 0; g < l; g++) {
				var m = Math.round(s.height / 2 - g * c);
				r.push(m),
				g > 0 && (m = Math.round(s.height / 2 + g * c), r.push(m))
			}
			return {
				xs: o,
				ys: r
			}
		}
		return {
			setGridState: t,
			getGridState: n,
			setColor: i,
			getColor: o,
			getCellSize: a,
			setCellSize: r,
			getXsYs: s
		}
	}
	n.$inject = ["storageService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.contextMenu", []).directive("eqxContextMenu", n(420)).directive("eqxContextMenuTrigger", n(423)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e) {
		"ngInject";
		return {
			restrict: "E",
			template: n(422),
			replace: !0,
			scope: {},
			controller: ["$scope", "$rootScope", "selectService", "sceneService", "copyService", "copyAnimService", "$timeout", "authorityService",
			function(e, t, n, o, a, r, s, c) {
				function l() {
					return a.getJsons().length > 0
				}
				function p() {
					return !! r.getCopyAnim()
				}
				var d = {
					none: 0,
					single: 1,
					multi: 2
				},
				u = {
					edit: [!1, !0, !1],
					style: [!1, !0, !1],
					anim: [!1, !0, !1],
					sound: [!1, !0, !1],
					trigger: [!1, !0, !1],
					link: [!1, !0, !1],
					copy: [!1, !0, !0],
					paste: [!0, !0, !0],
					cut: [!1, !0, !1],
					copyAnim: [!1, !0, !1],
					pasteAnim: [!1, !0, !0],
					zIndex: [!1, !0, !1]
				},
				g = e.vm = {
					show: !1,
					mode: d.none
				};
				e.accessContextMenuLink = c.permission("contextMenuLink"),
				e.accessContextMenuTrigger = c.permission("contextMenuTrigger"),
				e.edit = function() {
					if (g.mode === d.single) {
						var i = n.comps[0];
						i && t.$broadcast("wsComp.edit", i)
					}
					e.hide()
				},
				e.openAnim = function() {
					t.$broadcast("contextMenu.anim"),
					e.hide()
				},
				e.openStyle = function() {
					t.$broadcast("contextMenu.style"),
					e.hide()
				},
				e.openTrigger = function() {
					t.$broadcast("contextMenu.trigger"),
					e.hide()
				},
				e.openSound = function() {
					if (g.mode === d.single) {
						var i = n.comps[0];
						i && t.$broadcast("wsComp.edit.sound", i)
					}
					e.hide()
				},
				e.openLink = function() {
					if (g.mode === d.single) {
						var i = n.comps[0];
						i && t.$broadcast("wsComp.edit.link", i)
					}
					e.hide()
				},
				e.copyComps = function() {
					a.addJsons.apply(a, i(n.comps)),
					e.hide()
				},
				e.pasteComps = function() {
					t.$broadcast("contextMenu.paste"),
					e.hide()
				},
				e.copyAnim = function() {
					r.setCopyAnim(n.comps[0].compJson.properties.anim),
					e.hide(),
					e.openAnim()
				},
				e.pasteAnim = function() {
					var t = r.getCopyAnim();
					t && n.comps.forEach(function(e) {
						var n = JSON.parse(JSON.stringify(t));
						e.stopAnimation(),
						s(function() {
							var t, o = e.compJson.properties;
							o.anim.length = 0,
							(t = o.anim).push.apply(t, i(n)),
							e.startAnimation({
								maxCount: 1,
								reset: !0
							})
						},
						0)
					}),
					e.hide()
				},
				e.updateIndex = function(e) {
					var i = o.getCurrentPage(),
					a = n.comps[0];
					i.updateCompZIndex(a, e),
					t.$broadcast("contextMenu.zIndex")
				},
				e["delete"] = function() {
					var i = n.comps[0];
					i && t.$broadcast("wsComp.delete", i),
					e.hide()
				},
				e.cropComp = function() {
					var i = n.comps[0];
					i && t.$broadcast("wsComp.crop", i),
					e.hide()
				},
				e.showFeature = function(e) {
					var t = u[e][g.mode];
					if (t) {
						if ("paste" === e) return l();
						if ("pasteAnim" === e) return p();
						if (g.mode === d.single) {
							var i = n.comps[0];
							if (i) {
								var o = i.compJson.type,
								a = i.$ability;
								if (["anim", "trigger", "sound", "link"].includes(e)) return !! a[e];
								if ("copyAnim" === e) return a.anim;
								if ("style" === e) return a.style && Object.keys(a.style).length;
								if ("cut" === e) return 4 == o
							}
						}
					}
					return t
				},
				e.update = function() {
					var t = n.comps.length;
					return g.mode = t > 1 ? 2 : t,
					Object.keys(u).some(function(t) {
						return e.showFeature(t)
					})
				}
			}],
			link: function(t, n) {
				function i(n, i, o) {
					function a(e) {
						return e - u.p1.x
					}
					function s() {
						return o - u.p1.y
					}
					var c = n.parent(),
					l = c.offset(),
					p = c.scrollTop(),
					d = c.scrollLeft();
					l = {
						left: l.left - d,
						top: l.top - p
					};
					var u = new r(l.left, l.top, c.width(), c.height());
					e(function() {
						var e = {
							width: n.width(),
							height: n.height()
						};
						i = a(i),
						o = s(o),
						n.css({
							left: i,
							top: o
						}),
						o + e.height > u.height - 10 && n.css("top", o - e.height - 2),
						i + e.width > u.width + 40 && n.css("left", i - e.width - 2),
						t.show(),
						c.on("mousemove.contextMenu",
						function(i) {
							var o = n.offset(); (i.pageX < o.left - 20 || i.pageX > o.left + e.width + 20 || i.pageY < o.top - 20 || i.pageY > o.top + e.height + 20) && (t.hide(), c.off(".contextMenu"))
						})
					},
					0)
				}
				function o() {
					n.on("mousedown.contextMenu",
					function(e) {
						e.stopPropagation(),
						e.preventDefault()
					}),
					n.on("$destroy",
					function(e) {
						return n.off(".contextMenu")
					}),
					t.hide()
				}
				t.show = function() {
					n.css("visibility", "visible")
				},
				t.hide = function() {
					n.css("visibility", "hidden")
				},
				t.$on("contextMenu",
				function(o, a) {
					var r = t.update();
					r && e(function() {
						return i(n, a.pageX, a.pageY)
					},
					0)
				}),
				t.$on("selectBox.start",
				function() {
					t.hide()
				}),
				o()
			}
		}
	}
	o.$inject = ["$timeout"];
	var a = n(353),
	r = a.Rect;
	n(421),
	e.exports = o
},
function(e, t) {},
function(e, t) {
	e.exports = '<ul id=popMenu class=dropdown-menu style=min-width:150px;display:block;z-index:1042><li ng-click=edit() ng-show="showFeature(\'edit\')"><a role=menuitem tabindex=-1><div class=eqf-write></div>编辑</a></li><li ng-click=openStyle() ng-show="showFeature(\'style\')"><a role=menuitem tabindex=-1><div class=eqf-type></div>样式</a></li><li ng-click=openAnim() ng-show="showFeature(\'anim\')"><a role=menuitem tabindex=-1><div class=eqf-move></div>动画</a></li><li ng-click=openSound() eqx-comp-sound ng-show="showFeature(\'sound\')"><a role=menuitem tabindex=-1><div class=eqf-music></div>音效</a></li><li ng-click=openTrigger() ng-show="showFeature(\'trigger\') && !accessContextMenuTrigger"><a role=menuitem tabindex=-1><div class=eqf-chufa></div>触发</a></li><li ng-click=openLink() eqx-comp-link ng-show="showFeature(\'link\') && !accessContextMenuLink"><a role=menuitem tabindex=-1><div class=eqf-link></div>链接</a></li><li ng-click=copyComps() ng-show="showFeature(\'copy\')"><a role=menuitem tabindex=-1><div class=eqf-scene-copy></div>复制</a></li><li ng-click=pasteComps() ng-show="showFeature(\'paste\')"><a role=menuitem tabindex=-1><div class=eqf-scene-copy></div>粘贴</a></li><li ng-click=cropComp() ng-show="showFeature(\'cut\')"><a role=menuitem tabindex=-1><div class=eqf-cut></div>裁切</a></li><li ng-click=copyAnim() ng-show="showFeature(\'copyAnim\')"><a role=menuitem tabindex=-1><div class=eqf-copy-animation></div>复制动画</a></li><li ng-click=pasteAnim() ng-show="showFeature(\'pasteAnim\')"><a role=menuitem tabindex=-1><div class=eqf-copy-animation></div>粘贴动画</a></li><li class=bottom_bar ng-show="showFeature(\'zIndex\')"><a title=置顶 ng-click="updateIndex(\'++\')"><div class="eqf-top up-all"></div></a><a title=上移一层 ng-click="updateIndex(\'+1\')"><div class="eqf-up up"></div></a><a title=下移一层 ng-click="updateIndex(\'-1\')"><div class="eqf-down down"></div></a><a title=置底 ng-click="updateIndex(\'--\')"><div class="eqf-under down-all"></div></a><a title=删除 ng-click=delete()><div class="eqf-scene-delete remove"></div></a></li></ul>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			priority: 0,
			link: function(t, n) {
				$(document).contextmenu(function(e) {
					e.preventDefault(),
					e.stopPropagation()
				}),
				n.contextmenu(function(t) {
					t.preventDefault(),
					t.stopPropagation(),
					e.$broadcast("contextMenu", t)
				})
			}
		}
	}
	n.$inject = ["$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.multiSelect", []).directive("eqxMultiSelectPanel", n(425)).directive("eqxAlign", n(428)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o() {
		return {
			restrict: "E",
			replace: !0,
			scope: {},
			template: n(427),
			controller: ["$scope", "$rootScope", "selectService", "copyService",
			function(e, t, n, o) {
				"ngInject";
				e.comps = n.comps;
				var a = e.vm = {
					canPaste: !1
				};
				e.$watch(function() {
					return o.getJsons().length > 0
				},
				function(e) {
					return a.canPaste = e
				}),
				e.copyComps = function() {
					o.addJsons.apply(o, i(n.comps))
				},
				e.pasteComps = function() {
					t.$broadcast("multiSelect.paste")
				},
				e["delete"] = function() {
					t.$broadcast.apply(t, ["wsComp.delete"].concat(i(n.comps)))
				}
			}]
		}
	}
	n(426),
	e.exports = o
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=select-panel ng-show="comps.length > 1"><div class="modal-header ng-scope"><span>多选操作</span></div><div class=select-content><ul><li><a class="hint--bottom hint--rounded" eqx-align data-hint=左对齐><span class=eqf-putleft></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=水平居中对齐><span class=eqf-putmiddle></span> </a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=右对齐><span class=eqf-putright></span> </a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=上对齐><span class=eqf-puttop></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=垂直居中对齐><span class=eqf-putcenter></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=下对齐><span class=eqf-putunder></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=竖直均分><span class=eqf-chuizhijunfen></span></a></li><li><a class="hint--bottom hint--rounded" eqx-align data-hint=水平均分><span class=eqf-shuipingjunfen></span></a></li></ul><ul><li ng-click=copyComps()><a class="hint--bottom hint--rounded" data-hint=复制><span class=eqf-scene-copy></span></a></li><li ng-click=pasteComps()><a class="hint--bottom hint--rounded" data-hint=粘贴 ng-class="{disabled: !vm.canPaste}"><span class=eqf-print></span></a></li><li ng-click=delete()><a class="hint--bottom hint--rounded" data-hint=删除 eqx-delete-more><span class=eqf-scene-delete></span></a></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "selectService",
			function(e, t, n) {
				"ngInject";
				e.align = function(e) {
					var o = n.comps,
					c = o.length;
					if (! (c < 1)) {
						for (var l = Number.POSITIVE_INFINITY,
						p = Number.NEGATIVE_INFINITY,
						d = Number.POSITIVE_INFINITY,
						u = Number.NEGATIVE_INFINITY,
						g = 0; g < c; g++) {
							var m = o[g],
							f = m.compJson.css,
							h = f.left,
							v = f.top,
							y = f.width,
							b = f.height,
							x = f.transform;
							m.$rect1 = new a({
								x: h,
								y: v
							},
							y, b);
							var w = r.parseTransform(x).rotate;
							w && (m.$rect1 = m.$rect1.rotate(w));
							var S = m.$rect2 = new a(m.$rect1);
							m.$center = m.$rect2.center(),
							S.p1.x < l && (l = S.p1.x),
							S.p1.y < d && (d = S.p1.y),
							S.p2.x > p && (p = S.p2.x),
							S.p2.y > u && (u = S.p2.y)
						}
						var k = s((l + p) / 2),
						C = s((d + u) / 2);
						switch (e) {
						case "左对齐":
							o.forEach(function(e) {
								return e.$rect2.moveX(l - e.$rect2.p1.x)
							});
							break;
						case "右对齐":
							o.forEach(function(e) {
								return e.$rect2.moveX(p - e.$rect2.p2.x)
							});
							break;
						case "上对齐":
							o.forEach(function(e) {
								return e.$rect2.moveY(d - e.$rect2.p1.y)
							});
							break;
						case "下对齐":
							o.forEach(function(e) {
								return e.$rect2.moveY(u - e.$rect2.p2.y)
							});
							break;
						case "水平居中对齐":
							o.forEach(function(e) {
								return e.$rect2.moveX(k - e.$center.x)
							});
							break;
						case "垂直居中对齐":
							o.forEach(function(e) {
								return e.$rect2.moveY(C - e.$center.y)
							});
							break;
						case "水平均分":
							if (c < 2) return;
							var T = o.map(function(e) {
								return e
							}).sort(function(e, t) {
								return e.$center.x - t.$center.x
							});
							l = T[0].$center.x,
							p = T[c - 1].$center.x;
							var $ = (p - l) / (c - 1);
							T.forEach(function(e, t) {
								var n = l + $ * t - e.$center.x;
								e.$rect2.moveX(n)
							});
							break;
						case "竖直均分":
							if (c < 2) return;
							T = o.map(function(e) {
								return e
							}).sort(function(e, t) {
								return e.$center.y - t.$center.y
							}),
							d = T[0].$center.y,
							u = T[c - 1].$center.y,
							$ = (u - d) / (c - 1),
							T.forEach(function(e, t) {
								var n = d + $ * t - e.$center.y;
								e.$rect2.moveY(n)
							})
						}
						t.$broadcast.apply(t, ["align"].concat(i(o)))
					}
				}
			}],
			link: function(e, t, n) {
				var i = n.hint;
				t.on("click.align",
				function() {
					e.$apply(function() {
						return e.align(i)
					})
				}),
				t.on("$destroy",
				function() {
					return t.off(".align")
				})
			}
		}
	}
	var a = n(354),
	r = n(358),
	s = n(200).toInt;
	e.exports = o
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.tool", [n(430)]).directive("eqxWsTool", n(435)).directive("eqxToolBg", n(438)).directive("eqxToolEffect", n(440)).directive("eqxToolBgm", n(442)).directive("eqxToolGrid", n(444)).directive("eqxToolZoom", n(446)).directive("eqxZoomTip", n(448)).directive("eqxZoomWs", n(451)).directive("fixedTool", n(452)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("tool.psd", []).factory("psdValidation", n(431)).factory("psdService", n(432)).directive("eqdToolPsd", n(433)).name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			if (t.length > 1) return e.openMsgDialog({
				msg: "您每次上传只能添加一个PSD格式的图片！"
			}),
			!1;
			if (t.length < 1) return e.openMsgDialog({
				msg: "您还没有添加PSD格式的图片！"
			}),
			!1;
			var n = t[0].name.substr(t[0].name.lastIndexOf(".")).toLowerCase();
			return ".psd" !== n ? (e.openMsgDialog({
				msg: "您上传的不是PSD格式图片，请添加PSD格式的图片！"
			}), !1) : !(t[0].size > 31457280) || (e.openMsgDialog({
				msg: "psd文件大小超过30M了，上传文件不可以超过30M。"
			}), !1)
		}
		function n(t) {
			var n = t.filter(function(e) {
				if ("string" == typeof e) return e
			});
			if (n.length > 0) {
				var i = n.join(",");
				e.openMsgDialog({
					msg: '图层 "' + i + '" 超过5M，我们已经屏蔽掉了！'
				})
			}
		}
		return {
			validationPsd: t,
			removeLayerWarning: n
		}
	}
	n.$inject = ["modalService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			function t(e) {
				if (e.childless())"layer" === e.type && 0 !== e.width && 0 !== e.height && n.push(e);
				else for (var i = e.children().length - 1; i > -1; i--) e.children()[i].visible() === !0 && t(e.children()[i])
			}
			var n = [];
			return t(e),
			n
		}
		function t(t) {
			var n = require1("psd");
			return n.fromDroppedFile(t).then(function(t) {
				return e(t.tree())
			})
		}
		function n(e) {
			return t(e[0])
		}
		return {
			psdDecompose: n
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, a, r, s, c, l) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(434),
			scope: {},
			link: function(n) {
				function p() {
					var e = "//lib.eqh5.com/psd.js/3.1.0/psd.min.js";
					return new Promise(function(t) {
						o.delayLoadJSAndCSS(e, "js").then(function(e) {
							if (e) {
								var n = document.createElement("script");
								n.type = "text/javascript",
								n.text = "var require1 = require";
								var i = document.getElementsByTagName("head")[0];
								i.appendChild(n),
								t()
							}
						})
					})
				}
				function d(e) {
					return i.psdDecompose(e)
				}
				function u(e) {
					return e.length > 0 ? a.getUploadToken("image").then(function(t) {
						return Promise.all(e.map(function(e, n) {
							var i = e.layer.image.toBase64().substring(22);
							return i.length > 5242880 ? Promise.resolve(e.name) : a.uploadBase64(t, i).then(function(t) {
								var n = {
									fileType: "1",
									bizType: 0,
									path: t.key,
									tmbPath: t.key,
									tagId: 0,
									name: e.name.substr(0, 50),
									size: Math.ceil(t.size / 1024)
								};
								return r.saveFileInfo(n)
							}).then(function(t) {
								var i = t.data.obj;
								return i.top = e.layer.top / 2,
								i.left = e.layer.left / 2,
								i.width = e.layer.width / 2,
								i.height = e.layer.height / 2,
								s.setCurrent(n + 1),
								i
							})["catch"](function(e) {
								return e
							})
						}))
					})["catch"](function(e) {
						return e
					}) : e
				}
				function g(t) {
					t.map(function(t) {
						e.$broadcast("psd.image", t)
					})
				}
				function m(e) {
					p().then(function() {
						return d(e)
					}).then(function(e) {
						return s.setTotal(e.length),
						s.setShowLoading(!0),
						u(e)
					}).then(function(e) {
						s.setShowLoading(!1),
						g(e),
						t.removeLayerWarning(e),
						l.image.clearTag(l.image.ID.my, l.image.ID.my + "-all")
					})["catch"](function(e) {
						s.setShowLoading(!1),
						alert(e)
					})
				}
				n.reminder = !1,
				n.openRemind = function() {
					n.reminder = !n.reminder,
					s.setTotal(0),
					s.setCurrent(0)
				},
				n.psdAccessController = c.permission("disablePsd"),
				n.fileNameChanged = function(e) {
					$(e.target).parent().find("input").remove();
					var i = $('<input type="file" style="display:none;" accept=".psd"/>');
					$(e.target).parent().append(i),
					i.trigger("click"),
					i.change(function() {
						i.remove(),
						t.validationPsd(this.files) && m(this.files)
					}),
					n.openRemind()
				}
			}
		}
	}
	i.$inject = ["$rootScope", "psdValidation", "psdService", "uploaderService", "fileAPI", "psdLoadingService", "authorityService", "imageService"];
	var o = n(293);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=psdTool ng-click=openRemind(); ng-if=!psdAccessController big-data-event categorytwoid=33 categorytwo=psd文件上传 actiontype=4><em class="imp heart" ng-if=showPhoneTip></em> <i class=eqf-ps style=font-size:15px></i></div><div ng-class={showin:reminder} class=showxiu><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=openRemind();><span aria-hidden=true>×</span></button><h4 class=modal-title>PSD上传</h4></div><div class=modal-body><p style=line-height:30px;text-align:left>1. 建议上传单页PSD尺寸为640*1008px。<br/>2. 为保证上传速度，PSD文件大小不超过30M，图层不能超过30个，且每个图层不能够超过5M。<br/>3. 为保证图片质量，建议上传前尽量将效果合并至图层中。</p></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=fileNameChanged($event);>确定</button></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			replace: !0,
			scope: {
				showPhone: "=",
				eqxPage: "="
			},
			template: n(437),
			controller: ["$scope", "$rootScope", "$q", "$timeout", "selectService", "historyService", "workspaceService", "warnService",
			function(e, t, n, i, o, a, r, s) {
				"ngInject";
				function c() {
					if (l) {
						var e = l.pageJson.id;
						p = a.getPageHistory(e)
					} else p = null
				}
				var l = null,
				p = null;
				e.vm = {
					get showPhone() {
						if (l) {
							var e = l.pageJson.properties;
							if (e.longPage) return ! 1
						}
						return r.showPhone
					},
					get warn() {
						return s.state
					}
				},
				e.canBack = function() {
					return !! p && p.canBack()
				},
				e.canForward = function() {
					return !! p && p.canForward()
				},
				e.back = function() {
					t.$broadcast("tool.back")
				},
				e.forward = function() {
					t.$broadcast("tool.forward")
				},
				e.preview = function() {
					l && (l.eqxCompList.forEach(function(e) {
						return e.stopAnimation()
					}), i(function() {
						l.eqxCompList.forEach(function(e) {
							return e.startAnimation({
								maxCount: 1,
								reset: !0
							})
						})
					},
					1))
				},
				e.copyPage = function() {
					t.$broadcast("tool.copyPage")
				},
				e.togglePhone = function() {
					if (l) {
						var e = l.pageJson.properties;
						if (e.longPage) return
					}
					r.showPhone = !r.showPhone
				},
				e.$watch("eqxPage",
				function() {
					l = e.eqxPage,
					c()
				})
			}]
		}
	}
	n(436),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=ws-tool fixed-tool><a data-hint=撤消(ctrl+z) ng-class="{active: canBack()}" class="hint--right hint--rounded" big-data-event categorytwoid=26 categorytwo=撤消 actiontype=4 ng-click=back()><i class=eqf-bg style=font-size:12px></i> </a><a data-hint=恢复(ctrl+y) ng-class="{active: canForward()}" class="hint--right hint--rounded" ng-click=forward() big-data-event categorytwoid=27 categorytwo=恢复 actiontype=4><i class=eqf-back style=font-size:12px></i> </a><a data-hint=刷新预览 class="active hint--right hint--rounded" ng-click=preview() big-data-event categorytwoid=28 categorytwo=刷新预览 actiontype=4><i class=eqf-play2></i> </a><a data-hint=复制当前页 style=margin-bottom:1px class="active hint--right hint--rounded" ng-click=copyPage() big-data-event categorytwoid=29 categorytwo=复制当前页 actiontype=4><i class=eqf-scene-copy></i></a><eqx-tool-bg></eqx-tool-bg><eqx-tool-bgm></eqx-tool-bgm><eqx-tool-effect></eqx-tool-effect><eqx-tool-grid></eqx-tool-grid><eqx-tool-zoom></eqx-tool-zoom><a data-hint=手机边框 class="hint--right hint--rounded" ng-click=togglePhone() ng-class="{active: vm.showPhone}" big-data-event categorytwoid=32 categorytwo=手机边框 actiontype=4><i class=eqf-phone style=font-size:15px></i></a><eqd-tool-psd></eqd-tool-psd><a id=warn data-hint=警告 class="hint--right hint--rounded" ng-class=vm.warn><i class=eqf-exclamation-sign></i></a></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(439),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService",
			function(e, t, n) {
				"ngInject";
				function i() {
					var e = n.getCurrentPage();
					if (e) return e.pageJson.elements.find(function(e) {
						return "3" == e.type
					})
				}
				var o = e.vm = {
					get bgJson() {
						return i()
					},
					showPanel: !1,
					showEffectPanel: !1
				};
				e.toggle = function() {
					o.bgJson ? o.showPanel = !0 : (e.changeBg(), o.showPanel = !1)
				},
				e.closePanel = function() {
					o.showPanel = !1,
					o.showEffectPanel = !1
				},
				e.changeBg = function() {
					e.closePanel(),
					t.$broadcast("bg.edit")
				},
				e.cutBg = function() {
					e.closePanel(),
					t.$broadcast("bg.cut", o.bgJson)
				},
				e.showEffect = function() {
					return 2 != o.bgJson.properties.croptype
				},
				e.changeEffect = function(n) {
					e.closePanel(),
					e.showEffect() && t.$broadcast("bg.effect", n)
				},
				e.removeBg = function() {
					e.closePanel(),
					t.$broadcast("bg.delete")
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=背景 ng-click=toggle() class="hint--right hint--rounded" ng-class="{active: !!vm.bgJson}" big-data-event categorytwoid=2 categorytwo=背景 actiontype=4><i class=eqf-top-background style=font-size:13px></i></a><div class=background-container ng-mouseenter="vm.showEffectPanel = false;" ng-if=vm.showPanel outside-click=closePanel() ng-class="{\'on\': vm.showPanel}"><div class=background-panel><div class=setting-group ng-if=vm.bgJson.properties.imgSrc ng-mouseenter="vm.showEffectPanel = false;" ng-click=cutBg()><div class=setting-btn><span class=eqf-cut></span></div><span>裁剪</span></div><div class=setting-group ng-mouseenter="vm.showEffectPanel = false;" ng-click=changeBg()><div class=setting-btn><span class=eqf-refresh></span></div><span>更换</span></div><div class=setting-group ng-if=showEffect() ng-mouseenter="vm.showEffectPanel = true;" ng-click=changeEffect()><div class=setting-btn><span class=eqf-xiaoguo></span></div><span>效果</span></div><div class=setting-group ng-mouseenter="vm.showEffectPanel = false;" ng-click=removeBg($event)><div class=setting-btn><span class=eqf-scene-delete></span></div><span>删除</span></div></div></div><div class=bgoption-container ng-class="{\'on\':  vm.showPanel && vm.showEffectPanel }"><div class=bgoption-panel><div class=setting-group ng-class="{active: vm.bgJson.effect && vm.bgJson.effect.type == \'scaleUp\' }" ng-click="changeEffect(\'scaleUp\')"><div class=setting-btn><span class=eqf-bigger></span></div><span>放大</span></div><div class=setting-group ng-class="{active: vm.bgJson.effect && vm.bgJson.effect.type == \'scaleDown\' }" ng-click="changeEffect(\'scaleDown\')"><div class=setting-btn><span class=eqf-small></span></div><span>缩小</span></div><div class=setting-group ng-if=vm.bgJson.effect ng-click=changeEffect()><div class=setting-btn><span class=eqf-wrong></span></div><span>删除</span></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(441),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = e.vm = {
					get showEffect() {
						var e = n.getCurrentPage();
						if (e) return !! e.pageJson.properties.effect
					},
					showPanel: !1
				};
				e.toggle = function() {
					i.showEffect ? i.showPanel = !0 : (e.changeEffect(), i.showPanel = !1)
				},
				e.closePanel = function() {
					i.showPanel = !1
				},
				e.changeEffect = function() {
					i.showPanel = !1,
					t.$broadcast("pageEffect.edit")
				},
				e.removeEffect = function() {
					i.showPanel = !1,
					t.$broadcast("pageEffect.delete")
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=特效 class="hint--right hint--rounded" style=margin-bottom:1px ng-click=toggle() ng-class="{active: vm.showEffect}" big-data-event categorytwoid=9 categorytwo=特效 actiontype=4><i class=eqf-top-star style=font-size:16px></i></a><div class=effects-container ng-if=vm.showPanel ng-class="{\'on\':vm.showPanel}" outside-click=closePanel()><div class=effects-panel><div class=setting-group ng-click=changeEffect() data-event=12033><div class=setting-btn><span class=eqf-refresh></span></div><span>更换</span></div><div class=setting-group ng-click=removeEffect() data-event=12033><div class=setting-btn><span class=eqf-scene-delete></span></div><span>删除</span></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(443),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = n.eqxScene,
				o = e.vm = {
					get showBgm() {
						return !! i.sceneJson.meta.bgAudio
					},
					showPanel: !1
				};
				e.toggle = function() {
					o.showBgm ? o.showPanel = !0 : (e.changeBgm(), o.showPanel = !1)
				},
				e.closePanel = function() {
					o.showPanel = !1
				},
				e.changeBgm = function() {
					o.showPanel = !1,
					t.$broadcast("bgm.edit")
				},
				e.removeBgm = function() {
					o.showPanel = !1,
					t.$broadcast("bgm.delete")
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=音乐 class="hint--right hint--rounded" ng-click=toggle() ng-class="{active: vm.showBgm}" big-data-event categorytwoid=3 categorytwo=音乐 actiontype=4><i class=eqf-top-music></i></a><div class=music-container ng-class="{\'on\': vm.showPanel }" ng-if=vm.showPanel outside-click=closePanel()><div class=music-panel><div class=setting-group ng-click=changeBgm() data-event=12032><span>更换</span><div class=setting-btn><span class=eqf-refresh></span></div></div><div class=setting-group ng-click=removeBgm() data-event=12032><span>删除</span><div class=setting-btn><span class=eqf-scene-delete></span></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(445),
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService", "assistLineService", "assistGridService",
			function(e, t, n, i, o) {
				"ngInject";
				var a = o,
				r = i,
				s = e.vm = {
					get gridState() {
						return a.getGridState() ? "enable": "disable"
					},
					set gridState(e) {
						return a.setGridState("enable" == e)
					},
					get gridColor() {
						return a.getColor()
					},
					set gridColor(e) {
						a.setColor(e)
					},
					get attractState() {
						return r.getAttractState() ? "enable": "disable"
					},
					set attractState(e) {
						r.setAttractState("enable" == e),
						r.getAttractState() && r.setAssistLineState(!0)
					},
					get assistLineState() {
						return r.getAssistLineState() ? "enable": "disable"
					},
					set assistLineState(e) {
						r.setAssistLineState("enable" == e),
						r.getAssistLineState() || r.setAttractState(!1)
					},
					get showGrid() {
						return r.getAttractState() || r.getAssistLineState() || a.getGridState()
					},
					showPanel: !1
				};
				e.toggle = function() {
					s.showPanel = !0
				},
				e.closePanel = function() {
					s.showPanel = !1
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=网格设置 class="hint--right hint--rounded grid-guide" ng-click=toggle() ng-class="{active: vm.showGrid}" big-data-event categorytwoid=30 categorytwo=网格设置 actiontype=4><i class=eqf-wangge style=font-size:13px></i></a><div class="grid-guide-container on" ng-if=vm.showPanel outside-click=closePanel()><div class=grid-guide-setting><div class=setting-group><span>网格开关</span><div class=setting-choice><switch-btn ng-model=vm.gridState></switch-btn></div></div><div class=setting-group><span style=height:24px>网格颜色</span></div><div class=setting-group style=height:44px><eqd-input-color select-color=vm.gridColor direction=left theme=flo_lef notify=grid x=-18 w=128 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color></div><div class=setting-group><span>智能参考</span><div class=setting-choice><switch-btn ng-model=vm.assistLineState></switch-btn></div></div><div class=setting-group><span>吸附效果</span><div class=setting-choice><switch-btn ng-model=vm.attractState></switch-btn></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			scope: {},
			template: o,
			controller: ["$scope", "zoomService", "$rootScope", "authorityService",
			function(e, t, n, i) {
				"ngInject";
				var o = e.vm = {
					scale: 1,
					showPanel: !1
				};
				e.toolZoomAccessController = i.permission("toolZoom"),
				e.showPanel = function() {
					o.showPanel = !0
				},
				e.closePanel = function() {
					o.showPanel = !1
				},
				e.update = function() {
					n.$broadcast("updateScale", t.getScale())
				},
				e.setDefault = function() {
					t.setDefault(),
					e.update(),
					e.closePanel()
				},
				e.zoomOut = function() {
					t.zoomOut(),
					e.update(),
					e.closePanel()
				},
				e.zoomIn = function() {
					t.zoomIn(),
					e.update(),
					e.closePanel()
				}
			}]
		}
	}
	var o = n(447);
	e.exports = i
},
function(e, t) {
	e.exports = '<a data-hint=编辑区域缩放 ng-if=!toolZoomAccessController ng-click=showPanel() eqx-red-dot-trigger=zoom class="hint--right hint--rounded active"><em eqx-red-dot=zoom></em> <i class=eqf-search style=font-size:15px></i></a><div class="zoom-container on" ng-if=vm.showPanel outside-click=closePanel()><div class=zoom-panel><a ng-click=zoomOut()><i class=eqf-bigger></i></a> <a ng-click=zoomIn()><i class=eqf-small></i></a> <a ng-click=setDefault()>默认</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			scope: {},
			replace: !0,
			template: o,
			link: function(e, t) {
				e.$on("updateScale",
				function() {
					e.showZoomTip(t)
				})
			},
			controller: ["$scope", "zoomService",
			function(e, t) {
				"ngInject";
				function n(e) {
					return parseInt(100 * e, 10) + "%"
				}
				e.vm = {
					tip: n(t.getScale())
				};
				var i = null;
				e.showZoomTip = function(e) {
					e.html(n(t.getScale())),
					e.fadeIn(800),
					i && clearTimeout(i),
					i = setTimeout(function() {
						e.fadeOut(800)
					},
					2500)
				}
			}]
		}
	}
	n(449);
	var o = n(450);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=zoom-tip>{{vm.tip}}</div>"
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		return {
			scope: {},
			link: function(n, i) {
				function o(e) {
					i.css("transform", "scale(" + e + ")"),
					console.log("transform", "scale(" + e + ")"),
					setTimeout(function() {
						var t = c.getBoundingClientRect(),
						n = t.left + t.width / 2,
						o = t.top + t.height / 2,
						a = i[0].getBoundingClientRect(),
						r = a.left + a.width / 2,
						s = a.top + a.height / 2,
						l = r - n,
						p = s - o;
						e > 1 && (p /= 2),
						l >= 0 ? c.scrollLeft = l: c.scrollLeft = 0,
						p >= 0 ? c.scrollTop = p: c.scrollTop = 0
					}),
					e < 1 ? i.css({
						height: s
					}) : 1 === e ? i.css({
						height: s
					}) : i.css({
						height: s * e
					})
				}
				var a = 0;
				i.parent().scroll(function() {
					var e = $(this).scrollLeft();
					a !== e && (a = e, n.$apply(function() {
						t.$broadcast("wsHorizontal")
					}))
				});
				var r = 50,
				s = $(document).height() - r;
				i.css({
					height: s
				});
				var c = i.parent()[0];
				n.$watch(function() {
					return e.getScale()
				},
				function(e, t) {
					e !== t && o(e)
				}),
				o(e.getScale())
			}
		}
	}
	n.$inject = ["zoomService", "$rootScope"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		return {
			restrict: "A",
			link: function(n, i) {
				function o(e) {
					var n = $(".eqx-assist-grid")[0],
					o = n.getBoundingClientRect(),
					a = o.left + o.width + 2;
					o.top;
					if (!e) {
						var r = t.getScale();
						a += 24 * r,
						r > 1 && (a += 2 * r)
					}
					i.css({
						position: "fixed",
						top: "50%",
						left: a,
						marginTop: "-200px"
					})
				}
				n.$watch("showPhone",
				function(e) {
					o(e)
				}),
				n.$watch("eqxPage",
				function() {
					e(function() {
						return o(n.showPhone)
					})
				}),
				["compDrag.move", "selectBox.move", "wsComp.add", "wsComp.delete.end", "compResize.move", "wsHorizontal"].forEach(function(e) {
					n.$on(e,
					function() {
						o(n.showPhone)
					})
				}),
				n.$on("updateScale",
				function() {
					e(function() {
						o(n.showPhone)
					},
					0)
				}),
				$(window).resize(function() {
					o(n.showPhone)
				})
			}
		}
	}
	n.$inject = ["$timeout", "zoomService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.outbox", []).directive("eqxWsOutbox", n(454)).directive("outboxCss", n(457)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(456),
			scope: {
				eqxPage: "="
			},
			controller: ["$scope", "warnService", "$timeout", "WARN_TYPE",
			function(e, t, n, i) {
				"ngInject";
				function a() {
					if (!c) {
						var n = e.eqxPage;
						if (!n) return void t.updateState(i.normal);
						var a = n.pageJson.properties,
						s = a.longPage,
						l = 374,
						p = 320;
						if (s) d = s,
						u = d + 17;
						else var d = 486,
						u = 520;
						var g = new r(0, 0, p, d),
						m = new r(( - 27), ( - 17), l, u),
						f = !1,
						h = !1;
						n.eqxCompList.forEach(function(e) {
							var t = e.compJson.css,
							n = o(t, {
								x: 0,
								y: 0
							});
							g.contains(n) || (f = !0),
							m.contains(n) || (h = !0)
						}),
						t.updateState(h ? i.alert: f ? i.warn: i.normal),
						c = !1
					}
				}
				var s = e.vm = {
					get state() {
						return t.state
					},
					get outboxClass() {
						return s.state === i.alert ? "alerting": ""
					},
					get inboxClass() {
						return s.state === i.warn ? "warning": ""
					}
				},
				c = !1; ["compResize.end", "compRotate.end", "keymap.dirMove", "compDrag.end", "wsComp.delete", "keymap.delete", "wsComp.add", "align", "pageManager.changePage", "tool.forward", "tool.back", "keymap.forward", "keymap.back", "longPageAdjust.up"].forEach(function(t) {
					return e.$on(t,
					function() {
						return n(a)
					})
				})
			}]
		}
	}
	function o(e, t) {
		var n = e.left,
		i = e.top,
		o = e.width,
		a = e.height,
		l = e.transform,
		p = new s(n + t.x, i + t.y),
		d = new s(p.x + o, p.y + a),
		u = new r(p, d);
		if (l) {
			var g = c.parseTransform(l);
			if (g && g.rotate) return u.rotate(g.rotate)
		}
		return u
	}
	n(455);
	var a = n(353),
	r = a.Rect,
	s = a.Point,
	c = n(358);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div outbox-css class=outer-box ng-class=vm.outboxClass><div class=internal-box ng-class=vm.inboxClass></div></div>"
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			link: function(e, t) {
				function n(t) {
					var n = e.eqxPage;
					if (n) {
						if (!t) {
							var a = n.pageJson.properties;
							t = a.longPage
						}
						t ? (i.css({
							height: t + 17,
							"margin-bottom": 230
						}), o.css({
							"border-bottom": "none",
							height: t
						})) : (i.css({
							height: 520,
							"margin-bottom": 50
						}), o.css({
							height: 486,
							border: "1px dashed #586077"
						}))
					}
				}
				var i = t,
				o = t.find(".internal-box");
				e.$on("longPageAdjust.move",
				function(e, t) {
					n(t)
				}),
				e.$watch("eqxPage",
				function() {
					n()
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.longPageAdjust", []).directive("eqxLongPageAdjust", n(459)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			restrict: "E",
			template: n(461),
			scope: {
				eqxPage: "="
			},
			replace: !0,
			link: function(t, n) {
				function i() {
					for (var n = arguments.length,
					i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
					t.$apply(function() {
						e.$broadcast.apply(e, i)
					})
				}
				function o(e) {
					return e + p
				}
				var a = t.vm = {
					show: !1,
					move: !1,
					showTip: !1
				},
				r = $(document),
				s = 2430,
				c = 502,
				l = 0,
				p = 16;
				t.$watch("eqxPage",
				function() {
					a.move = !1;
					var e = t.eqxPage;
					if (e) {
						e.$newPageHeight && (a.showTip = !0),
						a.show = e.isLongPage();
						var i = l = e.getPageHeight();
						n.css("top", o(i));
					} else a.show = !1,
					a.showTip = !1
				}),
				n.on("mousedown.adjust",
				function(e) {
					e.stopPropagation();
					var p = t.eqxPage,
					d = p.getPageHeight(),
					u = e.pageY,
					g = e.pageY,
					m = 0;
					a.move = !0,
					i("longPageAdjust.start", l, m),
					r.on("mousemove.adjust",
					function(e) {
						delete p.$newPageHeight,
						a.showTip = !1,
						g = e.pageY,
						m = g - u,
						l = d + m,
						l < c ? l = c: l > s && (l = s),
						i("longPageAdjust.move", l, m),
						n.css("top", o(l))
					}),
					r.on("mouseup.adjust",
					function() {
						r.off(".adjust"),
						a.move = !1,
						i("longPageAdjust.move", l, m),
						i("longPageAdjust.up", l, m)
					})
				})
			}
		}
	}
	i.$inject = ["$rootScope"],
	n(460),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=long-page-adjust ng-show=vm.show ng-class=\"{'move': vm.move}\"><div class=adjust-line></div><div class=adjust-button><div></div></div><div class=adjust-tip ng-show=vm.showTip>可拖拽调整页面长度</div></div>"
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t) {
			return e.getCompById(t)
		}
		return {
			getCompById: t
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			var t = e.getCurrentPage();
			if (t) return t.pageJson.properties.xb
		}
		function n() {
			return !! $("#btn-toolbar").length
		}
		function i() {
			return !! $("#btn-toolbar").length || document.activeElement !== document.body
		}
		function o() {
			return !! $("#btn-toolbar").length || document.activeElement !== document.body
		}
		return {
			disableOperate: t,
			disableClick: n,
			disableDrag: i,
			disableKeymap: o
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e) {
		"ngInject";
		function t(e) {
			return c.indexOf(e) > -1
		}
		function i() {
			for (var i = arguments.length,
			o = Array(i), a = 0; a < i; a++) o[a] = arguments[a];
			o = o.filter(function(e) {
				return ! t(e)
			}),
			c.push.apply(c, n(o)),
			e.$broadcast.apply(e, ["selectService.add"].concat(n(o)))
		}
		function o() {
			for (var t = [], n = arguments.length, i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
			i.forEach(function(e) {
				var n = c.indexOf(e);
				n > -1 && t.push(c.splice(n, 1)[0])
			}),
			e.$broadcast.apply(e, ["selectService.remove"].concat(t))
		}
		function a(t) {
			var i = c.splice(t, 1);
			return e.$broadcast.apply(e, ["selectService.remove"].concat(n(i))),
			i[0]
		}
		function r() {
			var t = c.splice(0, c.length);
			t.length && e.$broadcast.apply(e, ["selectService.remove"].concat(n(t)))
		}
		function s(e) {
			for (var t = 0; t < c.length;) c[t] !== e ? a(t) : t++
		}
		var c = [];
		return {
			get comps() {
				return c
			},
			has: t,
			remove: o,
			add: i,
			removeAll: r,
			removeOthers: s
		}
	}
	i.$inject = ["$rootScope"],
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i() {
		"ngInject";
		function e() {
			r = null
		}
		function t() {
			for (var e, t = arguments.length,
			i = Array(t), o = 0; o < t; o++) i[o] = arguments[o];
			a(),
			i = i.filter(function(e) {
				return ! ("" + e.compJson.id).includes("wx")
			}).map(function(e) {
				return JSON.parse(JSON.stringify(e.compJson))
			}),
			(e = r).push.apply(e, n(i))
		}
		function i() {
			return r
		}
		function o() {
			for (var e = arguments.length,
			t = Array(e), n = 0; n < e; n++) t[n] = arguments[n];
			t.forEach(function(e) {
				var t = r.findIndex(function(t) {
					return t.id === e.compJson.id
				});
				t > -1 && r.splice(t, 1)
			})
		}
		function a() {
			r.length = 0
		}
		var r = [];
		return {
			init: e,
			addJsons: t,
			getJsons: i,
			removeJsons: o,
			clearCopyComps: a
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e() {
			i = null
		}
		function t(e) {
			i = e ? JSON.parse(JSON.stringify(e)) : null
		}
		function n() {
			return i
		}
		var i = null;
		return {
			init: e,
			setCopyAnim: t,
			getCopyAnim: n
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		var t = e.getItemByUser("showPhone"),
		n = 1;
		return {
			get showPhone() {
				return void 0 === t && (t = !0),
				t
			},
			set showPhone(n) {
				t = n,
				e.setItemByUser("showPhone", n)
			},
			get scale() {
				return n
			}
		}
	}
	n.$inject = ["storageService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(e) {
			n = e
		}
		var n = e.normal;
		return {
			get state() {
				return n
			},
			updateState: t
		}
	}
	n.$inject = ["WARN_TYPE"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return l
		}
		function n() {
			l = 1,
			a()
		}
		function i() {
			var e = r.indexOf(l);
			return e++,
			e >= s && (e = s),
			l = r[e],
			a(),
			l
		}
		function o() {
			var e = r.indexOf(l);
			return e--,
			e < 0 && (e = 0),
			l = r[e],
			a(),
			l
		}
		function a() {
			e.setItemByUser(c, l)
		}
		var r = [.5, .75, 1, 1.25, 1.5, 2, 2.5, 3, 3.5, 4],
		s = r.length - 1,
		c = "editorScale2",
		l = e.getItemByUser(c) || 1;
		return r.indexOf(l) < 0 && n(),
		{
			getScale: t,
			setDefault: n,
			zoomOut: i,
			zoomIn: o
		}
	}
	n.$inject = ["storageService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, o, a, c, l, p, d, u, g, m, f, h, v, y, b) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(473),
			link: function(n, x, w) {
				function S(e) {
					var t = b.getScale(),
					n = e.compJson.css,
					i = n.left,
					o = n.top,
					a = n.width,
					c = n.height,
					l = {
						left: i * t,
						top: o * t,
						width: a * t,
						height: c * t
					},
					p = l.left + J.left,
					d = l.top + J.top,
					u = l.width,
					g = l.height,
					m = p + u,
					f = d + g,
					h = new r(new s(p, d), new s(m, f));
					return h.center()
				}
				function k(t) {
					if (t === R.id) {
						var n = R.p1,
						i = R.p2,
						o = new r(n, i),
						a = [],
						s = [];
						D.eqxCompList.forEach(function(e) {
							e.$center || (e.$center = S(e)),
							o.contains(e.$center) ? a.push(e) : s.push(e)
						}),
						e.remove.apply(e, s),
						e.add.apply(e, a)
					}
				}
				function C(e, t) {
					for (var n = t.x - e.x,
					i = t.y - e.y,
					o = arguments.length,
					a = Array(o > 2 ? o - 2 : 0), r = 2; r < o; r++) a[r - 2] = arguments[r];
					var s = a.length;
					return ! (!s || !n && !i) && (a.forEach(function(e) {
						var t = e.$translate3d;
						t ? (e.updatePos(t.x, t.y), e.$translate3d = null) : e.updatePos(n, i)
					}), !0)
				}
				function T() {
					var e = B.back();
					e && j(_, e.json)
				}
				function q() {
					var e = B.forward();
					e && j(_, e.json)
				}
				function I(e) {
					var t = ["5", "501", "502", "503", "504", "c", "r", "z", "a"];
					return e.some(function(e) {
						return t.includes(e.compJson.type + "")
					})
				}
				function E() {
					for (var n = arguments.length,
					i = Array(n), o = 0; o < n; o++) i[o] = arguments[o];
					if (I(i)) var a = c.openConfirmDialog({
						msg: "将删除已收集的数据",
						confirmName: "确定",
						cancelName: "取消"
					});
					else a = l.resolve();
					return a.then(function() {
						var n = i.length;
						return e.remove.apply(e, i),
						i.forEach(function(e) {
							D.deleteEqxComp(e)
						}),
						n && t.$broadcast("wsComp.delete.end"),
						n
					})["catch"](function() {
						return 0
					})
				}
				function P() {
					var e, n = u.getJsons().slice(0),
					o = n.length;
					n.sort(function(e, t) {
						return e.css.zIndex - t.css.zIndex
					});
					var r = n.map(function(e) {
						var t = a.getCurrentPage();
						if (e.pageId === t.pageJson.id && (e.css.left += 10, e.css.top += 10), e = t.addCompJson(e)) {
							var n = t.initEqxCompByJson(e);
							return n && (t.renderEqxComp(n), n.startAnimation({
								maxCount: 1,
								reset: !0
							})),
							n
						}
					}).filter(function(e) {
						return !! e
					});
					return (e = console).log.apply(e, ["paste new comps"].concat(i(r))),
					t.$broadcast.apply(t, ["wsComp.add"].concat(i(r))),
					o
				}
				function A() {
					for (var e = arguments.length,
					t = Array(e), i = 0; i < e; i++) t[i] = arguments[i];
					t.forEach(function(e) {
						if (!e.compJson.css.height) {
							var t = e.$li.height();
							e.compJson.css.height = t,
							e.$li.css({
								height: t
							})
						}
						var i = e.compJson.id;
						e.$li.attr("comp-click", i),
						e.$li.attr("comp-drag", i);
						var a = $('<div comp-resize="n,ne,e,se,s,sw,w,nw,r" comp-id=' + i + ' comp-rotate="' + i + '"></div>');
						"k" == e.compJson.type && (a = $('<div comp-resize="e,w,r" comp-id=' + i + ' comp-rotate="' + i + '"></div>')),
						"j" == e.compJson.type && (a = $('<div comp-resize="r" comp-id=' + i + ' comp-rotate="' + i + '"></div>')),
						e.$li.append(a),
						"4" == e.type ? e.$li.attr("image-size", i) : "n" == e.type && e.showRandomImg(),
						e.$$resize = !1,
						o(e.$li)(n)
					})
				}
				function j(n, i) {
					if (e.removeAll(), D = F.replaceEqxPage(n, i)) return M(D),
					t.$broadcast("replacePage"),
					D
				}
				function L(e) {
					D && D.destroy(),
					D = F.getEqxPageByIndex(e),
					M(D),
					_ = e,
					B = g.getPageHistory(D.pageJson.id),
					h.editFontFamily()
				}
				function M(e) {
					var n = e.$section;
					n ? e.eqxBackground && e.eqxBackground.animate() : n = e.create$section(),
					n.addClass("editor-section"),
					F.$ele.append(n),
					A.apply(void 0, i(e.eqxCompList)),
					e.active().then(function() {
						e.show(),
						e.eqxCompList.forEach(function(e) {
							return e.startAnimation({
								maxCount: 1,
								reset: !0
							})
						}),
						t.$broadcast("changePage.end")
					})
				}
				function O(e) {
					B.addHistory(D.pageJson, e)
				}
				var F = a.eqxScene,
				_ = null,
				D = null,
				B = null,
				J = null,
				N = n.$on("eqxScene.ready",
				function() {
					F = a.eqxScene,
					F.initContainer(x.find("#nr")),
					N()
				});
				"app" === y.getEditorModel() && $(".workspace").css({
					left: 0
				}),
				n.vm = {
					get eqxPage() {
						return D
					},
					get showPhone() {
						var e = m.showPhone;
						if (D) {
							var t = D.pageJson.properties;
							return ! t.longPage && e
						}
						return e
					},
					get showTool() {
						return f.disableOperate()
					}
				},
				n.accessControl = v.assignDesignerAuthority,
				n.$on("pageManager.changePage",
				function(e, t) {
					L(t)
				}),
				n.$on("pageManager.changePage.pre",
				function(t, n, i) {
					e.removeAll()
				}),
				n.$on("selectBox.start",
				function(t) {
					e.removeAll(),
					J = F.$ele.offset()
				});
				var R = {
					p1: null,
					p2: null,
					id: 0
				};
				n.$on("selectBox.move",
				function(e, t, n) {
					R.p1 = t,
					R.p2 = n;
					var i = R.id + 1;
					R.id = i,
					k(i)
				}),
				n.$on("selectBox.end",
				function(e, t, n, i) {
					D.eqxCompList.forEach(function(e) {
						return e.$center = null
					})
				}),
				n.$on("selectService.add",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.forEach(function(e) {
						return e.$$resize = !0
					})
				}),
				n.$on("selectService.remove",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.forEach(function(e) {
						e.$$resize = !1
					})
				}),
				n.$on("wsComp.add",
				function(t) {
					for (var n = arguments.length,
					i = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) i[o - 1] = arguments[o];
					e.removeAll(),
					A.apply(void 0, i),
					d(function() {
						return e.add.apply(e, i)
					},
					0);
					var a = i.length;
					a && O("增加" + a + "个组件")
				}),
				n.$on("wsComp.updated",
				function(e) {
					var t = arguments.length <= 1 ? 0 : arguments.length - 1;
					t && O("更新属性: " + t + "个组件")
				}),
				n.$on("wsComp.delete",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					E.apply(void 0, n).then(function(e) {
						e && O("删除" + e + "个组件")
					})
				}),
				n.$on("compStyle.save",
				function(e, t) {
					O("组件样式修改, compId " + t.compJson.id)
				}),
				n.$on("compDrag.end",
				function(e, t, n) {
					for (var i = arguments.length,
					o = Array(i > 3 ? i - 3 : 0), a = 3; a < i; a++) o[a - 3] = arguments[a];
					o.forEach(function(e) {
						return e.$center = null
					}),
					C.apply(void 0, [t, n].concat(o)) && O("拖动组件")
				}),
				n.$on("align",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					var o = n.length;
					o && (n.forEach(function(e) {
						var t = e.$rect1,
						n = e.$rect2,
						i = n.p1.x - t.p1.x,
						o = n.p1.y - t.p1.y;
						e.updatePos(i, o)
					}), O("对齐组件"))
				}),
				n.$on("compRotate.end",
				function(e, t, n) {
					t.update$li({
						transform: n
					}),
					O("旋转组件")
				}),
				n.$on("compResize.move",
				function(e, t, n, i) {
					t.updateSize(n, i)
				}),
				n.$on("compResize.end",
				function(e, t, n) {
					t.update$li(n),
					O("修改组件尺寸")
				}),
				n.$on("keymap.selectAll",
				function() {
					e.add.apply(e, i(D.eqxCompList))
				}),
				n.$on("keymap.delete",
				function() {
					E.apply(void 0, i(e.comps)).then(function(e) {
						e && O("删除" + e + "个组件")
					})
				}),
				n.$on("keymap.paste",
				function() {
					P()
				}),
				n.$on("contextMenu.paste",
				function() {
					P()
				}),
				n.$on("multiSelect.paste",
				function() {
					P()
				}),
				n.$on("keymap.copy",
				function() {
					u.addJsons.apply(u, i(e.comps))
				}),
				n.$on("keymap.dirMove",
				function(t, n, i) {
					e.comps.forEach(function(e) {
						var t = e.compJson.css,
						o = {};
						o[n] = t[n] + i,
						e.update$li(o)
					})
				}),
				n.$on("keymap.dirEnd",
				function(e, t, n) {
					O("移动组件")
				}),
				n.$on("keymap.save",
				function() {
					t.$broadcast("savePage",
					function() {
						p.add("保存成功")
					})
				}),
				n.$on("keymap.back", T),
				n.$on("tool.back", T),
				n.$on("keymap.forward", q),
				n.$on("tool.forward", q),
				n.$on("tpl.useTpl",
				function(e, t) {
					var n = D.isLongPage(),
					i = j(_, t); ! n && i.isLongPage() && (i.$newPageHeight = !0),
					O("替换模板")
				}),
				n.$on("longPageAdjust.move",
				function(e, t) {
					var n = D.eqxBackground;
					n && n.updateBgHeight(t)
				}),
				n.$on("longPageAdjust.up",
				function(e, t) {
					t && (D.setProps({
						longPage: t
					}), O("调整页面长度"))
				}),
				n.$on("page.delete",
				function(e) {
					_ = null,
					D = null,
					B = null
				})
			}
		}
	}
	o.$inject = ["selectService", "$rootScope", "$compile", "sceneService", "modalService", "$q", "i18nNotifications", "$timeout", "copyService", "historyService", "workspaceService", "disableService", "fontService", "authorityService", "urlParameterService", "zoomService"],
	n(471),
	n(472);
	var a = n(353),
	r = a.Rect,
	s = a.Point;
	e.exports = o
},
function(e, t) {},
function(e, t) {},
function(e, t) {
	e.exports = '<eqx-zoom-tip></eqx-zoom-tip><div class=workspace eqx-context-menu-trigger eqx-ws-scroll eqx-select-box eqx-keymap><div eqx-zoom-ws class=zoom-wrapper><div class=container><eqx-ws-phone eqx-page=vm.eqxPage ng-if=vm.showPhone></eqx-ws-phone><div id=nr class="nr sortable"></div><eqx-long-page-adjust eqx-page=vm.eqxPage></eqx-long-page-adjust><eqx-assist-grid eqx-page=vm.eqxPage></eqx-assist-grid></div><eqx-ws-outbox eqx-page=vm.eqxPage ng-show=!vm.showPhone></eqx-ws-outbox><eqx-assist-lines></eqx-assist-lines></div><eqx-thumbnail eqx-page=vm.eqxPage ng-if="accessControl(\'selectThumbnail\')"></eqx-thumbnail><eqx-context-menu></eqx-context-menu></div><eqx-ws-tool ng-show=!vm.showTool show-phone=vm.showPhone eqx-page=vm.eqxPage></eqx-ws-tool><eqx-comp-setting panel-draggable disable-context-menu></eqx-comp-setting><eqx-multi-select-panel panel-draggable disable-context-menu></eqx-multi-select-panel><eqx-setting-tpl eqx-page-elements=vm.eqxPage.pageJson.elements panel-draggable disable-context-menu ng-if="accessControl(\'settingElementCharacter\')" style=width:200px></eqx-setting-tpl>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			link: function(e, t) {
				e.$watch("vm.eqxPage",
				function() {
					t[0].scrollTop = 0
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			restrict: "A",
			link: function(n, i, a) {
				function r(e) {
					return e.pageX
				}
				function s(e) {
					return e.pageY
				}
				function c(e) {
					return e
				}
				function l(e) {
					return e
				}
				function p(e, t) {
					var n = {
						left: c(e.x),
						top: l(e.y)
					};
					return n.width = t.x - e.x,
					n.height = t.y - e.y,
					n.width < 0 && (n.left = c(t.x), n.width = -n.width),
					n.height < 0 && (n.top = l(t.y), n.height = -n.height),
					n
				}
				i.mousedown(function(i) {
					if (i.stopPropagation(), !t.disableOperate()) {
						var a = $(document),
						c = new o(r(i), s(i));
						if (void 0 !== c.x || void 0 !== c.y) {
							var l = new o(c.x, c.y);
							e.$broadcast("selectBox.start", c);
							var d = p(c, l),
							u = $('<div class="select-box">').appendTo($("body"));
							a.on("mousemove.selectBox",
							function(t) {
								l.x = r(t),
								l.y = s(t),
								d = p(c, l),
								u.css(d),
								e.$broadcast("selectBox.move", c, l, d),
								n.$apply()
							}),
							a.on("mouseup.selectBox",
							function() {
								a.off(".selectBox"),
								e.$broadcast("selectBox.move", c, l, d),
								e.$broadcast("selectBox.end", c, l, d),
								u.remove(),
								n.$apply()
							})
						}
					}
				})
			}
		}
	}
	i.$inject = ["$rootScope", "disableService"],
	n(476);
	var o = n(355);
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i) {
		"ngInject";
		function o(o, a, r) {
			var s = t.getCompById(r.compClick);
			if (s && !s.$compClick) {
				s.$compClick = !0,
				a.on("$destroy",
				function() {
					s.$compClick = !1
				});
				var c = 0;
				a.on("mousedown.compClick",
				function(t) {
					function a() {
						t.ctrlKey || t.shiftKey ? e.has(s) ? e.remove(s) : e.add(s) : e.has(s) || (e.removeOthers(s), e.add(s)),
						n.$broadcast("compClick", s),
						o.$apply()
					}
					function r() {
						n.$broadcast("wsComp.edit", s)
					}
					t.stopPropagation(),
					i.disableOperate() || (c++, 1 === c && (a(), setTimeout(function() {
						1 === c || r(),
						c = 0
					},
					200)))
				})
			}
		}
		return {
			restrict: "A",
			link: o
		}
	}
	i.$inject = ["selectService", "compService", "$rootScope", "disableService"];
	n(355);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function o(e, t, n, o) {
		"ngInject";
		var s = $(document);
		return {
			link: function(p, d, u) {
				function g() {
					for (var e = arguments.length,
					n = Array(e), i = 0; i < e; i++) n[i] = arguments[i];
					p.$apply(function() {
						return t.$broadcast.apply(t, n)
					})
				}
				var m = n.getCompById(u.compDrag);
				m && !m.$compDrag && (m.$compDrag = !0, d.on("$destroy",
				function() {
					m.$compDrag = !1
				}), d.on("mousedown.compDrag",
				function(t) {
					if (!o.disableDrag()) {
						t.stopPropagation(),
						t.preventDefault();
						var n = e.comps,
						p = new r(l(t.pageX), l(t.pageY)),
						d = new r(p.x, p.y);
						g.apply(void 0, ["compDrag.start", p].concat(i(n))),
						s.on("mousemove.compDrag",
						function(t) {
							if (e.has(m)) {
								d.update(l(t.pageX), l(t.pageY));
								var o = d.x - p.x,
								a = d.y - p.y;
								n.forEach(function(e) {
									var t = c.updateTransformStr(e.$li[0].style.transform, {
										translate3d: {
											x: o,
											y: a
										}
									});
									e.$li.css({
										opacity: .6,
										cursor: "move",
										transform: t
									})
								}),
								g.apply(void 0, ["compDrag.move", p, d].concat(i(n)))
							}
						}),
						s.on("mouseup.compDrag",
						function(t) {
							s.off(".compDrag");
							var n = new r(t.pageX, t.pageY),
							o = e.comps;
							o.forEach(function(e) {
								return a(e, p, n)
							}),
							g.apply(void 0, ["compDrag.end", p, n].concat(i(o)))
						})
					}
				}))
			}
		}
	}
	function a(e) {
		var t = e.$li[0].style.transform;
		t = t.replace(s, ""),
		e.$li.css({
			opacity: e.compJson.css.opacity,
			cursor: "",
			transform: t
		})
	}
	o.$inject = ["selectService", "$rootScope", "compService", "disableService"];
	var r = n(355),
	s = /translate3d\([^\)]*\)/,
	c = n(358),
	l = n(200).toInt;
	e.exports = o
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, n, i) {
			var o = e.getCompById(i.imageSize);
			if (! (!o || o.$compImageSize || o.$width && o.$height)) {
				o.$compImageSize = !0,
				n.on("$destroy",
				function() {
					o.$compImageSize = !1
				});
				var a = o.$context[0].src,
				r = new Image;
				r.onload = function() {
					o.$width = r.width,
					o.$height = r.height,
					o.updateImageSize()
				},
				r.src = a
			}
		}
		return {
			restrict: "A",
			link: t
		}
	}
	n.$inject = ["sceneService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			link: function(e, t) {
				function n() {
					t.css({
						left: "",
						right: 187,
						top: 51
					})
				}
				var i = $(document);
				t.on("mousedown.draggable",
				function(e) {
					function n(e) {
						var n = e.pageX,
						i = e.pageY,
						o = p.left + n - d,
						a = p.top + i - u,
						g = 0,
						m = 51,
						f = l - r,
						h = c - s;
						o < g && (o = g),
						o > f && (o = f),
						a < m && (a = m),
						a > h && (a = h),
						t.css({
							left: o,
							top: a
						})
					}
					var o = e.delegateTarget,
					a = e.target;
					if (! (o === $("div.comp-setting").get(0) && a !== $("div.cancel").get(0) || o === $("div.page-list-label").get(0) && a !== $("div.can-drag").get(0) && $(a).parent().get(0) !== $("div.can-drag").get(0))) {
						var r = t.width(),
						s = t.height(),
						c = window.innerHeight,
						l = window.innerWidth,
						p = t.position(),
						d = e.pageX,
						u = e.pageY;
						i.on("mousemove.draggable",
						function(e) {
							n(e)
						}),
						i.on("mouseup.draggable",
						function(e) {
							i.off(".draggable"),
							n(e)
						})
					}
				}),
				$(window).on("resize",
				function() {
					var e;
					return function() {
						e && (clearTimeout(e), e = void 0),
						e = setTimeout(n, 1e3)
					}
				} ())
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = $(document);
		return {
			restrict: "A",
			link: function(i, o) {
				function a() {
					for (var t = arguments.length,
					n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
					i.$apply(function() {
						return e.$broadcast.apply(e, n)
					})
				}
				o.on("$destroy",
				function() {
					n.off(".keymap")
				});
				var r = !1;
				n.on("keyup.keymap",
				function() {
					t.disableOperate() || r && (a("keymap.dirEnd"), r = !1)
				}),
				n.on("keydown.keymap",
				function(e) {
					if (!t.disableKeymap() && !t.disableOperate() && document.activeElement === document.body) {
						var n = e.ctrlKey || e.metaKey,
						i = e.shiftKey,
						o = e.keyCode;
						if (9 === o && e.preventDefault(), 8 !== o && 46 !== o || (e.preventDefault(), a("keymap.delete")), n && 67 === o && (e.preventDefault(), a("keymap.copy")), 37 === o || 38 === o || 39 === o || 40 === o) {
							e.preventDefault(),
							r = !0;
							var s = 1;
							switch (i && (s = 5), o) {
							case 37:
								a("keymap.dirMove", "left", -s);
								break;
							case 38:
								a("keymap.dirMove", "top", -s);
								break;
							case 39:
								a("keymap.dirMove", "left", s);
								break;
							case 40:
								a("keymap.dirMove", "top", s)
							}
						} else r = !1;
						if (n) switch (o) {
						case 86:
							e.preventDefault(),
							a("keymap.paste");
							break;
						case 65:
							e.preventDefault(),
							a("keymap.selectAll");
							break;
						case 83:
							e.preventDefault(),
							a("keymap.save");
							break;
						case 90:
							e.preventDefault(),
							a(i ? "keymap.forward": "keymap.back");
							break;
						case 89:
							e.preventDefault(),
							a("keymap.forward")
						}
					}
				})
			}
		}
	}
	n.$inject = ["$rootScope", "disableService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(485),
			replace: !0,
			scope: {
				eqxPage: "="
			},
			controller: ["$scope", "workspaceService", "sceneService",
			function(e, t, n) {
				"ngInject";
				e.vm = {
					get name() {
						return n.eqxScene.sceneJson.meta.name
					},
					get showPhone() {
						var n = e.eqxPage,
						i = t.showPhone;
						if (n) {
							var o = n.pageJson.properties;
							return ! o.longPage && i
						}
						return i
					}
				}
			}]
		}
	}
	n(483),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div class=phone><h4 class=name>{{ vm.name }}</h4></div>"
},
function(e, t) {
	"use strict";
	function n() {
		return {
			link: function(e, t) {
				t.contextmenu(function(e) {
					e.preventDefault(),
					e.stopPropagation()
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(489),
			replace: !0,
			scope: {
				eqxPage: "="
			},
			controller: ["$scope", "HOST", "imageModalFactory", "uploaderService", "loadingService", "fileAPI", "i18nNotifications", "delayLoadService", "imageService",
			function(e, t, n, i, o, a, r, s, c) {
				"ngInject";
				e.thumbnailSrc = function() {
					if (e.eqxPage) return t.FILE + e.eqxPage.pageJson.properties.thumbSrc
				},
				e.authGenerateThumb = function() {
					s.loadHtml2Canvas().then(function() {
						o.show();
						var t = [],
						n = [],
						s = $("#nr"),
						l = s.find("svg");
						l.each(function(e, i) {
							var o = i.parentNode,
							a = document.createElement("canvas");
							canvg(a, o, {
								ignoreMouse: !0,
								ignoreAnimation: !0
							}),
							t.push({
								parent: o,
								child: i
							}),
							o.removeChild(i),
							n.push({
								parent: o,
								child: a
							}),
							o.appendChild(a)
						}),
						html2canvas(s, {
							useCORS: !0,
							onrendered: function(s) {
								var l = s.toDataURL("image/png").substring(22);
								i.getUploadToken("image").then(function(e) {
									return i.uploadBase64(e, l)
								}).then(function(t) {
									var n = {
										fileType: "1",
										bizType: 0,
										path: t.key,
										tmbPath: t.key,
										tagId: 0,
										name: e.eqxPage.pageJson.name ? e.eqxPage.pageJson.sceneId + "-" + e.eqxPage.pageJson.num + "-" + e.eqxPage.pageJson.name: e.eqxPage.pageJson.sceneId + "-" + e.eqxPage.pageJson.num,
										size: Math.ceil(t.size / 1024)
									};
									return a.saveFileInfo(n)
								}).then(function(i) {
									e.eqxPage.pageJson.properties.thumbSrc = i.data.obj.path,
									c.image.clearTag(c.image.ID.my, c.image.ID.my + "-all"),
									n.forEach(function(e) {
										e.parent.removeChild(e.child)
									}),
									t.forEach(function(e) {
										e.parent.appendChild(e.child)
									}),
									o.hide()
								})["catch"](function() {
									r.add("生成缩略图失败，请重新生成！"),
									n.forEach(function(e) {
										e.parent.removeChild(e.child)
									}),
									t.forEach(function(e) {
										e.parent.appendChild(e.child)
									}),
									o.hide()
								})
							}
						})
					})
				},
				e.chooseThumb = function() {
					n.getImage().then(function(t) {
						e.eqxPage.pageJson.properties.thumbSrc = t.tmbPath
					},
					function() {
						delete e.eqxPage.pageJson.properties.thumbSrc
					})
				}
			}]
		}
	}
	n(488),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=thumbnai-contain><div class=thumbnai-title ng-click=authGenerateThumb()>自动生成本页缩略图</div><div ng-if=!eqxPage.pageJson.properties.thumbSrc class=default-content ng-click=chooseThumb()>点击手动上传本页缩略图</div><div class=hint--left ng-click=chooseThumb() ng-if=eqxPage.pageJson.properties.thumbSrc data-hint=单击可手动上传缩略图><img width=134 height=210 ng-src={{thumbnailSrc()}} /></div></div>"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(492),
			replace: !0,
			scope: {
				eqxPageElements: "="
			},
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.vm = {
					get pageElements() {
						return e.eqxPageElements && e.eqxPageElements.length ? e.eqxPageElements.filter(function(e) {
							return "4" == e.type ? (1 != e.isEditable && (e.isEditable = -1), !0) : "2" == e.type
						}).sort(function(e, t) {
							return e.type - t.type
						}) : null
					}
				}
			}]
		}
	}
	n(491),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=page-list-label><div class=page-setting><div class=can-drag><h4>元素特性设置</h4></div><div eqd-scroll style=height:340px><div><ul class=tpl-uls ng-repeat="element in vm.pageElements track by element.id"><li hover-element={{element.id}} ng-if="element.type == \'2\'"><span>文字&nbsp;{{$index+1}} </span><span>类型</span><select ng-model=element.properties.type><option value=0>无</option><option value=1>收卡人</option><option value=2>发卡人</option><option value=3>祝福语</option></select></li><li hover-element={{element.id}} ng-if="element.type == \'4\'" class=setting-tpl-img><span>图片&nbsp;{{$index+1}} </span><span>可替换 </span><input type=checkbox ng-model=element.isEditable ng-true-value=1 ng-false-value=-1 ng-checked="element.isEditable == 1" class=is-replace /></li></ul></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(89);
	e.exports = i.module("scene.page", [n(494), n(497)]).directive("eqxPageNameEditor", n(503)).directive("eqxPageManager", n(505)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("ws.pageCreate", []).directive("eqxCreatePage", n(495)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(496),
			scope: {
				createPage: "&"
			},
			controller: ["$scope", "storageService",
			function(e, t) {
				"ngInject";
				var n = e.vm = {
					hideCreatePageHint: t.getItem("hideCreatePageHint"),
					hidePageTypePanelHint: t.getItem("hidePageTypePanelHint"),
					showHint: !1,
					showPageTypePanel: !1
				};
				e.createLongPage = function() {
					e.createPage({
						pLen: 502
					})
				},
				e.openHint = function() {
					n.hideCreatePageHint || (n.showHint = !0),
					e.createPage()
				},
				e.closeHint = function() {
					n.showHint = !1
				},
				e.onToggleHideHint = function() {
					t.setItem("hideCreatePageHint", n.hideCreatePageHint)
				},
				e.closePageTypePanel = function() {
					n.showPageTypePanel = !1
				},
				e.openPageTypePanel = function() {
					n.showPageTypePanel = !0,
					t.setItem("hidePageTypePanelHint", !0)
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=nav_bottom><a class=eqf-more ng-click=openPageTypePanel()><em class="imp heart" ng-show=!vm.hidePageTypePanelHint></em> </a><a ng-click=openHint() class="insert hint--top hint--rounded fade-color" data-hint=添加一页 big-data-event categorytwoid=24 categorytwo=添加页面 actiontype=4>+</a><div ng-if=vm.showPageTypePanel outside-click=closePageTypePanel()><ul><li ng-click=createPage();closePageTypePanel() big-data-event categorytwoid=24 categorytwo=添加页面 actiontype=4>常规页</li><li ng-click=createLongPage();closePageTypePanel() big-data-event categorytwoid=24 categorytwo=添加长页面 actiontype=4>长页面</li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = n(89);
	e.exports = i.module("ws.pageAction", [n(498)]).directive("eqxPageAction", n(501)).name
},
function(e, t, n) {
	"use strict";
	var i = n(89),
	o = n(499);
	e.exports = i.module("pageAction.save", []).directive("eqxSaveTpl", o).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(500),
			scope: {},
			controller: ["$rootScope", "$scope", "sceneService", "tplService", "userService", "modalService", "disableService",
			function(t, n, i, o, a, r, s) {
				function c() {
					var e = i.getCurrentPage().pageJson,
					t = JSON.parse(JSON.stringify(e));
					return delete t.sceneId,
					t
				}
				function l(e) {
					if (s.disableOperate()) return r.openMsgDialog({
						msg: "任务模板页不能生成" + e
					}),
					!0
				}
				n.userProperty = a.getCurrentUser(),
				n.createMyTpl = function() {
					l("我的模板") || o.saveMyTpl(c()).then(function() {
						e.add("成功生成我的模板"),
						t.$broadcast("tpl.saveMyTpl")
					})
				},
				n.createCompanyTpl = function() {
					l("企业模板") || o.saveCompanyTpl(c()).then(function() {
						e.add("成功生成企业模板"),
						t.$broadcast("tpl.saveCompanyTpl")
					})
				},
				n.btnGroup = {
					selectItem: 1,
					caretSwitch: !1
				};
				var p;
				window.localStorage && (p = JSON.parse(localStorage.getItem("templateInfo")), p && p[a.getCurrentUser().id] ? n.btnGroup.selectItem = p[a.getCurrentUser().id] : (p = p || {},
				p[a.getCurrentUser().id] = 2, localStorage.setItem("templateInfo", JSON.stringify(p)))),
				n.btnGroup = {
					selectItem: p[a.getCurrentUser().id],
					caretSwitch: !1
				},
				n.selectedTemplate = function(e) {
					"myTemplate" === e ? n.btnGroup.selectItem = 2 : "companyTemplate" === e ? n.btnGroup.selectItem = 1 : "myPublishTask" === e && (n.btnGroup.selectItem = 3),
					window.localStorage && (p[a.getCurrentUser().id] = n.btnGroup.selectItem, localStorage.setItem("templateInfo", JSON.stringify(p)))
				},
				n.toggleMenu = function() {
					n.btnGroup.caretSwitch = !n.btnGroup.caretSwitch
				},
				n.openMenu = function() {
					n.btnGroup.caretSwitch = !0
				},
				n.closeMenu = function() {
					n.btnGroup.caretSwitch = !1
				},
				n.$on("YQCCreateMYXB",
				function() {
					n.createMyTpl()
				})
			}]
		}
	}
	i.$inject = ["i18nNotifications"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=my-tpl-title>存为</div><div class=btn-group authority=company><button type=button class=btn style=border-right:0><a ng-click=createMyTpl() ng-show="btnGroup.selectItem == 2" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为我的模板 data-event=12019><span>我的模板 </span></a><a ng-click=createCompanyTpl() ng-show="btnGroup.selectItem == 1" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为企业模板 data-event=12036><span>企业模板</span></a></button> <a class="btn dropdown-toggle" style=border-left:0;line-height:30px ng-click=toggleMenu()><span class=caret></span></a><ul class=dropdown-menu ng-show=btnGroup.caretSwitch><li ng-click="createCompanyTpl();selectedTemplate(\'companyTemplate\');btnGroup.selectItem = 1;btnGroup.caretSwitch = false" data-event=12036><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 1}"><span>企业模板</span></a></li><li ng-click="createMyTpl();selectedTemplate(\'myTemplate\');btnGroup.caretSwitch = false" data-event=12019><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 2}"><span>我的模板</span></a></li></ul></div><div class=btn-group ng-if=false><button type=button class=btn style=border-right:0><a ng-click=createMyTpl() ng-show="btnGroup.selectItem == 2" class="hint&#45;&#45;left hint&#45;&#45;rounded" data-hint=当前页存为我的模板 data-event=12019><span>我的模板</span></a></button> <a class="btn dropdown-toggle" style=border-left:0;line-height:30px ng-click=toggleMenu()><span class=caret></span></a><ul class=dropdown-menu ng-if=btnGroup.caretSwitch outside-click=closeMenu()><li ng-click="createMyTpl();selectedTemplate(\'myTemplate\');btnGroup.caretSwitch = false" data-event=12019><a class="hint--left hint--rounded" ng-class="{\'template-active\':btnGroup.selectItem == 2}"><span>我的模板</span></a></li></ul></div><div class="btn-group my-tpl-title" authority=saveTplPersonal><div class=btn><a ng-click=createMyTpl() class="hint--left hint--rounded" data-hint=保存到我的模板 data-event=12019>我的模板</a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			replace: !0,
			template: n(502)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=nav_top><div class=nav_top_list><div class=save_template><div class=fr><a class="hint--left hint--rounded delete all-change" data-hint=删除当前页 ng-click=deletePage() ng-hide=vm.hideDeleteButton data-event=12021><i class=eqf-scene-delete></i> </a><a ng-click=copyPage() ng-hide=vm.YQCMaker class="hint--left copy hint--rounded all-change" data-hint=复制当前页 data-event=12020><i class=eqf-scene-copy></i></a></div><eqx-save-tpl></eqx-save-tpl></div></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {
				page: "="
			},
			template: o,
			controller: ["$scope", "$timeout", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = e.page,
				o = e.vm = {
					get currentIndex() {
						return n.currentPageIndex
					},
					showInput: !1,
					pageName: i.pageJson.name
				};
				e.showInput = function(e) {
					o.currentIndex + 1 == i.pageJson.num && e.stopPropagation(),
					o.showInput = !0,
					t(function() {
						var t = e.currentTarget;
						$(t).siblings("input")[0].focus()
					},
					0)
				},
				e.$on("pageManager.changePage.pre",
				function(t, n, a) {
					o.showInput && i.pageJson.num == n + 1 && e.savePageName(i.pageJson.name)
				}),
				e.savePageName = function(e) {
					o.showInput && (o.showInput = !1),
					o.pageName != e && (o.pageName = e, n.savePageName(i.pageJson))
				},
				e.stopPropagationFn = function(e) {
					e.stopPropagation()
				},
				e.onEnterFn = function(t) {
					13 == t.keyCode && e.savePageName(e.page.pageJson.name)
				}
			}]
		}
	}
	var o = n(504);
	e.exports = i
},
function(e, t) {
	e.exports = "<span class=page-name ng-dblclick=showInput($event) ng-show=!vm.showInput>{{ page.pageJson.name || '第'+page.pageJson.num+'页'}}</span> <input style=width:110px;display:inline-block;height:25px;line-height:25px;color:#999;margin-top:22px;margin-left:2px;box-shadow:none type=text ng-model=page.pageJson.name ng-show=vm.showInput placeholder=\"{{'第'+page.pageJson.num+'页'}}\" ng-blur=savePageName(page.pageJson.name) ng-click=stopPropagationFn($event) ng-keydown=onEnterFn($event) check-count=30 />"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			scope: {},
			template: o,
			controller: ["$scope", "$rootScope", "sceneService", "$routeParams", "$timeout", "modalService", "$location", "$q", "$interval", "i18nNotifications", "authorityService", "HOST", "selectService",
			function(e, t, n, i, o, r, s, c, l, p, d, u, g) {
				"ngInject";
				function m() {
					var e = x.eqxPage;
					e ? x.comps = e.eqxCompList.map(function(e) {
						return e
					}).sort(function(e, t) {
						return e.getCss("zIndex") < t.getCss("zIndex")
					}) : x.comps = []
				}
				function f(e) {
					var i = n.currentPageIndex = e,
					o = s.search();
					o.i = i + 1,
					s.search(o);
					var r = y.eqxPageList[i];
					r.$$lastHash = a(r.pageJson),
					m(),
					t.$broadcast("pageManager.changePage", i)
				}
				function h() {
					v(),
					f(x.currentIndex)
				}
				function v() {
					x.pageList = [].concat(y.eqxPageList)
				}
				var y = n.eqxScene,
				b = e.TAB = {
					page: 1,
					comp: 2
				},
				x = e.vm = {
					get currentIndex() {
						return n.currentPageIndex
					},
					pageList: [],
					get eqxPage() {
						return n.getCurrentPage()
					},
					get hideDeleteButton() {
						return x.eqxPage && x.eqxPage.pageJson && x.eqxPage.pageJson.properties && x.eqxPage.pageJson.properties.xb && 0 === x.eqxPage.pageJson.properties.xb.canDel || x.pageList.length <= 1
					},
					comps: [],
					showTabs: !d.permission("showCompManage"),
					tab: b.page
				},
				w = e.$on("eqxScene.ready",
				function() {
					o(function() {
						h()
					},
					100),
					w()
				});
				e.isSelected = function(e) {
					return g.has(e)
				},
				e.select = function(e, t) {
					o(function() {
						e.ctrlKey || e.shiftKey ? g.has(t) ? g.remove(t) : g.add(t) : g.has(t) || (g.removeOthers(t), g.add(t))
					})
				},
				e.onPageChange = function(i, o) {
					t.$broadcast("pageManager.changePage.pre", x.currentIndex, i),
					v();
					var a = n.currentPageIndex;
					if (i !== a || o) return e.savePage().then(function() {
						f(i)
					})
				},
				e.$on("wsComp.add", m),
				e.$on("wsComp.delete.end", m),
				e.$on("contextMenu.zIndex", m),
				e.$on("changePage.end", m),
				e.$on("tool.copyPage",
				function() {
					return e.copyPage()
				}),
				e.copyPage = function() {
					e.savePage().then(function() {
						var t = n.currentPageIndex;
						n.copyPage2(t).then(function() {
							e.onPageChange(t + 1)
						})
					})
				},
				e.deletePage = function() {
					r.openConfirmDialog({
						"delete": !0,
						msg: "页面删除后无法还原",
						confirmName: "坚持删除",
						cancelName: "稍后决定"
					}).then(function() {
						n.deletePage(n.currentPageIndex).then(function(e) {
							v(),
							t.$broadcast("page.delete"),
							o(function() {
								f(e)
							},
							10)
						})
					})["catch"](function() {})
				},
				e.createPage = function(t) {
					var i = n.currentPageIndex;
					return t && d.permission("disableLongPage") ? r.openConfirmDialog({
						msg: "付费企业功能, 是否升级",
						confirmName: "立即升级",
						cancelName: "我知道了"
					}).then(function() {
						window.open(u.HOST + "site/privilege")
					}) : n.createPage(i, t).then(function(t) {
						return t.isLongPage() && (t.$newPageHeight = !0),
						e.onPageChange(i + 1)
					},
					function(e) {
						return p.add(e.data.msg, "danger"),
						Promise.resolve("danger")
					})
				},
				e.$on("savePage",
				function(t, n) {
					e.savePage().then(function() {
						n && n()
					})
				});
				var S = 3e5,
				k = l(function() {
					e.savePage()
				},
				S);
				e.savePage = function() {
					var t = x.currentIndex,
					i = y.eqxPageList[t];
					i.$$lastHash || console.error("eqxPage does not have $$lastHash!", i);
					var o = a(i.pageJson);
					return o === i.$$lastHash ? c.resolve() : n.savePage(t).then(function() {
						i.$$lastHash = o,
						l.cancel(k),
						k = l(function() {
							e.savePage()
						},
						S)
					},
					function(e) {
						p.add(e.data.msg, "danger")
					})
				},
				e.sortableOptions = {
					placeholder: "ui-state-highlight ui-sort-position",
					containment: "#containment",
					update: function(t, i) {
						var o = i.item.sortable,
						a = o.index,
						r = o.dropindex;
						n.sortPage(a, r).then(function() {
							var t = n.currentPageIndex;
							t === a && (n.currentPageIndex = r),
							t === r && (n.currentPageIndex = a),
							e.onPageChange(r, !0)
						})["catch"](function() {
							p.add("排序失败", "danger"),
							v()
						})
					}
				},
				e.compsSortableOptions = {
					placeholder: "ui-state-highlight ui-sort-position",
					containment: "#containment",
					update: function(t, n) {
						var i = n.item.sortable,
						o = i.index,
						a = i.dropindex,
						r = x.comps[o],
						s = a - o;
						0 !== s && (s = s < 0 ? "+" + -s: "-" + s, x.eqxPage.updateCompZIndex(x.comps[o], s), m(), e.select({},
						r))
					}
				},
				e.$on("tpl.useTpl",
				function() {
					v()
				},
				!0)
			}]
		}
	}
	n(506);
	var o = n(507),
	a = n(277).getHash;
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div id=containment class=create_right ng-class="{\'show-tabs\': vm.showTabs}"><ul class="nav nav-tabs" ng-show=vm.showTabs><li ng-class="{active: vm.tab == TAB.page}"><a ng-click="vm.tab = TAB.page" big-data-event categorytwoid=19 categorytwo=页面模板 actiontype=4>页面模板</a></li><li ng-class="{active: vm.tab == TAB.comp }"><a ng-click="vm.tab = TAB.comp" big-data-event categorytwoid=20 categorytwo=组件管理 actiontype=4>组件管理</a></li></ul><eqx-page-action ng-show="vm.tab == TAB.page"></eqx-page-action><div class=nav_content ng-show="vm.tab == TAB.page"><div style=height:100% eqd-scroll><ul class=page-uls id=pageList ui-sortable=sortableOptions ng-model=vm.pageList><li class=blurClass ng-repeat="page in vm.pageList" ng-click=onPageChange($index); ng-class="{current: vm.currentIndex == $index,createLongPage: page.pageJson.properties.longPage}"><span class=number><em>{{ $index + 1}}</em></span> <span ng-show=page.pageJson.properties.xb class=pushXB><span class=small>推</span> <span class=normal>推客任务</span></span><eqx-page-name-editor page=page></eqx-page-name-editor></li></ul></div><div class=tpl-option></div></div><div class="nav_content comps-manager" ng-show="vm.tab == TAB.comp"><div style=height:100% eqd-scroll><ul class=page-uls ui-sortable=compsSortableOptions id=compList ng-model=vm.comps><li class="blurClass compli" ng-class="{current: isSelected(comp)}" ng-click="select($event, comp)" ng-repeat="comp in vm.comps track by comp.compJson.id" ng-class="{current: comp === vm.comp }"><span class="page-name el-name">{{comp.getName()}}</span></li></ul></div></div><eqx-create-page create-page=createPage(pLen)></eqx-create-page></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.comp", [n(509), n(511), n(519), n(521), n(529), n(532), n(539), n(545), n(552), n(558), n(566), n(571), n(575), n(582), n(589), n(592), n(599), n(606), n(613), n(616), n(623), n(626), n(631), n(635), n(638), n(641), n(658), n(663)]).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.music", []).directive("eqxBgm", n(510)).name
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "musicModal", "sceneService",
			function(e, t, n) {
				"ngInject";
				var i = n.eqxScene;
				e.editBgm = function() {
					var e = 2;
					t.open(i.sceneJson.meta.bgAudio, e).then(function(e) {
						var t = e.name,
						n = e.path,
						o = e.id;
						n ? i.setProps({
							bgAudio: {
								url: n,
								name: t,
								id: o
							}
						}) : i.setProps({
							bgAudio: null
						})
					})
				},
				e.$on("bgm.edit",
				function() {
					e.editBgm()
				}),
				e.$on("bgm.delete",
				function() {
					i.setProps({
						bgAudio: null
					})
				})
			}],
			link: function(e, t) {
				t.on("click.bgm",
				function() {
					e.$apply(function() {
						return e.editBgm()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.comp", []).factory("compLinkModal", n(512)).directive("eqxCompLink", n(517)).directive("eqxCompSound", n(518)).name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		function i() {
			e.openMsgDialog({
				msg: n(515)
			})
		}
		function o(o) {
			return e.open({
				windowClass: "console six-contain",
				template: n(516),
				resolve: {
					url: function() {
						return o
					}
				},
				controller: ["$scope", "$timeout", "url", "sceneService",
				function(e, n, o, a) {
					var r = e.TYPE = {
						none: 0,
						internal: 1,
						external: 2
					},
					s = a.eqxScene,
					c = s.meta.id,
					l = s.sceneJson.list.map(function(e, t) {
						return {
							name: e.name || "第" + (t + 1) + "页",
							id: e.id
						}
					});
					e.pageList = [{
						name: "无",
						id: null
					}].concat(l);
					var p = e.vm = {
						type: r.none,
						pageId: null,
						link: null
					};
					if (Number.isInteger(o)) p.pageId = o,
					p.type = r.internal;
					else {
						var d = (/eqs\/link\?id=\d+&url=(.*)/.exec(o) || [])[1];
						d && (p.link = decodeURIComponent(d)),
						p.type = r.external
					}
					e.setType = function(e) {
						p.type = e
					},
					e.isExternal = function() {
						return p.type === r.external
					},
					e.isInternal = function() {
						return p.type === r.internal
					},
					e.confirm = function() {
						switch (p.type) {
						case r.internal:
							n = p.pageId;
							break;
						case r.external:
							if (n = p.link) {
								if (/^http:|^https:|^ftp:/.test(n) || (n = "http://" + n), n.length > 40) return i();
								n = t.SERVER_1 + "eqs/link?id=" + c + "&url=" + encodeURIComponent(n)
							}
							break;
						case r.none:
						default:
							var n = null
						}
						e.$close(n)
					},
					e.cancel = function() {
						e.$dismiss()
					}
				}]
			})
		}
		return {
			open: o,
			openLengthAlert: i
		}
	}
	i.$inject = ["modalService", "HOST"],
	n(513),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div align=left>提示：链接过长有可能会导致链接组件打不开，建议生成短链接后再使用。生成短链接地址 <a href=http://dwz.cn target=_blank style=color:#08A1EF>http://dwz.cn</a></div>"
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>链接组件 <span class=action>可以链接到场景其他页面或者链接网站地址</span></h4></div><div class="dialog-contain comp-link"><div class="link-modal dialog-content"><form class=form-contain><div class="form-list clearfix"><label for=externalRadio class=form-label><div class=radio-square ng-class="{checked: isExternal()}"><em></em> <input type=radio name=externalRadio id=externalRadio ng-model=vm.type ng-value=TYPE.external ng-change=changed() style=margin:0></div><em>网站地址:</em></label><div class=form-input><input class="" style=height:35px;width:300px type=text ng-model=vm.link name=externalLink id=externalLink placeholder=http:// ng-focus=setType(TYPE.external) /> <a class="link-delete url-delete" ng-show=isExternal() ng-click=setType(TYPE.none)></a></div><a href=http://dwz.cn/ style=text-decoration:underline;color:#08A1EF;position:absolute;top:10px;right:-30px target=_blank>生成短链接</a></div><div class="form-list clearfix"><label for=internalRadio class=form-label><div class=radio-square ng-class="{checked: isInternal()}"><em></em> <input type=radio name=internalRadio id=internalRadio ng-value=TYPE.internal ng-model=vm.type style=margin:0></div><em>场景页面:</em></label><div class=form-input><eqx-select class="select-sm select-contain border-width fl" model=vm.pageId change=setType(TYPE.internal)><eqx-select-option value=page.id ng-repeat="page in pageList">{{page.name}}</eqx-select-option></eqx-select><a class="link-delete page-id-delete" ng-show=isInternal() ng-click=setType(TYPE.none)></a></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t) {
				t.$on("wsComp.edit.link",
				function(t, n) {
					n && e.open(n.compJson.properties.url).then(function(e) {
						n.setProps({
							url: e
						})
					})
				})
			}
		}
	}
	n.$inject = ["compLinkModal"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		return {
			restrict: "A",
			link: function(t) {
				t.$on("wsComp.edit.sound",
				function(t, n) {
					n && e.open(n.compJson.sound, 4).then(function(e) {
						var t = e.id,
						i = e.name,
						o = e.path;
						t ? n.addSoundIcon() : n.removeSoundIcon(),
						n.setProps({
							sound: {
								id: t,
								name: i,
								src: o
							}
						})
					})
				})
			}
		}
	}
	n.$inject = ["musicModal"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.image.image", []).directive("eqxImage", n(520)).name
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "imageModalFactory", "imageCropFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				function a(e, t) {
					return {
						css: {
							top: "0px",
							left: "80px",
							width: e,
							height: t
						},
						properties: {
							src: "",
							imgStyle: {
								width: e,
								height: t,
								marginTop: "0",
								marginLeft: "0"
							}
						},
						title: null,
						type: 4
					}
				}
				function r(e) {
					return JSON.parse(JSON.stringify(e))
				}
				e.createImage = function() {
					n.getImage().then(function(e) {
						var n = a(1.5 * e.shape.width, 1.5 * e.shape.height);
						n.properties.src = e.src || e.path,
						n.properties.originSrc = e.src || e.path;
						var i = o.getCurrentPage(),
						r = i.initEqxCompByJson(n);
						r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r))
					})
				},
				e.createImageDirectly = function(e) {
					var n = a(e.width, e.height);
					n.properties.src = e.src || e.path,
					n.properties.originSrc = e.src || e.path,
					n.css.top = e.top,
					n.css.left = e.left;
					var i = o.getCurrentPage(),
					r = i.initEqxCompByJson(n);
					r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r))
				},
				e.editImage = function(e) {
					var i = e.compJson;
					4 == i.type && n.getImage().then(function(e) {
						var n = r(i),
						a = n.properties,
						s = e.src || e.path;
						Object.assign(a, {
							src: s,
							originSrc: s,
							cropSize: void 0
						});
						var c = o.getCurrentPage(),
						l = c.updateEqxComp(i.id, n);
						l.$width = e.shape.width,
						l.$height = e.shape.height,
						l && (c.renderEqxComp(l), e.shape.ratio && l.updateImageSize(e.shape.ratio), t.$broadcast("wsComp.add", l))
					})
				},
				e.cropImage = function(e) {
					var n = e.compJson,
					a = r(n),
					s = a.properties,
					c = {
						type: a.type,
						title: "图片裁切",
						desc: "请根据你的需求，点击右侧常用比例进行裁切",
						showItems: !0,
						imgSrc: s.originSrc || s.src,
						cropItems: [{
							value: 1,
							ratio: 0,
							desc: "原图比例"
						},
						{
							value: 2,
							ratio: 1,
							desc: "1:1"
						},
						{
							value: 3,
							ratio: 4 / 3,
							desc: "4:3"
						},
						{
							value: 4,
							ratio: .75,
							desc: "3:4"
						},
						{
							value: 5,
							ratio: 320 / 486,
							desc: "标准屏比例"
						},
						{
							value: 6,
							ratio: 320 / 243,
							desc: "1/2屏比例"
						},
						{
							value: 7,
							ratio: 320 / 162,
							desc: "1/3屏比例"
						},
						{
							value: 8,
							ratio: -1,
							desc: "自定义",
							lock: !1
						}]
					};
					i.openCropModal(a, c).then(function(e) {
						var i = e.image,
						r = e.obj || a,
						c = {
							cropSize: i.cropSize,
							src: i.src,
							originSrc: i.originSrc
						};
						Object.assign(s, c);
						var l = o.getCurrentPage(),
						p = l.updateEqxComp(n.id, r);
						p && (l.renderEqxComp(p), p.$width = p.compJson.css.width, p.$height = p.compJson.css.height, t.$broadcast("wsComp.add", p))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.image",
				function() {
					e.$apply(function() {
						return e.createImage()
					})
				}),
				e.$on("psd.image",
				function(t, n) {
					e.createImageDirectly(n)
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editImage(n)
				}),
				e.$on("wsComp.crop",
				function(t, n) {
					e.cropImage(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.imageGroup", []).factory("imageSliderModal", n(522)).directive("eqxImageSliderCropPreview", n(525)).factory("imageSliderCropFactory", n(526)).directive("eqxImageSlider", n(527)).name
},
function(e, t, n) {
	"use strict";
	var i = n(523);
	e.exports = ["modalService", "delayLoadService",
	function(e, t) {
		"ngInject";
		function o(o) {
			return t.imgJcrop().then(function() {
				return e.open({
					windowClass: "console seven-contain pictures1",
					backdrop: "static",
					template: n(524),
					controller: i,
					resolve: {
						obj: function() {
							return JSON.parse(JSON.stringify(o))
						}
					}
				})
			})
		}
		return {
			open: o
		}
	}]
},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "$modal", "$rootScope", "HOST", "imageSliderCropFactory", "obj", "imageModalFactory",
	function(e, t, n, i, o, a, r) {
		"ngInject";
		function s(e) {
			if (void 0 === e) return u;
			for (var t = 0; t < u.length; t++) if (e === u[t].value) return u[t]
		}
		function c(e) {
			var t;
			f.children[e].originSrc && (t = f.children[e].originSrc),
			p.currentImage = {
				index: e,
				src: f.children[e].src + "?t=" + Date.now(),
				originSrc: t
			}
		}
		function l(t, n, o) {
			$("<img>").attr("src", i.FILE + n).load(function() {
				$.extend(v.items[t], {
					coordinate: {
						x: 0,
						y: 0,
						x2: this.width,
						y2: this.height,
						w: this.width,
						h: this.height,
						src: n,
						name: o,
						fileType: 1,
						index: t
					},
					realSize: {
						width: this.width,
						height: this.height
					}
				}),
				e.compJson.properties.children && e.compJson.properties.children[t] && e.compJson.properties.children[t].cropSize && (v.items[t].coordinate.x = e.compJson.properties.children[t].cropSize.x, v.items[t].coordinate.y = e.compJson.properties.children[t].cropSize.y, v.items[t].coordinate.w = e.compJson.properties.children[t].cropSize.w, v.items[t].coordinate.h = e.compJson.properties.children[t].cropSize.h)
			})
		}
		e.HOST = i,
		e.compJson = a;
		var p = e.imageOption = {
			title: "图集组件",
			desc: "通过图片裁切可制作超酷图集",
			showCrop: !1,
			showLoading: !1,
			currentImage: {
				index: -1,
				src: ""
			}
		},
		d = e.cropOption = {
			showItems: !0,
			imgSrc: a.properties.src,
			cropItems: [{
				value: 2,
				ratio: 1,
				desc: "1:1"
			},
			{
				value: 3,
				ratio: 4 / 3,
				desc: "4:3"
			},
			{
				value: 4,
				ratio: .75,
				desc: "3:4"
			},
			{
				value: 5,
				ratio: 320 / 486,
				desc: "标准屏比例"
			},
			{
				value: 6,
				ratio: 320 / 243,
				desc: "1/2屏比例"
			},
			{
				value: 7,
				ratio: 320 / 162,
				desc: "1/3屏比例"
			},
			{
				value: 8,
				ratio: -1,
				desc: "自定义",
				lock: !1
			}]
		};
		a.properties.ratioItem ? (a.properties.lock && "" + a.properties.ratioItem == "8" && (d.cropItems[a.properties.ratioItem - 2].lock = !0), d.currentItem = d.cropItems[a.properties.ratioItem - 2]) : d.currentItem = d.cropItems[0];
		var u = [{
			value: 1,
			desc: "轮播",
			name: "slide"
		},
		{
			value: 2,
			desc: "下落",
			name: "bars"
		},
		{
			value: 3,
			desc: "百页窗",
			name: "blinds"
		},
		{
			value: 4,
			desc: "消隐",
			name: "blocks"
		},
		{
			value: 5,
			desc: "渐变",
			name: "blocks2"
		},
		{
			value: 9,
			desc: "梳理",
			name: "zip"
		},
		{
			value: 11,
			desc: "翻转",
			name: "bars3d"
		},
		{
			value: 13,
			desc: "立方体",
			name: "cube"
		},
		{
			value: 14,
			desc: "棋盘",
			name: "tiles3d"
		},
		{
			value: 16,
			desc: "飞出",
			name: "explode"
		}],
		g = e.picStyles = s(),
		m = angular.copy(a),
		f = e.properties = m.properties;
		f.autoPlay = !f.autoPlay == !0 || f.autoPlay,
		f.interval = !f.interval == !0 ? 2e3: f.interval,
		f.picStyle = !f.picStyle == !0 ? g[0] : s(f.picStyle),
		f.bgColor = !f.bgColor == !0 ? "rgba(255,255,255,0)": f.bgColor,
		f.children = !f.children == !0 ? [] : f.children,
		f.children.length > 0 && (p.showCrop = !0, c(0));
		for (var h = 0; h < 6; h++) f.children[h] ? l(h, f.children[h].originSrc ? f.children[h].originSrc: f.children[h].src, f.children[h].name) : f.children.push({});
		var v = o.getCoordinateObj();
		e.cropItemChange = function(e) {
			null === e.lock && (d.cropItems[6].lock = !1),
			d.currentItem = e,
			n.$broadcast("cropItem.change", e)
		},
		e.addPictures = function(e, t, n) {
			e.stopPropagation();
			var i = 0;
			i = n ? f.children.filter(function(e) {
				return e.src
			}).length: 5;
			var o = {
				manageGroup: !1,
				max: 6 - i
			};
			r.getImages(o).then(function(e) {
				var i = {
					selectedImages: []
				};
				angular.forEach(e,
				function(e) {
					var t = {
						height: e.shape.height,
						width: e.shape.width,
						name: e.name,
						src: e.src || e.path
					};
					i.selectedImages.push(t)
				}),
				p.showCrop = !0;
				var o = t,
				a = 0,
				r = f.children.length;
				if (n) for (; o < r;) {
					if (!f.children[o++].src) {
						var s = i.selectedImages[a++];
						f.children[o - 1] = {
							src: s.src,
							desc: "",
							height: s.height,
							width: s.width,
							name: s.name
						},
						l(o - 1, s.src, s.name),
						c(t)
					}
					if (a === i.selectedImages.length) break;
					o === r && (o = 0)
				} else {
					var d = i.selectedImages[0];
					f.children[t] = {
						src: d.src,
						desc: "",
						height: d.height,
						width: d.width
					},
					l(t, d.src, d.name),
					c(t)
				}
			})
		},
		e.setPicturesSize = function(e) {
			var t, n, i, o = e.children[0],
			r = o.width / o.height;
			m.css.width || m.css.height ? (t = m.css.width / m.css.height, r > t ? (n = m.css.width, i = n / r) : (i = m.css.height, n = i * r)) : (t = 2, r > t ? (n = 320, i = n / r) : (i = 160, n = i * r)),
			a.css.width = n,
			a.css.height = i
		},
		e.delPicture = function(e) {
			f.children[e] = {},
			v.items[e] = {},
			e === p.currentImage.index && (p.currentImage.index = -1, n.$broadcast("image.delete", e))
		},
		e.changePicture = function(e) {
			p.currentImage.index !== e && c(e)
		};
		var y = !0;
		e.ok = function() {
			if (y) {
				if (y = !1, 0 === f.children.length) return void(p.desc = "请选择图片，最多添加6张");
				var e = f.children.filter(function(e) {
					return e.src && e.src.length > 2
				});
				e && 0 !== e.length && (o.getCropping() || (p.showLoading = !0, n.$broadcast("cropImage.ok", f)))
			}
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.$on("crop.complete.all",
		function(t, n) {
			f.picStyle = f.picStyle.value,
			$.each(n,
			function(e, t) {
				f.children[t.index] = t
			});
			for (var i = angular.copy(f), o = i.children, r = 5; r >= 0; r--) o[r].src || o.splice(r, 1);
			y = !0,
			e.setPicturesSize(i),
			a.properties = i,
			e.$close(a)
		}),
		e.$on("crop.fail",
		function() {
			o.setCropping(!1),
			p.showLoading = !1
		})
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{imageOption.title}} <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1934&page=1&extra=#pid6696"><span class=eqf-exclaquestion-sign></span></a> <span class=action>{{imageOption.desc}}</span></h4></div><div class="dialog-contain cropimage"><div class="crop-content dialog-content clearfix"><div class=image-con style=width:100% ng-hide=imageOption.showCrop><div class=add-img ng-click="addPictures($event, 0, \'first\')"><i>点击添加图片</i><p style=padding-top:5px;font-size:14px><i>（最多可添加6张图片）</i></p></div></div><div class=clearfix ng-show=imageOption.showCrop><div class=picture-img><div class=image_crop ng-class="{\'bg-crop\': !cropOption.showItems}"><img id=img_preview eqx-image-slider-crop-preview index={{imageOption.currentImage.index}} ng-src="{{imageOption.currentImage.originSrc ? HOST.FILE + imageOption.currentImage.originSrc : HOST.FILE + imageOption.currentImage.src}}"></div><div class=img-abbre><ul class=clearfix><li ng-repeat="child in properties.children" ng-class="{active: imageOption.currentImage.index === $index}" ng-style="{\'background-image\':  child.originSrc ? \'url(\' + HOST.FILE + child.originSrc + \')\' : \'url(\' + HOST.FILE + child.src + \')\'}" ng-click=changePicture($index)><div class=img-set ng-show=child.src.length><div class="delete-img hint--top hint--rounded" data-hint=删除图片 ng-click=delPicture($index)><span class=eqf-wrong2></span></div><div class="abbre hint--bottom hint--rounded" data-hint=更换图片 ng-click="addPictures($event, $index)"><span class=eqf-top-pic></span></div></div><p class=eqf-plus2 ng-hide=child.src.length ng-click="addPictures($event, $index, \'more\')"></p></li></ul></div></div><div class="cut-size picture-size" ng-show=cropOption.showItems><ul><li ng-repeat="item in cropOption.cropItems"><div class=radio-square style=margin-top:7px ng-class="{checked:cropOption.currentItem== item}"><em></em> <input type=radio id={{item.desc}} name=cropSize ng-model=cropOption.currentItem ng-value=item ng-change=cropItemChange(item)></div><label for={{item.desc}}>{{item.desc}}</label><span ng-if="item.lock != null"><input type=checkbox id=lock ng-model=item.lock ng-change=cropItemChange(item)><label for=lock>锁定</label></span></li></ul><ul style=margin-top:10px class=picture-set><li class=clearfix><span class="switch-circle on" ng-class="{on: properties.autoPlay, off: !properties.autoPlay}" ng-click="properties.autoPlay = !properties.autoPlay"><i></i></span> {{properties.autoPlay ? (\'自动切换\') : (\'手动切换\')}}</li><li><p><i>切换时间：</i>{{properties.interval / 1000}}<i>秒</i></p></li><li class=switch-time style=padding-top:5px><div ui-slider-t min=1000 max=5000 step=1000 class=slider ng-model=properties.interval ng-class="{disable: !properties.autoPlay}"></div><div class=time-mark ng-hide=properties.autoPlay></div></li><li><p>切换动画</p></li><li><eqx-select class="select-sm border-width select-contain" model=properties.picStyle change=getMyScenes()><eqx-select-option value=pic ng-repeat="pic in picStyles">{{pic.desc}}</eqx-select-option></eqx-select></li></ul></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel() ng-style="{\'margin-left\': imageOption.showCrop ? 25 : 0}">取消</a> <a class="btn btn-primary" ng-click=ok() ng-show=imageOption.showCrop>确定</a></div><div class=loading-mask ng-show=imageOption.showLoading><img ng-src=./oval.svg></div>'
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t(t, i) {
			var o = e.getCoordinateObj();
			d = t,
			n(i, o),
			t.$on("$destroy",
			function() {
				c = l = p = null,
				e.initCoordinateObj(),
				e.setCropping(!1)
			}),
			t.$on("cropItem.change",
			function(e, t) {
				r(t)
			}),
			t.$on("image.delete",
			function() {
				$(".image_crop").children("div").remove()
			}),
			t.$on("cropImage.ok",
			function(e, n) {
				p && p.value && (n.ratioItem = p.value, p.lock ? n.lock = !0 : n.lock = !1),
				s(t, n, o)
			})
		}
		function n(e, t) {
			var n = $(".image_crop"),
			o = {
				width: n.width(),
				height: n.height()
			},
			a = o.width / o.height;
			e.hide().load(function() {
				var n = {
					width: this.width,
					height: this.height
				};
				e.show();
				var r, s = n.width / n.height;
				n.width > o.width || n.height > o.height ? s > a ? (e.css({
					width: o.width,
					height: o.width / s
				}), r = {
					position: "absolute",
					top: "50%",
					marginTop: -o.width / s / 2
				}) : (e.css({
					width: o.height * s,
					height: o.height
				}), r = {
					margin: "auto"
				}) : r = {
					position: "absolute",
					left: "50%",
					top: "50%",
					marginLeft: -n.width / 2,
					marginTop: -n.height / 2
				},
				l = {
					width: e.width(),
					height: e.height()
				};
				var c = e.attr("index");
				$.extend(t.items[c], {
					displaySize: l
				}),
				i(e, t, r, c)
			})
		}
		function i(e, t, n, i) {
			c && (c.destroy(), c = null);
			var a, r = l.width,
			s = l.height,
			u = !1;
			d.compJson.properties.children && d.compJson.properties.children[i] && d.compJson.properties.children[i].cropSize && (u = !0),
			a = t.items[i].coordinate,
			a && (a.w > r && (t.ratio = t.items[0].coordinate.w / t.items[0].coordinate.h, a.w = r, a.h = r / t.ratio), a.h > s && (t.ratio = t.items[0].coordinate.w / t.items[0].coordinate.h, a.h = s, a.w = s * t.ratio), a.x2 = a.x + a.w, a.y2 = a.y + a.h);
			var g;
			g = p && p.ratio === -1 ? 0 : p ? p.ratio: u ? a.w / a.h: 1,
			e.Jcrop({
				keySupport: !1,
				aspectRatio: g,
				allowSelect: !1,
				setSelect: a ? [a.x, a.y, a.x2, a.y2] : [0, 0, r, s],
				onRelease: function() {
					this.setOptions({
						setSelect: [0, 0, r, s]
					})
				},
				onSelect: function() {
					c && o(i, t)
				}
			},
			function() {
				c = this,
				o(i, t)
			}),
			$(".jcrop-holder").css(n)
		}
		function o(e, t) {
			var n = c.tellSelect();
			n.w || (n.w = n.x2 - n.x),
			n.h || (n.h = n.y2 - n.y),
			t.ratio = n.w / n.h,
			$.extend(t.items[e].coordinate, n),
			$.each(t.items,
			function(e, n) {
				var i = n.coordinate;
				i && a(i, t)
			})
		}
		function a(e, t) {
			var n = e.w / e.h;
			n > t.ratio ? (e.w = e.h * t.ratio, e.x2 = e.x + e.w) : (e.h = e.w / t.ratio, e.y2 = e.y + e.h)
		}
		function r(e) {
			p = e;
			var t, n = l.width,
			i = l.height;
			if (e.ratio === -1) {
				var o = c.tellSelect();
				t = e.lock ? {
					aspectRatio: o.w / o.h,
					setSelect: [0, 0, o.w, o.h]
				}: {
					aspectRatio: 0,
					setSelect: [0, 0, o.w, o.h]
				}
			} else n > i ? n = i * e.ratio: i = n / e.ratio,
			t = {
				aspectRatio: n / i,
				setSelect: [0, 0, n, i]
			};
			c.setOptions(t)
		}
		function s(t, n, i) {
			var o = [];
			$.each(i.items,
			function(t, n) {
				var r = n.coordinate,
				s = n.realSize;
				if (r && s) {
					if (u = {},
					$.extend(!0, u, n.coordinate), a(r, i), n.displaySize) {
						var c = s.width / n.displaySize.width;
						r.w = Math.ceil(r.w * c),
						r.h = Math.ceil(r.h * c),
						r.x = Math.ceil(r.x * c),
						r.y = Math.ceil(r.y * c)
					} else {
						var l = r.w / r.h,
						p = s.width / s.height;
						p > l ? (r.w = Math.ceil(s.height * l), r.h = s.height) : (r.w = s.width, r.h = Math.ceil(s.width / l))
					}
					r.x + r.w > n.realSize.width && (r.w = s.width - r.x),
					r.y + r.h > n.realSize.height && (r.h = s.height - r.y),
					r.w === s.width && r.h === s.height || 0 === r.w || 0 === r.h ? (o.push({
						src: r.src,
						desc: "",
						height: r.h,
						width: r.w
					}), e.setCropCount(i), e.cropImage(r, r, !1)) : (delete r.x2, delete r.y2, e.setCropping(!0), e.setCropCount(i), e.cropImage(r, u, !1))
				}
			})
		}
		var c, l, p, d;
		return {
			link: t
		};
		var u
	}
	n.$inject = ["imageSliderCropFactory"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		var t, n = {},
		i = [],
		o = !1,
		a = 0,
		r = 0;
		return n.getCoordinateObj = function() {
			return t
		},
		n.initCoordinateObj = function() {
			t = {
				ratio: null,
				items: []
			};
			for (var e = 0; e < 6; e++) t.items.push({})
		},
		n.setCropCount = function(e) {
			var t = 0;
			if (e && e.items) for (var n = 0; n < e.items.length; n++) e.items[n].coordinate && e.items[n].coordinate.src && t++;
			a = t
		},
		n.getCropCount = function() {
			return a
		},
		n.setCropping = function(e) {
			o = e
		},
		n.getCropping = function() {
			return o
		},
		n.cropImage = function(t, n, o) {
			var s;
			s = o ? n: t;
			var c = "?imageMogr2/auto-orient/crop/!" + s.w + "x" + s.h + "a" + s.x + "a" + s.y,
			l = {
				width: n.w,
				height: n.h,
				src: n.src + c,
				originSrc: n.src,
				id: n.id,
				cropSize: {
					x: n.x,
					y: n.y,
					w: n.w,
					h: n.h
				},
				desc: "",
				index: t.index
			};
			i.push(l),
			r++,
			a === r && (a = r = 0, e.$broadcast("crop.complete.all", angular.copy(i)), i.length = 0)
		},
		n.initCoordinateObj(),
		n
	}
	n.$inject = ["$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			link: function(e, t) {
				t.on("click.imageSlider",
				function() {
					e.$apply(function() {
						return e.createImageSlider()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					"p" == n.compJson.type && e.editImageSlider(n)
				})
			},
			controller: ["$scope", "imageSliderModal", "sceneService", "$rootScope",
			function(e, t, i, o) {
				"ngInject";
				e.createImageSlider = function() {
					var e = n(528);
					t.open(e).then(function(e) {
						var t = i.getCurrentPage(),
						n = t.initEqxCompByJson(e);
						n && (t.renderEqxComp(n), o.$broadcast("wsComp.add", n))
					})
				},
				e.editImageSlider = function(e) {
					var n = e.compJson;
					t.open(n).then(function(e) {
						var t = i.getCurrentPage(),
						a = t.updateEqxComp(n.id, e);
						a && (t.renderEqxComp(a), o.$broadcast("wsComp.add", a))
					})
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {
			top: "100px",
			left: "0px"
		},
		properties: {
			title: "图集"
		},
		title: null,
		type: "p"
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.background", []).directive("eqxBg", n(530)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			link: function(e, t) {
				t.on("click.bg",
				function() {
					e.$apply(function() {
						return e.updateBg()
					})
				}),
				e.$on("bg.edit",
				function() {
					return e.updateBg()
				}),
				e.$on("bg.cut",
				function(t, n) {
					return e.cutBg(n)
				}),
				e.$on("bg.effect",
				function(t, n) {
					return e.changeEffect(n)
				}),
				e.$on("bg.delete",
				function() {
					return e.removeBg()
				})
			},
			controller: ["$scope", "imageModalFactory", "imageCropFactory", "sceneService", "HOST", "$q",
			function(e, t, i, o, a, r) {
				"ngInject";
				function s(e) {
					var t = o.getCurrentPage();
					e = t.addBgJson(e);
					var n = t.initEqxBgByJson(e);
					n && t.renderBg(n)
				}
				function c(e) {
					var t = e.properties;
					if (t.originSrc) var n = t.originSrc.replace(a.FILE, "");
					else n = t.src.replace(a.FILE, "");
					var o = {
						type: e.type,
						title: "背景裁切",
						desc: "背景图将按照要求的比例进行裁切",
						showItems: !1,
						imgSrc: n,
						cropItems: [{
							ratio: 640 / 1008,
							desc: "背景图比例"
						}]
					};
					return t.pageLength && (o.currentIndex = 1, o.showItems = !0, o.cropItems = [{
						value: 1,
						ratio: 320 / 504,
						desc: "固定背景模式"
					},
					{
						value: 2,
						ratio: 320 / (t.pageLength + 18),
						desc: "全屏背景模式"
					}]),
					i.openCropModal(e, o).then(function(n) {
						var i = n.image;
						if (i.src && i.originSrc) {
							var o = {
								cropSize: i.cropSize,
								imgSrc: i.src,
								originSrc: i.originSrc
							};
							t.pageLength && (o.croptype = i.type),
							Object.assign(t, o)
						}
						return t.originSrc && !t.imgSrc && (t.imgSrc = t.originSrc),
						e
					})
				}
				e.removeBg = function() {
					var e = o.getCurrentPage();
					e.deleteBg()
				},
				e.changeEffect = function(e) {
					var t = o.getCurrentPage().eqxBackground;
					e ? (t.compJson.effect = {
						type: e
					},
					t.animate()) : delete t.compJson.effect
				},
				e.updateBg = function() {
					var e = o.getCurrentPage(),
					i = e.pageJson.properties.longPage,
					a = JSON.parse(JSON.stringify(n(531))),
					l = {
						categoryName: "背景",
						disableBgColor: !1
					};
					i && (a.properties.pageLength = i, l.tagName = "纯色背景"),
					t.getBg(l).then(function(e) {
						if (e.color) {
							a.properties.bgColor = e.color;
							var t = r.resolve(a)
						} else a.properties.originSrc = e.src || e.path,
						t = c(a);
						t.then(s)
					})
				},
				e.cutBg = function(e) {
					var t = o.getCurrentPage(),
					n = t.pageJson.properties.longPage,
					i = JSON.parse(JSON.stringify(e));
					n && n != i.properties.pageLength && (i.properties.pageLength = n, delete i.properties.cropSize),
					c(i).then(s)
				}
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {},
		properties: {
			bgColor: null,
			imgSrc: null
		},
		type: 3
	}
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.text", []).directive("toolbar", n(533)).directive("eqxText", n(537)).directive("downUpSelect", [function() {
		return {
			restrict: "EA",
			link: function(e, t) {
				t.on("click",
				function() {
					var n = t.next().eq(0),
					i = $(".btn-toolbar").offset().top,
					o = n.height(),
					a = $(window).height() - i + $(document).scrollTop() - 40,
					r = i - $(document).scrollTop();
					o > a && o < r ? e.$apply(function() {
						e.upclass = !0
					}) : e.$apply(function() {
						e.upclass = !1
					})
				})
			}
		}
	}]);
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i, o, a, r, s) {
		"ngInject";
		return {
			restrict: "EA",
			replace: !0,
			template: n(536),
			scope: {
				comp: "="
			},
			link: function(n, c, l) {
				function p() {
					var e = "auto",
					t = "inside-active-height",
					i = "inside-active-width";
					"horizontal-tb" !== n.comp.compJson.css.writingMode && n.comp.compJson.css.writingMode ? (n.comp.compJson.css.writingMode = "vertical-rl", n.writeModelNormal = !1, t = "inside-active-height", i = "inside-active-width", n.comp.$context.bind("DOMSubtreeModified",
					function() {
						"auto" === e ? (e = "100%", n.comp.$li.find(".element-box").css("width", "auto"), n.comp.$li.find(".element-box-contents").css("width", "auto")) : (e = "auto", n.comp.$li.find(".element-box").css("width", "100%"), n.comp.$li.find(".element-box-contents").css("width", "100%"))
					})) : (n.comp.compJson.css.writingMode = "horizontal-tb", n.writeModelNormal = !0, t = "inside-active-width", i = "inside-active-height"),
					n.comp.$li.removeClass(t),
					n.comp.update$li({
						width: n.comp.compJson.css.width,
						height: n.comp.compJson.css.height
					}),
					n.comp.updateSize(1, {
						"writing-mode": n.comp.compJson.css.writingMode,
						width: n.comp.compJson.css.width,
						height: n.comp.compJson.css.height,
						"min-height": n.comp.compJson.css.height,
						"min-width": n.comp.compJson.css.width
					}),
					n.comp.$li.addClass(i)
				}
				function d() {
					n.comp.compJson.css.writingMode && "horizontal-tb" !== n.comp.compJson.css.writingMode ? (n.comp.update$boxDiv({
						"writing-mode": "horizontal-tb"
					}), n.comp.compJson.css.writingMode = "horizontal-tb", n.comp.compJson.css.width = n.comp.$li.find(".element-box").width()) : (n.comp.compJson.css.writingMode = "vertical-rl", n.comp.compJson.css.height = n.comp.$li.find(".element-box").height());
					var e = [n.comp.compJson.css.height, n.comp.compJson.css.width];
					n.comp.compJson.css.width = e[0],
					n.comp.compJson.css.height = e[1],
					p()
				}
				function u() {
					return a.getMyFontList().then(function(e) {
						n.fontNames = e
					})["catch"](function(e) {
						s.openMsgDialog({
							msg: e.data.msg
						})
					})
				}
				function g(e) {
					function t() {
						n.comp.compJson.css.fontFamily = e.fontFamily,
						n.comp.compJson.css.fontName = e.name,
						a.editFontList.indexOf(e.fontFamily) === -1 && (document.getElementsByTagName("style")[0].appendChild(document.createTextNode("@font-face{font-family:'" + e.fontFamily + "';src: url('" + o.FILE + e.woffPath + "') format('woff'), url('" + o.FILE + e.ttfPath + "') format('truetype');;}")), a.editFontList.push(e.fontFamily)),
						E("fontName", e.fontFamily),
						n.selectedFontName = e.name,
						O()
					}
					if (0 == e.expStatus) s.openConfirmDialog({
						msg: "当前字体已过期，是否重新购买？",
						confirmName: "立即购买",
						cancelName: "取消"
					}).then(function() {
						a.buyFont(e).then(function() {
							a.myFont.myFontLists = []
						})
					});
					else {
						if (2 == B.type && 0 == e.license && a.myFont.personFontNoTip.indexOf(e.name) == -1) {
							var i = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + e.name + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
							r = {
								msg: i,
								confirmName: "坚持使用",
								cancelName: "去购买",
								noTips: !1
							};
							return s.openConfirmDialog(r).then(function() {
								r.noTips && a.myFont.personFontNoTip.push(e.name),
								t()
							},
							function() {
								r.noTips && a.myFont.personFontNoTip.push(e.name),
								a.buyFont(e).then(function() {
									a.myFont.myFontLists = []
								})
							})
						}
						t()
					}
				}
				function m(e) {
					var t = null;
					if (e) n.selectStyle.fontSize = e,
					t = e;
					else {
						n.selectStyle.fontSize = n.selectStyle.fontSize.replace(/[^\d]/g, "");
						var o = parseInt(n.selectStyle.fontSize);
						t = o ? o < 12 ? 12 : o > 96 ? 96 : o: 12,
						n.selectStyle.fontSize || i(function() {
							n.selectStyle.fontSize = n.selectStyle.fontSize || 12
						},
						750)
					}
					t >= 12 && t <= 96 && E("fontSize", t + "px"),
					n.targetField && n.targetField.focus(),
					O()
				}
				function f() {
					n.selectStyle.fontSize && (n.selectStyle.fontSize < 12 ? n.selectStyle.fontSize = 12 : n.selectStyle.fontSize > 96 && (n.selectStyle.fontSize = 96))
				}
				function h(e) {
					switch (E(e, ""), O(), e) {
					case "justifyleft":
						n.classTextAlign = "left";
						break;
					case "justifycenter":
						n.classTextAlign = "center";
						break;
					case "justifyright":
						n.classTextAlign = "right"
					}
				}
				function v(t) {
					t ? n.selectStyle.lineHeight = t: n.selectStyle.lineHeight && !isNaN(n.selectStyle.lineHeight) ? parseFloat(n.selectStyle.lineHeight) > 3 && (n.selectStyle.lineHeight = "3") : n.selectStyle.lineHeight = null,
					n.selectStyle.lineHeight && (n.selectStyle.lineHeight = n.selectStyle.lineHeight.replace(/^(\-)*(\d+)\.(\d\d).*$/, "$1$2.$3")),
					n.comp.compJson.css.lineHeight = parseFloat(n.selectStyle.lineHeight).toFixed(2),
					_.parent().parent().css("lineHeight", n.selectStyle.lineHeight),
					e.$broadcast("adjust.line.height"),
					O()
				}
				function y(e) {
					e ? n.selectStyle.letterSpacing = e.replace("em", "") : n.selectStyle.letterSpacing && !isNaN(n.selectStyle.letterSpacing) ? n.selectStyle.letterSpacing > 100 && (n.selectStyle.letterSpacing = 100) : n.selectStyle.letterSpacing = null,
					E("subscript", ""),
					E("letterSpacing", n.selectStyle.letterSpacing / 100 + "em"),
					n.targetField && n.targetField.focus(),
					O()
				}
				function b(e) {
					null !== e.target && (n.targetField = e.target)
				}
				function x() {
					i(function() {
						if (D && D.endContainer.parentElement.getAttribute("href")) {
							var e = D.endContainer.parentElement.getAttribute("href");
							/^http:|^https:|^ftp:/.test(e) ? n.externalLink = e: (n.link = "internal", document.getElementById("linkInternalPage").value = e)
						}
						$("#addLinkInputToggle").click()
					})
				}
				function w() {
					var e = "";
					"external" === n.link ? (/^http:|^https:|^ftp:/.test(n.externalLink) || n.externalLink && (n.externalLink = "http://" + n.externalLink), e = n.externalLink, D.toString().length > 0 && E("CreateLink", e)) : (e = document.getElementById("linkInternalPage").value, D.toString().length > 0 && E("internalLink", e)),
					i(function() {
						$("#addLinkInputToggle").click(),
						O()
					})
				}
				function S() {
					E("Unlink"),
					O()
				}
				function k() {
					E("RemoveFormat"),
					_.parent().parent().css("lineHeight", 1),
					n.comp.compJson.css.lineHeight = 1,
					e.$broadcast("adjust.line.height"),
					O()
				}
				function C(e) {
					8 !== e.keyCode && 46 !== e.keyCode || e.stopPropagation()
				}
				function T(t, i) {
					function o() {
						function t(e) {
							return "SPAN" !== e.tagName && "A" !== e.tagName || "rgba(0, 0, 0, 0)" !== window.getComputedStyle(e, null).backgroundColor ? e: t(angular.element(e).parent()[0])
						}
						"DIV" === a.tagName ? "DIV" === a.tagName && a.getAttribute("id") && parseInt(a.getAttribute("id")) === n.comp.compJson.id ? (a.style.fontSize ? n.selectStyle.fontSize = window.getComputedStyle(a, null).fontSize.replace("px", "") : n.selectStyle.fontSize = "24", n.selectStyle.fontFamily = window.getComputedStyle(a, null).fontFamily, n.selectStyle.showColor = window.getComputedStyle(a, null).color, n.selectStyle.showBackgroundColor = window.getComputedStyle(a, null).backgroundColor, n.classTextAlign = window.getComputedStyle(a, null).textAlign, "normal" === window.getComputedStyle(a, null).letterSpacing ? n.selectStyle.letterSpacing = 0 : n.selectStyle.letterSpacing = 100 * window.getComputedStyle(a, null).letterSpacing.replace("px", "") / 24) : (n.selectStyle.fontFamily = window.getComputedStyle(a, null).fontFamily, n.selectStyle.fontSize = "24", n.selectStyle.showColor = "rgb(118, 131, 143)", n.selectStyle.showBackgroundColor = "rgba(0,0,0,0)", n.selectStyle.letterSpacing = 0) : (n.selectStyle.fontFamily = window.getComputedStyle(a, null).fontFamily, n.selectStyle.fontSize = window.getComputedStyle(a, null).fontSize.replace("px", ""), n.selectStyle.showColor = window.getComputedStyle(a, null).color, n.selectStyle.showBackgroundColor = window.getComputedStyle(t(a), null).backgroundColor, n.classTextAlign = window.getComputedStyle(a, null).textAlign, "normal" === window.getComputedStyle(a, null).letterSpacing ? n.selectStyle.letterSpacing = 0 : n.selectStyle.letterSpacing = 100 * window.getComputedStyle(a, null).letterSpacing.replace("px", "") / 24),
						n.selectStyle.lineHeight = (window.getComputedStyle(_.parent().parent()[0], null).lineHeight.replace("px", "") / 24).toFixed(2),
						e.$broadcast("adjust.line.height"),
						I()
					}
					var a = null;
					a = t ? "outOfEdit" === i ? D.endContainer.parentElement: D.startContainer.parentElement: _[0].children.length > 0 && _[0].childNodes[0].innerText === _[0].innerText ? _[0].childNodes[0] : _[0],
					t ? n.$apply(o()) : o()
				}
				function q() {
					a.openFontShopping()
				}
				function I() {
					var e = 0;
					angular.forEach(n.fontNames,
					function(t) {
						t.fontFamily === n.selectStyle.fontFamily && (n.selectedFontName = t.name, e++)
					}),
					e || (n.selectedFontName = "默认字体")
				}
				function E(e, t) {
					L(),
					document.execCommand(e, 0, t),
					"fontSize" !== e && "letterSpacing" !== e && "internalLink" !== e || P(e, t),
					j(),
					L()
				}
				function P(e, t) {
					var n = {};
					n[e] = t;
					var i = null;
					"fontSize" === e && (i = _.find('[style*="font-size: -webkit-xxx-large"]'), $(i).css(n), $(i).find("span").length > 0 && $(i).find("span").css(n)),
					"letterSpacing" === e && (i = _.find('[style*="vertical-align: sub;"]'), $(i).css("vertical-align", "baseline"), $(i).css(n)),
					"internalLink" === e && (document.execCommand("CreateLink", 0, t), n = {
						data: t
					},
					i = _.find("[href=" + t + "]"), i.attr(n))
				}
				function A() {
					var e = window.getSelection();
					if (e.getRangeAt && e.rangeCount) return e.getRangeAt(0)
				}
				function j() {
					D = A()
				}
				function L() {
					var e = window.getSelection();
					if (D) {
						try {
							e.removeAllRanges()
						} catch(t) {
							document.body.createTextRange().select(),
							document.selection.empty()
						}
						e.addRange(D)
					} else e.selectAllChildren(_[0]),
					D = A()
				}
				function M() {
					if (c) {
						n.comp.compJson.content = _.html(),
						n.comp.$context.unbind("DOMSubtreeModified"),
						$(".inside-active-width") && (n.comp.$li.find(".element-box").css("width", "100%"), n.comp.$li.find(".element-box-contents").css("width", "100%"));
						var e = n.comp.$li.find(".element-box").height(),
						t = n.comp.$li.find(".element-box").width();
						n.comp.$context.css({
							height: e,
							width: t
						}),
						n.comp.update$li({
							height: e,
							width: t
						}),
						n.comp.$li.removeClass("inside-active-height"),
						n.comp.$li.removeClass("inside-active-width"),
						n.comp.$context.css({
							minHeight: "inherit",
							minWidth: "inherit"
						}),
						_.removeAttr("contenteditable"),
						c.remove(),
						H(),
						V(),
						U(),
						W(),
						G(),
						c = null
					}
				}
				function O() {
					n.comp.compJson.content = _[0].innerHTML
				}
				function F() {
					_[0].setAttribute("contenteditable", "true"),
					p(),
					_[0].focus(),
					document.execCommand("styleWithCSS", 0, !0),
					u().then(function() {
						I()
					}),
					angular.element(document.querySelector("eqx-workspace")).bind("mouseup",
					function() {
						$("#btn-toolbar").length > 0 && ("A" === window.getSelection().baseNode.tagName && "inputSelection" === window.getSelection().baseNode.getAttribute("class") || (D = A(), T(!0, "outOfEdit"), n.selectStyle.color = n.selectStyle.showColor, n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor))
					}),
					_.bind("mouseup",
					function(e) {
						$("#btn-toolbar").length > 0 && i(function() {
							D = A(),
							T(!0, e),
							n.selectStyle.color = n.selectStyle.showColor,
							n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor,
							e.stopPropagation()
						})
					}),
					_.bind("keydown",
					function(e) {
						if ((e.ctrlKey || e.metaKey) && (65 === e.keyCode || 97 === e.keyCode)) {
							var t = window.getSelection();
							t.selectAllChildren(_[0]),
							D = A()
						}
					}),
					T(!1, n.dbclickEvent),
					n.selectStyle.color = n.selectStyle.showColor,
					n.selectStyle.backgroundColor = n.selectStyle.showBackgroundColor,
					i(function() {
						l.top < 100 ? $("#btn-toolbar").css("top", parseInt(l.top) + parseInt(l.height) + 30) : $("#btn-toolbar").css("top", l.top - 50),
						$('div[isToolbarColor="toolbarColor"]').bind("click",
						function() {
							n.$watch("selectStyle.color",
							function(e, t) {
								e !== t && (n.selectStyle.showColor = e, E("ForeColor", e), O())
							}),
							n.$watch("selectStyle.backgroundColor",
							function(e, t) {
								e !== t && (n.selectStyle.showBackgroundColor = e, E("BackColor", e), O())
							})
						}),
						i(function() {
							D = A()
						},
						100),
						$(".dropdown-menu.input-append").on("click.text",
						function(e) {
							e.stopPropagation()
						})
					}),
					_.unbind("paste"),
					_.one("paste",
					function(e) {
						e.preventDefault();
						var t = (e.originalEvent || e).clipboardData.getData("text/plain") || prompt("Paste something..");
						document.execCommand("insertText", !1, t)
					})
				}
				n.upclass = !1;
				var _ = n.comp.$context,
				D = null,
				B = r.getCurrentUser(),
				J = [{
					name: "fontSizeList1",
					value: "96"
				},
				{
					name: "fontSizeList2",
					value: "64"
				},
				{
					name: "fontSizeList3",
					value: "48"
				},
				{
					name: "fontSizeList4",
					value: "32"
				},
				{
					name: "fontSizeList5",
					value: "24"
				},
				{
					name: "fontSizeList6",
					value: "20"
				},
				{
					name: "fontSizeList7",
					value: "18"
				},
				{
					name: "fontSizeList8",
					value: "16"
				},
				{
					name: "fontSizeList9",
					value: "14"
				},
				{
					name: "fontSizeList10",
					value: "13"
				},
				{
					name: "fontSizeList11",
					value: "12"
				}],
				N = [{
					name: "0%",
					scale: "0"
				},
				{
					name: "10%",
					scale: "10em"
				},
				{
					name: "25%",
					scale: "25em"
				},
				{
					name: "50%",
					scale: "50em"
				},
				{
					name: "75%",
					scale: "75em"
				},
				{
					name: "100%",
					scale: "100em"
				}],
				R = [{
					name: "0.25",
					scale: "0.25"
				},
				{
					name: "0.50",
					scale: "0.5"
				},
				{
					name: "0.75",
					scale: "0.75"
				},
				{
					name: "1.00",
					scale: "1"
				},
				{
					name: "1.50",
					scale: "1.5"
				},
				{
					name: "1.75",
					scale: "1.75"
				},
				{
					name: "2.00",
					scale: "2"
				},
				{
					name: "2.50",
					scale: "2.5"
				},
				{
					name: "3.00",
					scale: "3"
				}],
				z = {
					fontFamily: "",
					fontSize: "",
					color: "",
					backgroundColor: "",
					fontWeight: "",
					fontStyle: "",
					textDecoration: "",
					letterSpacing: "",
					lineHeight: "",
					showColor: "",
					showBackgroundColor: ""
				};
				angular.extend(n, n, {
					fontNames: [],
					selectedFontName: "",
					targetField: null,
					isShowCreateLink: !1,
					link: "external",
					internalLink: 1,
					selectStyle: z,
					fontSizeLists: J,
					wordLineLists: N,
					lineHeightLists: R,
					pages: t.eqxScene.sceneJson.list,
					classTextAlign: "eqf-leftword",
					writeModelNormal: !0,
					appendFontFamily: u,
					changeFontFamily: g,
					changeFontSize: m,
					backFontSize: f,
					lineHeight: v,
					letterSpace: y,
					focusCallback: b,
					changeStyle: h,
					stopBackSpace: C,
					openAddLinkDialog: x,
					addLink: w,
					removeLink: S,
					clearStyle: k,
					openFontMarket: q,
					settingVertical: d
				}),
				F();
				var H = n.$on("selectBox.start",
				function() {
					M()
				}),
				V = n.$on("compResize.move",
				function(e, t) {
					t === n.comp && M()
				}),
				U = n.$on("$destroy",
				function() {
					M()
				}),
				G = n.$on("wsComp.edit",
				function() {
					M()
				}),
				W = n.$on("selectService.remove",
				function() {
					M()
				})
			}
		}
	}
	i.$inject = ["$rootScope", "sceneService", "$timeout", "HOST", "fontService", "userService", "modalService"],
	n(534),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=btn-toolbar id=btn-toolbar data-role=editor-toolbar disable-context-menu><div id=fontFamily class=btn-group><div class="dropdown font-dropdown"><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=字体 id=fontMenu ng-click=appendFontFamily() style=width:110px;font-size:12px down-up-select><span style=display:inline-block;height:28px;width:90px;overflow:hidden>{{selectedFontName}}</span> <b class=caret></b></a><div class=dropdown-menu role=menu aria-labelledby=fontMenu style=min-width:120px;left:-13px ng-class={upSelectShow:upclass}><a class="btn context-gengduo" ng-click="changeFontFamily({name: \'默认字体\', fontFamily: \'Microsoft YaHei, Helvetica Neue, Helvetica, Arial, sans-serif\'})">默认字体</a><div eqd-scroll style=max-height:300px><ul class="fontname-menu font-size-menu family-size-setting" ng-class={upSelectShow:upclass}><li style=text-align:left ng-repeat="name in fontNames" ng-if="name.status==1"><a ng-click=changeFontFamily(name); dropdown-toggle class=btn ng-class="{\'fontDisable\': name.expStatus == 0}" data-edit=fontName big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=字体使用量 categorythreeid=4 actiontype=4 itemmaps=\'{"use": "{{name.name}}"}\'>{{name.name}}</a></li></ul></div><a class="btn context-gengduo" ng-click=openFontMarket() big-data-event categorytwoid=34 categorytwo=字体商城 categorythree=更多字体 categorythreeid=1 actiontype=4>更多字体</a></div></div></div><div class=btn-group><div class=dropdown style=display:inline-block><a class="dropdown-toggle first-child hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=字号 style=width:45px;padding-left:8px ng-init="defaultSize = \'24px\'" down-up-select>{{selectStyle.fontSize}} <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass} ng-click=backFontSize()><li><a class=inputSelection><input ng-change=changeFontSize() ng-focus=focusCallback($event) ng-click=$event.stopPropagation() ng-keydown=stopBackSpace($event) ng-keypress=stopBackSpace($event) type=text ng-model=selectStyle.fontSize value={{selectStyle.fontSize}}></a></li><li ng-repeat="list in fontSizeLists"><a dropdown-toggle ng-click=changeFontSize(list.value);>{{list.value}}px</a></li></ul></div></div><div class="btn-group intersected"></div><div class=btn-group><div class="dropdown dropdown-toggle hint--bottom hint--rounded text-btn-border" data-hint=颜色 style=width:28px><a class="" data-toggle=dropdown><span class=text-btn-border-color style=color:#828d98>A <i class=change-font-btn style="background-color:{{selectStyle.showColor}};border:1px solid #ccd5db"></i></span></a><eqd-input-color select-color=selectStyle.color direction=bottom toolcolorpicker=toolbarColor theme=text-btn-border-color-button notify=grid x=-1 w=30 h=28></eqd-input-color></div></div><div class=btn-group><div class="dropdown dropdown-toggle hint--bottom hint--rounded text-btn-border" data-hint=背景颜色 style=width:28px><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle=dropdown><span ng-if="selectStyle.showBackgroundColor === \'rgba(0,0,0,0)\'\r\n                || selectStyle.showBackgroundColor === \'rgba(0, 0, 0, 0)\'" class=text-btn-border-bg style="border:1px solid #ccd5db"></span> <span ng-if="selectStyle.showBackgroundColor !== \'rgba(0,0,0,0)\'\r\n                && selectStyle.showBackgroundColor !== \'rgba(0, 0, 0, 0)\'" class=text-btn-border-bg style="border:1px solid #ccd5db;background:{{selectStyle.showBackgroundColor}}"></span></a><eqd-input-color select-color=selectStyle.backgroundColor direction=bottom toolcolorpicker=toolbarColor theme=text-btn-border-color-button notify=gridTest x=-1 w=30 h=28 isconverttransparent=true></eqd-input-color></div></div><div class="btn-group intersected"></div><div class=btn-group><div class="hint--bottom hint--rounded text-btn-border text-style" style=width:90px><a class="hint--bottom hint--rounded bolded" data-hint=加粗 ng-click="changeStyle(\'bold\');"><i class=eqf-b></i> </a><a class="hint--bottom hint--rounded italic" data-hint=倾斜 ng-click="changeStyle(\'Italic\');"><i class=eqf-I></i> </a><a class="hint--bottom hint--rounded underline" data-hint=下划线 ng-click="changeStyle(\'underline\');"><i class=eqf-U></i> </a><a class="hint--bottom hint--rounded strikeThrough" data-hint=删除线 ng-click="changeStyle(\'strikeThrough\');"><i class="eqf-del2 deleteline"></i></a></div></div><div class="btn-group intersected"></div><div class=btn-group style=margin-right:0><a class="last-child hint--bottom hint--rounded text-btn-border" data-hint=文本竖直 style=width:30px;text-align:center ng-click=settingVertical()><i class=eqf-vertical-font></i></a></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border testalign" data-toggle=dropdown data-hint=对齐方式 style=width:45px;padding-left:5px down-up-select><i ng-if=writeModelNormal ng-switch=classTextAlign ng-class="{\'eqf-minddleword\': classTextAlign ==\'center\',\'eqf-leftword\': (classTextAlign==\'left\' || classTextAlign === undefined), \'eqf-rightword\': classTextAlign==\'right\'}"></i> <i ng-if=!writeModelNormal ng-switch=classTextAlign ng-class="{\'eqf-vertical-mid\': classTextAlign ==\'center\',\'eqf-vertical-top\': (classTextAlign==\'left\' || classTextAlign === undefined), \'eqf-vertical-bottom\': classTextAlign==\'right\'}"></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a ng-if=writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyleft\')" data-hint=居左 class="btn hint--bottom hint--rounded"><i class=eqf-leftword></i> </a><a ng-if=!writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyleft\')" data-hint=居上 class="btn hint--bottom hint--rounded"><i class=eqf-vertical-top></i></a></li><li><a dropdown-toggle ng-click="changeStyle(\'justifycenter\')" data-hint=居中 class="btn hint--bottom hint--rounded"><i ng-if=writeModelNormal class=eqf-minddleword></i> <i ng-if=!writeModelNormal class=eqf-vertical-mid></i></a></li><li><a ng-if=writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyright\')" data-hint=居右 class="btn hint--bottom hint--rounded"><i class=eqf-rightword></i> </a><a ng-if=!writeModelNormal dropdown-toggle ng-click="changeStyle(\'justifyright\')" data-hint=居下 class="btn hint--bottom hint--rounded"><i class=eqf-vertical-bottom></i></a></li></ul></div></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border add-icon-font" data-toggle=dropdown data-hint=行高 style=width:55px;padding-left:10px ng-click=editLineHeight() down-up-select><i ng-if=writeModelNormal class=eqf-linebig></i> <i ng-if=!writeModelNormal class=eqf-line-height></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a class=inputSelection><input ng-change=lineHeight() ng-focus=focusCallback($event) ng-click=$event.stopPropagation() ng-keydown=stopBackSpace($event) ng-keypress=stopBackSpace($event) type=text ng-model=selectStyle.lineHeight value={{selectStyle.lineHeight}}></a></li><li ng-repeat="lineHeightList in lineHeightLists" class={{lineHeightList.value}}><a dropdown-toggle class="btn hint--bottom hint--rounded" ng-click=lineHeight(lineHeightList.scale)>{{lineHeightList.name}}</a></li></ul></div></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=调整字间距 style=width:55px;padding-left:10px ng-click=editLetter(); down-up-select><i ng-if=writeModelNormal class="eqf-letter add-icon-font" style=line-height:28px></i> <i ng-if=!writeModelNormal class="eqf-font-space add-icon-font" style=font-size:14px></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a class=inputSelection><input ng-change=letterSpace() ng-focus=focusCallback($event) ng-click=$event.stopPropagation() ng-keydown=stopBackSpace($event) ng-keypress=stopBackSpace($event) type=text ng-model=selectStyle.letterSpacing value={{selectStyle.letterSpacing}}></a></li><li ng-repeat="wordLineList in wordLineLists" class={{wordLineList.value}}><a dropdown-toggle class="btn hint--bottom hint--rounded" ng-click=letterSpace(wordLineList.scale)>{{wordLineList.name}}</a></li></ul></div></div><div class="btn-group intersected"></div><div class=btn-group><div class=dropdown><a class="dropdown-toggle createLink hint--bottom hint--rounded text-btn-border" data-toggle=dropdown data-hint=添加超链接 style=width:55px;padding-left:10px down-up-select><i class=eqf-link></i> <b class=caret></b></a><ul class="dropdown-menu size-menu font-size-menu" ng-class={upSelectShow:upclass}><li><a class="btn hint--bottom hint--rounded" style=width:98px data-hint=添加超链接：先选中要加链接的文字 ng-click=openAddLinkDialog();><i class=eqf-link dropdown-toggle></i></a></li><li><a class="btn hint--bottom hint--rounded" style=width:98px data-hint=清除超链接 ng-click=removeLink()><i class=eqf-linkout dropdown-toggle></i></a></li></ul><div class=dropdown id=toolbar-add-linkA><a id=addLinkInputToggle class=dropdown-toggle data-toggle=dropdown style=width:0;height:0 down-up-select></a><div class="dropdown-menu input-append" style="min-width:335px;padding:4px 4px 14px 19px" ng-class={upSelectShowLink:upclass}><div class=span4 style=margin-top:10px><div class=radio-square ng-class="{checked:link==\'external\'}" style=margin-top:8px><em></em> <input class=span2 name=link ng-model=link type=radio value=external></div><span>网站地址：</span> <input class=span2 placeholder=http:// type=text ng-model=externalLink style=border-radius:0;width:200px;height:35px ng-keydown=stopBackSpace($event) /></div><div class=span4 style=margin-top:10px;text-align:right><a href=http://dwz.cn/ style=text-decoration:underline;color:#08A1EF;margin-right:30px target=_blank><span>生成短链接</span></a></div><div class=span4 style=margin-top:10px><div class=radio-square ng-class="{checked:link==\'internal\'}" style=margin-top:8px><em></em> <input class=span2 name=link ng-model=link type=radio value=internal></div><span>场景页面：</span><select id=linkInternalPage class=span2 style=width:200px;height:35px><option ng-repeat="page in pages" value={{page.id}}>{{page.name || \'第\'+page.num+\'页\'}}</option></select></div><div style=text-align:center><a class="btn btn-primary link-btn-priv" style=color:#FFF;margin-top:20px dropdown-toggle ng-click=addLink()>确定</a></div></div></div></div></div><div class="btn-group intersected"></div><div class=btn-group style=margin-right:0><a class="last-child hint--bottom hint--rounded text-btn-border" data-hint=清除样式 style=width:30px;text-align:center ng-click=clearStyle()><i class=eqf-clear></i></a></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "$compile", "$timeout", "sceneService", "fontAPI", "$q", "modalService", "authorityService", "fontService", "userService",
			function(e, t, i, o, a, r, s, c, l, p, d) {
				"ngInject";
				function u(e) {
					var t = /font-family:(.*?);/g,
					n = [],
					i = [];
					if ("2" == e.compJson.type) for (var o = e.compJson.content; null !== (n = t.exec(o));) i.indexOf(n[1].trim()) === -1 && i.push(n[1].trim());
					return i
				}
				function g(e) {
					var t = u(e);
					return 0 == t.length ? s.reject([]) : r.getFontNames(t.join(","), !0).then(function(e) {
						return e.data.list && 0 !== e.data.list.length ? e.data.list: s.reject([])
					})
				}
				function m(e, t) {
					return t.find("*").toArray().filter(function(e) {
						return ($(e).attr("style") || "").includes("font-family")
					}).forEach(function(t) {
						var n = $(t),
						i = /font-family:([^;]*);/.exec(n.attr("style"))[1],
						o = i.trim().split(", ").filter(function(t) {
							return e.includes(t)
						}).join(", ");
						n.css({
							"font-family": o
						})
					}),
					t[0].innerHTML.trim()
				}
				function f(e) {
					e.bind("mousedown contextmenu dblclick keydown",
					function(e) {
						e.stopPropagation()
					}),
					e.find("a").unbind("click"),
					e.find("a").bind("click",
					function(e) {
						e.preventDefault()
					})
				}
				function h(e) {
					e.unbind("mousedown contextmenu dblclick keydown mouseup"),
					angular.element(document.querySelector("eqx-workspace")).unbind("mouseup")
				}
				var v = null,
				y = d.getCurrentUser();
				e.createTextComp = function() {
					var e = n(538),
					i = a.getCurrentPage(),
					r = i.initEqxCompByJson(e);
					r && (i.renderEqxComp(r), t.$broadcast("wsComp.add", r), o(function() {
						t.$broadcast("wsComp.edit", r)
					},
					100))
				},
				e.$on("selectService.remove",
				function(e) {
					for (var t = arguments.length,
					n = Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) n[i - 1] = arguments[i];
					n.filter(function(e) {
						return 2 == e.compJson.type
					}).forEach(function(e) {
						h(e.$context),
						e.compJson.content = e.$context[0].innerHTML,
						e.$context.removeAttr("contenteditable"),
						v && v.remove()
					})
				}),
				e.$on("compResize.move",
				function(e, t) {
					2 == t.compJson.type && (h(t.$context), t.$context.removeAttr("contenteditable"))
				}),
				e.$on("wsComp.edit",
				function(n, o) {
					document.activeElement === document.body && g(o).then(function(e) {
						var t = e.filter(function(e) {
							return 0 !== e.license && 1 !== e.license
						}),
						n = t.map(function(e) {
							return e.name
						});
						if (0 == t.length) return s.reject(e);
						var i = '当前字体<span class="color-blue">' + n.join(",") + "</span>未经授权，请先购买字体。";
						return c.openConfirmDialog({
							msg: i,
							confirmName: "购买字体",
							cancelName: "暂不购买"
						}).then(function() {
							1 == t.length ? p.buyFont(t[0]).then(function() {
								p.myFont.myFontLists = []
							}) : p.openFontShopping()
						},
						function() {
							return c.openConfirmDialog({
								msg: "确定要恢复默认字体吗？",
								confirmName: "确认",
								cancelName: "取消编辑"
							}).then(function() {
								var t = e.filter(function(e) {
									return 0 == e.license || 1 == e.license
								}).map(function(e) {
									return e.fontFamily
								}) || [];
								return o.compJson.content = m(t, o.$context),
								s.resolve([])
							},
							function() {
								return s.resolve([])
							})
						})
					})["catch"](function(n) {
						function a() {
							if (v && (v.remove(), v = null), 2 == o.compJson.type) {
								o.stopAnimation(),
								t.$broadcast("closeCompSetting", o),
								e.pages = [],
								e.comp = o;
								var n = o.$li.offset().top,
								a = o.$li.height();
								v = $('<div toolbar comp="comp" height="' + a + '" top="' + n + '"></div>'),
								l.permission("richTxtTool") && v.css("left", "40%"),
								$("body").append(v),
								i(v)(e),
								o.$context.css({
									minHeight: a
								}),
								setTimeout(function() {
									if (o.$context.focus(), o.$context.removeAttr("ctype"), f(o.$context), v && v.show(), window.getSelection) {
										var e = window.getSelection();
										e.modify("move", "left", "documentboundary"),
										e.modify("extend", "right", "documentboundary")
									}
								})
							}
						}
						if (2 == y.type) {
							var r = n.filter(function(e) {
								return p.myFont.personFontNoTip.indexOf(e.name) == -1 && 1 !== e.license
							}),
							s = r.map(function(e) {
								return e.name
							});
							if (0 == r.length) return void a();
							var d = '<div class="upgrade-font-box">当前字体<span class="color-blue">' + s.join(",") + '</span>是个人授权版，不可用于商业用途是否购买企业授权版。<div class="upgrade-font-tips"><input type="checkbox" class="select-tip" ng-model="confirmObj.noTips"/>当前字体不再提示并已知晓版权风险。</div></div>',
							u = {
								msg: d,
								confirmName: "坚持使用",
								cancelName: "去购买",
								noTips: !1
							};
							c.openConfirmDialog(u).then(function() {
								u.noTips && $.each(s,
								function(e, t) {
									p.myFont.personFontNoTip.push(t)
								}),
								a()
							},
							function() {
								u.noTips && $.each(s,
								function(e, t) {
									p.myFont.personFontNoTip.push(t)
								}),
								1 == r.length ? p.buyFont(r[0]).then(function() {
									p.myFont.myFontLists = []
								}) : p.openFontShopping()
							})
						} else a()
					})
				})
			}],
			link: function(e, t) {
				t.on("click.text",
				function() {
					e.$apply(function() {
						return e.createTextComp()
					})
				})
			}
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		content: "双击此处进行编辑",
		css: {
			top: "20px",
			left: "5px",
			width: "310px",
			height: "38px",
			fontSize: 24,
			writingMode: "horizontal-tb"
		},
		properties: {},
		title: null,
		type: "2"
	}
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.video", []).directive("eqxVideo", n(540)).factory("videoModal", n(542)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "videoModal", "telFactory", "sceneService",
			function(e, t, n, i, a) {
				"ngInject";
				function r(e) {
					var i = e.compJson;
					"v" == i.type && n.open(i.properties.src).then(function(n) {
						e.setProps({
							src: n
						}),
						t.$broadcast("wsComp.updated", e)
					})
				}
				e.createVideoComp = function() {
					var e = JSON.parse(JSON.stringify(o));
					n.open("").then(function(n) {
						e.properties.src = n;
						var i = a.getCurrentPage(),
						o = i.initEqxCompByJson(e);
						o && (i.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				},
				e.$on("wsComp.edit",
				function(e, t) {
					return r(t)
				})
			}],
			link: function(e, t) {
				t.on("click.video",
				function() {
					e.$apply(function() {
						return e.createVideoComp()
					})
				}),
				t.on("$destroy",
				function() {
					return t.off(".video")
				})
			}
		}
	}
	var o = n(541);
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {
			top: "100px",
			left: "135px",
			width: "50px",
			height: "48px"
		},
		properties: {
			src: ""
		},
		type: "v"
	}
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(544),
					resolve: {
						src: function() {
							return t
						}
					},
					controller: ["$scope", "$timeout", "src",
					function(e, t, n) {
						function i(e) {
							var t = e.substring(e.indexOf("src=") + 4),
							n = t.substring(t.indexOf("://") + 3),
							i = n.substring(0, n.indexOf("/"));
							return i.indexOf("v.qq") >= 0 || i.indexOf("tudou") >= 0 || i.indexOf("youku") >= 0
						}
						var o = e.vm = {
							error: "",
							src: n
						};
						e.confirm = function() {
							if (!o.src) return $("textarea").focus(),
							void(o.error = "请输入视频地址");
							var t = i(o.src);
							return t ? void(o.src === n ? e.$dismiss() : e.$close(o.src)) : ($("textarea").addClass("error"), $("textarea").change(function() {
								$(this).removeClass("error")
							}), void(o.error = "暂不支持添加此视频！"))
						},
						e.cancel = function() {
							e.$dismiss()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService"],
	n(543),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>视频组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1926&extra="><span class=eqf-exclaquestion-sign></span> </a><span ng-show=!vm.error class=action>把视频通用代码复制到框中即可使用</span> <span ng-show=vm.error>{{vm.error}}</span></h4></div><div class=dialog-contain><div class="video_console dialog-content"><div class=modify_area style=height:auto><div class=video_tip><span>视频通用代码：</span> <span class=video_code><a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target=_blank><ins>什么是视频通用代码？</ins></a></span></div><div class=video_tip><textarea style=border-radius:0 class=video_src ng-model=vm.src ng-keyup="$event.keyCode == 13 ? confirm() : null"></textarea></div><div class=video_tip><span>将视频的通用代码粘贴到文本框里即可。</span> <a href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=678&page=1&extra=#pid2706" target=_blank><ins>查看帮助</ins></a></div><div class=video_tip><span>支持的视频：</span> <a href=http://www.youku.com/ target=_blank><ins>优酷</ins> </a>、 <a href=http://www.tudou.com/ target=_blank><ins>土豆</ins> </a>、 <a href=http://v.qq.com/ target=_blank><ins>腾讯视频</ins></a></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.interaction.link", []).factory("linkFactory", n(546)).factory("linkModal", n(547)).directive("eqxLink", n(551));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)",
				top: "100px",
				left: 0
			};
			return {
				css: e,
				properties: {
					title: "点我购买"
				},
				title: null,
				type: "l"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(550),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(548);
	var o = n(549);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "obj", "$modal", "imageModalFactory", "HOST", "sceneService",
	function(e, t, n, i, o, a) {
		"ngInject";
		e.model = JSON.parse(JSON.stringify(t)),
		e.linkObj = {
			link: "external",
			externalUrl: "http://",
			internalUrl: null
		};
		var r = a.eqxScene,
		s = r.meta.id;
		e.pageList = r.sceneJson.list.map(function(e, t) {
			return {
				name: e.name || "第" + (t + 1) + "页",
				id: e.id
			}
		}),
		t.properties.url && (angular.isNumber(t.properties.url) ? (e.linkObj.link = "internal", e.linkObj.internalUrl = t.properties.url) : (e.linkObj.link = "external", e.linkObj.externalUrl = decodeURIComponent(t.properties.url.split("=")[2]))),
		t.properties.imgSrc && (e.vm = {
			imgSrc: o.FILE + t.properties.imgSrc
		}),
		e.authError = "",
		e.buttons = [{
			id: 1,
			text: "点我购买",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "点开链接",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 3,
			text: "马上购买",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "关注我们",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}],
		e.openImageModal = function() {
			var n = {
				storageKey: "",
				categoryName: "图标",
				tagName: "链接"
			};
			i.getImage(n).then(function(n) {
				e.model.title = "",
				e.btnIndex = -1,
				Object.assign(e.model.css, {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				},
				!0),
				e.model.properties.imgSrc = t.properties.imgSrc = n.tmbPath,
				e.vm = {
					imgSrc: o.FILE + e.model.properties.imgSrc
				}
			})
		},
		angular.forEach(e.buttons,
		function(n, i) {
			"" !== e.model.properties.title && t.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
		});
		var c = "http://";
		e.confirm = function() {
			return null !== e.model.properties.imgSrc || e.model.properties.title && 0 !== e.model.properties.title.length ? e.linkObj.externalUrl || "external" !== e.linkObj.link ? ("external" === e.linkObj.link ? /^http:|^https:|^ftp:/.test(e.linkObj.externalUrl) ? e.model.properties.url = e.linkObj.externalUrl: e.model.properties.url = c + e.linkObj.externalUrl: e.model.properties.url = e.linkObj.internalUrl, isNaN(e.model.properties.url) && e.model.properties.url && (e.model.properties.url = o.SERVER_1 + "eqs/link?id=" + s + "&url=" + encodeURIComponent(e.model.properties.url)), void e.$close(e.model)) : void(e.authError = "链接不能为空") : (e.authError = "按钮名称不能为空", void $("#buttonName").focus())
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, n) {
			e.model.properties.title = t.text,
			Object.assign(e.model.css, t.btnStyle),
			e.btnIndex = n,
			e.model.properties.imgSrc = null
		},
		e.removeLink = function(t) {
			"external" === t ? e.linkObj.externalUrl = null: "internal" === t && (e.linkObj.internalLink = null),
			e.changed()
		},
		e.changed = function() {
			e.linkObj.externalUrl = "http://",
			e.linkObj.internalUrl = null
		},
		e.selectRadio = function(t) {
			e.linkObj.link = t,
			"external" === t ? e.linkObj.internalUrl = null: "internal" === t && (e.linkObj.externalUrl = "http://")
		}
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>链接组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13069&extra"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>两种链接：可以跳转到场景外部的链接，或者内部导航链接</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain link-component"><div class=tab-same><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic></em><em>自定义</em></div></div><div class="link-modal dialog-content"><form class=form-contain><div class="form-list clearfix" ng-if=!model.properties.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name style=width:300px type=text ng-model=model.properties.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if=model.properties.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src={{vm.imgSrc}} alt=按钮图片 /> <a class="btn-main btn-picture" style=text-align:center;font-size:12px ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix" style=position:relative><label for=externalRadio class=form-label><input type=radio name=externalRadio id=externalRadio ng-model=linkObj.link value=external ng-change=changed() style="margin:0 5px 0 0"><span>网站地址：</span></label><div class=form-input><input style=width:300px type=text ng-model=linkObj.externalUrl name=externalLink id=externalLink placeholder=网站地址 ng-disabled="url.link == \'internal\'" ng-focus="selectRadio(\'external\')" limit-link-length stop-propagation/> <a style=font-size:16px;display:inline-block;margin-top:5px;background-image:url(assets/images/create/delete.png);width:14px;height:14px ng-show="url.link == \'external\'" class=delete-link ng-click="removeLink(\'external\')"></a></div><a href=http://dwz.cn/ style=text-decoration:underline;color:#08A1EF;position:absolute;top:10px;right:-30px;font-size:12px target=_blank>生成短链接</a></div><div class="form-list clearfix"><label for=internalRadio class=form-label><input type=radio name=internalRadio id=internalRadio value=internal ng-model=linkObj.link ng-change=changed() style="margin:0 5px 0 0"><span>场景页面：</span></label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=linkObj.internalUrl change="selectRadio(\'internal\')"><eqx-select-option value=null>选择场景页面</eqx-select-option><eqx-select-option value=page.id ng-repeat="page in pageList">{{page.name}}</eqx-select-option></eqx-select></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>';
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "linkFactory", "linkModal", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createLinkComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"l" === a.type && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.link",
				function() {
					e.$apply(function() {
						return e.createLinkComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.interaction.tel", []).factory("telFactory", n(553)).factory("telModal", n(554)).directive("eqxTel", n(557));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				top: "0px",
				left: "120px",
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			};
			return {
				css: e,
				properties: {
					title: "一键拨号",
					number: ""
				},
				title: null,
				type: 8
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(556),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"];
	var o = n(555);
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "obj", "imageModalFactory", "HOST",
	function(e, t, n, i) {
		"ngInject";
		e.model = JSON.parse(JSON.stringify(t)),
		e.authError = "",
		e.buttons = [{
			id: 1,
			text: "一键拨号",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				lineHeight: "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "热线电话",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				lineHeight: "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 3,
			text: "拨打电话",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				lineHeight: "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "一键拨号",
			btnStyle: {
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				backgroundColor: "#fff",
				textAlign: "center",
				border: "1px solid #3FB816",
				color: "rgb(0, 0, 0)"
			}
		}],
		e.vm = {},
		e.butName = !1,
		e.butInput = !1,
		e.model.properties && e.model.properties.imgSrc && (e.vm.imgSrc = i.FILE + e.model.properties.imgSrc),
		angular.forEach(e.buttons,
		function(n, i) {
			"" !== t.properties.title && e.model.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
		}),
		e.confirm = function() {
			var t = e.model.properties;
			if (null === t.imgSrc && (!t.title || 0 === t.title.length)) return e.authError = "按钮名称不能为空",
			void(e.butName = !0);
			if (e.butName = !1, !t.number || 0 === t.title.number) return e.authError = "电话号码不能为空",
			void(e.butInput = !0);
			if (e.butInput = !1, t.number) {
				var n = /^\d{3,15}$/;
				if (!n.test(t.number)) return e.authError = "电话输入有误，请输入3-15位数字",
				void(e.butInput = !0);
				e.butInput = !1
			}
			t.title = t.title.replace(/ /g, "&nbsp;"),
			e.$close(e.model)
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, n) {
			var i = e.model.properties;
			i.title = t.text,
			Object.assign(e.model.css, t.btnStyle),
			e.btnIndex = n,
			i.imgSrc = null
		},
		e.openImageModal = function() {
			var o = {
				storageKey: "",
				categoryName: "图标",
				tagName: "电话"
			};
			n.getImage(o).then(function(n) {
				e.model.title = "",
				e.btnIndex = -1,
				Object.assign(e.model.css, {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				},
				!0),
				e.model.properties.imgSrc = t.properties.imgSrc = n.tmbPath,
				e.vm = {
					imgSrc: i.FILE + e.model.properties.imgSrc
				}
			})
		}
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>电话组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13070&extra"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>填写按钮名称和联系号码，点击可以直接拨打</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic style=font-size:12px></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class=form-contain form=role><div class="form-list clearfix" ng-if=!model.properties.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName ng-class="{error: butName}" class=btn-name type=text ng-model=model.properties.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if=model.properties.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src={{vm.imgSrc}} alt=按钮图片 /> <a class="btn-main btn-picture text-center" ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix"><label for=phoneNumber class=form-label>手机/电话：</label><div class=form-input><input id=phoneNumber ng-class="{error: butInput}" check-count=40 class=tel-button type=text placeholder=010-88888888 ng-model=model.properties.number ng-keyup="$event.keyCode == 13 ? confirm() : null" stop-propagation/></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "telModal", "telFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createTelComp = function() {
					var e = i.getDefaultJson();
					n.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, i) {
					var a = i.compJson;
					8 == a.type && n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.tel",
				function() {
					e.$apply(function() {
						return e.createTelComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.map", []).factory("mapFactory", n(559)).factory("mapModalFactory", n(560)).directive("eqdMap", n(563)).directive("eqdMapMark", n(564)).directive("eqxMap", n(565));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			return {
				content: "",
				css: {
					width: "210px",
					height: "100px"
				},
				id: 123564,
				pageId: 283683,
				properties: {
					address: "设置位置"
				},
				sceneId: 38253,
				title: null,
				type: "m"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(n) {
				return t.qqMap().then(function() {
					return e.open({
						windowClass: "console img_console",
						template: a,
						controller: o,
						resolve: {
							obj: function() {
								return n
							}
						}
					}).result
				})
			}
		}
	}
	i.$inject = ["$modal", "delayLoadService"];
	var o = n(561),
	a = n(562);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e.elemDef = JSON.parse(JSON.stringify(t)),
		e.zoom = t.properties.zoom ? t.properties.zoom: 11,
		e.center = t.properties.lat ? {
			lat: t.properties.lat,
			lng: t.properties.lng
		}: {
			lat: 39.916527,
			lng: 116.397128
		},
		"设置位置" !== t.properties.address && (e.address = t.properties.address, e.markerP = new qq.maps.LatLng(e.center.lat, e.center.lng));
		var n = new qq.maps.SearchService({
			complete: function(t) {
				var n = t.detail.pois;
				e.searchEnd(n)
			}
		});
		e.searchEnd = function(t) {
			e.pois = t,
			e.choosePosition(t[0]),
			e.choosePoi = t[0],
			e.$apply()
		},
		e.choosePosition = function(t) {
			e.center = t.latLng,
			e.choosePoi = t,
			e.markerP = e.center
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.ok = function() {
			var n = {
				zoom: e.zoom,
				center: e.center,
				label: e.choosePoi ? e.choosePoi.name: null
			},
			i = t;
			i.properties.zoom = n.zoom,
			i.properties.lat = n.center.lat,
			i.properties.lng = n.center.lng,
			n.label && (i.content = n.label, i.properties.address = n.label);
			var o = $("#" + i.id);
			if (o.length) {
				var a = e.map;
				if (a.panTo(n.center), a.setZoom(n.zoom), o.data("label")) {
					var r = o.data("label");
					r.setPosition(n.center);
					var s = o.data("marker");
					s.setPosition(n.center)
				}
			}
			e.$close(t)
		},
		e.searchAddress = function(e) {
			e && (n.setPageIndex(0), n.setPageCapacity(10), n.search(e))
		},
		e.change = function(t) {
			e.zoom = t.zoom,
			e.bounds = t.bounds,
			e.center = t.center
		}
	}
	n.$inject = ["$scope", "obj"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>地图</h4></div><div class=map_console><div class=search_area><div class=input-group><input type=text class=form-control ng-model=address ng-keyup="$event.keyCode == 13 ? searchAddress(address) : null" placeholder=请输入地名> <span class=input-group-btn><button ng-click=searchAddress(address) class="btn btn-default" type=button>搜索</button></span></div><h5 class=result-count ng-if=pois>搜索结果：{{pois.length}}条</h5><div class=result><div eqd-scroll style=height:100%><ul><li ng-class="{active:choosePoi.id==poi.id}" ng-repeat="poi in pois" ng-click=choosePosition(poi)><i class=circle>{{$index+1}}</i><h5 class=name>{{poi.name}}</h5><p class=address>{{poi.address}}</p></li></ul></div></div></div><div eqd-map class=map-contain center=$parent.center zoom=$parent.zoom bounds=$parent.bounds><eqd-map-mark position=markerP></eqd-map-mark></div></div><div class="modal-footer ml20 mr20"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=ok()>确定</a></div>'
},
function(e, t) {
	"use strict";
	e.exports = ["$timeout", "$interval",
	function(e, t) {
		"ngInject";
		return {
			$scope: {
				center: "=",
				zoom: "=",
				bounds: "=",
				change: "&"
			},
			controller: ["$scope",
			function(e) {
				var n = this;
				n.addMark = function(n) {
					if (e.map) n.setMap(e.map);
					else var i = t(function() {
						e.map && (n.setMap(e.map), t.cancel(i))
					},
					400)
				}
			}],
			restrict: "A",
			link: function(e, n) {
				function i() {}
				var o = new qq.maps.LatLng(e.center.lat, e.center.lng),
				a = {
					zoom: e.zoom,
					center: o,
					mapTypeControlOptions: {
						mapTypeIds: []
					}
				},
				r = e.map = new qq.maps.Map(n.get(0), a),
				s = t(function() {
					var n = r.getBounds();
					n && (r.panBy( - 1, -1), n.lat.maxY !== n.lat.minY && n.lng.maxX !== n.lng.minX && (t.cancel(s), e.bounds = n))
				},
				400);
				qq.maps.event.addListener(r, "zoom_changed",
				function() {
					e.zoom = r.getZoom(),
					e.bounds = r.getBounds(),
					i()
				}),
				qq.maps.event.addListener(r, "center_changed",
				function() {
					e.center = r.getCenter(),
					e.bounds = r.getBounds(),
					i()
				}),
				e.$watch("zoom",
				function(e, t) {
					e !== t && r.setZoom(e)
				}),
				e.$watch("center",
				function(e, t) {
					e !== t && (o = new qq.maps.LatLng(e.lat, e.lng), r.panTo(o))
				})
			}
		}
	}]
},
function(e, t, n) {
	"use strict";
	n(563);
	e.exports = function() {
		return {
			scope: {
				position: "="
			},
			require: "^eqdMap",
			restrict: "E",
			link: function(e, t, n, i) {
				var o;
				e.position && (o ? o.setPosition(e.position) : o = new qq.maps.Marker({
					position: e.position,
					animation: qq.maps.MarkerAnimation.DROP,
					map: null
				}), i.addMark(o)),
				e.$watch("position",
				function(t, n) {
					t !== n && (o ? o.setPosition(e.position) : o = new qq.maps.Marker({
						position: e.position,
						animation: qq.maps.MarkerAnimation.DROP,
						map: null
					}), t ? i.addMark(o) : o.setMap(null))
				})
			}
		}
	}
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "mapFactory", "mapModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createMapComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"m" === a.type && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.map",
				function() {
					e.$apply(function() {
						return e.createMapComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.pv", []).directive("eqxPv", n(567)).factory("pvModal", n(569)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "pvModal", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createPvComp = function() {
					n.open(o).then(function(e) {
						var n = i.getCurrentPage(),
						o = n.initEqxCompByJson(e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				},
				e.$on("wsComp.edit",
				function(e, a) {
					var r = a.compJson;
					r.type == o.type && n.open(r).then(function(e) {
						var n = i.getCurrentPage(),
						o = n.updateEqxComp(r.id, e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.pv",
				function() {
					e.$apply(function() {
						return e.createPvComp()
					})
				})
			}
		}
	}
	var o = n(568);
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		css: {
			top: "60px",
			left: "5px",
			width: "310px",
			height: "55px",
			lineHeight: "55px",
			color: "#676767",
			backgroundColor: "#f9f9f9"
		},
		properties: {
			layout: "counter-lr",
			size: "counter-m",
			color: "#76838f",
			icon: "eqf-eye3"
		},
		type: "d"
	}
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(570),
					resolve: {
						pvJson: function() {
							return t
						}
					},
					controller: ["$scope", "pvJson",
					function(e, t) {
						var n = JSON.parse(JSON.stringify(t)),
						i = n.properties,
						o = i.layout,
						a = i.size,
						r = i.color,
						s = i.icon,
						c = i.imgSrc,
						l = n.css;
						e.BUTTON = {
							large: "counter-l",
							middle: "counter-m",
							small: "counter-s"
						};
						var p = e.LAYOUT = {
							v: "counter-tb",
							h: "counter-lr"
						},
						d = e.vm = {
							prop: {
								layout: o,
								size: a,
								color: r,
								icon: s,
								imgSrc: c
							},
							error: ""
						};
						e.confirm = function() {
							var t = l.height,
							i = {};
							d.prop.imgSrc && t < 115 && (i = {
								width: 320,
								height: 115,
								lineHeight: "115px",
								backgroundColor: "transparent"
							}),
							d.prop.layout === p.v && (!d.prop.imgSrc && t < 80 && (i = {
								height: 80,
								lineHeight: "80px"
							}), d.prop.imgSrc && t < 155 && (i.height = 155, i.lineHeight = "155px")),
							Object.assign(n.css, i),
							Object.assign(n.properties, d.prop),
							e.$close(n)
						},
						e.cancel = function() {
							e.$dismiss()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>统计 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=15676&page=1&extra=#pid122999"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!vm.error>记录并显示当前作品的展示次数</span> <span ng-show=vm.error>{{vm.error}}</span></h4></div><div class="dialog-contain counter"><div class=tab-same><span class=spanborder ng-class="{\'spanborder\': vm.prop.icon == \'eqf-eye3\'}"><a><span class=eqf-eye3></span></a></span></div><div class="form_console dialog-content"><div class=modify_area><div class=counter-group><span class=title>颜色</span><div class=counter-choice><div style=display:inline-block;height:20px;margin-right:5px><eqd-input-color select-color=vm.prop.color direction=bottom theme=flo_lef notify=grid x=-1 w=37 h=30></eqd-input-color></div><input class=color-picker-input ng-model=vm.prop.color type=text /></div></div><div class=counter-group><span class=title>字号</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.prop.size btn-radio=BUTTON.large>大</label><label class="btn btn-counter" ng-model=vm.prop.size btn-radio=BUTTON.middle>中</label><label class="btn btn-counter" ng-model=vm.prop.size btn-radio=BUTTON.small>小</label></div></div></div><div class=counter-group><span class=title>布局</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.prop.layout btn-radio=LAYOUT.h>左右</label><label class="btn btn-counter" ng-model=vm.prop.layout btn-radio=LAYOUT.v>上下</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.ad", []).factory("adFactory", n(572)).directive("eqxAd", n(573));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				height: "300px",
				width: "250px"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					size: 4
				},
				title: null,
				type: "g"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "adFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createAdComp = function() {
					var e = n.getDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
			}],
			link: function(e, t) {
				t.on("click.ad",
				function() {
					e.$apply(function() {
						return e.createAdComp()
					})
				})
			}
		}
	}
	n(574),
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.counter", []).factory("counterFactory", n(576)).factory("counterModalFactory", n(577)).directive("eqxCounter", n(581));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			var t = {
				width: "310px",
				height: "55px",
				lineHeight: "55px",
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9",
				top: "40px",
				left: "5px"
			},
			n = {
				content: "",
				css: t,
				properties: {
					layout: "counter-lr",
					size: "counter-m",
					color: "#08a1ef",
					icon: "eqf-love",
					clickFarmer: !1,
					clickInterval: 1440
				},
				title: "",
				type: "i"
			};
			return e && (n.properties.icon = e, "eqf-love" == e ? n.properties.color = "#ff5448": "eqf-good" == e ? n.properties.color = "#f2a653": "eqf-flower2" == e ? n.properties.color = "#ea1f64": "eqf-vote" == e && (n.properties.color = "#08a1ef")),
			n
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console six-contain " + i,
					template: n(580),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(578);
	var o = n(579);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		var a = t.vm = {
			id: n.id || null,
			title: n.title,
			properties: {
				layout: n.properties.layout,
				size: n.properties.size,
				color: n.properties.color,
				icon: n.properties.icon,
				imgSrc: n.properties.imgSrc,
				clickFarmer: n.properties.clickFarmer || !1,
				clickInterval: n.properties.clickInterval || 1440
			}
		};
		t.HOST = o,
		t.obj = n,
		t.authError = "",
		t.openImageModal = function() {
			i.getImage().then(function(e) {
				a.properties.icon = "",
				a.properties.imgSrc = n.properties.imgSrc = e.path
			})
		},
		t.confirm = function() {
			angular.extend(n, a);
			var t = parseInt(n.css.height, 10) || 0;
			a.properties.imgSrc && t < 115 && (a.btnStyle = {
				width: "320px",
				height: "115px",
				lineHeight: "115px",
				backgroundColor: "transparent"
			}),
			"counter-tb" === a.properties.layout && (!a.properties.imgSrc && t < 80 && (a.btnStyle = {
				height: "80px",
				lineHeight: "80px"
			}), a.properties.imgSrc && t < 155 && (a.btnStyle = a.btnStyle || {},
			a.btnStyle.height = a.btnStyle.lineHeight = "155px")),
			$.extend(!0, n.css, a.btnStyle),
			e.$broadcast("confirmCompCreate")
		},
		t.$on("confirmClickFarmer",
		function() {
			t.$close(n)
		}),
		t.cancel = function() {
			t.$dismiss()
		},
		t.chooseEqfont = function(e) {
			a.properties.icon = e,
			a.properties.imgSrc = null,
			"" + e == "eqf-love" ? a.properties.color = "#ff5448": "" + e == "eqf-good" ? a.properties.color = "#f2a653": "" + e == "eqf-flower2" ? a.properties.color = "#ea1f64": "" + e == "eqf-vote" && (a.properties.color = "#08a1ef")
		}
	}
	n.$inject = ["$rootScope", "$scope", "obj", "imageModalFactory", "HOST"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>计数 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=13239&page=1&extra=#pid104204"><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>可以更换自己的图标</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain counter"><div class=tab-same><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-love\'}"><a ng-click="chooseEqfont(\'eqf-love\')"><span class=eqf-love></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-good\'}"><a ng-click="chooseEqfont(\'eqf-good\')"><span class=eqf-good></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-flower2\'}"><a ng-click="chooseEqfont(\'eqf-flower2\')"><span class=eqf-flower2></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-vote\'}"><a ng-click="chooseEqfont(\'eqf-vote\')"><span class=eqf-vote></span></a></span><div ng-class="{\'spanborder\': vm.properties.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-top-pic style=font-size:16px></em><em>自定义</em></div></div><div class="form_console dialog-content"><div class=modify_area><div class=counter-group ng-show=vm.properties.imgSrc><span class=title>计数图标</span><div class="form-image btn-small counter-choice"><img style=width:115px;height:115px ng-src="{{HOST.FILE + vm.properties.imgSrc}}" alt=按钮图片 /> <a class="btn-main btn-picture" ng-click=openImageModal()>更换图片</a></div></div><div class=counter-group><span class=title>样式</span><div class=counter-choice></div></div><div class=counter-group><span class=title>颜色</span><div class=counter-choice><div style=display:inline-block;height:20px;margin-right:5px><eqd-input-color select-color=vm.properties.color direction=bottom theme=flo_lef notify=grid x=-1 w=37 h=30></eqd-input-color></div><input class=color-picker-input ng-model=vm.properties.color type=text /></div></div><div class=counter-group><span class=title>字号</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.properties.size btn-radio="\'counter-l\'">大</label><label class="btn btn-counter" ng-model=vm.properties.size btn-radio="\'counter-m\'">中</label><label class="btn btn-counter" ng-model=vm.properties.size btn-radio="\'counter-s\'">小</label></div></div></div><div class=counter-group><span class=title>布局</span><div class=counter-choice><div class=btn-group><label class="btn btn-counter" ng-model=vm.properties.layout btn-radio="\'counter-lr\'">左右</label><label class="btn btn-counter" ng-model=vm.properties.layout btn-radio="\'counter-tb\'">上下</label></div></div></div><div class=counter-group><span class=title>功能</span><div class=counter-choice></div></div><div class=counter-group style=padding-left:115px><click-farmer-setting obj=vm></click-farmer-setting></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "counterModalFactory", "counterFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createCounterComp = function(e) {
					var a = i.getDefaultJson(e);
					n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, i) {
					var a = i.compJson;
					"i" === a.type && n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.counter",
				function(t) {
					var n = $(t.target).closest("li").data("icon");
					e.$apply(function() {
						return e.createCounterComp(n)
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.interaction.sound", []).factory("soundFactory", n(583)).factory("soundModal", n(584)).directive("eqxSound", n(588));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				color: "rgb(255, 255, 255)",
				width: "100px",
				height: "30px",
				lineHeight: "30px",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "rgb(244, 113, 31)"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					title: "有惊喜"
				},
				title: null,
				type: "s"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain",
					template: n(587),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(585);
	var o = n(586);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	e.exports = ["$scope", "obj", "HOST", "musicModal", "imageModalFactory",
	function(e, t, n, i, o) {
		"ngInject";
		e.model = JSON.parse(JSON.stringify(t)),
		e.authError = "",
		e.buttons = [{
			id: 1,
			text: "有惊喜",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(244, 113, 31)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "听一听",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(253, 175, 7)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 3,
			text: "点我听歌",
			btnStyle: {
				width: "100px",
				backgroundColor: "rgb(121, 196, 80)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "点播歌曲",
			btnStyle: {
				width: "100px",
				height: "30px",
				backgroundColor: "#fff",
				"text-align": "center",
				border: "1px solid #3FB816",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		}],
		e.model.properties && e.model.properties.imgSrc && (e.vm = {
			imgSrc: n.FILE + e.model.properties.imgSrc
		}),
		e.openImageModal = function() {
			o.getImage().then(function(t) {
				e.model.properties.title = "",
				e.btnIndex = -1,
				e.model.css = {
					width: "115px",
					height: "115px",
					"line-height": "1",
					backgroundColor: ""
				},
				e.model.properties.imgSrc = t.tmbPath,
				e.vm = {
					imgSrc: n.FILE + e.model.properties.imgSrc
				}
			})
		},
		angular.forEach(e.buttons,
		function(n, i) {
			"" !== e.model.properties.title && t.css.backgroundColor && t.css.backgroundColor === n.btnStyle.backgroundColor && (e.btnIndex = i)
		}),
		e.confirm = function() {
			return null !== e.model.properties.imgSrc || e.model.properties.title && 0 !== e.model.properties.title.length ? !e.model.sound || $.isEmptyObject(e.model.sound) ? void(e.authError = "您还没有选择音效") : (e.model.properties.title = e.model.properties.title.replace(/ /g, "&nbsp;"), void e.$close(e.model)) : (e.authError = "按钮名称不能为空", void $('.form-list input[type="text"].btn-name').focus())
		},
		e.openSoundModal = function() {
			i.open(e.model.sound, 4).then(function(t) {
				var n = t.id,
				i = t.name,
				o = t.path;
				e.model.sound = {
					id: n,
					name: i,
					src: o
				}
			})
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, n) {
			e.model.properties.title = t.text,
			$.extend(!0, e.model.css, t.btnStyle),
			e.btnIndex = n,
			e.model.properties.imgSrc = null
		}
	}]
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>音效组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=10990&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>音效不能大于100kb</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix"><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span><div ng-class="{\'spanborder\': model.imgSrc}" class="auto-upload hint--top hint--rounded" data-hint=上传图片大小不超过3M，支持上传格式：jpg、png、gif ng-click=openImageModal()><em class=eqf-upload style=font-size:16px></em><em>自定义</em></div></div><div class="button_console dialog-content"><form class=form-contain form=role><div class="form-list clearfix" ng-if=!model.properties.imgSrc><label for=buttonName class=form-label>按钮名称：</label><div class=form-input><input id=buttonName class=btn-name type=text ng-model=model.properties.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class="form-list clearfix" ng-if=model.properties.imgSrc><label class=form-label>按钮图片：</label><div class="form-image btn-small"><img ng-src={{vm.imgSrc}} alt=按钮图片 /> <a class="btn-main btn-picture text-center" ng-click=openImageModal()>更换图片</a></div></div><div class="form-list clearfix"><label for=btnSound class=form-label>音效：</label><div class=form-input><a id=btnSound class="btn-main blue" ng-click=openSoundModal()>设置音效</a></div></div><div class="form-list clearfix" ng-show=model.sound.name><label class=form-label>已选择：</label><div class=form-input><span>{{model.sound.name}}</span></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "soundFactory", "soundModal", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createSoundComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"s" === a.type && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.sound",
				function() {
					e.$apply(function() {
						return e.createSoundComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.form.combinedForm", []).factory("combinedFormFactory", n(590)).directive("eqxCombinedForm", n(591));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			return {
				properties: {
					placeholder: "姓名"
				},
				css: {
					top: "100px",
					left: "60px"
				},
				title: "姓名",
				type: "501"
			}
		}
		function t() {
			return {
				properties: {
					placeholder: "电话"
				},
				css: {
					top: "150px",
					left: "60px"
				},
				title: "电话",
				type: "502"
			}
		}
		function n() {
			return {
				properties: {
					placeholder: "邮箱"
				},
				css: {
					top: "200px",
					left: "60px"
				},
				title: "邮箱",
				type: "503"
			}
		}
		return {
			nameJson: e,
			telJson: t,
			emailJson: n
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "inputFactory", "modalService", "combinedFormFactory", "sceneService", "buttonFactory",
			function(e, t, n, i, o, a, r) {
				"ngInject";
				e.createCombinedFormComp = function() {
					var e = a.getCurrentPage(),
					s = e.initStatManager();
					if (s.hasSubmitButtonComp()) return i.openMsgDialog({
						msg: "当前页面的提交按钮已经存在，请不要重复添加。"
					});
					var c = n.getDefaultJson(),
					l = angular.merge({},
					r.getDefaultJson(), {
						css: {
							top: "250px",
							left: "60px"
						}
					}),
					p = angular.merge({},
					c, o.nameJson()),
					d = angular.merge({},
					c, o.telJson()),
					u = angular.merge({},
					c, o.emailJson()),
					g = e.initEqxCompByJson(p),
					m = e.initEqxCompByJson(d),
					f = e.initEqxCompByJson(u),
					h = e.initEqxCompByJson(l);
					g && (e.renderEqxComp(g), t.$broadcast("wsComp.add", g)),
					m && (e.renderEqxComp(m), t.$broadcast("wsComp.add", m)),
					f && (e.renderEqxComp(f), t.$broadcast("wsComp.add", f)),
					h && (e.renderEqxComp(h), t.$broadcast("wsComp.add", h))
				}
			}],
			link: function(e, t) {
				t.on("click.combinedForm",
				function() {
					e.$apply(function() {
						return e.createCombinedFormComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.input", []).factory("inputFactory", n(593)).factory("inputModalFactory", n(594)).directive("eqxInput", n(598));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				color: "#676767",
				width: 200,
				height: 40,
				left: 60,
				top: 100,
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff",
				textAlign: "center"
			};
			return {
				content: "",
				css: e,
				id: null,
				num: 1,
				pageId: null,
				properties: {
					placeholder: "请命名"
				},
				isInput: 1,
				sceneId: null,
				title: "请命名",
				type: 5
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console seven-contain " + i,
					template: n(597),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(595);
	var o = n(596);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = e.vm = {
			title: t.title,
			type: t.type,
			required: t.properties.required
		};
		e.authError = "";
		var i = "输入框";
		e.buttons = [{
			id: 1,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 2,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#fff",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 3,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#f6b223",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 4,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#333",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 5,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#a0d86b",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 6,
			text: i,
			btnStyle: {
				height: "40px",
				backgroundColor: "#fff",
				"text-align": "center",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#f66",
				color: "rgb(0, 0, 0)"
			}
		}],
		angular.forEach(e.buttons,
		function(i, o) {
			"" !== n.title && t.css.borderColor && t.css.borderColor === i.btnStyle.borderColor && (e.btnIndex = o)
		}),
		e.confirm = function() {
			return n.title && 0 !== n.title.length ? (n.type && (t.type = n.type), t.properties.placeholder = n.title, t.properties.required = n.required, t.title = n.title, $.extend(!0, t.css, n.btnStyle), void e.$close(t)) : (e.authError = "输入框名称不能为空", void $('input[type="text"]').focus())
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.chooseTabButton = function(t, i) {
			n.btnStyle = t.btnStyle,
			e.btnIndex = i
		}
	}
	n.$inject = ["$scope", "obj"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>输入框组件 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1935&page="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>在场景中添加输入框可以用来收集数据信息</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same change-title clearfix" style=padding-left:30px><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a style=border-width:2px!important ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span></div><div class="form_console dialog-content"><div class=modify_area><form class=form-contain><div class="form-list clearfix" style=margin-left:70px><label class=form-label>输入框名称：</label><div class=form-input><input style=width:350px;float:left type=text ng-model=vm.title check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/><div class=checkbox-square ng-class="{checked: vm.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value="\'required\'" ng-model=vm.required name=iCheck></div><label for=checkbox_required class=ml20>必填</label></div></div></form><div class="customized_container clearfix"><div class=radio-square ng-class="{checked: vm.type==\'501\'}"><em></em> <input type=radio id=input_name ng-model=vm.type ng-change="vm.title=\'姓名\'" value=501></div><label for=input_name>姓名</label><div class=radio-square ng-class="{checked: vm.type==\'502\'}"><em></em> <input type=radio id=input_phone ng-model=vm.type ng-change="vm.title=\'电话\'" value=502></div><label for=input_phone>电话</label><div class=radio-square ng-class="{checked: vm.type==\'503\'}"><em></em> <input type=radio id=input_email ng-model=vm.type ng-change="vm.title=\'邮箱\'" value=503></div><label for=input_email>邮箱</label><div class=radio-square ng-class="{checked: vm.type==\'504\'}"><em></em> <input type=radio id=input_text ng-model=vm.type ng-change="vm.title=\'文本\'" value=504></div><label for=input_text>文本</label></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "inputFactory", "inputModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createInputComp = function() {
					var e = n.getDefaultJson();
					i.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson,
					r = "" + a.type;
					r.indexOf("5") !== -1 && i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.input",
				function() {
					e.$apply(function() {
						return e.createInputComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.button", []).factory("buttonFactory", n(600)).factory("buttonModal", n(601)).directive("eqxButton", n(605));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				width: 200,
				top: 200,
				left: 60,
				color: "#fff",
				borderRadius: "0",
				backgroundColor: "#08a1ef"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					text: "谢谢您的参与！",
					link: "",
					src: "",
					layout: "rating-l",
					title: "提交",
					clickFarmer: !1,
					clickInterval: 1440
				},
				title: null,
				type: 6
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(n) {
				return t.datePicker().then(function() {
					return e.open({
						windowClass: "console dialog-form-btn seven-contain",
						template: a,
						controller: o,
						resolve: {
							buttonJson: function() {
								return JSON.parse(JSON.stringify(n))
							}
						}
					})
				})
			}
		}
	}
	i.$inject = ["modalService", "delayLoadService"],
	n(602);
	var o = n(603),
	a = n(604);
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r) {
		"ngInject";
		var s = "http://",
		c = t.vm = n;
		c.properties && !c.properties.link && (c.properties.link = s),
		t.authError = "",
		t.buttons = [{
			id: 1,
			text: "点击提交",
			btnStyle: {
				backgroundColor: "#08a1ef",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 2,
			text: "立即提交",
			btnStyle: {
				backgroundColor: "rgb(255, 255, 255)",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(0, 0, 0)"
			}
		},
		{
			id: 3,
			text: "提交信息",
			btnStyle: {
				backgroundColor: "#f6b223",
				height: "30px",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 4,
			text: "立即参加",
			btnStyle: {
				height: "30px",
				backgroundColor: "#333333",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 5,
			text: "提交表单",
			btnStyle: {
				height: "30px",
				backgroundColor: "#a0d86b",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		},
		{
			id: 6,
			text: "马上订购",
			btnStyle: {
				height: "30px",
				backgroundColor: "#ff6666",
				"text-align": "center",
				"line-height": "30px",
				color: "rgb(255, 255, 255)"
			}
		}],
		angular.forEach(t.buttons,
		function(e, i) {
			"" !== c.properties.title && n.css.backgroundColor && c.css.backgroundColor === e.btnStyle.backgroundColor && (t.btnIndex = i)
		});
		var l = t.time = {
			isOpen: !!c.properties.endTime,
			endTime: c.properties.endTime || o.endTimeOfToday()
		};
		t.timeConfig = {
			startDate: l.endTime,
			drops: "up"
		},
		t.vmShow = {
			imgSrc: ""
		},
		c.properties.imgSrc && (t.vmShow.imgSrc = r.FILE + c.properties.imgSrc),
		t.confirm = function() {
			if (!c.properties.title || 0 === c.properties.title.length) return a.openMsgDialog({
				msg: "请填写按钮名称！"
			}),
			void $('.bg_console input[type="text"]').focus();
			if (c.properties.showPic === !0 && !c.properties.imgSrc) return void a.openMsgDialog({
				msg: "请上传图片!"
			});
			if (c.properties.checkedLink) {
				if (!c.properties.link) return void a.openMsgDialog({
					msg: "请填写链接地址！"
				});
				/^http:|^https:|^ftp:/.test(c.properties.link) || (c.properties.link = s + c.properties.link)
			}
			return c.properties.text ? (l.isOpen ? c.properties.endTime = new Date(l.endTime).getTime() : delete c.properties.endTime, void e.$broadcast("confirmCompCreate")) : void a.openMsgDialog({
				msg: "请填写提示信息！"
			})
		},
		t.$on("confirmClickFarmer",
		function() {
			t.$close(c)
		}),
		t.cancel = function() {
			t.$dismiss()
		},
		t.chooseTabButton = function(e, n) {
			c.properties.title = e.text,
			Object.assign(c.css, e.btnStyle, !0),
			t.btnIndex = n
		},
		t.openImageModal = function() {
			i.getSquareImage().then(function(e) {
				t.vm.properties.imgSrc = n.properties.imgSrc = e,
				t.vmShow = {
					imgSrc: r.FILE + t.vm.properties.imgSrc
				}
			})
		}
	}
	i.$inject = ["$rootScope", "$scope", "buttonJson", "imageModalFactory", "modalService", "HOST"];
	var o = n(328);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>按钮名称 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=5051&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action>每个场景只能添加一个提交按钮</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix" style=padding-left:30px><span ng-repeat="button in buttons track by $index" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)">{{button.text}}</a></span></div></div><div class="dialog-contain rating-content"><div class="form_console dialog-content rating-preview-design" style=height:initial;margin-bottom:0><div class="modify_area rating rating-design" style=float:none><div class=rating-group><span class=title>按钮名称</span><div class=rating-choice><input type=text class=form-control placeholder=请填写按钮名称 check-count=40 ng-model=vm.properties.title ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div><div class=rating-group><span class=title>提示类型</span><div class=rating-choice><div class=btn-group><label class="btn btn-rating" ng-model=vm.properties.layout btn-radio="\'rating-l\'" style=line-height:40px;width:80px ng-click="vm.properties.showPic=false;">纯文字</label><label class="btn btn-rating" ng-model=vm.properties.layout btn-radio="\'rating-m\'" style=line-height:40px;width:80px;margin-left:28px ng-click="vm.properties.showPic=true;">上图下文</label><label class="btn btn-rating" ng-model=vm.properties.layout btn-radio="\'rating-s\'" style=line-height:40px;width:80px;margin-left:28px ng-click="vm.properties.showPic=true;">上文下图</label></div></div></div><div class=rating-group ng-show=vm.properties.showPic><span class=title>提示图片</span><div class=rating-choice><a class="btn blue mr20 upload" ng-click=openImageModal()>上传</a><div class=see-image ng-style="{\'background-image\':\'url(\' + vmShow.imgSrc + \')\',\'background-size\':\'cover\'}" style="width:120px;height:120px;background-color:rgba(0,0,0,0);display:inline-block;vertical-align:top;border:1px solid #ccd5db"></div></div></div><div class=rating-group><span class=title>提示信息</span><div class=rating-choice><input type=text ng-model=vm.properties.text class=form-control check-count=50 placeholder=请填写提示信息 /></div></div><div class=rating-group style=position:relative><div class=checkbox-square ng-class="{checked: vm.properties.checkedLink}" style=position:absolute;left:50px;display:inline-block><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.properties.checkedLink name=iCheck></div><span class=title>添加外链</span><div class=rating-choice><input type=text class=form-control ng-model=vm.properties.link check-count=50 placeholder=链接地址 ng-disabled=!vm.properties.checkedLink /></div></div><div class=rating-group style=margin-left:-28px><span class=title>提交结束时间</span><div class=rating-choice style=line-height:36px><div class="fl switch" style=margin-top:7px ng-class="time.isOpen ? \'switch-open\' : \'switch-close\'" ng-click="time.isOpen = !time.isOpen"><div class=circle-con><i class=circle></i></div></div><input type=text class="form-control fl" style=width:186px;margin-left:10px;background:#fff;cursor:pointer placeholder=设置结束时间 ng-show=time.isOpen ng-readonly=true ng-model=time.endTime date-picker=timeConfig> <a class="bbs-help-tip-media hint--right hint--rounded" data-hint=可设置表单提交结束时间 style="margin:0 10px"><span class=eqf-exclaquestion-sign style=color:#ff6e6e></span></a></div></div><div class=rating-group style=margin-left:-28px click-farmer-setting obj=vm></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel() ng-init="feedback=false" ng-click="feedback=true">取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "modalService", "buttonFactory", "buttonModal", "sceneService",
			function(e, t, n, i, o, a) {
				"ngInject";
				e.createButtonComp = function() {
					var e = i.getDefaultJson(),
					r = a.getCurrentPage(),
					s = r.initStatManager();
					return s.hasSubmitButtonComp() ? n.openMsgDialog({
						msg: "当前页面的提交按钮已经存在，请不要重复添加。"
					}) : void o.open(e).then(function(e) {
						var n = r.initEqxCompByJson(e);
						n && (r.renderEqxComp(n), t.$broadcast("wsComp.add", n))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var i = n.compJson;
					6 != i.type && 601 !== i.type || o.open(i).then(function(e) {
						var n = a.getCurrentPage(),
						o = n.updateEqxComp(i.id, e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.button",
				function() {
					e.$apply(function() {
						return e.createButtonComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.radio", []).factory("radioFactory", n(607)).factory("radioModalFactory", n(608)).directive("eqxRadio", n(612));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			var t = {
				width: 200,
				left: "60px",
				top: " 100px",
				color: "#676767",
				borderWidth: "1",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				borderRadius: "0",
				backgroundColor: "#ffffff"
			};
			return {
				content: "",
				css: t,
				num: 1,
				properties: {
					titleStyle: {
						backgroundColor: "#08a1ef",
						color: "#ffffff"
					},
					optionStyle: {
						borderBottomWidth: 1,
						borderBottomStyle: "solid",
						borderBottomColor: "#08a1ef"
					}
				},
				choices: {
					seq: 3,
					options: [{
						id: 1,
						label: "选项1"
					},
					{
						id: 2,
						label: "选项2"
					},
					{
						id: 3,
						label: "选项3"
					}]
				},
				isInput: 1,
				title: "",
				type: e
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console seven-contain " + i,
					template: n(611),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(609);
	var o = n(610);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(e) {
			var t = $("#optionGroupContainer"),
			n = t.find(".option-group").eq(e),
			i = 72,
			o = n.position().top;
			o > i && t.scrollTop(t.scrollTop() + (o - i))
		}
		t = JSON.parse(JSON.stringify(t));
		var o = t.choices,
		a = e.vm = {
			title: t.title,
			type: t.type,
			options: o.options,
			required: t.properties.required
		};
		e.buttons = [{
			id: 1,
			btnStyle: {
				backgroundColor: "#08a1ef",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#08a1ef",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#08a1ef",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#08a1ef"
				}
			}
		},
		{
			id: 2,
			btnStyle: {
				backgroundColor: "#fff",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#fff",
				color: "rgb(0, 0, 0)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#fff",
					color: "#000"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#fff"
				}
			}
		},
		{
			id: 3,
			btnStyle: {
				backgroundColor: "#f6b223",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#f6b223",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#f6b223",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#f6b223"
				}
			}
		},
		{
			id: 4,
			btnStyle: {
				backgroundColor: "#333",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#333",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#333",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#333"
				}
			}
		},
		{
			id: 5,
			btnStyle: {
				backgroundColor: "#a0d86b",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#a0d86b",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#a0d86b",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#a0d86b"
				}
			}
		},
		{
			id: 6,
			btnStyle: {
				backgroundColor: "#ff6666",
				height: "30px",
				"line-height": "30px",
				borderWidth: "1px",
				borderStyle: "solid",
				borderColor: "#ff6666",
				color: "rgb(255, 255, 255)"
			},
			properties: {
				titleStyle: {
					backgroundColor: "#ff6666",
					color: "#ffffff"
				},
				optionStyle: {
					borderBottomWidth: "1px",
					borderBottomStyle: "solid",
					borderBottomColor: "#ff6666"
				}
			}
		}],
		angular.forEach(e.buttons,
		function(n, i) {
			t.properties.titleStyle && t.properties.titleStyle.backgroundColor === n.properties.titleStyle.backgroundColor && (e.btnIndex = i)
		}),
		e.chooseTabButton = function(n, i) {
			a.btnStyle = n.btnStyle,
			e.btnIndex = i,
			$.extend(t.css, {
				borderStyle: n.btnStyle.borderStyle,
				borderColor: n.btnStyle.borderColor
			})
		},
		e.authError = "",
		e.addNewOption = function(e) {
			a.options.length < 8 ? (++o.seq, a.options.splice(e + 1, 0, {
				id: o.seq,
				label: "选项" + o.seq
			}), setTimeout(function() {
				i(e)
			})) : n.openMsgDialog({
				msg: "（您可以添加八个选项，每个选项最多请不要超过41字）"
			})
		},
		e.deleteTheOption = function(e) {
			a.options.length > 1 && n.openConfirmDialog({
				msg: "您确定要删除内容为“" + a.options[e].label + "”的选项？<br/>删除选项后，将导致该选项已收集的数据无法正确地显示。"
			}).then(function() {
				a.options.splice(e, 1)
			})
		},
		e.confirm = function() {
			return a.title && 0 !== a.title.length ? (angular.forEach(a.options,
			function(e) {
				delete e.$$hashKey
			}), t.choices = o, t.properties.required = a.required, t.title = a.title, t.type = a.type, (e.btnIndex || 0 === e.btnIndex) && $.extend(t.properties, e.buttons[e.btnIndex].properties), delete t.css.height, void e.$close(t)) : (e.authError = "输入框名称不能为空", void $("#radioTitle").focus())
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "obj", "modalService"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>{{vm.type ==\'r\' ? (\'单选框组件\'): (\'多选框组件\')}} <a ng-show="vm.type ==\'r\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9374&extra="><span class=eqf-exclaquestion-sign></span></a> <a ng-show="vm.type ==\'c\'" class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9375&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>{{vm.type ==\'r\' ? (\'最多可以添加八个单选选项\') : (\'最多可以添加八个多选选项\')}}</span> <span ng-show=authError>{{authError}}</span></h4></div><div class=dialog-contain><div class="modify_area tel_title tab-same clearfix" style=padding-left:30px><span ng-repeat="button in buttons" ng-class="{spanborder: $index == btnIndex}"><a ng-style=button.btnStyle ng-click="chooseTabButton(button, $index)"><span>{{vm.type ==\'r\' ? (\'单选选项\'):(\'多选选项\')}}</span></a></span></div><div class="form_console dialog-content input-content"><div class=input-preview style=border-color:{{buttons[btnIndex].btnStyle.borderColor}}><div class=preview-title ng-style=buttons[btnIndex].properties.titleStyle>{{vm.title?vm.title:(\'标题演示\')}}</div><div class=preview-options><div class=preview-option ng-repeat="option in vm.options" ng-style=buttons[btnIndex].properties.optionStyle><input type=radio disabled=disabled ng-if="vm.type == \'r\'" style=margin-top:-1px /> <input type=checkbox disabled=disabled ng-if="vm.type == \'c\'" style=margin-top:-1px /> <span>{{option.label}}</span></div></div></div><div class="modify_area input-design"><div class=input-title><div><span class=title>标题</span></div><textarea class=form-control ng-model=vm.title placeholder=请输入标题 id=radioTitle rows=3 check-count=82 stop-propagation autofocus style=width:400px></textarea><span style=position:relative;display:inline-block;vertical-align:middle;height:74px;line-height:74px><label for=checkbox_required style=font-weight:lighter;margin:0;font-size:12px;position:absolute;width:60px><div class=checkbox-square style=margin-top:30px ng-class="{checked: vm.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-true-value="\'required\'" ng-model=vm.required name=iCheck></div>必填</label></span></div><div class=input-options><div class=input-option><span class=option>选项</span> <span class=option-tip>（您可以添加八个选项，每个选项最多请不要超过41字）</span></div><div id=optionGroupContainer class=option-group-container style=position:relative><div eqd-scroll style=height:100%><div><div class=option-group ng-repeat="option in vm.options"><textarea class="option-label form-control" rows=2 ng-model=option.label check-count=82 stop-propagation></textarea><div class=operations><span class=eqf-delete2 ng-click=deleteTheOption($index)></span> <span class=eqf-plus ng-click=addNewOption($index)></span></div></div></div></div></div><div class="input-tip clearfix"><span class=add-option ng-click=addNewOption(vm.options.length)><span class=eqf-plus2></span><i>增加选项</i></span> <span class=page-indicator>{{vm.options.length}}/8</span></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {
				type: "@eqxRadio"
			},
			controller: ["$scope", "$rootScope", "radioFactory", "radioModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				"r" !== e.type && "c" !== e.type || (e.createRadioComp = function() {
					var a = n.getDefaultJson(e.type);
					i.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(n, a) {
					var r = a.compJson;
					r.type == e.type && i.open(r).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(r.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				}))
			}],
			link: function(e, t) {
				t.on("click.radio",
				function() {
					e.$apply(function() {
						return e.createRadioComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.dropDown", []).factory("dropDownFactory", n(614)).directive("eqxDropDown", n(615));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				width: 200,
				height: 38,
				left: 100,
				top: 60
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {},
				choices: '{"seq":3,"options":[{"id":1,"label":"请输入内容"},{"id":2,"label":"请输入内容"},{"id":3,"label":"请输入内容"}]}',
				isInput: 1,
				title: "下拉列表",
				type: "z",
				showText: "请选择",
				placeholderText: "请选择",
				required: !1
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "dropDownFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createDropDownComp = function() {
					var e = n.getDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
			}],
			link: function(e, t) {
				t.on("click.dropDown",
				function() {
					e.$apply(function() {
						return e.createDropDownComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.score", []).factory("scoreFactory", n(617)).factory("scoreModalFactory", n(618)).directive("eqxScore", n(622));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			var t = {
				color: "#676767",
				borderWidth: "0",
				borderStyle: "solid",
				borderColor: "#ccc",
				borderRadius: "0",
				backgroundColor: "#f9f9f9",
				width: "200px"
			};
			return {
				content: "",
				css: t,
				id: null,
				num: 1,
				pageId: null,
				properties: {
					icon: "eqf-star",
					size: "rating-m",
					color: "#ff9307",
					required: !1
				},
				isInput: 1,
				sceneId: null,
				title: "",
				type: "a"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				var i = "";
				return e.open({
					windowClass: "console seven-contain " + i,
					template: n(621),
					controller: o,
					resolve: {
						obj: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"],
	n(619);
	var o = n(620);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		var n = e.vm = {
			title: t.title,
			properties: {
				icon: t.properties.icon,
				size: t.properties.size,
				color: t.properties.color,
				required: t.properties.required
			}
		};
		e.authError = "",
		e.confirm = function() {
			return n.title && 0 !== n.title.length ? ($.extend(!0, t, n), void e.$close(t)) : (e.authError = "标题名称不能为空", void $("#ratingTitle").focus())
		},
		e.chooseEqfont = function(e) {
			n.properties.icon = e
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "obj"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>评分 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=9376&extra="><span class=eqf-exclaquestion-sign></span></a> <span class=action ng-show=!authError>请输入少于12个字的评分标题</span> <span ng-show=authError>{{authError}}</span></h4></div><div class="dialog-contain rating-content"><div class=tab-same><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-star\'}"><a ng-click="chooseEqfont(\'eqf-star\')"><span class=eqf-star></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-love\'}"><a ng-click="chooseEqfont(\'eqf-love\')"><span class=eqf-love></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-roll\'}"><a ng-click="chooseEqfont(\'eqf-roll\')"><span class=eqf-roll></span></a> </span><span ng-class="{\'spanborder\': vm.properties.icon == \'eqf-flower\'}"><a ng-click="chooseEqfont(\'eqf-flower\')"><span class=eqf-flower></span></a></span></div><div class="form_console dialog-content rating-preview-design"><div class="comp_rating rating rating-preview"><div class="rating-title ellipsis">{{vm.title?vm.title:(\'预览标题\')}}</div><div class=rating-icons><span class="{{vm.properties.icon}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span> <span class="{{vm.properties.icon + \'-line\'}} {{vm.properties.size}}" ng-style="{color: vm.properties.color}"></span></div></div><div class="modify_area rating rating-design"><div class=rating-group><span class=title>标题</span><div class=rating-choice><input type=text class=form-control ng-model=vm.title placeholder=评分： check-count=40 id=ratingTitle stop-propagation autofocus/> <span style=display:inline-block;position:relative;vertical-align:middle;height:35px;line-height:35px><label for=checkbox_required style=font-weight:lighter;margin:0;font-size:12px;position:absolute;width:70px><div class=checkbox-square ng-class="{checked: vm.properties.required}"><em class=eqf-clickmore></em> <input type=checkbox ng-model=vm.properties.required name=iCheck></div><span style=padding-left:5px>必填</span></label></span></div></div><div class=rating-group><span class=title style=vertical-align:top;line-height:28px;height:28px>颜色</span><div class=rating-choice><eqd-input-color select-color=vm.properties.color theme=rating-choice-color x=0 stop-propagation></eqd-input-color></div></div><div class=rating-group><span class=title>大小</span><div class=rating-choice><div class=btn-group><label class="btn btn-rating" ng-model=vm.properties.size btn-radio="\'rating-l\'">大</label><label class="btn btn-rating" ng-model=vm.properties.size btn-radio="\'rating-m\'">中</label><label class="btn btn-rating" ng-model=vm.properties.size btn-radio="\'rating-s\'">小</label></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "scoreModalFactory", "scoreFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				e.createScoreComp = function() {
					var e = i.getDefaultJson();
					n.open(e).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, i) {
					var a = i.compJson;
					"a" === a.type && n.open(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.score",
				function() {
					e.$apply(function() {
						return e.createScoreComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.chart", []).factory("chartFactory", n(624)).directive("eqxChart", n(625));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		"ngInject";
		function e() {
			var e = {
				height: "380px",
				width: "304px"
			};
			return {
				content: "图表组件",
				css: e,
				num: 1,
				properties: {
					title: "图表组件",
					chartTitle: "数据统计详情"
				},
				title: null,
				type: "t"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {
				type: "@eqxChart"
			},
			controller: ["$scope", "$rootScope", "chartFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createCommentComp = function() {
					var o = n.getDefaultJson();
					o.properties.chartType = e.type;
					var a = i.getCurrentPage(),
					r = a.initEqxCompByJson(o);
					r && (a.renderEqxComp(r), t.$broadcast("wsComp.add", r))
				}
			}],
			link: function(e, t) {
				t.on("click.chart",
				function() {
					e.$apply(function() {
						return e.createCommentComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.downTime", []).factory("downTimeModal", n(627)).directive("eqxDownTime", n(629));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			openPrompt: function() {
				var n = arguments.length <= 0 || void 0 === arguments[0] ? {}: arguments[0];
				return n = JSON.parse(JSON.stringify(n)),
				t.datePicker().then(function() {
					return e.open({
						windowClass: "login-container six-contain",
						template: o,
						controller: ["$scope", "EqxCore", "$timeout",
						function(t, i, o) {
							function a() {
								if (!t.timeConfig.startDate) {
									var e;
									r().then(function(t) {
										return e = t.obj
									},
									function() {
										return e = (new Date).getTime()
									}).then(function(e) {
										t.$apply(function() {
											t.timeConfig.startDate = e
										})
									})
								}
							}
							var r = i.countTime.getServiceTime,
							s = t.vm = {
								endTime: n.endTime || "",
								arriveTipsContent: n.arriveTipsContent || "",
								arriveTips: !("arriveTips" in n) || n.arriveTips
							};
							t.timeConfig = {
								startDate: s.endTime
							},
							a(),
							t.triggerDatePicker = function() {
								o(function() {
									$("#daterange input").trigger("click")
								})
							},
							t.cancel = function() {
								t.$dismiss()
							},
							t.confirm = function() {
								s.endTime ? t.$close({
									endTime: new Date(s.endTime).getTime(),
									arriveTipsContent: s.arriveTipsContent,
									arriveTips: s.arriveTips
								}) : e.openMsgDialog({
									msg: "选择截止时间！"
								})
							}
						}]
					})
				})
			}
		}
	}
	i.$inject = ["modalService", "delayLoadService"];
	var o = n(628);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>倒计时</h4></div><div class="dialog-contain countdown-contain"><div class=countdown-example><span>示例：</span> <span>xx天xx时xx分xx秒</span></div><div class=countdown-setting><form class=form-contain><div class="form-list clearfix"><label for=daterange class=form-label>截止时间：</label><div class=form-input id=daterange style=position:relative><input date-picker=timeConfig placeholder=请选择时间！ ng-model=vm.endTime name=daterange class="btn-name daterange model-countdown-time" style=width:260px type=text ng-readonly=true ng-disabled=vm.isCurrentTime /> <button ng-click=triggerDatePicker() class=calender-btn><i class=eqf-glyphicon-caldenar></i></button></div></div><div class="form-list clearfix"><label for=content class=form-label>时间达到后显示：</label><div class="form-input countdown-arrive-box" id=content><input class="btn-name countdown-arrive-tips" type=text placeholder=开始啦! ng-disabled=!vm.arriveTips ng-model=vm.arriveTipsContent maxlength=48 style=padding-left:0 /> <span class=strlen>{{vm.arriveTipsContent.length}}/48</span> <span class=hidden-arr-tips>不显示</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: !vm.arriveTips}"><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.arriveTips name=iCheck></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService", "downTimeModal",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					return {
						content: "",
						type: "e",
						properties: {
							endTime: "",
							arriveTipsContent: "",
							arriveTips: !0
						},
						css: {
							top: "80px",
							left: "5px",
							width: "310px",
							height: "38px",
							fontSize: 24
						}
					}
				}
				e.editDownTime = function(e) {
					if ("e" == e.type) {
						var o = JSON.parse(JSON.stringify(e.compJson));
						return i.openPrompt(o.properties).then(function(e) {
							o.properties = e;
							var i = n.getCurrentPage(),
							a = i.updateEqxComp(o.id, o);
							a && (i.renderEqxComp(a), t.$broadcast("wsComp.add", a))
						})
					}
				},
				e.createDownTime = function() {
					var e = o();
					return i.openPrompt(e.properties).then(function(i) {
						e.properties = i;
						var o = n.getCurrentPage(),
						a = o.initEqxCompByJson(e);
						a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.downTime",
				function() {
					e.$apply(function() {
						return e.createDownTime()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editDownTime(n)
				})
			}
		}
	}
	n(630),
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.upTime", []).factory("upTimeModal", n(632)).directive("eqxUpTime", n(634));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			openPrompt: function(n) {
				return n = JSON.parse(JSON.stringify(n)),
				t.datePicker().then(function() {
					return e.open({
						windowClass: "login-container six-contain",
						template: o,
						controller: ["$scope", "EqxCore", "$timeout",
						function(t, i, o) {
							function a() {
								if (!t.timeConfig.startDate) {
									var e;
									r().then(function(t) {
										return e = t.obj
									},
									function() {
										return e = (new Date).getTime()
									}).then(function(e) {
										t.$apply(function() {
											t.timeConfig.startDate = e
										})
									})
								}
							}
							var r = i.countTime.getServiceTime,
							s = t.vm = {
								isCurrentTime: !1,
								startTime: n.startTime || "",
								arriveTipsContent: n.arriveTipsContent || "",
								arriveTips: !("arriveTips" in n) || n.arriveTips
							};
							t.timeConfig = {
								startDate: s.startTime,
								timePicker: !0
							},
							a(),
							t.triggerDatePicker = function() {
								s.isCurrentTime || o(function() {
									$("#daterange input").trigger("click")
								})
							},
							t.cancel = function() {
								t.$dismiss()
							},
							t.confirm = function() {
								if (s.startTime || s.isCurrentTime) if (s.isCurrentTime) {
									var n;
									r().then(function(e) {
										return n = e.obj
									},
									function() {
										return n = (new Date).getTime()
									}).then(function(e) {
										t.$close({
											startTime: e,
											arriveTipsContent: s.arriveTipsContent,
											arriveTips: s.arriveTips
										})
									})
								} else t.$close({
									startTime: new Date(s.startTime).getTime(),
									arriveTipsContent: s.arriveTipsContent,
									arriveTips: s.arriveTips
								});
								else e.openMsgDialog({
									msg: "选择开始时间！"
								})
							}
						}]
					})
				})
			}
		}
	}
	i.$inject = ["modalService", "delayLoadService"];
	var o = n(633);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>计时</h4></div><div class="dialog-contain countdown-contain"><div class=countdown-example><span>示例：</span> <span>xx天xx时xx分xx秒</span></div><div class=countdown-setting><form class=form-contain><div class="form-list clearfix"><label for=daterange class=form-label>开始时间：</label><div class=form-input id=daterange style=position:relative><input date-picker=timeConfig placeholder=请设置时间 ng-model=vm.startTime name=daterange class="btn-name daterange model-countdown-time" style=width:260px type=text ng-readonly=true ng-disabled=vm.isCurrentTime /> <button ng-click=triggerDatePicker() class=calender-btn><i class=eqf-glyphicon-caldenar></i></button> <span class=hidden-arr-tips style=right:-12px>当前时间</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: vm.isCurrentTime}"><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.isCurrentTime name=iCheck></div></div><div class="form-list clearfix" style=margin-left:-20px><label for=content class=form-label style=width:120px>时间未到达时显示：</label><div class="form-input countdown-arrive-box" id=content><input class="btn-name countdown-arrive-tips" type=text placeholder=还没开始! ng-disabled=!vm.arriveTips ng-model=vm.arriveTipsContent maxlength=48 style=padding-left:0 /> <span class=strlen>{{vm.arriveTipsContent.length}}/48</span> <span class=hidden-arr-tips style=right:0>不显示</span></div><div class="checkbox-square countdown-show-tips" ng-class="{checked: !vm.arriveTips}"><em class=eqf-yes2></em> <input type=checkbox ng-model=vm.arriveTips name=iCheck></div></div></form></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "sceneService", "upTimeModal",
			function(e, t, n, i) {
				"ngInject";
				function o() {
					return {
						content: "",
						type: "f",
						properties: {
							startTime: "",
							arriveTipsContent: ""
						},
						css: {
							top: "100px",
							left: "5px",
							width: "310px",
							height: "38px",
							fontSize: 24
						}
					}
				}
				e.editUpTime = function(e) {
					if ("f" == e.type) {
						var o = JSON.parse(JSON.stringify(e.compJson));
						return i.openPrompt(o.properties).then(function(e) {
							o.properties = e;
							var i = n.getCurrentPage(),
							a = i.updateEqxComp(o.id, o);
							a && (i.renderEqxComp(a), t.$broadcast("wsComp.add", a))
						})
					}
				},
				e.createUpTime = function() {
					var e = o();
					return i.openPrompt(e.properties).then(function(i) {
						e.properties = i;
						var o = n.getCurrentPage(),
						a = o.initEqxCompByJson(e);
						a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.upTime",
				function() {
					e.$apply(function() {
						return e.createUpTime()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editUpTime(n)
				})
			}
		}
	}
	n(630),
	e.exports = i
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.interaction.shape", []).directive("eqxShape", n(636)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "shapeModalFactory", "sceneService",
			function(e, t, i, o) {
				"ngInject";
				var a = n(637);
				e.createShapeComp = function() {
					i.getShapeJson(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson;
					"h" === a.type && i.getShapeJson(a).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.updateEqxComp(a.id, e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				})
			}],
			link: function(e, t) {
				t.on("click.shape",
				function() {
					e.$apply(function() {
						return e.createShapeComp()
					})
				})
			}
		}
	}
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = {
		content: "",
		css: {
			color: "#555",
			width: "100px",
			height: "100px"
		},
		properties: {
			type: "rect"
		},
		title: null,
		type: "h"
	}
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.comment", []).factory("commentFactory", n(639)).directive("eqxComment", n(640));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n() {
		function e() {
			var e = {
				height: "360px",
				width: "280px",
				backgroundColor: "#F0F3F4"
			};
			return {
				content: "",
				css: e,
				num: 1,
				properties: {
					morelabel: "更多留言",
					meslabel: "我要留言",
					style: "default"
				},
				title: null,
				type: "b"
			}
		}
		return {
			getDefaultJson: e
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "commentFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createCommentComp = function() {
					var e = n.getDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
			}],
			link: function(e, t) {
				t.on("click.comment",
				function() {
					e.$apply(function() {
						return e.createCommentComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wechat", [n(642), n(647), n(652)]).factory("wechatFactory", n(657));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wxHeader", []).factory("wxHeaderFactory", n(643)).factory("wxHeaderModal", n(644)).directive("eqxWxHeader", n(646));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return {
				content: "我的微信昵称",
				type: "201",
				properties: {
					title: "我的微信昵称",
					type: "own"
				},
				css: {
					top: 100,
					left: 0,
					width: 320,
					height: 38,
					fontSize: 24,
					textAlign: "center"
				}
			}
		}
		function n() {
			return {
				properties: {
					title: "我的微信头像",
					src: i,
					type: "own"
				},
				css: {
					height: 100,
					left: 100,
					top: 150,
					width: 100
				},
				type: "401"
			}
		}
		var i = e.core.comp.EqxWxProfile.getDefaultImg();
		return {
			getTextDefaultJson: t,
			getImgDefaultJson: n
		}
	}
	n.$inject = ["EqxCore"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			openPrompt: function() {
				return e.open({
					windowClass: "login-container six-contain",
					template: n(645),
					controller: ["$scope",
					function(e) {
						e.cancel = function() {
							e.$dismiss()
						},
						e.confirm = function() {
							if (e.hideHeadTip) {
								var n = t.getItem("setHeadAction");
								n = n ? n.split(",") : [],
								n.push(i.getCurrentUser().id),
								t.setItem("setHeadAction", n.join(","))
							}
							e.$close()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService", "storageService", "userService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>头像</h4></div><div class=dialog-content style=padding:20px><p style=line-height:30px>可轻松显示浏览者或分享者的微信昵称和头像（属性栏中选择）。仅在微信中浏览时有效，非微信环境浏览时，将显示默认文字和图片（双击设置默认内容）</p></div><div style=padding:20px;text-align:right><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideHeadTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "wxHeaderFactory", "sceneService", "wechatFactory", "storageService", "userService", "wxHeaderModal",
			function(e, t, n, i, o, a, r, s) {
				"ngInject";
				function c() {
					var e = n.getTextDefaultJson(),
					o = n.getImgDefaultJson(),
					a = i.getCurrentPage(),
					r = a.initEqxCompByJson(e),
					s = a.initEqxCompByJson(o);
					r && s && (r.compJson.properties.id = s.compJson.id, s.compJson.properties.id = r.compJson.id, a.renderEqxComp(r), a.renderEqxComp(s), t.$broadcast("wsComp.add", r, s))
				}
				e.createComp = function() {
					var e = a.getItem("setHeadAction");
					e ? (e = e.split(","), e.indexOf(r.getCurrentUser().id) > -1 ? c() : s.openPrompt().then(function() {
						c()
					})) : s.openPrompt().then(function() {
						c()
					})
				},
				e.editWxHeaderImage = function(e) {
					var t = e.compJson;
					"401" == t.type && o.editWechatImg(t)
				}
			}],
			link: function(e, t) {
				t.on("click.wxHeader",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editWxHeaderImage(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wxImg", []).factory("wxImgFactory", n(648)).factory("wxImgModal", n(649)).directive("eqxWxImg", n(651));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return {
				content: "",
				css: {
					top: "100px",
					left: "135px",
					width: "135px",
					height: "240px"
				},
				properties: {
					width: "135px",
					height: "240px",
					src: n
				},
				type: "403"
			}
		}
		var n = e.core.comp.EqxWxUploadImage.getDefaultImg();
		return {
			getImgDefaultJson: t
		}
	}
	n.$inject = ["EqxCore"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			openPrompt: function() {
				return e.open({
					windowClass: "login-container six-contain",
					template: n(650),
					controller: ["$scope",
					function(e) {
						e.cancel = function() {
							e.$dismiss()
						},
						e.confirm = function() {
							if (e.hideImgTip) {
								var n = t.getItem("setImgAction");
								n = n ? n.split(",") : [],
								n.push(i.getCurrentUser().id),
								t.setItem("setImgAction", n.join(","))
							}
							e.$close()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService", "storageService", "userService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>照片</h4></div><div class=dialog-content style=padding:20px><p style=line-height:30px>在微信中浏览时，轻触图片即可更换图片，更换后再分享，朋友就能看到您的美图。赶快试一试，同一场景，不同人分享，图片内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的图片可在微信中保留三天，三天将会显示您的默认图片；非微信环境浏览时，将显示默认图片（双击设置默认内容）。</p></div><div style=padding:20px;text-align:right><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideImgTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "wxImgFactory", "sceneService", "wechatFactory", "storageService", "userService", "wxImgModal",
			function(e, t, n, i, o, a, r, s) {
				"ngInject";
				function c() {
					var e = n.getImgDefaultJson(),
					o = i.getCurrentPage(),
					a = o.initEqxCompByJson(e);
					a && (o.renderEqxComp(a), t.$broadcast("wsComp.add", a))
				}
				e.createComp = function() {
					var e = a.getItem("setImgAction");
					e ? (e = e.split(","), e.indexOf(r.getCurrentUser().id) > -1 ? c() : s.openPrompt().then(function() {
						c()
					})) : s.openPrompt().then(function() {
						c()
					})
				},
				e.editWxImage = function(e) {
					var t = e.compJson;
					"403" == t.type && o.editWechatImg(t)
				}
			}],
			link: function(e, t) {
				t.on("click.wxImg",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editWxImage(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.wxSound", []).factory("wxSoundFactory", n(653)).factory("wxSoundModal", n(654)).directive("eqxWxSound", n(656));
	e.exports = i.name
},
function(e, t) {
	"use strict";
	function n(e) {
		"ngInject";
		function t() {
			return {
				id: "wxp" + i,
				properties: {
					title: "播放录音",
					icon: "eqf-nosy",
					src: o
				},
				css: {
					top: 100,
					left: 60,
					width: 180,
					height: 40,
					lineHeight: "40px",
					borderRadius: 5,
					borderBottomRightRadius: 5,
					borderBottomLeftRadius: 5,
					borderTopRightRadius: 5,
					borderTopLeftRadius: 5,
					backgroundColor: "rgba(255,255,255,1)",
					borderColor: "rgba(0,0,0,1)",
					borderWidth: 1,
					borderStyle: "solid"
				},
				type: "w01"
			}
		}
		function n() {
			return {
				id: "wxr" + i,
				properties: {
					title: "按住 说话"
				},
				css: {
					top: 150,
					left: 60,
					width: 180,
					height: 40,
					lineHeight: "40px",
					borderRadius: 5,
					borderBottomRightRadius: 5,
					borderBottomLeftRadius: 5,
					borderTopRightRadius: 5,
					borderTopLeftRadius: 5,
					backgroundColor: "rgba(255,255,255,1)",
					borderColor: "rgba(0,0,0,1)",
					borderWidth: 1,
					borderStyle: "solid"
				},
				type: "w02"
			}
		}
		var i = e.randomId(),
		o = e.core.comp.EqxWxSoundPlay.getDefaultSound();
		return {
			getPlayDefaultJson: t,
			getRecordDefaultJson: n
		}
	}
	n.$inject = ["EqxCore"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			openPrompt: function() {
				return e.open({
					windowClass: "login-container six-contain",
					template: n(655),
					controller: ["$scope",
					function(e) {
						e.cancel = function() {
							e.$dismiss()
						},
						e.confirm = function() {
							if (e.hideSoundTip) {
								var n = t.getItem("setSoundAction");
								n = n ? n.split(",") : [],
								n.push(i.getCurrentUser().id),
								t.setItem("setSoundAction", n.join(","))
							}
							e.$close()
						}
					}]
				})
			}
		}
	}
	i.$inject = ["modalService", "storageService", "userService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>声音</h4></div><div class=dialog-content style=padding:20px><p style=line-height:30px>在微信中浏览时，点击组件可听声音。长按“按住说话”即可录制声音，更换后再分享，朋友就能听到您的声音。赶快试一试，同一场景，不同人分享，声音内容可以完全不一样哟！！仅在微信中浏览时有效，分享后的声音可在微信中保留三天，三天将会播放默认声音；非微信环境浏览时，将播放默认声音。</p></div><div style=padding:20px;text-align:right><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideSoundTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=confirm();>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			scope: {},
			controller: ["$scope", "$rootScope", "wxSoundFactory", "sceneService", "storageService", "userService", "wxSoundModal",
			function(e, t, n, i, o, a, r) {
				"ngInject";
				function s() {
					var e = n.getPlayDefaultJson(),
					o = n.getRecordDefaultJson(),
					a = i.getCurrentPage(),
					r = a.initEqxCompByJson(e),
					s = a.initEqxCompByJson(o);
					r && s && (a.renderEqxComp(r), a.renderEqxComp(s), t.$broadcast("wsComp.add", r, s))
				}
				e.createComp = function() {
					var e = o.getItem("setSoundAction");
					e ? (e = e.split(","), e.indexOf(a.getCurrentUser().id) > -1 ? s() : r.openPrompt().then(function() {
						s()
					})) : r.openPrompt().then(function() {
						s()
					})
				}
			}],
			link: function(e, t) {
				t.on("click.wxHeader",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i(i) {
			e.getImage().then(function(e) {
				var o = JSON.parse(JSON.stringify(i)),
				a = o.properties,
				r = e.src || e.path;
				Object.assign(a, {
					src: r
				});
				var s = t.getCurrentPage(),
				c = s.updateEqxComp(i.id, o);
				c && (s.renderEqxComp(c), n.$broadcast("wsComp.add", c))
			})
		}
		return {
			editWechatImg: i
		}
	}
	n.$inject = ["imageModalFactory", "sceneService", "$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("comp.random", []).factory("randomFactory", n(659)).directive("eqxRandom", n(662)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t() {
			return {
				content: "",
				css: {
					width: 100,
					height: 100,
					left: 0,
					top: 100
				},
				properties: {
					pics: []
				},
				title: null,
				type: "n"
			}
		}
		function i(t) {
			return e.open({
				windowClass: "console six-contain randomevent-console",
				template: n(660),
				controller: n(661),
				resolve: {
					randomEventJson: function() {
						return t
					}
				}
			})
		}
		return {
			getRandomDefaultJson: t,
			openRandomModal: i
		}
	}
	i.$inject = ["modalService"],
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>随机事件 <span ng-show=!authError class=action>可以从素材库中添加图片</span> <span ng-show=authError class=action>{{authError}}</span></h4></div><div class=dialog-contain><div class=dialog-content><ul><li ng-click=addImage() ng-hide="picList.length >= 10"><a href="">添加</a></li><li ng-repeat="pic in picList track by (pic.id + \'$\' + $index) "><div class=img-set><div class="delete-img hint--top hint--rounded" data-hint=删除图片 ng-click=delImage(pic)><span class=eqf-wrong2></span></div><div class="abbre hint--bottom hint--rounded" data-hint=更换图片 ng-click=replaceImage(pic)><span class=eqf-top-pic></span></div></div><eqx-loading-image data-url="{{HOST.FILE + pic.tmbPath}}"></eqx-loading-image></li></ul></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		e.HOST = i,
		e.picList = n.properties.pics,
		e.addImage = function() {
			return e.picList.length >= 10 ? void(e.authError = "最多可选择10张图片") : void t.getImages({
				max: 10
			}).then(function(t) {
				t.forEach(function(t) {
					e.picList.push(t)
				})
			})
		},
		e.delImage = function(t) {
			e.picList.splice(e.picList.indexOf(t), 1)
		},
		e.replaceImage = function(n) {
			t.getImage().then(function(t) {
				e.picList.splice(e.picList.indexOf(n), 1, t)
			})
		},
		e.confirm = function() {
			e.$close(n)
		},
		e.cancel = function() {
			e.$dismiss()
		}
	}
	n.$inject = ["$scope", "imageModalFactory", "randomEventJson", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "E",
			scope: {
				addElement: "&addElement"
			},
			controller: ["$scope", "$rootScope", "randomFactory", "sceneService",
			function(e, t, n, i) {
				"ngInject";
				e.createComp = function() {
					var o = n.getRandomDefaultJson();
					return n.openRandomModal(o).then(function(n) {
						var o = i.getCurrentPage(),
						a = o.initEqxCompByJson(n);
						a && (o.renderEqxComp(a), e.addElement({
							eqxRandomEvent: a
						}), t.$broadcast("wsComp.add", a))
					})
				},
				e.editComp = function(e) {
					if ("n" == e.compJson.type) return n.openRandomModal(e.compJson).then(function(e) {
						var n = i.getCurrentPage(),
						o = n.updateEqxComp(e.id, e);
						o && (n.renderEqxComp(o), t.$broadcast("wsComp.add", o))
					})
				}
			}],
			link: function(e, t) {
				t.on("click.random",
				function() {
					e.$apply(function() {
						return e.createComp()
					})
				}),
				e.$on("wsComp.edit",
				function(t, n) {
					e.editComp(n)
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.vote", [n(664), n(668)]).factory("voteFactory", n(674)).factory("voteModalFactory", n(675)).directive("eqxVote", n(679));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.textVote", []).directive("textVoteTpl", n(665));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			template: n(667),
			scope: {
				vote: "=textVoteTpl"
			},
			controller: ["$scope",
			function(e) {
				"ngInject";
				e.getTitleType = function() {
					return "single" == e.vote.properties.selectType ? "单选": "多选"
				}
			}]
		}
	}
	n(666),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class="input-preview vote-preview"><div class="preview-title vote-preview-title"><span class=title-bind-content>{{vote.properties.title}} </span><span class=title-constant-content>({{getTitleType()}})</span></div><div class="preview-options vote-preview-options"><div class="preview-option vote-preview-option" ng-repeat="child in vote.properties.children"><span>{{child.label}}</span></div></div><div class="vote-preview-option vote-button"><span>投票</span></div></div>'
},
function(e, t, n) {
	"use strict";
	var i = angular.module("comp.imgVote", []).directive("imgVoteTpl", n(669));
	e.exports = i.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "A",
			template: n(673),
			scope: {
				vote: "=imgVoteTpl",
				currentIndex: "=currentIndex"
			},
			controller: ["$scope", "HOST",
			function(e, t) {
				"ngInject";
				e.FILE = t.FILE,
				e.getTitleType = function() {
					return "single" == e.vote.properties.selectType ? "单选": "多选"
				},
				e.getImgSrc = function() {
					var t = e.vote.properties.children[e.currentIndex].src;
					if (t) return {
						"background-image": "url(" + e.FILE + t + ")",
						"background-size": "contain",
						"background-repeat": "no-repeat",
						"background-position": "50%"
					}
				}
			}]
		}
	}
	n(670),
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	e.exports = n.p + "images/defaultImg-f9d1d1.svg"
},
,
function(e, t) {
	e.exports = '<div class="input-preview vote-preview vote-img-preview"><div class="preview-title vote-preview-title"><span class=title-bind-content>{{vote.properties.title}} </span><span class=title-constant-content>({{getTitleType()}})</span></div><div class=img-preview-content><div class=vote-img-picture ng-style=getImgSrc()><span class=voto-img-unselect-logo></span></div><div class=vote-img-title><span>{{vote.properties.children[currentIndex].desc}}</span></div><div class=vote-img-process><ul class=vote-img-list><li class=vote-img-item ng-repeat="child in vote.properties.children" ng-class="{active: currentIndex == $index}"></li></ul></div></div><div class="vote-preview-option vote-button"><span>投票</span></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		function t() {
			var e = {
				content: "",
				css: {
					width: 300,
					left: 10,
					top: 100,
					color: "#676767",
					backgroundColor: "#ffffff"
				},
				id: null,
				pageId: null,
				properties: {
					children: [{
						id: n(),
						label: "选项1"
					},
					{
						id: n(),
						label: "选项2"
					}],
					selectType: "single",
					title: "请投票",
					endTime: "",
					selectCount: 1
				},
				sceneId: null,
				type: "k"
			},
			t = {
				content: "",
				css: {
					width: 300,
					height: 430,
					left: 10,
					top: 15,
					color: "#676767",
					backgroundColor: "#ffffff"
				},
				id: null,
				pageId: null,
				properties: {
					autoPlay: !0,
					bgColor: "rgba(255,255,255,0)",
					children: [{
						desc: "选项1",
						id: n(),
						src: ""
					},
					{
						desc: "选项2",
						id: n(),
						src: ""
					},
					{
						desc: "选项3",
						id: n(),
						src: ""
					}],
					selectType: "single",
					title: "请投票",
					endTime: "",
					selectCount: 1
				},
				sceneId: null,
				type: "j"
			};
			return {
				j: t,
				k: e
			}
		}
		var n = e.randomId;
		return {
			getDefaultJson: t
		}
	}
	i.$inject = ["EqxCore"];
	n(671);
	e.exports = i
},
function(e, t, n) {
	"use strict";
	function i(e, t) {
		"ngInject";
		return {
			open: function(n) {
				var i = "";
				return e.datePicker().then(function() {
					return t.open({
						windowClass: "console seven-contain " + i,
						template: a,
						controller: o,
						resolve: {
							obj: function() {
								return n
							}
						}
					})
				})
			}
		}
	}
	i.$inject = ["delayLoadService", "modalService"],
	n(676);
	var o = n(677),
	a = n(678);
	e.exports = i
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	function i(e, t, n, i, a, r) {
		"ngInject";
		e.FILE = i.FILE;
		var s = a.randomId,
		c = JSON.parse(JSON.stringify(t.votesJson)),
		l = e.vm = {
			voteType: t.type,
			setting: !1,
			currentIndex: 0,
			endTime: c[t.type].properties.endTime || ""
		},
		p = e.vote = c[l.voteType],
		d = e.timeConfig = {
			enableClear: !0,
			startDate: l.endTime,
			startDateDefault: o.endTimeOfToday(),
			drops: "up"
		};
		e.addChild = function() {
			var t = p.properties.children.length,
			n = "k" == p.type ? 6 : 8;
			return t >= n ? void(e.authError = "您最多可添加" + n + "个选项, 每个选项最多40个字符") : void("k" == l.voteType ? p.properties.children.push({
				id: s(),
				label: "选项" + (t + 1)
			}) : p.properties.children.push({
				id: s(),
				src: "",
				desc: "选项" + (t + 1),
				width: 246,
				heigth: 286
			}))
		},
		e.selectType = function(t) {
			p.properties.selectType = t,
			"multi" === t ? e.vote.properties.selectCount = 2 : e.vote.properties.selectCount = 1
		},
		e.deleteChild = function(e) {
			p.properties.children.splice(e, 1),
			"multi" === p.properties.selectType && p.properties.selectCount > p.properties.children.length && (p.properties.selectCount = p.properties.children.length)
		},
		e.showHideSetting = function() {
			l.setting = !l.setting,
			l.setting && p.properties.endTime && (d.startDate = l.endTime)
		},
		e.selectBlur = function() {
			p.properties.selectCount || (p.properties.selectCount = 2)
		},
		e.chooseTextImg = function(t) {
			c[t] && (l.voteType = t, p = e.vote = c[t])
		},
		e.imgEdit = function(t) {
			var i = {
				tab: 2,
				storageKey: ""
			};
			n.getImage(i).then(function(n) {
				t.src = n.path,
				l.currentIndex = e.vote.properties.children.indexOf(t)
			})
		},
		e.getImgSrc = function(t) {
			if (t) return {
				"background-image": "url(" + e.FILE + t + ")",
				"background-size": "contain",
				"background-repeat": "no-repeat",
				"background-position": "50%"
			}
		},
		e.setCurrentIndex = function(e) {
			l.currentIndex = e
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.confirm = function() {
			if (!p.properties.title) return void(e.authError = "请填写标题");
			var t = p.properties.children.findIndex(function(e, t) {
				return "k" == l.voteType ? !e.label: !e.desc || !e.src
			});
			return t > -1 ? void(e.authError = "第" + (t + 1) + "选项内容或图片不能为空") : (l.endTime ? p.properties.endTime = new Date(l.endTime).getTime() : p.properties.endTime = "", "k" === p.type && delete p.css.height, void e.$close(p))
		}
	}
	i.$inject = ["$scope", "obj", "imageModalFactory", "HOST", "EqxCore", "$filter"];
	var o = n(328);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span>×</span></button><h4 class=modal-title>投票 <span ng-show=authError class=modal-error>{{authError}}</span></h4></div><div class=dialog-contain><div class="form_console dialog-content input-content"><div text-vote-tpl=vote ng-if="vm.voteType === \'k\'"></div><div img-vote-tpl=vote current-index=vm.currentIndex ng-if="vm.voteType === \'j\'"></div><div class="modify_area input-design vote-design"><div class=input-title style=margin-bottom:10px><div><span class=title>标题</span></div><input type=text class="form-control vote-form-control" ng-model=vote.properties.title placeholder=请输入标题 id=radioTitle check-count=40 autofocus></div><div class=vote-input-options><div class=""><span class=option>选项</span> <span class=option-tip>（您可以添加{{vm.voteType === \'k\'? \'六\' : \'八\'}}个选项，每个选项最多请不要超过40字符）</span></div><div class=vote-input-option><span class="vote-text-btn vote-type-btn" ng-click="chooseTextImg(\'k\')" ng-class="{\'vote-type\': vm.voteType === \'k\'}">文字投票</span> <span class="vote-img-btn vote-type-btn" ng-click="chooseTextImg(\'j\')" ng-class="{\'vote-type\': vm.voteType === \'j\'}">图片投票</span></div><div id=optionGroupContainer class=vote-option-group-container style=position:relative><div eqd-scroll style=height:100%;max-height:180px;margin-bottom:10px><div><div class="option-group vote-option-group" ng-repeat="child in vote.properties.children" ng-if="vm.voteType == \'k\'"><input type=text class="form-control vote-form-control" ng-model=child.label maxlength=40><span class=eqf-wrong ng-click=deleteChild($index) ng-if="vote.properties.children.length > 2"></span></div><div class="option-group vote-option-group" ng-repeat="child in vote.properties.children" ng-if="vm.voteType == \'j\'"><div ng-style=getImgSrc(child.src) class=vote-img-cover ng-click=imgEdit(child)></div><input type=text class="form-control vote-form-control" ng-model=child.desc maxlength=40 style=width:314px;display:inline-block;margin-top:-20px ng-focus=setCurrentIndex($index)><span class=eqf-wrong ng-click=deleteChild($index) ng-if="vote.properties.children.length > 2"></span></div></div></div><div ng-click=addChild() class=vote-add-btn>添加选项</div></div></div><div class=vote-advanced-setting><div ng-click=showHideSetting() class=vote-advanced-setting-title>高级设置 <span ng-class="{\'eqf-clickmore\' : vm.setting, \'eqf-clickmore2\' : !vm.setting}"></span></div><div ng-show=vm.setting class=vote-advanced-setting-content><div class=vote-advanced-setting-type><span class=vote-advanced-setting-select>选择</span><label class=radio-label style=margin-right:50px>单选<div class=radio-square ng-class="{checked: vote.properties.selectType === \'single\'}" ng-click="selectType(\'single\')"><em></em> <input type=radio></div></label><label class=radio-label>多选<div class=radio-square ng-class="{checked: vote.properties.selectType === \'multi\'}" ng-click="selectType(\'multi\')"><em></em> <input type=radio></div></label></div><div class=vote-most-count ng-if="vote.properties.selectType === \'multi\'"><span>最多可选</span> <input type=number onkeypress=return!1 min=2 max={{vote.properties.children.length}} ng-model=vote.properties.selectCount ng-blur=selectBlur() class=vote-most-count-input />项</div><div class="vote-advanced-setting-time form-input" id=daterange style=position:relative><span>结束时间</span> <input type=text placeholder=设置结束时间 ng-model=vm.endTime class="vote-time daterange" date-picker=timeConfig name=daterange ng-readonly=true /></div></div></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "A",
			controller: ["$scope", "$rootScope", "voteFactory", "voteModalFactory", "sceneService",
			function(e, t, n, i, o) {
				"ngInject";
				var a = n.getDefaultJson();
				e.createVoteComp = function() {
					i.open({
						votesJson: a,
						type: "k"
					}).then(function(e) {
						var n = o.getCurrentPage(),
						i = n.initEqxCompByJson(e);
						i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
					})
				},
				e.$on("wsComp.edit",
				function(e, n) {
					var a = n.compJson,
					r = "" + a.type;
					if (r.indexOf("k") !== -1 || r.indexOf("j") !== -1) {
						var s = {};
						s.votesJson = {},
						s.votesJson[r] = a,
						s.type = r,
						i.open(s).then(function(e) {
							console.log(e);
							var n = o.getCurrentPage(),
							i = n.updateEqxComp(a.id, e);
							i && (n.renderEqxComp(i), t.$broadcast("wsComp.add", i))
						})
					}
				})
			}],
			link: function(e, t) {
				t.on("click.vote",
				function() {
					e.$apply(function() {
						return e.createVoteComp()
					})
				})
			}
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.template", [n(681), n(685), n(691)]).directive("thumbTpl", n(701)).factory("thumbTplService", n(704)).name
},
function(e, t, n) {
	"use strict";
	var i = n(682);
	e.exports = angular.module("template.tplCenter", []).directive("eqxTemplateCenter", i).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: a
		}
	}
	var o = n(683),
	a = n(684);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class=tab-panel style=height:100%><div class="sel-contain all-change" ng-repeat="tag in tags" ng-style=tag.style><eqx-select class=select-great model=tag.id change=onTagChange()><eqx-select-option value=type.id ng-repeat="type in tag.list">{{type.name}}</eqx-select-option></eqx-select></div><div style=left:10px;top:50px;position:absolute><input class=search placeholder=输入名称搜索模板 type=text ng-keypress=enterPress($event) ng-model=vm.name /> <span ng-if=vm.showSearch class="eqf-search search-icon" ng-click=onSearchKeyEnter()></span> <span ng-if=!vm.showSearch class="eqf-wrong search-icon" ng-click=resetTplFilter()></span></div><div class="page_tpl_container clearfix"><div eqd-scroll style=height:100% refresh=updateTpls()><ul class=tpl-container><li class="page_tpl_item comp-draggable animation-zoom my-tpl-self" ng-repeat="tpl in tplGroup.list" ng-style="{\'animation-delay\': $index%42 * 50 + \'ms\'}" title={{tpl.name}} thumb-tpl=tpl key="\'tplCenter\'" show-del=false render=false><div eqx-material-status obj=tpl type="\'tpl\'" success-fn=$parent.buyAndUse></div></li></ul></div></div></div>'
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i) {
		"ngInject";
		function o() {
			return s.tagIds = r(),
			"tagIds:" + s.tagIds + "-name:" + s.name
		}
		function a() {
			c = e.tplGroup = i.getTplGroupByKey(o()),
			0 == c.list.length && e.updateTpls()
		}
		function r() {
			return e.tags.map(function(e) {
				return e.id
			}).filter(function(e) {
				return !! e
			}).join(",")
		}
		var s = e.vm = {
			tagIds: "",
			name: "",
			showSearch: !0
		};
		e.tags = [{
			style: {
				left: "10px"
			},
			id: null,
			list: [{
				id: null,
				name: "用途"
			}]
		},
		{
			style: {
				left: "103px"
			},
			id: null,
			list: [{
				id: null,
				name: "功能"
			}]
		},
		{
			style: {
				left: "196px"
			},
			id: null,
			list: [{
				id: null,
				name: "风格"
			}]
		}];
		var c = e.tplGroup = [];
		e.updateTpls = function() {
			i.$getMoreTpls(o())
		},
		e.onTagChange = function() {
			a()
		},
		e.resetTplFilter = function() {
			s.name = "",
			s.showSearch = !0,
			a()
		},
		e.enterPress = function(t) {
			var n = t || window.event;
			13 == n.keyCode && e.onSearchKeyEnter()
		},
		e.onSearchKeyEnter = function() {
			s.showSearch = !1,
			a()
		},
		t.$getAllTagList().then(function(t) {
			e.tags.forEach(function(e, i) {
				var o; (o = e.list).push.apply(o, n(t[i].map(function(e) {
					return {
						id: e.id,
						name: e.name
					}
				})))
			})
		}),
		a()
	}
	i.$inject = ["$scope", "tplTagService", "tplService"],
	e.exports = i
},
function(e, t, n) {
	"use strict";
	var i = n(686);
	e.exports = angular.module("template.panel", []).directive("eqxTemplatePanel", i).name
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		return {
			restrict: "EA",
			template: n(690),
			scope: {},
			controller: ["$scope",
			function(n) {
				var o = {
					tplCenter: 1,
					my: 2
				},
				a = n.vm = {
					tabId: o.tplCenter
				};
				n.tabs = [{
					id: o.tplCenter,
					name: "模板中心"
				},
				{
					id: o.my,
					name: "我的"
				}],
				n.accessTemplateMaterial = i.permission("templateMaterial"),
				n.changeTbl = function(e) {
					a.tabId = e
				},
				n.showTplCenter = function() {
					return a.tabId === o.tplCenter
				},
				n.showMy = function() {
					return a.tabId === o.my
				},
				n.$on("tpl.saveMyTpl",
				function() {
					n.changeTbl(o.my),
					e(function() {
						t.$broadcast("tpl.saveMyTpl.tag")
					})
				}),
				n.$on("tpl.saveCompanyTpl",
				function() {
					n.changeTbl(o.my),
					e(function() {
						t.$broadcast("tpl.saveCompanyTpl.tag")
					})
				})
			}]
		}
	}
	i.$inject = ["$timeout", "$rootScope", "authorityService"],
	n(687),
	e.exports = i
},
function(e, t) {},
, ,
function(e, t) {
	e.exports = '<div class=create_left ng-if=!accessTemplateMaterial><ul class="nav nav-tabs" style=position:absolute;z-index:2;width:100%><li ng-repeat="tab in tabs" ng-class="{\'active\': tab.id == vm.tabId}"><a ng-click=changeTbl(tab.id) class=all-change>{{tab.name}}</a></li></ul><div style=margin-top:38px></div><eqx-template-center ng-if=showTplCenter()></eqx-template-center><eqx-my-center ng-if=showMy()></eqx-my-center></div>';
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("template.my", []).directive("eqxMyCenter", n(692)).directive("eqxCompany", n(694)).directive("eqxMyTpl", n(697)).directive("eqxRecently", n(699)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(693),
			scope: {},
			controller: ["$scope", "authorityService",
			function(e, t) {
				"ngInject";
				var n = e.vm = {
					tagId: 201
				},
				i = {
					myTpl: 201,
					recently: 202,
					company: 203
				};
				e.tags = [{
					item: 1,
					style: {
						left: "10px"
					},
					id: i.myTpl,
					name: "我的模板"
				},
				{
					item: 5,
					style: {
						left: "103px"
					},
					id: i.recently,
					name: "最近使用"
				}],
				t.permission("tplShowCompany") || e.tags.push({
					item: 2,
					style: {
						left: "196px"
					},
					id: i.company,
					name: "企业模板"
				}),
				e.tags.sort(function(e, t) {
					return e.item > t.item
				}),
				e.changeTbl = function(e) {
					n.tagId = e
				},
				e.showMyTpl = function() {
					return n.tagId === i.myTpl
				},
				e.showRecently = function() {
					return n.tagId === i.recently
				},
				e.showCompany = function() {
					return n.tagId === i.company
				},
				e.$on("tpl.saveMyTpl.tag",
				function() {
					e.changeTbl(i.myTpl)
				}),
				e.$on("tpl.saveCompanyTpl.tag",
				function() {
					e.changeTbl(i.company)
				})
			}]
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="tab-panel tag-tpl-tab" style=height:50px;padding-top:10px><ul class="nav nav-tabs nav-tags"><li class=nav-tag ng-repeat="tag in tags" ng-class="{\'active\': tag.id == vm.tagId}"><a ng-click=changeTbl(tag.id) class=all-change>{{tag.name}}</a></li></ul></div><eqx-my-tpl ng-if=showMyTpl()></eqx-my-tpl><eqx-company ng-if=showCompany() authority=TplCenterCompanyTpl></eqx-company><eqx-recently ng-if=showRecently()></eqx-recently>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: ["$scope", "tplService",
			function(e, t) {
				"ngInject";
				function n() {
					i = e.tplGroup = t.getTplGroupByKey(o),
					0 === i.list.length && e.updateTpls()
				}
				e.HOST = e.$root.HOST;
				var i = e.tplGroup = [],
				o = e.key = "company";
				e.updateTpls = function() {
					t.$getMoreTpls(o)
				},
				e.$on("tpl.saveCompanyTpl.tag",
				function() {
					n()
				}),
				n()
			}]
		}
	}
	var o = n(695);
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class=tab-panel style=height:100%;padding-top:10px;margin-top:0 authority=company><div class=empty-collection ng-if="tplGroup.list.length == 0"><p class=pb20>在页面管理中选中页面，点击企业模板，即可生成企业页面模板！</p><img src=' + n(696) + '></div><div eqd-scroll ng-if="tplGroup.list.length != 0" refresh=updateTpls() class=srcoll-short><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="tpl in tplGroup.list" title=点击使用 id=my-tpl ng-style="{\'animation-delay\': $index * 50 + \'ms\'}" thumb-tpl=tpl key=key show-del=true render=true></li></ul></div></div><div class=tab-panel style=height:100%;padding-top:10px;margin-top:0 authority=personal><div class=empty-collection><div class="pb20 pl20 pr20" style=text-align:center><a class=text-primary target=_blank ng-href="{{HOST.HOST+\'site/privilege\'}}">免费升级</a>企业会员尊享该功能</div><img src=' + n(696) + "></div></div>"
},
function(e, t, n) {
	e.exports = n.p + "images/collection-d53f0f.svg"
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: ["$scope", "tplService",
			function(e, t) {
				"ngInject";
				function n() {
					i = e.tplGroup = t.getTplGroupByKey(o),
					0 === i.list.length && e.updateTpls()
				}
				var i = e.tplGroup = [],
				o = e.key = "myTpl";
				e.updateTpls = function() {
					t.$getMoreTpls(o)
				},
				n(),
				e.$on("tpl.saveMyTpl.tag",
				function() {
					n()
				})
			}]
		}
	}
	var o = n(698);
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class=tab-panel style=height:100%;padding-top:10px;margin-top:0><div class=empty-collection ng-if="tplGroup.list.length == 0"><p class=pb20>在页面管理中选中页面，点击我的模板，即可生成我的页面模板！</p><img src=' + n(696) + '></div><div eqd-scroll refresh=updateTpls() ng-if="tplGroup.list && tplGroup.list.length!=0" class=srcoll-short><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="tpl in tplGroup.list" title=点击使用 ng-style="{\'animation-delay\': $index * 70 + \'ms\'}" thumb-tpl=tpl key=key show-del=true render=true></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {},
			controller: ["$scope", "tplService",
			function(e, t) {
				"ngInject";
				function n() {
					i = e.tplGroup = t.getTplGroupByKey(o),
					0 === i.list.length && e.updateTpls()
				}
				var i = e.tplGroup = [],
				o = e.key = "recently";
				e.updateTpls = function() {
					t.$getMoreTpls(o)
				},
				n()
			}]
		}
	}
	var o = n(700);
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class=tab-panel style=height:100%;padding-top:10px;margin-top:0><div class=empty-collection ng-if="tplGroup.list.length == 0"><p class=pb20>暂无模板</p><img src=' + n(696) + '></div><div eqd-scroll refresh=updateTpls() class=srcoll-short ng-if="tplGroup.list && tplGroup.list.length!=0"><ul class="page_tpl_container clearfix" style=position:relative;top:0><li class="nr page_tpl_item comp-draggable my-tpl animation-zoom" ng-repeat="tpl in tplGroup.list" title=点击使用 ng-style="{\'animation-delay\': $index * 70 + \'ms\'}" thumb-tpl=tpl key=key show-del=true render=true></li></ul></div></div>'
},
function(e, t, n) {
	"use strict";
	function i(e, t, i) {
		"ngInject";
		function a(e, i, a, r, s, c, l) {
			var p = e.tpl.properties || {};
			e.vm = {
				showLongPage: !!p.longPage,
				showImg: "true" != e.render,
				showDel: "true" == e.showDel,
				showHover: "true" == e.showHover,
				shiftSize: e.shiftSize
			},
			e.deleteTpl = function(t) {
				t.stopPropagation(),
				e.key || console.error("no tpl key"),
				s.openConfirmDialog({
					msg: "确定删除此模板?"
				}).then(function() {
					r.deleteTpl(e.tpl, e.key)
				})
			},
			e.loadImg = function(e) {
				var t = e.find("img")[0],
				a = n(703);
				if (p && p.thumbSrc) {
					var r = i.FILE + p.thumbSrc;
					/\?imageMogr2/.test(r) || (r += "?imageMogr2/thumbnail/80x130>/strip");
					var s = o(r).then(function() {
						t && (t.src = r)
					})
				} else s = l.reject();
				s["catch"](function() {
					t.src = a
				})
			},
			e.renderTpl = function(t) {
				var n = {
					obj: {
						id: e.tpl.sceneId,
						bgAudio: null,
						property: {
							eqAdType: 0,
							forbidHandFlip: !0
						}
					},
					list: [e.tpl]
				},
				i = a.adaptor,
				o = i.SceneAdaptor,
				r = i.perfectPage.perfectPage,
				s = i.perfectMeta.perfectMeta,
				c = i.perfectComp.perfectComp;
				new o(n).addMetaFn(s).addPageFn(r).addEleFn(c).start();
				var l = a.core.scene.EqxScene;
				if (e.tempScene = new l(n, {
					mode: "edit",
					disablePageEffect: !0,
					disableCompEvent: !0,
					disableTrigger: !0,
					disableArrow: !0,
					disableCommentManager: !0,
					disableProgressBar: !0
				}), e.tempScene.renderScene(t), !e.vm.shiftSize) {
					var p = $(".edit_area", t).height();
					if (486 !== p) var d = "scale(0.25) translateX(-480px) translateY(-" + (729 + 729 * (p / 486 - 1)) + "px)";
					else d = "scale(0.25) translateX(-480px) translateY(-729px)";
					$(".edit_area", t).css({
						transform: d
					})
				}
			},
			e.buyAndUse = function(t) {
				r.clearTplGroup("myTpl"),
				e.useTpl(t)
			},
			e.useTpl = function(n) {
				c.getCurrentPage().pageJson.properties && c.getCurrentPage().pageJson.properties.xb && 0 === c.getCurrentPage().pageJson.properties.xb.canDel || t.useTplValidation(n, e.taskCenter)
			}
		}
		function r(e, n, o) {
			i(function() {
				e.vm.showImg ? e.loadImg(n) : e.renderTpl(n)
			}),
			n.on("click.thumb",
			function() {
				return e.$apply(function() {
					if (!o.disableUse) {
						if (e.taskCenter) {
							var n = e.taskCenter;
							return void t.useTplValidation(n.scenePages[0], n)
						}
						e.useTpl(e.tpl)
					}
				})
			})
		}
		return a.$inject = ["$scope", "HOST", "EqxCore", "tplService", "modalService", "sceneService", "$q"],
		{
			restrict: "A",
			transclude: !0,
			scope: {
				tpl: "=thumbTpl",
				key: "=",
				render: "@",
				showDel: "@",
				showHover: "@",
				taskCenter: "=",
				shiftSize: "="
			},
			template: n(702),
			controller: a,
			link: r
		}
	}
	i.$inject = ["$rootScope", "thumbTplService", "$timeout"];
	var o = n(152).loadImg;
	e.exports = i
},
function(e, t) {
	e.exports = '<img ng-if=vm.showImg /> <span ng-if=vm.showLongPage class=bFlag_longPage>长</span><div ng-if=vm.showDel class="delete-element hint--bottom hint--rounded" ng-click=deleteTpl($event) data-hint=删除此模板><span class=eqf-scene-delete></span></div><span ng-if="taskCenter.status===3 && taskCenter.sceneTotal>0" class="bFlag_longPage showing">推广中 </span><span ng-if="taskCenter.status===5" class="bFlag_longPage show_end">已结束 </span><span ng-if="taskCenter.sceneTotal<=0 && taskCenter.status===3" class="bFlag_longPage show_unstart">未推广</span><div class=showTpl_contain ng-if=vm.showHover><div class=task_title>{{taskCenter.taskName}}</div><div class=showTpl_bottom><div class=showTpl_left><p class=showTpl_budget>{{taskCenter.budget}} <span>秀点</span></p><p class=budget_title>推广预算</p></div><div class=showTpl_right><p class=unit_price>1秀点/{{taskCenter.price}}PV</p><p class=price_title>推广单价</p></div></div></div><div ng-transclude></div>'
},
function(e, t, n) {
	e.exports = n.p + "images/pic-80bac5.svg"
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o) {
		"ngInject";
		function a(t, n) {
			var a = e.getCurrentPage(),
			r = a.pageJson,
			s = JSON.parse(JSON.stringify(t));
			s.properties = s.properties || {},
			r.properties.xb && delete r.properties.xb;
			var c = s.elements;
			if (c.length) {
				var l = r.id,
				p = r.num,
				d = r.name,
				u = r.sceneId,
				g = r.properties.longPage; ! s.properties.effect && r.properties.effect && (s.properties.effect = JSON.parse(JSON.stringify(r.properties.effect))),
				Object.assign(s, {
					id: l,
					num: p,
					name: d,
					sceneId: u
				}),
				delete s.istpl;
				var m = s.properties.longPage;
				m && m < 10 && (m = 502 * m),
				g && (m ? m < g && (s.properties.longPage = g) : s.properties.longPage = g),
				s.elements.forEach(function(e) {
					e.pageId = l,
					e.sceneId = u
				}),
				n && (s.properties.xb = {
					orderId: n.taskId,
					pageId: n.pageId,
					sceneId: t.sceneId,
					taskId: n.id,
					taskSceneId: r.sceneId,
					promotionType: n.promotionType
				},
				delete s.properties.effect),
				o.$broadcast("tpl.useTpl", s),
				i.addRecently(t),
				i.updateRecently()
			}
		}
		function r(e, t) {
			e.elements ? a(e, t) : n.getTpl(e.id).then(function(n) {
				var i = n.data.obj;
				i.elements && i.elements.length && (e.elements = i.elements, a(e, t))
			})
		}
		function s(n, i) {
			e.getCurrentPage().pageJson.elements.length > 0 ? t.openConfirmDialog({
				msg: "页面模板会覆盖编辑区域已有组件，是否继续？",
				confirmName: "是",
				cancelName: "取消"
			}).then(function() {
				r(n, i)
			}) : r(n, i)
		}
		return {
			useTplValidation: s
		}
	}
	n.$inject = ["sceneService", "modalService", "tplAPI", "tplService", "$rootScope"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	n(706);
	var i = angular.module("scene.head", [n(707)]).directive("eqxHead", n(712));
	e.exports = i.name
},
function(e, t) {},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("create.head.action", []).directive("eqdHeadAction", n(708)).directive("eqdLogoShortcut", n(710)).directive("eqdLastPageShortcut", n(711)).name
},
function(e, t, n) {
	"use strict";
	var i = n(709),
	o = n(277).getHash;
	e.exports = ["$route", "$timeout",
	function(e, t) {
		"ngInject";
		return {
			restrict: "EA",
			template: i,
			controller: ["$scope", "flagService", "$rootScope", "selectService", "sceneService", "modalService", "HOST", "i18nNotifications",
			function(e, t, n, i, a, r, s, c) {
				function l() {
					var e = a.eqxScene.meta;
					e.name || t.sceneSetting.show || r.openMsgDialog({
						msg: "尚未设置标题，请设置后再执行此操作",
						btn: "去设置"
					}).then(function() {
						t.sceneSetting.show = !0
					})
				}
				function p(e) {
					return 2 == e.status ? r.openConfirmDialog({
						msg: "当前场景为不允许访问状态，发布场景将重新对外开放访问",
						confirmName: "坚持发布",
						cancelName: "保存退出"
					}).then(function() {
						return d(e.id)
					},
					function() {
						$(window).off("beforeunload"),
						window.open(s.HOST + "promotion/share/" + e.id + "/social", "_self")
					}) : d(e.id)
				}
				function d(e) {
					return a.publishScene(e).then(function(t) {
						t.data.success && ($(window).off("beforeunload"), window.open(s.HOST + "promotion/share/" + e + "/social", "_self"))
					})
				}
				var u = t.sceneSetting,
				g = a.eqxScene;
				e.toggle = function() {
					u.show = !u.show
				},
				e.open = function() {
					u.show = !0
				},
				e.saveScene = function() {
					i.removeAll(),
					n.$broadcast("savePage",
					function() {
						var e = "保存成功，还需发布哦！",
						i = a.eqxScene;
						i.meta;
						l(),
						t.sceneSetting.show && n.$broadcast("saveSettings", {
							save: function() {
								c.add(e)
							}
						})
					})
				},
				e.publishScene = function() {
					$(".workspace").trigger("mousedown"),
					n.$broadcast("savePage",
					function() {
						var e = a.eqxScene,
						i = e.meta;
						l(),
						t.sceneSetting.show ? n.$broadcast("publishSettings", {
							publish: p
						}) : i.name && a.saveSceneSettings(i).then(function() {
							p(i)
						})
					})
				},
				e.exitScene = function() {
					function e() {
						l(),
						t.sceneSetting.show ? n.$broadcast("exitEditor") : window.open(s.HOST + "h5/list", "_self")
					}
					var i = g.eqxPageList[a.currentPageIndex];
					i.$$lastHash || console.error("eqxPage does not have $$lastHash!", i);
					var c = o(i.pageJson);
					c !== i.$$lastHash ? r.openConfirmDialog({
						msg: "是否保存更改内容？",
						confirmName: "保存",
						cancelName: "不保存"
					}).then(function() {
						n.$broadcast("savePage", e)
					},
					function() {
						e()
					}) : e()
				},
				e.saveTplAndExit = function() {
					n.$broadcast("YQCCreateMYXB"),
					window.open("", "_self"),
					window.close()
				}
			}],
			link: function(n) {
				e.current.params.s && t(function() {
					n.open()
				},
				100)
			}
		}
	}]
},
function(e, t) {
	e.exports = '<div class=create-action><ul><li ng-hide=YQCMaker class="act-border setting gray-dark all-change" ng-click=toggle() big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=1 categorythree=常用设置 actiontype=23><span class=tip>设置</span></li><li ng-hide=YQCMaker class="act-border save gray-dark all-change" ng-click=saveScene(true) big-data-event categorytwoid=13 categorytwo=保存 actiontype=4><span class=tip>保存</span></li><li ng-hide=YQCMaker class="publish gray-dark all-change" ng-click=publishScene() big-data-event categorytwoid=14 categorytwo=发布 actiontype=6><span class=tip>发布</span></li><li class="act-border quit out-red" ng-click=exitScene() big-data-event categorytwoid=15 categorytwo=退出 actiontype=11><span class=tip>退出</span></li></ul></div>'
},
function(e, t) {
	"use strict";
	e.exports = ["flagService",
	function(e) {
		"ngInject";
		return {
			restrict: "EA",
			controller: function() {},
			link: function(t, n) {
				n.on("click",
				function() {
					t.$apply(function() {
						var t = e.sceneSetting;
						t.show = !0,
						t.settingTab = "高级"
					})
				})
			}
		}
	}]
},
function(e, t) {
	"use strict";
	e.exports = ["flagService",
	function(e) {
		"ngInject";
		return {
			restrict: "EA",
			controller: function() {},
			link: function(t, n) {
				n.on("click",
				function() {
					t.$apply(function() {
						var t = e.sceneSetting;
						t.show = !0,
						t.settingTab = "高级",
						t.flagEqAdType = !0
					})
				})
			}
		}
	}]
},
function(e, t, n) {
	"use strict";
	var i = n(713);
	n(706),
	e.exports = ["modalService", "disableService", "authorityService",
	function(e, t, n) {
		"ngInject";
		return {
			restrict: "EA",
			template: i,
			scope: {},
			link: function(i, o) {
				i.HOST = i.$root.HOST,
				i.vm = {
					get isXb() {
						return t.disableOperate()
					}
				},
				i.accessAdComp = n.assignDesignerAuthority,
				i.accessCompAtlas = n.permission("compAtlas"),
				i.compAuthorityAccess = n.permission("hideAdvancedShortCut"),
				i.accessCompPV = n.permission("compPV"),
				i.accessCompWechat = n.permission("compWechat"),
				i.accessCompRadio = n.permission("compRadio"),
				i.accessCompMultiRadio = n.permission("compMultiRadio"),
				i.accessCompCount = n.permission("compCount"),
				i.accessCompDropdown = n.permission("compDropdown"),
				i.accessCompChart = n.permission("compChart"),
				i.accessCompComment = n.permission("compComment"),
				i.accessCompVideo = n.permission("compVideo"),
				i.accessCompTime = n.permission("compTime"),
				i.accessCompVote = n.permission("compVote"),
				i.accessCompAdvertisement = n.permission("compAdvertisement"),
				o.find(".creat_con").on("click",
				function() {
					t.disableOperate() && e.openMsgDialog({
						msg: "接取的任务不能编辑"
					})
				})
			}
		}
	}]
},
function(e, t) {
	e.exports = '<div class=creat_head><div class="creat_head_con clearfix"><div class=creat_logo><a ng-href="{{HOST.HOST + \'h5/list\'}}"><em class=eqf-logo></em></a></div><div class="creat_con clearfix"><ul class="comp_panel clearfix" ng-class="{\'xb-un-edit\': vm.isXb}"><li comp-draggable=panel ctype=2 class="comp-draggable text" eqx-text big-data-event categorytwoid=1 categorytwo=文本 actiontype=4><span class="eqf-text-word eqf-btn"></span> <span class=tip>文本</span></li><li comp-draggable=panel ctype=3 class="comp-draggable bg" eqx-bg big-data-event categorytwoid=2 categorytwo=背景 actiontype=4><span class="eqf-top-background eqf-btn"></span> <span class=tip>背景</span></li><li comp-draggable=panel class="comp-draggable music" eqx-bgm big-data-event categorytwoid=3 categorytwo=音乐 actiontype=4><span class="eqf-top-music eqf-btn"></span> <span class=tip>音乐</span></li><li comp-draggable=panel ctype=v ng-if=!accessCompVideo class="comp-draggable vedio" eqx-video big-data-event categorytwoid=4 categorytwo=视频 actiontype=4><span class="eqf-top-video eqf-btn"></span> <span class=tip>视频</span></li><li comp-draggable=panel ctype=4 class="comp-draggable image" eqx-image><span class="eqf-top-pic eqf-btn"></span> <span class=tip>图片</span></li><li comp-draggable=panel ctype=h class="comp-draggable image" eqx-shape big-data-event categorytwoid=6 categorytwo=形状 actiontype=4><span class="eqf-shape eqf-btn"></span> <span class=tip>形状</span></li><li class=interaction><span class="eqf-refresh eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=l class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加链接 eqx-link big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=1 categorythree=链接 actiontype=4><span class=eqf-link></span> <span class=menu-item-name>链接</span></li><li comp-draggable=panel ctype=g class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加广告 ng-if=!accessCompAdvertisement eqx-ad big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=2 categorythree=广告 actiontype=4><span class=eqf-link></span> <span class=menu-item-name>广告</span></li><li comp-draggable=panel ctype=8 class="menu-item comp-draggable phone hint--right hint--rounded" data-hint=点击添加电话 eqx-tel big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=3 categorythree=电话 actiontype=4><span class=eqf-glyphicon-earphone></span> <span class=menu-item-name>电话</span></li><li comp-draggable=panel ctype=m class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加地图 eqx-map big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=4 categorythree=地图 actiontype=4><span class=eqf-map></span> <span class=menu-item-name>地图</span></li><li comp-draggable=panel ctype=s class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加音效 eqx-sound big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=5 categorythree=音效 actiontype=4><span class=eqf-music></span> <span class=menu-item-name>音效</span></li><li class=menu-item><span class=eqf-clock-o></span> <span class=menu-item-name>计数</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus eqx-counter><li comp-draggable=panel ctype=i class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-love big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=6 categorythree=计数喜欢 actiontype=4><span class=eqf-love></span> <span class=menu-item-name>喜欢</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-good big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=7 categorythree=计数顶起 actiontype=4><span class=eqf-good></span> <span class=menu-item-name>顶起</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-flower2 big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=8 categorythree=计数送花 actiontype=4><span class=eqf-flower2></span> <span class=menu-item-name>送花</span></li><li comp-draggable=panel ctype=i class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加计数器 data-icon=eqf-vote big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=9 categorythree=计数投票 actiontype=4><span class=eqf-vote></span> <span class=menu-item-name>投票</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompPV><span class=eqf-date2></span> <span class=menu-item-name>统计</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=d class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加计数器 eqx-pv big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=10 categorythree=统计阅读量 actiontype=4><span class=eqf-eye3></span> <span class=menu-item-name>阅读量</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompWechat><span style=font-size:10px class=eqf-wechat></span> <span class=menu-item-name>微信 <span style=position:absolute;top:1px;transform:scale(.8);color:red>beta</span> </span><span style=margin-left:1px class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=w class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加微信昵称和头像 eqx-wx-header eqx-red-dot-trigger=wechatRedDot big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=11 categorythree=微信头像 actiontype=4><span class=eqf-top-contact></span> <span class=menu-item-name>头像</span></li><li comp-draggable=panel ctype=wp class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加微信图片 eqx-wx-img eqx-red-dot-trigger=wechatRedDot big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=12 categorythree=微信照片 actiontype=4><span class=eqf-top-pic></span> <span class=menu-item-name>照片</span></li><li comp-draggable=panel ctype=wr class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加微信音频组件 eqx-wx-sound eqx-red-dot-trigger=wechatRedDot big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=13 categorythree=微信声音 actiontype=4><span class=eqf-voice></span> <span class=menu-item-name>声音</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompTime><span class=eqf-clock-1></span> <span class=menu-item-name>计时</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=e class="menu-item comp-draggable textarea hint--right hint--rounded" eqx-down-time big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=14 categorythree=计时倒计时 actiontype=4 data-hint=点击添加倒计时 font=eqf-love><span class=eqf-countDown></span> <span class=menu-item-name>倒计时</span></li><li comp-draggable=panel ctype=f class="menu-item comp-draggable radio-input hint--right hint--rounded" eqx-up-time big-data-event categorytwoid=7 categorytwo=互动 categorythreeid=15 categorythree=计时计时 actiontype=4 data-hint=点击添加计时 font=eqf-good><span class=eqf-clock-2></span> <span class=menu-item-name>计时</span></li></ul></div></div></div></li></ul></div></div></div><div eqx-red-dot=wechatRedDot></div><span class=tip>互动</span></li><li class=form><span class="eqf-top-list eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li class=menu-item><span class=eqf-option></span> <span class=menu-item-name>选项</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=5 class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加输入框 eqx-input big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=1 categorythree=选项输入框 actiontype=4><span class=eqf-write></span> <span class=menu-item-name>输入框</span></li><li comp-draggable=panel ng-if=!accessCompRadio ctype=r class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加单选按钮 eqx-radio=r type=r big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=2 categorythree=选项单选 actiontype=4><span class=eqf-single></span> <span class=menu-item-name>单选</span></li><li comp-draggable=panel ng-if=!accessCompMultiRadio ctype=c class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加多选按钮 eqx-radio=c big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=3 categorythree=选项多选 actiontype=4><span class=eqf-morechoice></span> <span class=menu-item-name>多选</span></li><li comp-draggable=panel ng-if=!accessCompDropdown ctype=z class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加多选按钮 eqx-drop-down big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=4 categorythree=选项下拉列表 actiontype=4><span class=eqf-select></span> <span class=menu-item-name>下拉列表</span></li><li comp-draggable=panel ng-if=!accessCompCount ctype=a class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加评分组件 eqx-score big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=5 categorythree=选项评分 actiontype=4><span class=eqf-star></span> <span class=menu-item-name>评分</span></li></ul></div></div></div></li><li class=menu-item ng-if=!accessCompChart><span class=eqf-chart></span> <span class=menu-item-name>图表</span> <span class=caret></span><div class=menu-item-menu><div class="popover right"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=t class="menu-item comp-draggable textarea hint--right hint--rounded" data-hint=点击添加饼状图 font=pie eqx-chart=pie big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=6 categorythree=图表饼状图 actiontype=4><span class=eqf-pie></span> <span class=menu-item-name>饼状图</span></li><li comp-draggable=panel ctype=t class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加柱状图 font=bar eqx-chart=bar big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=7 categorythree=图表柱状图 actiontype=4><span class=eqf-bar-chart></span> <span class=menu-item-name>柱状图</span></li><li comp-draggable=panel ctype=t class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加折线图 font=line eqx-chart=line big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=8 categorythree=图表折线图 actiontype=4><span class=eqf-line2></span> <span class=menu-item-name>折线图</span></li><li comp-draggable=panel ctype=t class="menu-item comp-draggable radio-input hint--right hint--rounded" data-hint=点击添加曲面图 font=curve eqx-chart=curve big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=9 categorythree=图表曲面图 actiontype=4><span class=eqf-circle-line></span> <span class=menu-item-name>曲面图</span></li></ul></div></div></div></li><li comp-draggable=panel ctype=6 class="menu-item comp-draggable button hint--right hint--rounded" data-hint=一个场景建议只添加一个 eqx-button big-data-event categorytwoid=8 categorytwo=表单 categorythreeid=10 categorythree=提交按钮 actiontype=4><span class=eqf-top-button></span> <span class=menu-item-name>提交按钮</span></li></ul></div></div></div><div eqx-red-dot=commentRedDot></div><span class=tip>表单</span></li><li eqx-page-effect big-data-event categorytwoid=9 categorytwo=特效 actiontype=4 class="comp-draggable images" data-event=12011><span class="eqf-top-star eqf-btn"></span> <span class=tip>特效</span></li><li class=interaction><span class="eqf-extand eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li ng-hide=accessCompAtlas comp-draggable=panel ctype=p class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加图集 eqx-image-slider big-data-event categorytwoid=10 categorytwo=扩展 categorythreeid=1 categorythree=图集 actiontype=4><span class=eqf-top-pics></span> <span class=menu-item-name>图集</span></li><li comp-draggable=panel ctype=g101 class="menu-item comp-draggable contact hint--right hint--rounded" data-hint=点击添加联系人 big-data-event categorytwoid=10 categorytwo=扩展 categorythreeid=2 categorythree=联系人 actiontype=4 eqx-combined-form><span class=eqf-top-contact></span> <span class=menu-item-name>联系人</span></li><li comp-draggable=panel ctype=b ng-if=!accessCompComment class="menu-item comp-draggable button hint--right hint--rounded" data-hint=一个场景建议只添加一个 eqx-comment eqx-red-dot-trigger=commentRedDot big-data-event categorytwoid=10 categorytwo=扩展 categorythreeid=3 categorythree=留言板 actiontype=4><span class=eqf-boards></span> <span class=menu-item-name>留言板</span></li><li comp-draggable=panel ctype=b ng-if=!accessCompVote class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击添加投票 eqx-vote><span class=eqf-boards></span> <span class=menu-item-name>投票</span></li></ul></div></div></div><span class=tip>扩展</span></li><li class=interaction ng-if=!compAuthorityAccess><span class="eqf-advance eqf-btn"></span><div class=form-menus><div class="popover bottom"><div class=arrow></div><div class=popover-content><ul class=menus><li comp-draggable=panel ctype=p class="menu-item comp-draggable button hint--right hint--rounded" data-hint=点击设置自定义加载logo eqd-logo-shortcut big-data-event categorytwoid=11 categorytwo=高级 categorythreeid=1 categorythree=自定义加载logo actiontype=4><span class=eqf-self-logo></span> <span class=menu-item-name>自定义加载logo</span></li><li comp-draggable=panel ctype=g101 class="menu-item comp-draggable contact hint--right hint--rounded" data-hint=点击设置尾页 eqd-last-page-shortcut big-data-event categorytwoid=11 categorytwo=高级 categorythreeid=2 categorythree=去尾页及底标 actiontype=4><span class=eqf-lastPage></span> <span class=menu-item-name>去尾页及底标</span></li></ul></div></div></div><span class=tip>高级</span></li></ul></div><eqd-head-action></eqd-head-action></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.pageEffect", [n(715), n(721), n(727), n(733), n(739), n(745), n(749), n(754)]).service("EffectService", n(760)).factory("effectModal", n(761)).directive("eqxPageEffect", n(765)).name
},
function(e, t, n) {
	"use strict";
	var i = n(716),
	o = angular.module("pageEffect.scratch", []).directive("eqdEffectScratch", i);
	e.exports = o.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			template: o,
			controller: a
		}
	}
	n(717);
	var o = n(719),
	a = n(720);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=scratch-effect><div class="effect-preview scratch-bg" id=scratch></div><div class="effect-form scratch-form"><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>覆盖效果</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=vm.coverImageIndex change=onCoverImageChange(image)><eqx-select-option value=image.value ng-repeat="image in coverImages">{{image.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>透明度</label><div class=form-input><eqd-input-number ng-model=effectJson.opacity ng-model-options=vm.modelOptions ng-change=onOpacityChange() ng-change="" tooltip-placement=right tooltip=双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值 min=0 max=100 unit=%></eqd-input-number></div></div><div class="form-list clearfix"><label class=form-label>涂抹比例</label><div class=form-input><eqd-input-number ng-model=effectJson.percentage ng-model-options=vm.modelOptions ng-change=onPercentageChange() tooltip-placement=right tooltip=双击鼠标可以输入数值，按住鼠标左键左右滑动可快速调整数值 min=0 max=100 unit=%></eqd-input-number></div></div><div class="form-list clearfix"><label class=form-label>提示文字</label><div class=form-input><input type=text style=width:290px ng-model=effectJson.tip ng-change=onTipChange() placeholder=提示文字 check-count=40 ng-keyup="$event.keyCode == 13 ? confirm() : null" autofocus stop-propagation/></div></div></form></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a) {
		"ngInject";
		function r() {
			f && (n.cancel(f), m.stopMimic()),
			f = n(function() {
				m.startMimic()
			},
			1e3)
		}
		var s = t.core.EditPageEffectMap,
		c = s.scratch,
		l = c.getCoverImages().map(function(e, t) {
			return {
				name: e.name,
				path: e.path,
				value: t + 1
			}
		});
		l.unshift({
			name: "自定义",
			value: 0
		}),
		e.coverImages = l;
		var p = i.getCurEffectJson();
		p && "scratch" == p.name || (p = {
			name: "scratch",
			image: l[1],
			opacity: .2,
			percentage: .15,
			tip: null
		});
		var d = e.effectJson = p;
		i.curEffectJson = e.effectJson;
		var u = e.vm = {
			modelOptions: {
				debounce: 100
			},
			coverImageIndex: 1
		},
		g = $("#scratch"),
		m = new c(d, g, g.width(), g.height());
		m.init(),
		m.canvas.classList.remove("cas"),
		e.onPercentageChange = function() {
			m.setPercentage(d.percentage)
		},
		e.onOpacityChange = function() {
			m.setOpacity(d.opacity),
			r()
		},
		e.onTipChange = function() {
			m.setTip(d.tip),
			r()
		};
		var f = null;
		e.onCoverImageChange = function() {
			if (0 == u.coverImageIndex) return void o.getImage().then(function(e) {
				var t = {
					name: e.name,
					value: 0,
					path: e.path
				};
				m.setCoverImage(t),
				p.image = t
			});
			var t = e.coverImages[u.coverImageIndex];
			m.setCoverImage(t),
			p.image = t,
			r()
		},
		e.confirm = function() {
			e.$close(d)
		},
		r()
	}
	n.$inject = ["$scope", "EqxCore", "$timeout", "EffectService", "imageModalFactory", "HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.finger", []).directive("eqdEffectFinger", n(722)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			template: o,
			controller: a
		}
	}
	n(723);
	var o = n(725),
	a = n(726);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=finger-effect><div class="effect-preview finger-bg" id=finger></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><label class=form-label>背景图片：</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=finger.bgImage change=onBackImageChange()><eqx-select-option value=backImage ng-repeat="backImage in backImages">{{backImage.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>指纹图片：</label><div class=form-input><eqx-select class="select-sm border-width select-contain" model=finger.zwImage change=onFingerImgChange()><eqx-select-option value=fingImage ng-repeat="fingImage in fingImages">{{fingImage.name}}</eqx-select-option></eqx-select></div></div></form></div></div>';
},
function(e, t) {
	"use strict";
	function n(e, t, n, i) {
		"ngInject";
		function o() {
			e.fingImages = r.getFingerImages(),
			e.backImages = r.getBackImages();
			var t = n.getCurEffectJson();
			t && "finger" == t.name || (t = {
				name: "finger",
				bgImage: e.backImages[1],
				zwImage: e.fingImages[1]
			}),
			e.backImages.forEach(function(n, i) {
				t.bgImage.name == n.name && e.backImages.splice(i, 1, t.bgImage)
			}),
			e.fingImages.forEach(function(n, i) {
				t.zwImage.name == n.name && e.fingImages.splice(i, 1, t.zwImage)
			}),
			e.finger = t,
			n.curEffectJson = e.finger,
			c = new r(e.finger, s, s.width(), s.height()),
			c.init(),
			c.$line.show().css({
				animation: "move 2s ease infinite"
			})
		}
		var a = t.core.EditPageEffectMap,
		r = a.finger,
		s = $("#finger"),
		c = null;
		e.onBackImageChange = function() {
			return "自定义" == e.finger.bgImage.name ? void i.getImage().then(function(t) {
				var n = {
					name: "自定义",
					value: 0,
					path: t.path
				};
				e.finger.bgImage = n,
				c.setBackImage(e.finger.bgImage.path)
			}) : void c.setBackImage(e.finger.bgImage.path)
		},
		e.onFingerImgChange = function() {
			c.setFingerImage(e.finger.zwImage.path)
		},
		o()
	}
	n.$inject = ["$scope", "EqxCore", "EffectService", "imageModalFactory"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.fallingObject", []).directive("eqdEffectFall", n(728)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(729);
	var o = n(731),
	a = n(732);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=fallingObject-effect><div class="effect-preview falling-object" id=fallingObject></div><div class=effect-form><form class=form-contain role=form><div class="form-list clearfix"><lable class=form-label>环境图片：</lable><div class=form-input><eqx-select class="select-sm border-width select-contain" change=onCoverImageChange() model=falling.src><eqx-select-option value=fallingObj ng-repeat="fallingObj in fallings track by $index">{{fallingObj.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" style=margin-top:10px><lable class=form-label>环境氛围：</lable><div class=form-input><div style=line-height:24px;font-size:12px><span style=margin-right:39px>弱</span><span style=margin-right:37px>中</span><span>强</span></div><div style=width:100px ui-slider min=1 max=3 ng-change=onDensityChange() ng-model=falling.density></div></div></div></form></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			e.fallings = a.getFallingImages();
			var t = n.getCurEffectJson();
			t && "fallingObject" == t.name || (t = {
				name: "fallingObject",
				src: e.fallings[2],
				density: 2
			}),
			e.fallings.forEach(function(n, i) {
				t.src.name == n.name && e.fallings.splice(i, 1, t.src)
			}),
			e.falling = t,
			n.curEffectJson = e.falling,
			s = new a(e.falling, r, r.width(), r.height()),
			s.init().then(function() {
				s.canvas.style.position = "",
				s.startEffect()
			})
		}
		var o = t.core.EditPageEffectMap,
		a = o.fallingObject,
		r = $("#fallingObject"),
		s = null;
		e.onCoverImageChange = function() {
			s.setImage(e.falling.src.path)
		},
		e.onDensityChange = function() {
			s.setDensity(e.falling.density)
		},
		e.$on("$destroy",
		function() {
			s.stopEffect()
		}),
		i()
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.snowFly", []).directive("eqdEffectSnow", n(734)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			template: o,
			scope: {},
			controller: a
		}
	}
	n(735);
	var o = n(737),
	a = n(738);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=snowFly-effect><div class="effect-preview snow-fly" id=snowFly></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = t.core.PageEffectMap,
		o = i.snowFly,
		a = {
			name: "snowFly"
		};
		n.curEffectJson = a;
		var r = $("#snowFly"),
		s = new o(a, r, r.width(), r.height());
		s.init().then(function() {
			s.canvas.style.position = "",
			s.startEffect()
		}),
		e.$on("$destroy",
		function() {
			s.stopEffect()
		})
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.fireWorks", []).directive("eqdEffectFireworks", n(740)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(741);
	var o = n(743),
	a = n(744);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class=fireWorks-effect><div class="effect-preview fireworks" id=fireworks></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		var i = t.core.PageEffectMap,
		o = i.fireWorks,
		a = {
			name: "fireWorks"
		};
		n.curEffectJson = a;
		var r = $("#fireworks"),
		s = new o(a, r, r.width(), r.height());
		s.init(),
		s.canvas.style.position = "",
		s.startEffect(),
		e.$on("$destroy",
		function() {
			s.stopEffect()
		})
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	var i = n(746),
	o = angular.module("pageEffect.none", []).directive("eqdEffectNone", i);
	e.exports = o.name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !0,
			template: o,
			controller: ["EffectService",
			function(e) {
				"ngInject";
				e.curEffectJson = null
			}]
		}
	}
	n(747);
	var o = n(748);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div class=none-effect><div>点击确定，即可去除特效。</div></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect.gravity", []).directive("eqdEffectGravity", n(750)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(751);
	var o = n(752),
	a = n(753);
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=gravity-effect><div class=gravity-preview><div class=effect-preview><img ng-src={{previewImg}} alt=图片></div><p>重力感应效果请在手机上查看</p></div><div class=gravity-setting><h6 class=gravity-setting-title>选择重力感应图片：</h6><ul class=gravity-setting-list><li class=gravity-setting-img ng-repeat="img in imgList" ng-click=selectImg(img)><img ng-src="{{file + img.tmbPath}}" alt=img.name /> <span class="gravity-select-img eqf-yes" ng-if="img.id == gravityJson.properties.imgId"></span></li><li class="gravity-setting-img gravity-setting-img-user" ng-click=userImg()><span class=gravity-setting-add>+</span> <span class=gravity-setting-select>自定义</span></li></ul></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r) {
		"ngInject";
		function s(t) {
			var n = t.properties,
			i = {
				type: t.type,
				title: "重力感应裁切",
				desc: "重力感应图将按照要求的比例进行裁切",
				showItems: !1,
				imgSrc: n.imgSrc,
				cropItems: [{
					ratio: 1280 / 1214,
					desc: "重力图比例"
				}]
			};
			return o.openCropModal(t, i).then(function(i) {
				var o = i.image;
				if (o.src && o.originSrc) {
					var a = {
						cropSize: o.cropSize,
						imgSrc: o.src,
						originSrc: o.originSrc
					};
					Object.assign(n, a)
				}
				return n.originSrc && !n.imgSrc && (n.imgSrc = n.originSrc),
				e.previewImg = l + t.properties.imgSrc,
				t
			})["catch"](function() {
				e.previewImg = l + t.properties.imgSrc
			})
		}
		function c(e, t) {
			var n = (e - t) / 2;
			return n
		}
		var l = e.file = i.FILE,
		p = 640,
		d = 607,
		u = {},
		g = r.getCurrentPage().eqxGravity;
		g && g.compJson && (u = g.compJson);
		var m = e.gravityJson = t.curEffectJson = Object.assign({
			css: {
				width: p,
				height: d,
				top: c(486, d),
				left: c(320, p)
			},
			properties: {
				bgColor: null,
				imgSrc: null
			},
			type: "q",
			name: "gravity"
		},
		u),
		f = {
			attrGroupId: 1,
			category: 4035,
			pageNo: 1,
			pageSize: 7
		};
		a.getGravityImg(f).then(function(t) {
			e.imgList = t,
			!m.id && t.length ? e.selectImg(e.imgList[0]) : e.previewImg = l + m.properties.imgSrc
		}),
		e.selectImg = function(t) {
			m.properties.imgSrc = t.path,
			m.properties.originSrc = t.path,
			m.properties.imgId = t.id,
			e.previewImg = l + t.path
		},
		e.userImg = function() {
			n.getBg().then(function(e) {
				m.properties.imgSrc = e.path,
				m.properties.imgId = e.id,
				s(m)
			})
		}
	}
	n.$inject = ["$scope", "EffectService", "imageModalFactory", "HOST", "imageCropFactory", "gravityService", "sceneService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("pageEffect-gradient", []).directive("eqdEffectGradient", n(755)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			replace: !1,
			scope: {},
			template: o,
			controller: a
		}
	}
	n(756);
	var o = n(758),
	a = n(759);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div class="gradient-effect clearfix"><div id=gradient-wrapper><div id=gradient-bg></div></div><form class="form-contain gradient-set"><div class="form-list clearfix"><label class=form-label>渐变颜色：</label><div class=form-input><eqd-input-color select-color=gradient.backgroundColor direction=bottom theme=flo_lef notify=grid x=-1 y=2 w=37 h=26 toolcolorpicker=styleColorPicker isconverttransparent=true></eqd-input-color><input class=input_kuang style=width:135px ng-model=gradient.backgroundColor ng-change=onChangeBgColor() type=text /></div></div><div class="form-list clearfix"><label class=form-label>持续时间：</label><div class="form-input clearfix"><div class=slider ui-slider-t ng-model=gradient.duration fixed=1 min=1 max=10></div><input limit-input class="input_kuang short" ng-change=onChangeDuration() type=number step=1 min=1 max=10 limit-input ng-model=gradient.duration /> <span style=display:inline-block;vertical-align:top;line-height:25px>秒</span></div></div><div class="form-list clearfix"><label class=form-label>渐变方向：</label><div class=form-input><eqx-select class="select-great border-width select-contain" change=onChangeDirection() model=gradient.direction.type><eqx-select-option value=dir.type ng-repeat="dir in directions track by $index">{{dir.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix"><label class=form-label>开启形式：</label><div class=form-input><eqx-select class="select-great border-width select-contain" change=onChangeOpen() model=gradient.openStyle.type><eqx-select-option value=style.type ng-repeat="style in openStyles track by $index">{{style.name}}</eqx-select-option></eqx-select></div></div><div class="form-list clearfix" ng-show="gradient.openStyle.type == 1"><label class=form-label>提示文字：</label><div class=form-input><input class=tips type=text placeholder=按下开启 ng-model=gradient.openStyle.tip ng-change=onChangeTip()> <span class=tip-num>{{gradient.openStyle.tip | validCharacterNum}}/20</span></div></div></form></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n) {
		"ngInject";
		function i() {
			var t = n.getCurEffectJson();
			e.directions = [{
				type: 0,
				name: "从左到右"
			},
			{
				type: 1,
				name: "从右到左"
			},
			{
				type: 2,
				name: "从上到下"
			},
			{
				type: 3,
				name: "从下到上"
			}],
			e.openStyles = [{
				type: 0,
				name: "自动开启"
			},
			{
				type: 1,
				name: "按下开启"
			}],
			t && "gradient" == t.name || (t = {
				name: "gradient",
				direction: e.directions[0],
				openStyle: e.openStyles[0],
				backgroundColor: "rgba(116,173,175,1)",
				duration: 5
			});
			var i = e.gradient = t,
			a = $("#gradient-wrapper"),
			r = new s(i, a, a.width(), a.height());
			n.curEffectJson = e.gradient,
			r.init(),
			e.$watch("gradient.backgroundColor",
			function(e, t) {
				e && e !== t && r.changeBgColor(i.backgroundColor)
			}),
			e.$watch("gradient.duration",
			function(e, t) {
				e && e !== t && r.changeDuration(i.duration)
			}),
			e.onChangeDirection = function() {
				r.changeDirection(i.direction)
			},
			e.onChangeOpen = function() {
				1 == t.openStyle.type ? t.openStyle.tip = t.openStyle.tip || "按下开启": t.openStyle.tip = "",
				r.changeOpenStyle(i.openStyle)
			},
			e.onChangeTip = function() {
				o(),
				r.changeTip(i.openStyle.tip)
			}
		}
		function o() {
			var t = e.gradient.openStyle.tip;
			t && (e.gradient.openStyle.tip = a(t, 10))
		}
		function a(e) {
			var t = arguments.length <= 1 || void 0 === arguments[1] ? 10 : arguments[1],
			n = 2 * t,
			i = e.replace(/\n|\r/g, " ");
			i = i.replace(/[^\x00-\xff]/g, "xx");
			var o = i.substring(0, n).replace(/xx/g, "中").length;
			return i = e.substring(0, o)
		}
		var r = t.core.EditPageEffectMap,
		s = r.gradient;
		i()
	}
	n.$inject = ["$scope", "EqxCore", "EffectService"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e, t) {
		if (! (e instanceof t)) throw new TypeError("Cannot call a class as a function")
	}
	var i = function() {
		function e(e, t) {
			for (var n = 0; n < t.length; n++) {
				var i = t[n];
				i.enumerable = i.enumerable || !1,
				i.configurable = !0,
				"value" in i && (i.writable = !0),
				Object.defineProperty(e, i.key, i)
			}
		}
		return function(t, n, i) {
			return n && e(t.prototype, n),
			i && e(t, i),
			t
		}
	} (),
	o = function() {
		function e() {
			"ngInject";
			n(this, e),
			this.curEffectJson = null
		}
		return i(e, [{
			key: "getCurEffectJson",
			value: function() {
				return this.curEffectJson
			}
		},
		{
			key: "setCurEffectJson",
			value: function(e) {
				this.curEffectJson = e
			}
		}]),
		e
	} ();
	e.exports = o
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console six-contain effect-console",
					template: n(764),
					resolve: {
						effectJson: function() {
							return t
						}
					},
					controller: ["$scope", "EffectService", "effectJson", "userService",
					function(e, t, n, i) {
						function o() {
							if (n) for (var i = 0; i < r.length; i++) n.name === r[i].type && (e.setTab(r[i].type), t.setCurEffectJson(n));
							else e.setTab("scratch"),
							t.setCurEffectJson(null)
						}
						var a = i.getCurrentUser();
						if ("4" == a.type || "99" == a.type) var r = e.tabs = [{
							name: "涂抹",
							type: "scratch"
						},
						{
							name: "指纹",
							type: "finger"
						},
						{
							name: "环境",
							type: "fallingObject"
						},
						{
							name: "飘雪",
							type: "snowFly"
						},
						{
							name: "烟花",
							type: "fireWorks"
						},
						{
							name: "渐变",
							type: "gradient"
						},
						{
							name: "重力感应",
							type: "gravity"
						},
						{
							name: "无",
							type: "none"
						}];
						else r = e.tabs = [{
							name: "涂抹",
							type: "scratch"
						},
						{
							name: "指纹",
							type: "finger"
						},
						{
							name: "环境",
							type: "fallingObject"
						},
						{
							name: "飘雪",
							type: "snowFly"
						},
						{
							name: "烟花",
							type: "fireWorks"
						},
						{
							name: "无",
							type: "none"
						}];
						var s = e.vm = {
							tabType: "scratch"
						};
						e.setTab = function(e) {
							e !== s.tabType && (s.tabType = e)
						},
						e.showEffect = function(e) {
							return s.tabType == e
						},
						e.confirm = function() {
							var n = t.getCurEffectJson();
							e.$close(n)
						},
						e.cancel = function() {
							e.$dismiss("cancel")
						},
						o()
					}]
				})
			}
		}
	}
	i.$inject = ["modalService"],
	n(762),
	n(763),
	e.exports = i
},
function(e, t) {},
function(e, t) {},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>页面特效 <a class=bbs-help-tip-media target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&tid=1939&extra="><span class=eqf-exclaquestion-sign></span> </a><span class=action>在设置界面可看到效果</span></h4></div><div class=dialog-contain><div class="form_console dialog-content"><div class=modify_area><div class=effect-list><ul><li ng-class="{\'select-effect\': tab.type == vm.tabType}" ng-repeat="tab in tabs" ng-click=setTab(tab.type)>{{tab.name}}</li></ul></div><div class=effect-detail><eqd-effect-scratch ng-if="showEffect(\'scratch\')"></eqd-effect-scratch><eqd-effect-finger ng-if="showEffect(\'finger\')"></eqd-effect-finger><eqd-effect-fall ng-if="showEffect(\'fallingObject\')"></eqd-effect-fall><eqd-effect-snow ng-if="showEffect(\'snowFly\')"></eqd-effect-snow><eqd-effect-fireworks ng-if="showEffect(\'fireWorks\')"></eqd-effect-fireworks><eqd-effect-gradient ng-if="showEffect(\'gradient\')"></eqd-effect-gradient><eqd-effect-gravity ng-if="showEffect(\'gravity\')"></eqd-effect-gravity><eqd-effect-none ng-if="showEffect(\'none\')"></eqd-effect-none></div></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n() {
		return {
			restrict: "EA",
			scope: {},
			link: function(e, t) {
				t.on("click.pageEffect",
				function() {
					return e.$apply(function() {
						return e.changeEffect()
					})
				}),
				e.$on("pageEffect.edit",
				function() {
					return e.changeEffect()
				}),
				e.$on("pageEffect.delete",
				function() {
					return e.removeEffect()
				})
			},
			controller: ["$scope", "effectModal", "sceneService",
			function(e, t, n) {
				"ngInject";
				e.changeEffect = function() {
					var e = n.getCurrentPage(),
					i = e.pageJson.properties.effect;
					t.open(i).then(function(t) {
						if (t && "q" == t.type) {
							t = e.addGravityJson(t);
							var n = e.initEqxGravityByJson(t);
							n && (e.renderGravity(n), e.reEffectJson({
								name: "gravity"
							}))
						} else e.reEffectJson(t),
						e.deleteGravity()
					})
				},
				e.removeEffect = function() {
					var e = n.getCurrentPage();
					e.deleteGravity(),
					e.reEffectJson(null)
				}
			}]
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.loading", []).factory("psdLoadingService", n(767)).directive("eqxLoading", n(768)).directive("eqxPsdLoading", n(771)).name
},
function(e, t) {
	"use strict";
	function n() {
		function e(e) {
			s.total = e
		}
		function t() {
			return s.total
		}
		function n(e) {
			s.current = e
		}
		function i() {
			return s.current
		}
		function o(e) {
			s.showPsdLoading = e
		}
		function a() {
			return s.showPsdLoading
		}
		function r() {
			return s
		}
		var s = {
			total: 0,
			current: 0,
			showPsdLoading: !1
		};
		return {
			setTotal: e,
			getTotal: t,
			setCurrent: n,
			getCurrent: i,
			setShowLoading: o,
			getShowLoading: a,
			getLoadingInfo: r
		}
	}
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(770)
		}
	}
	n(769),
	e.exports = i
},
function(e, t) {},
function(e, t) {
	e.exports = "<div id=loading><div class=loading-con><img src=\"data:image/svg+xml,%3C!-- By Sam Herbert %28@sherb%29, for everyone. More @ http://goo.gl/7AJzbL --%3E%3Csvg width='44' height='44' viewBox='0 0 44 44' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='0s' dur='1.8s' values='1; 20' calcMode='spline' keyTimes='0; 1' keySplines='0.165, 0.84, 0.44, 1' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='0s' dur='1.8s' values='1; 0' calcMode='spline' keyTimes='0; 1' keySplines='0.3, 0.61, 0.355, 1' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='1'%3E%3Canimate attributeName='r' begin='-0.9s' dur='1.8s' values='1; 20' calcMode='spline' keyTimes='0; 1' keySplines='0.165, 0.84, 0.44, 1' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='-0.9s' dur='1.8s' values='1; 0' calcMode='spline' keyTimes='0; 1' keySplines='0.3, 0.61, 0.355, 1' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\"><p>加载中，请稍后</p></div><div class=loading-bg></div></div>"
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			restrict: "E",
			template: n(772),
			scope: {},
			link: function(t) {
				t.loadInfo = e.getLoadingInfo()
			}
		}
	}
	i.$inject = ["psdLoadingService"],
	n(769),
	e.exports = i
},
function(e, t, n) {
	e.exports = "<div id=psdLoading ng-show=loadInfo.showPsdLoading><div class=loading-con><img src=" + n(773) + "><div id=psdUploadStatus>{{loadInfo.current}} / {{loadInfo.total}}</div><p>上传中，请稍后</p></div><div class=loading-bg></div></div>"
},
function(e, t, n) {
	e.exports = n.p + "images/puff-27e2ef.svg"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("scene.setting", [n(775), n(789), n(793), n(798)]).factory("sceneSettingService", n(804)).directive("eqxSceneSettingTrigger", n(805)).directive("eqxSceneSetting", n(806)).name
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("sceneSetting.form", []).factory("shareModalFactory", n(776)).directive("eqdAdvancedSetting", n(779)).directive("eqdCommonSetting", n(783)).directive("eqdShareSetting", n(786)).name
},
function(e, t, n) {
	"use strict";
	function i(e) {
		"ngInject";
		return {
			open: function(t) {
				return e.open({
					windowClass: "console version_frame",
					template: o,
					controller: a,
					resolve: {
						modalInfo: function() {
							return t
						}
					}
				}).result
			}
		}
	}
	i.$inject = ["$modal"];
	var o = n(777),
	a = n(778);
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="modal-header no-line"><button type=button class=close data-dismiss=modal aria-label=Close ng-click=cancel()><span aria-hidden=true>×</span></button><h4 class=modal-title>设置{{title}}显示内容</h4></div><div class="dialog-contain counter"><div class=weChatShare><div class=subContent><div><div class=radio-square ng-class="{checked:style.type===\'myself\'}"><em></em> <input class=span2 name=link ng-model=style.type type=radio value=myself></div><span>我是XX，</span></div><input placeholder=这是我用易企秀制作的场景，你也来试试吧。 ng-model=style.myselfContent ng-disabled="style.type !==\'myself\'" check-count=50> <span class=optionSpan>{{(style.myselfContent ? countCharacters(style.myselfContent.trim()):0)}}/50</span></div><div class=subContent><div><div class=radio-square ng-class="{checked:style.type===\'position\'}"><em></em> <input class=span2 name=link ng-model=style.type type=radio value=position></div><span>我是第X位</span></div><input placeholder=分享的人，你也一起来吧！ ng-disabled="style.type !==\'position\'" ng-model=style.positionContent check-count=50> <span class=optionSpan>{{(style.positionContent?countCharacters(style.positionContent.trim()):0)}}/50</span></div><div class=subContent><div><div class=radio-square ng-class="{checked:style.type===\'selfAndPosition\'}"><em></em> <input class=span2 name=link ng-model=style.type type=radio value=selfAndPosition></div><span>我是XX, 我是第X位</span></div><input placeholder=分享的人，你也一起来吧！ ng-disabled="style.type !==\'selfAndPosition\'" ng-model=style.selfAndPositionContent check-count=50> <span class=optionSpan>{{(style.selfAndPositionContent?countCharacters(style.selfAndPositionContent.trim()):0)}}/50</span></div></div></div><div class="modal-footer no-line"><a class=modal-cancle ng-click=cancel()>取消</a> <a class="btn btn-primary" ng-click=confirm()>确定</a></div>'
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e = angular.merge(e, t),
		e.confirm = function() {
			var t = e.style.type;
			e.$close({
				type: t,
				description: e.style[t + "Content"]
			})
		},
		e.cancel = function() {
			e.$dismiss()
		},
		e.countCharacters = function(e) {
			var t = 0;
			if (!e) return 0;
			for (var n = 0; n < e.length; n++) {
				var i = e.charCodeAt(n);
				i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? t++:t += 2
			}
			return t
		}
	}
	n.$inject = ["$scope", "modalInfo"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(780),
			scope: {
				displayWx: "=",
				displayLoading: "=",
				eqxScene: "=",
				yqc: "="
			},
			controller: n(782)
		}
	}
	e.exports = i
},
function(e, t, n) {
	e.exports = '<div class="basic-setting clearfix"><h6 class="des mt20">加载设置</h6><div class="setting-line mr20" style="border-bottom:1px solid #ccd5db;height:56px;margin-top:20px"><div class="form-col2 border" ng-class="{checked: !loadingLogo,uncheckedbg: loadingLogo}"><div class=checkbox-square ng-click="changeLogo(); setLoadingLogoPrice()" ng-class="{checked: loadingLogo}"><em class=eqf-yes2></em> <input type=checkbox></div><em>自定义加载logo</em></div><div class="setting-logo border" ng-if=loadingLogo ng-click=uploadLoadingLogo()><div class=load-logo-contain><img ng-if=!meta.loadingLogo src=' + n(781) + '> <img ng-if=meta.loadingLogo ng-src="{{FILE + meta.loadingLogo}}"></div><span class=des>设置加载logo</span></div><div class=logo-tip ng-if=loadingLogo style=position:absolute;right:180px>118*118px</div><div class=logo-tip style=position:absolute;right:80px><span ng-show="memberObj.loadingLogo < 1">需<span style=color:#ff5448>{{logoPrice}}</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins> </a></span><span ng-show="memberObj.loadingLogo >= 1">免费<span style=color:#ff5448>{{memberObj.loadingLogo}}</span>次</span></div></div><h6 class="des mt20">尾页与底标 <a ng-if="user.type == 1" ng-click=freeCheck() style=padding-left:10px;color:#a3afb7><ins>免费</ins></a></h6><table class=bottom-table><tr ng-click=switchToAdState(1);setPagePrice(0);firstLastPageBottomLogo(); ng-class="{uncheckedbg:(meta.property.eqAdType == 1)}"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType==1)}"><em></em></div><em>技术支持尾页</em></td><td class=price>免费</td></tr><tr ng-click="switchToAdState(2); setPagePrice(user.type!=1?0:15)" ng-class="{uncheckedbg:(meta.property.eqAdType == 2)}" ng-show="user.type!=5 && user.type!=51"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType == 2)}"><em></em></div><em>技术支持底标</em></td><td class=price ng-if="user.type==1">需<span style=color:#ff5448>15</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.type!=1">免费</td></tr><tr ng-click="switchToAdState(3,{id: bottomPageTpls[0].id, name: bottomPageTpls[0].name, url: bottomPageTpls[0].url});setPagePrice(user.type!=1?0:30);firstLastPageBottomLogo()" ng-class="{uncheckedbg:(meta.property.eqAdType == 3)}"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType == 3)}"><em></em></div><em>品牌联合底标</em></td><td class=price ng-if="user.type == 1">需<span style=color:#ff5448>30</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-if="user.type != 1">免费</td></tr><tr ng-click=switchToAdState(0);setPagePrice(memberPrice) ng-class="{uncheckedbg:(meta.property.eqAdType==0)}" ng-show="user.type!=5 && user.type!=51"><td class=choise><div class=radio-square ng-class="{checked: (meta.property.eqAdType == 0)}"><em></em></div><em>无尾页和底标</em></td><td class=price ng-show="memberObj.tailPage < 1">需<span style=color:#ff5448>{{memberPrice}}</span>秀点 <a ng-if=sceneBuyXd ng-click=buyXd() style=color:#a3afb7;padding-left:10px><ins>充值</ins></a></td><td class=price ng-show="memberObj.tailPage >= 1">免费<span style=color:#ff5448>{{memberObj.tailPage}}</span>次</td></tr></table><div class=setting-line ng-show="meta.property.eqAdType == 3"><div class=setting-logo style=margin-left:0><input type=text class=form-control ng-model=meta.property.bottomLabel.name ng-model-options="{debounce: 1000}" ng-change="switchToAdState(3, {name:meta.property.bottomLabel.name})" id=changeMessage placeholder=名称 /></div><div class=setting-logo style=width:450px><input type=text class=form-control ng-model=meta.property.bottomLabel.url ng-model-options="{debounce: 1000}" ng-change="switchToAdState(3, {url:meta.property.bottomLabel.url})" id=linkAddress placeholder=http://eqxiu.com /></div></div><div class=last-page-contain ng-if=showTechSupportPages()><div eqd-scroll style=height:100% disable-mouse=true prevent-exception=true><ul><li class=last-cover-img style="text-align:center;border-radius:4px;border:1px solid #ccd5db" ng-click="switchToAdState(1, {id:null})"><span class="lp-list default-last-page" style=line-height:152px ng-class="{checked: !meta.property.lastPageId}">默认</span><div class=checkbox-square ng-class={checked:!meta.property.lastPageId}><em class=eqf-yes2></em></div></li><li class=last-cover-img ng-repeat="pageTpl in pageTpls" ng-click="switchToAdState(1, {id:pageTpl.id})"><img ng-src="{{FILE + pageTpl.properties.thumbSrc}}" src=' + n(781) + ' load-err><div class=checkbox-square ng-class="{checked:meta.property.lastPageId == pageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div><div class=last-page-contain ng-if="meta.property.eqAdType == 3"><div eqd-scroll style=height:100%><ul><li ng-repeat="bottomPageTpl in bottomPageTpls" ng-click="switchToAdState(3, {id:bottomPageTpl.id})"><img src=' + n(781) + '> <img class=bottom-img ng-src="{{FILE + bottomPageTpl.properties.thumbSrc}}"/><div class=checkbox-square ng-class="{checked: meta.property.eqAdType == 3 && meta.property.bottomLabel.id == bottomPageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div></div>'
},
function(e, t, n) {
	e.exports = n.p + "images/pic-80bac5.svg"
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c) {
		"ngInject";
		e.FILE = n.FILE;
		var l = e.eqxScene,
		p = e.meta = l.sceneJson.meta,
		d = p.loadingLogo || p.property.loadingLogo;
		e.loadingLogo = p.loadingLogo;
		var u = p.property.adSpend || 0,
		g = 0,
		m = 0,
		f = i.lastPageInfo,
		h = e.user = i.user,
		v = null;
		e.buyXd = i.buyXd,
		e.logoPrice = 100,
		e.memberPrice = 100,
		21 === h.type && h.extPermi.indexOf(",1401,") >= 0 || (e.sceneBuyXd = !0),
		i.pageTpls().then(function(t) {
			t.data.list && t.data.list.length > 0 ? e.pageTpls = t.data.list: e.pageTpls = []
		}),
		i.bottomPageTpls().then(function(t) {
			t.data.list && t.data.list.length > 0 ? e.bottomPageTpls = t.data.list: e.bottomPageTpls = []
		}).then(function() { ! e.meta.property.bottomLabel && s.permission("corandingBottomLogo") && r.getCompanyInfo().then(function(e) {
				v = e.data.obj
			})
		}).then(function() {
			return r.getUserMemberDetail(h.id)
		}).then(function(t) {
			e.memberObj = t.data.obj,
			e.memberObj.loadingLogo && (e.memberObj.loadingLogo = parseFloat(e.memberObj.loadingLogo)),
			e.memberObj.tailPage && (e.memberObj.tailPage = parseFloat(e.memberObj.tailPage));
			var n = e.memberObj.loadingLogo,
			i = e.memberObj.tailPage;
			n ? e.logoPrice = /^\d+$/.test(n) ? 0 : e.logoPrice * n: e.logoPrice = 1 * e.logoPrice,
			i ? e.memberPrice = /^\d+$/.test(i) ? 0 : e.memberPrice * i: e.memberPrice = 1 * e.memberPrice,
			s.permission("corandingBottomLogo") && c.sceneSetting.unSLPBL && (e.meta.property.bottomLabel || (e.meta.property.bottomLabel = {},
			e.meta.property.bottomLabel.name = v.name, e.meta.property.bottomLabel.url = v.website), e.meta.property.bottomLabel && e.meta.property.bottomLabel.id ? e.switchToAdState(3, {
				id: e.meta.property.bottomLabel.id,
				name: e.meta.property.bottomLabel.name,
				url: e.meta.property.bottomLabel.url
			}) : e.switchToAdState(3, {
				id: e.bottomPageTpls[0].id,
				name: e.bottomPageTpls[0].name,
				url: e.bottomPageTpls[0].url
			})),
			c.sceneSetting.flagEqAdType && (0 != p.property.eqAdType && (e.switchToAdState(0), e.setPagePrice(e.memberPrice)), c.sceneSetting.flagEqAdType = !1)
		}),
		e.changeLogo = function() {
			e.freeCheck() && (e.loadingLogo = !e.loadingLogo, e.displayLoading = e.loadingLogo, e.loadingLogo || delete p.loadingLogo)
		},
		e.freeCheck = function() {
			return ! s.permission("loadingLogo") || (o.openConfirmDialog({
				msg: "企业账号功能，是否免费升级？",
				confirmName: "立即升级",
				cancelName: "我知道了"
			}).then(function() {
				window.open(n.HOST + "site/privilege")
			}), !1)
		},
		e.uploadLoadingLogo = function() {
			t.getImage().then(function(t) {
				p.loadingLogo = t.path,
				e.displayLoading || (e.displayLoading = !0)
			})
		},
		e.switchToAdState = function(t, n) {
			return 1 != t && p.property.activityPageId ? (o.openMsgDialog({
				msg: "该场景已参加活动, 不可以清除易企秀尾页。"
			}), !1) : 3 == t && n.name && n.name.length > 16 ? (o.openMsgDialog({
				msg: "品牌联合底标名称不能超过16个字符"
			}), !1) : (e.displayLoading && (e.displayLoading = !1), void((p.property.eqAdType != t || n) && (f[p.property.eqAdType].dele(l), p.property.eqAdType = t, f[p.property.eqAdType].add(l, n).then(function() {
				if (l.pageScroll.currentPage.pageJson.num != l.sceneJson.list.length) l.pageScroll.goToLastPage();
				else {
					var e = l.eqxPageList.slice( - 1)[0];
					l.pageScroll.currentPage = e,
					e.active().then(function() {
						return e.deactive().show()
					})
				}
			}))))
		},
		e.showTechSupportPages = function() {
			return 1 == p.property.eqAdType && !e.yqc.isAd
		},
		e.firstLastPageBottomLogo = function() {
			c.sceneSetting.unSLPBL = !1
		},
		e.setPagePrice = function(e) {
			m = e - u,
			m = m > 0 ? m: 0,
			i.setTheDelta(m + g)
		},
		e.setLoadingLogoPrice = function() {
			d || (g = e.loadingLogo ? e.logoPrice: 0, i.setTheDelta(m + g))
		}
	}
	n.$inject = ["$scope", "imageModalFactory", "HOST", "sceneSettingService", "modalService", "sceneAPI", "userAPI", "authorityService", "flagService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(784),
			scope: {
				displayWx: "=",
				eqxScene: "="
			},
			controller: n(785)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="basic-setting clearfix"><div class="content clearfix"><div class="basic-info clearfix"><div class=left><div class=cover-img><a ng-click=changeCover();><img ng-src="{{FILE + meta.cover}}"/> <em>更换封面</em></a></div></div><div class=right><div class="setting-group setting-name"><em style=margin-bottom:5px>标题</em><div class=setting-value><input name=name type=text class="form-control name" ng-class={redborder:(!meta.name)} id=name placeholder=场景名称 eqx-str ng-change=maxName() ng-model=meta.name ng-focus=showWx() ng-blur=hideWx() stop-propagation> <span class=input-tip>{{meta.name | validCharacterNum}}/48</span></div></div><div class="setting-group setting-description"><em style=line-height:48px>描述</em><div class=setting-value><textarea style=font-size:12px placeholder=我用易企秀做了一个超酷炫的H5，快来看看吧。 ng-model=meta.description class="description form-control" ng-change=maxDescription() rows=2 id=description name=description ng-focus=showWx() ng-blur=hideWx() stop-propagation>\n                            </textarea><span class=text-tip>{{meta.description | validCharacterNum}}/60</span></div></div></div></div><div class="setting-group setting-flip" ng-click=hideWx()><h6 class="des mt20">场景类型</h6><div class=setting-line><div class="scene-type-contain select-up-show border"><eqx-select class="select-great select-contain" change=onSceneTypeChange() model=meta.type><eqx-select-option value=type.value ng-repeat="type in SCENE_TYPES">{{type.name}}</eqx-select-option></eqx-select></div></div><h6 class="des mt20">翻页方式</h6><div class=setting-line ng-click=hideWx()><div class="scene-type-contain select-up-show border"><eqx-select class="select-great select-contain" change=onPageModeChange() model=meta.pageMode><eqx-select-option value=pageMode.type ng-repeat="pageMode in PAGE_MODES">{{pageMode.name}}</eqx-select-option></eqx-select></div><div class="music-cycle border" ng-class="{checkedbg: ! property.triggerLoop}"><div class=checkbox-square ng-class="{checked: property.triggerLoop}"><em class=eqf-yes2></em> <input type=checkbox id=triggerLoop ng-change=onLoopChange() ng-model=property.triggerLoop name=iCheck /></div><label for=triggerLoop>循环播放</label></div><div class="music-cycle border" ng-class="{checkedbg: !property.autoFlip}"><div class=checkbox-square ng-class="{checked: property.autoFlip}"><em class=eqf-yes2></em> <input type=checkbox ng-change=onAutoFlipChange() ng-model=property.autoFlip></div><em>自动播放</em></div><div class=flip-num style=width:120px ng-if=!!property.autoFlip><input type=number ng-change=onAutoFlipTimeChange() class=form-control limit-input min=1 step=0.1 max=60 ng-model=property.autoFlipTime stop-propagation/> <span class=speed>秒</span></div></div><div class=setting-line ng-show=isHandFlip><div class="music-cycle border" style=margin-left:0;width:178px ng-class="{checkedbg: !property.forbidHandFlip}"><div class=checkbox-square ng-class="{checked: property.forbidHandFlip}"><em class=eqf-yes2></em> <input type=checkbox ng-change=onHandFlipChange() ng-model=property.forbidHandFlip name=iCheck></div><em>禁止滑动进入下一页</em></div></div><div><h6 class=des style=float:left>场景音乐</h6><h6 class="des mt20" style=margin-left:200px>场景页码</h6></div><div class=setting-line style=margin-bottom:50px><div class=scene-music style=position:relative><span class="form-control bg-music ellipsis" style=padding-top:9px ng-click=changeBGM()>{{(!!meta.bgAudio) ? (meta.bgAudio.name ? meta.bgAudio.name : (\'已添加\')) : (\'场景音乐\')}} </span><span class="eqf-top-music music-icon" ng-click=changeBGM()></span></div><div class="music-cycle border" ng-class="{checkedbg: !property.slideNumber,uncheckedbg:property.slideNumber}"><div class=checkbox-square ng-class="{checked: property.slideNumber}"><em class=eqf-yes2></em> <input type=checkbox ng-change=toggleProgressBar() ng-model=property.slideNumber></div><em>显示</em></div></div></div></div></div>';
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s) {
		"ngInject";
		function c(e) {
			var t = arguments.length <= 1 || void 0 === arguments[1] ? 24 : arguments[1],
			n = 2 * t,
			i = e.replace(/\n|\r/g, " ");
			i = i.replace(/[^\x00-\xff]/g, "xx");
			var o = i.substring(0, n).replace(/xx/g, "中").length;
			return i = e.substring(0, o)
		}
		e.FILE = s.FILE;
		var l = e.meta = e.eqxScene.sceneJson.meta,
		p = e.property = l.property,
		d = e.eqxScene;
		l.type = l.type || 101,
		e.SCENE_TYPES = a;
		var u = o.permission("pageScroll");
		e.PAGE_MODES = r,
		u && (e.PAGE_MODES = e.PAGE_MODES.filter(function(e) {
			return [11, 12].indexOf(e.type) === -1
		})),
		e.isHandFlip = i.isPassOrPage(),
		e.maxDescription = function() {
			l.description && (l.description = c(l.description, 30))
		},
		e.maxName = function() {
			l.name && (l.name = c(l.name, 24))
		},
		e.changeCover = function() {
			e.showWx(),
			t.getSquareImage().then(function(e) {
				l.cover = e
			})
		},
		e.changeBGM = function() {
			var e = l.bgAudio,
			t = 2;
			n.open(e, t).then(function(e) {
				var t = e.name,
				n = e.path,
				i = e.id;
				i ? d.updateBgm({
					url: n,
					name: t,
					id: i
				}) : d.updateBgm(null)
			})
		},
		e.onSceneTypeChange = function() {
			e.hideWx()
		},
		e.onPageModeChange = function() {
			e.hideWx(),
			d.changePageMode(l.pageMode),
			d.pageScroll.setScrollMode(l.pageMode)
		},
		e.onLoopChange = function() {
			d.pageScroll.setLoop(p.triggerLoop)
		},
		e.onAutoFlipChange = function() {
			d.pageScroll.setAutoFlip( !! p.autoFlip),
			d.pageScroll.startAutoFlip()
		},
		e.onAutoFlipTimeChange = function() {
			d.pageScroll.setAutoFlipTime(p.autoFlipTime),
			d.pageScroll.startAutoFlip()
		},
		e.onHandFlipChange = function() {
			d.pageScroll.setHandleFlip(p.forbidHandFlip)
		},
		e.toggleProgressBar = function() {
			var e = d.progressBar;
			return p.slideNumber ? e.show() : void e.hide()
		},
		e.showWx = function() {
			e.displayWx = !0
		},
		e.hideWx = function() {
			e.displayWx = !1
		}
	}
	n.$inject = ["$scope", "imageModalFactory", "musicModal", "sceneSettingService", "authorityService", "SCENE_TYPES", "PAGE_MODES", "HOST"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "E",
			template: n(787),
			scope: {
				sceneStatue: "=",
				displayWx: "=",
				eqxScene: "=",
				yqc: "="
			},
			controller: n(788)
		}
	}
	e.exports = i
},
function(e, t) {
	e.exports = '<div class="basic-setting clearfix"><div class="content clearfix"><h6 class="des mt20">场景访问状态</h6><div class="setting-group setting-flip"><div class=setting-line ng-show=!disableVisitStatus><div class="scene-type-contain border"><eqx-select class="select-great select-contain" change=changeSceneStatue() model=sceneStatue><eqx-select-option value=1>允许访问</eqx-select-option><eqx-select-option value=2>不允许访问</eqx-select-option><eqx-select-option value=3 ng-if="meta.applyTemplate!=2">加密访问</eqx-select-option></eqx-select></div><div class=flip-num ng-if="sceneStatue == 3"><input type=text maxlength=4 class="form-control password" id=accessCode placeholder=请设置4位数字的密码 ng-model=meta.accessCode maxlength=4 ng-disabled="meta.applyTemplate == \'1\' || meta.isShow == \'1\' || meta.promIds"></div></div><h6 ng-show=disableVisitStatus class="des mt20" style=color:#ff6e6e>当前场景无法设置访问状态</h6><h6 class="des mt20">微信分享时显示</h6><div class="setting-line mb20" style=height:100px;display:inline-block><div class=wechatShareShow><span class=title>标题显示内容</span> <a class="btn green" ng-click=addShareTitle() ng-show=!titleContent>添加</a> <input name=name type=text ng-model=titleContent ng-show=titleContent ng-disabled=true> <a class="btn blue" ng-click=addShareTitle() ng-show=titleContent>修改</a> <a class="btn out-red" ng-show=titleContent ng-click=clearTitleShare()>删除</a></div><div class=wechatShareShow><span class=title>描述显示内容</span> <a class="btn green" ng-click=addShareDescription() ng-show=!descContent>添加</a> <input name=name type=text ng-model=descContent ng-show=descContent ng-disabled=true> <a class="btn blue" ng-click=addShareDescription() ng-show=descContent>修改</a> <a class="btn out-red" ng-show=descContent ng-click=clearDescShare()>删除</a></div><div class=form-col2 style=width:200px;padding-top:0;padding-left:0><div class=checkbox-square ng-class="{checked: shareDes.avatar}"><em class=eqf-yes2></em> <input type=checkbox class=option ng-model=shareDes.avatar></div><em>将场景封面替换为微信头像</em></div></div><h6 class="des mt20">易企秀分享</h6><div class=setting-line ng-if="addAdType === \'common\'"><div class="form-col2 border hint--right hint--rounded" data-hint={{applyEarnMoneyTips}} big-data-event categorytwoid=12 categorytwo=设置 categorythree=分享设置 categorythreeid=2 actiontype=4 itemmaps=\'{"button": "{{dataStatisticsButton}}"}\' ng-click=earnMoney();dataStatistics()><div class=checkbox-square ng-class="{checked: yqc.isAd}"><em class=eqf-yes2></em> <input type=checkbox class=option ng-model=yqc.isAd ng-disabled=disableEarnMoney()></div><em>分享流量(加H5广告赚钱)</em></div><a class=logo-tip target=_blank href=http://h5.eqxiu.com/s/5QCEa1KQ style=text-decoration:underline;position:absolute;right:20px>了解详情</a></div><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{meta.publishTime?\'申请加入秀场\':\'发布后才能申请\'}}" ng-class="{checkedbg: meta.isShow!=1,uncheckedbg:meta.isShow==1}"><div class=checkbox-square ng-class="{checked: meta.isShow==1}"><em class=eqf-yes2></em> <input id=eqShowGround type=checkbox class=option ng-true-value=1 ng-false-value=0 ng-model=meta.isShow ng-disabled="sceneStatue==2 || sceneStatue==3 || !meta.publishTime || meta.status == -1 && meta.status == -2"></div><em>申请加入秀场</em></div><div class="scene-type-contain border ml20" ng-if="meta.isShow==1"><eqx-select class="select-great select-contain" model=meta.tagId><eqx-select-option value=null>选择类型</eqx-select-option><eqx-select-option value=sceneTag.id ng-if="sceneTag.bizType == meta.type" ng-repeat="sceneTag in sceneTags">{{sceneTag.name}}</eqx-select-option></eqx-select></div><a class=logo-tip target=_blank href={{HOST.host}}/site/show style=text-decoration:underline;position:absolute;right:20px>访问秀场</a></div><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{meta.publishTime ? applyTplTips:\'发布后才能申请\'}}" ng-class="{checkedbg: meta.applyTemplate==0,uncheckedbg:meta.applyTemplate==1}"><div class=checkbox-square ng-class="{checked: meta.applyTemplate==1 || meta.applyTemplate==2}"><em class=eqf-yes2></em> <input type=checkbox class=option checked=checked disabled=disabled ng-if="meta.applyTemplate == 2"/> <input id=eqTemplate type=checkbox class=option ng-true-value=1 ng-false-value=0 ng-model=meta.applyTemplate ng-if="meta.applyTemplate != 2 && meta.publishTime" ng-disabled="(sceneStatue==3 || sceneStatue==2 || meta.status == -1 && meta.status == -2)\n                                || isXB() || yqc.isAd || oldMeta.applyTemplate == 1 || oldMeta.applyTemplate == 2"> <input type=checkbox ng-disabled=true title="" ng-if=!meta.publishTime></div><em ng-hide=accessShareApplyPCTempEntrance>申请为电脑端样例</em> <em ng-hide=!accessShareApplyPCTempEntrance>申请为移动端样例</em></div><div class="scene-type-contain border ml20" ng-if="(meta.applyTemplate == 1 || meta.applyTemplate == 2) && meta.price != -1 && !accessShareApplyPCTempEntrance && !accessShareApplyPCTempNormal"><eqx-select class="select-great select-contain" model=meta.price><eqx-select-option value=null>设置样例价格</eqx-select-option><eqx-select-option value=price.value ng-repeat="price in tplPrices">{{price.name}}</eqx-select-option></eqx-select></div><div class="scene-type-contain border ml20" ng-if="(meta.applyTemplate == 1 || meta.applyTemplate == 2) && meta.price != -1 && accessShareApplyPCTempEntrance"><eqx-select class="select-great select-contain" model=meta.price><eqx-select-option value=null>设置样例价格</eqx-select-option><eqx-select-option value=price.value ng-repeat="price in tplAppPrices">{{price.name}}</eqx-select-option></eqx-select></div><span class=option-tips ng-switch=meta.applyTemplate><span ng-switch-default>未申请</span> <span class=eqf-clock-o ng-switch-when=1>申请中</span> <span class=eqf-fobden2 ng-switch-when=2>审核通过</span> <span class=eqf-glyphicon-ban ng-switch-when=-1>审核未通过</span> </span><a class=logo-tip target=_blank ng-hide=accessShareApplyPCTempEntrance href=http://sales.eqxiu.com/pcgf.html style=text-decoration:underline;position:absolute;right:20px ng-if=!shortcut>了解详情 </a><a class=logo-tip target=_blank ng-hide=!accessShareApplyPCTempEntrance href=http://sales.eqxiu.com/appgf.html style=text-decoration:underline;position:absolute;right:20px ng-if=!shortcut>了解详情 </a><a class=logo-tip target=_blank href=http://h5.eqxiu.com/s/iQKINH7y style=text-decoration:underline;position:absolute;right:20px ng-if=shortcut>快速审核通道</a></div><div class=setting-line ng-hide="accessShareApplyPCTempEntrance || accessShareApplyAppTempEntrance"><a class=logo-tip target=_blank ng-click=applyAppTemplate() style=text-decoration:underline;position:absolute;right:20px>申请移动端样例</a></div><div class=setting-line ng-if=visibleCompanyTpl()><div class="form-col2 border hint--right hint--rounded" data-hint={{applyCompanyTplTips}} ng-class="{checkedbg: meta.isTpl==0,uncheckedbg:meta.isTpl==3}"><div class=checkbox-square ng-class="{checked: meta.isTpl==3}"><em class=eqf-yes2></em> <input id=eqEnterpriseTemplate type=checkbox class=option ng-true-value=3 ng-false-value=0 ng-model=meta.isTpl ng-disabled=disableCompanyTpl()></div><em>设为企业样例</em></div></div><div class=setting-line><div class="form-col2 border hint--right hint--rounded" data-hint="{{meta.property.eqAdType != 1 ? \'该场景已选择清除易企秀尾页，不可以参加活动；请复制该场景展示后，再次选择参与活动\' : \'参加活动\'}}" ng-class="{checkedbg: !activityStatus,uncheckedbg:activityStatus}"><div class=checkbox-square ng-class="{checked: activityStatus}"><em class=eqf-yes2></em> <input type=checkbox class=optiong ng-change=changeActivityStatus() ng-model=activityStatus ng-disabled="sceneStatue==2 || sceneStatue==3 || meta.status == -1 && meta.status == -2 || oldActivityStatus || meta.property.eqAdType != 1"></div><em>参加活动</em></div><div class="scene-type-contain border ml20" ng-if=activityStatus><eqx-select class="select-great select-contain" change=getActivityPageTpl(meta.promIds) model=meta.promIds><eqx-select-option value=null>选择活动</eqx-select-option><eqx-select-option value=activity.id ng-repeat="activity in activities">{{activity.title}}</eqx-select-option></eqx-select></div><a class=logo-tip style=position:absolute;right:150px ng-if="activityObj.promStatus == -1">审核未通过</a> <a class=logo-tip style=position:absolute;right:150px ng-if="activityObj.promStatus == 0">审核中</a> <a class=logo-tip style=position:absolute;right:150px ng-if="activityObj.promStatus == 1">审核通过</a> <a class=logo-tip style=text-decoration:underline;position:absolute;right:20px ng-href="{{meta.promIds ? HOST.HOST + \'site/show/active/\' + meta.promIds : HOST.HOST + \'site/show/active\'}}">查看详情</a></div><div class=last-page-contain ng-if=activityStatus><div eqd-scroll style=height:100%><ul><li class=last-cover-img ng-repeat="pageTpl in activityPageTpls" ng-click=chooseActivityPageTpl(pageTpl.id)><img class=lp-list ng-src="{{FILE + pageTpl.properties.thumbSrc}}"/><div class=checkbox-square ng-class="{checked: meta.property.activityPageId == pageTpl.id}"><em class=eqf-yes2></em></div></li></ul></div></div></div><div ng-class={showin:showActivityTip} style=top:100px;left:250px class=showxiu ng-init="hideActivityTip = true;"><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close ng-click="showActivityTip=false;"><span aria-hidden=true>×</span></button><h4 class=modal-title>参加活动</h4></div><div class=modal-body><p style=line-height:30px>参加活动并保存场景后，不可取消或选择其他活动</p></div><div class=modal-footer><input type=checkbox style=margin-top:0;margin-right:5px ng-model=hideActivityTip><span style=margin-right:10px>不再提示</span> <a type=button class="btn btn-primary" ng-click=closeActivityTip()>确定</a></div></div></div></div>'
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c, l, p, d) {
		"ngInject";
		function u() {
			h = e.eqxScene,
			v = e.meta = h.sceneJson.meta,
			e.oldMeta = angular.copy(v),
			v.accessCode ? (e.sceneStatue = 3, x = g()) : e.sceneStatue = v.status,
			e.sceneStatue !== -1 && e.sceneStatue !== -2 || (e.disableVisitStatus = !0),
			e.shareDes = v.property.shareDes = angular.merge({
				title: {
					type: null,
					description: null
				},
				description: {
					type: null,
					description: null
				},
				avatar: !1
			},
			v.property.shareDes),
			y = e.shareDes,
			b = {
				title: "",
				style: {
					type: "myself",
					myselfContent: "这是我用易企秀制作的场景，你也来试试吧。",
					positionContent: "分享的人，你也一起来吧！",
					selfAndPositionContent: "分享的人，你也一起来吧！"
				}
			},
			e.yqc.isAd && (e.applyTplTips = "您已勾选“分享流量”，请取消勾选此项，再申请为样例"),
			e.titleContent = m(y.title),
			e.descContent = m(y.description),
			a.setActivityStatus( !! v.promIds),
			e.activityStatus = a.getActivityStatus(),
			e.oldActivityStatus = e.activityStatus
		}
		function g() {
			var e = new EqxCore.Guess(v.cover, h.$ele);
			return e.requestSceneDataWithPassword = function(t) {
				v.accessCode == t ? e.clearGuess() : e.warnGuess()
			},
			e
		}
		function m(e) {
			var t = "";
			if (e.type) switch (e.type) {
			case "myself":
				t = "我是XX， " + e.description;
				break;
			case "position":
				t = "我是第X位" + e.description;
				break;
			case "selfAndPosition":
				t = "我是XX， 我是第X位" + e.description
			}
			return t
		}
		function f() {
			if (h.pageScroll.currentPage.pageJson.num != h.eqxPageList.length - 1) h.pageScroll.goToPageByIndex(h.eqxPageList.length - 2);
			else {
				var e = h.eqxPageList[h.eqxPageList.length - 2];
				h.pageScroll.currentPage = e,
				e.active().then(function() {
					return e.deactive().show()
				})
			}
		}
		var h, v, y, b, x = null,
		w = e.user = a.user;
		e.HOST = c,
		e.FILE = c.FILE,
		e.applyTplTips = "",
		e.applyCompanyTplTips = "申请企业样例",
		e.applyEarnMoneyTips = " 作品插广告赚秀点（秀点提现秒变压岁钱）",
		e.accessShareApplyAppTempButton = p.permission("shareApplyAppTempButton"),
		e.accessShareApplyAppTempEntrance = p.permission("shareApplyAppTempEntrance"),
		e.accessShareApplyPCTempEntrance = p.permission("shareApplyPCTempEntrance"),
		e.accessShareApplyPCTempNormal = p.permission("shareApplyPCTempNormal"),
		u(),
		a.sceneTags().then(function(t) {
			e.sceneTags = t.data.list || []
		}),
		e.addAdType || d.getSceneAddAdType(e.eqxScene.sceneJson.meta.id).then(function(t) {
			e.addAdType = t
		}),
		e.accessShareApplyPCTempEntrance ? a.appScenePrice().then(function(t) {
			e.tplAppPrices = t.data.list.map(function(e) {
				return "免费" !== e.name && e.name.indexOf("秀点") === -1 && (e.name += "秀点"),
				e
			})
		}) : a.scenePrices().then(function(t) {
			e.tplPrices = t.data.list.map(function(e) {
				return "免费" !== e.name && e.name.indexOf("秀点") === -1 && (e.name += "秀点"),
				e
			})
		}),
		a.sceneActivities().then(function(t) {
			e.activities = t.data.list || [],
			v.promIds && e.getActivityPageTpl(v.promIds)
		}),
		r.getActivityPromStatus().then(function(t) {
			e.activityObj = t.data.obj
		}),
		e.$watch("meta.applyTemplate",
		function() {
			2 != e.user.type && 4 != e.user.type || 1 != e.meta.applyTemplate ? e.shortcut = !1 : e.shortcut = !0
		}),
		e.visibleCompanyTpl = function() {
			return 2 == e.user.type && e.meta.status != -1 && e.meta.status != -2
		},
		e.disableCompanyTpl = function() {
			return 2 == e.sceneStatue || 3 == e.sceneStatue || e.isXB()
		},
		e.applyAppTemplate = function() {
			if (!v.publishTime || e.applyTplTips) {
				var i = "";
				i = v.publishTime ? e.applyTplTips: "发布后才能申请",
				n.add(i)
			} else o.openConfirmDialog({
				msg: "申请移动端样例时，将复制出一份场景，该场景仅保留移动端支持的功能，确定申请移动端样例吗？",
				confirmName: "确定",
				cancelName: "取消"
			}).then(function() {
				var e = window.open();
				t.$broadcast("savePage",
				function() {
					r.copyScene(v.id).then(function(t) {
						t.success && (e.location = c.HOST + "c/" + t.obj)
					})
				})
			})
		},
		e.disableEarnMoney = function() {
			return 1 == e.meta.applyTemplate || 2 == e.meta.applyTemplate ? e.applyEarnMoneyTips = "您已勾选“申请为样例”，请取消勾选此项，再选择分享流量": e.applyEarnMoneyTips = "作品插广告赚秀点（秀点提现秒变压岁钱）",
			1 == e.meta.applyTemplate || 2 == e.meta.applyTemplate
		},
		e.isXB = function() {
			for (var t, n = h.eqxPageList,
			i = 0; i < n.length; i++) if (n[i].pageJson.properties.xb) {
				t = !0,
				e.applyTplTips = "该场景包含任务模板",
				e.applyCompanyTplTips = "该场景包含任务模板";
				break
			}
			return t
		},
		e.earnMoney = function() {
			e.yqc.isAd ? e.applyTplTips = "您已勾选“分享流量”，请取消勾选此项，再申请为样例": e.applyTplTips = ""
		},
		e.dataStatistics = function() {
			e.yqc.isAd ? e.dataStatisticsButton = "勾选我要赚秀点": e.dataStatisticsButton = "取消我要赚秀点"
		},
		e.addShareTitle = function() {
			if (b.title = "标题", y.title.type) {
				var t = y.title.type;
				b.style.type = t,
				b.style[t + "Content"] = y.title.description
			}
			i.open(b).then(function(t) {
				e.titleContent = m(t),
				y.title = t
			})
		},
		e.addShareDescription = function() {
			if (b.title = "描述", y.description.type) {
				var t = y.description.type;
				b.style.type = t,
				b.style[t + "Content"] = y.description.description
			}
			i.open(b).then(function(t) {
				e.descContent = m(t),
				y.description = t
			})
		},
		e.clearTitleShare = function() {
			e.titleContent = "",
			y.title = {
				type: null,
				description: null
			}
		},
		e.clearDescShare = function() {
			e.descContent = "",
			y.description = {
				type: null,
				description: null
			}
		},
		e.changeSceneStatue = function() {
			if (v.promIds) return 1 !== e.sceneStatue && o.openMsgDialog({
				msg: "该场景已经参与活动，不可以关闭或加密!"
			}),
			void(e.sceneStatue = v.status = 1);
			if (3 === e.sceneStatue) {
				if (!a.isPassOrPage()) return e.sceneStatue = 1,
				void o.openConfirmDialog({
					msg: "付费企业功能，是否升级？",
					confirmName: "立即升级",
					cancelName: "我知道了"
				}).then(function() {
					window.open(c.HOST + "site/privilege")
				});
				v.status = 1,
				x = g()
			} else v.status = e.sceneStatue,
			v.accessCode = "",
			x && (x.clearGuess(), x = null)
		},
		e.changeActivityStatus = function() {
			var t;
			if (e.activityStatus) {
				if (a.setActivityStatus(!0), t = l.getItem("activityStatus"), !t || t.split(",").indexOf(w.id)) return a.setActivityStatus(!1),
				e.activityStatus = a.getActivityStatus(),
				void(e.showActivityTip = !0)
			} else a.setActivityStatus(!1),
			v.promIds = null,
			v.property.activityPageId = null
		},
		e.closeActivityTip = function() {
			a.setActivityStatus(!0),
			e.activityStatus = a.getActivityStatus(),
			e.showActivityTip = !1;
			var t;
			e.hideActivityTip && (t = l.getItem("activityStatus"), t = t ? t + w.id: w.id, l.setItem("activityStatus", t))
		},
		e.getActivityPageTpl = function(t) {
			var n;
			e.activityPageTpls = [],
			angular.forEach(e.activities,
			function(e) {
				if (e.id == t) return void(n = e.sceneId)
			}),
			n && s.getActivityTpls(n).then(function(t) {
				e.activityPageTpls = t.data.list
			})
		},
		e.chooseActivityPageTpl = function(t) {
			if (e.oldActivityStatus) return o.openMsgDialog({
				msg: "该场景已参加活动。"
			}),
			!1;
			var n = v.property.activityPageId;
			n != t && (n ? a.replaceActivityPage(h, t).then(function() {
				f(),
				e.$apply(v.property.activityPageId = t)
			}) : a.addActivityPage(h, t).then(function() {
				f(),
				e.$apply(v.property.activityPageId = t)
			}))
		}
	}
	n.$inject = ["$scope", "$rootScope", "i18nNotifications", "shareModalFactory", "modalService", "sceneSettingService", "sceneAPI", "tplAPI", "HOST", "storageService", "authorityService", "sceneService"],
	e.exports = n
},
function(e, t, n) {
	"use strict";
	n(790),
	e.exports = angular.module("sceneSetting.preview", []).directive("eqdPreviewPhone", ["sceneSettingService",
	function(e) {
		"ngInject";
		return {
			restrict: "E",
			scope: {
				eqxScene: "=",
				displayWx: "="
			},
			replace: !0,
			transclude: !0,
			template: n(792),
			link: function(t, n) {
				t.eqxScene.renderScene(n.find(".nr"));
				var i = e.lastPageInfo,
				o = t.eqxScene.meta,
				a = o.property.eqAdType;
				0 != a && i[a].add(t.eqxScene).then(function() {
					o.promIds && o.property.activityPageId && e.addActivityPage(t.eqxScene, o.property.activityPageId)
				}),
				t.next = function(e) {
					t.displayWx ? t.displayWx = !1 : e ? t.eqxScene.pageScroll.goToNextPage() : t.eqxScene.pageScroll.goToPrePage()
				}
			}
		}
	}]).name
},
function(e, t) {},
,
function(e, t) {
	e.exports = '<div><div class="phone-view nr" id=phoneView ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><div ng-transclude></div></div><div class=phone id=con ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><h4 class=name ng-if="eqxScene.meta.name.length > 0">{{eqxScene.meta.name}}</h4><h4 class=name ng-if="eqxScene.meta.name.length == 0">正在设置的内容用于场景分享时显示</h4></div><div class=ctrl-panel ng-click=$event.stopPropagation() ng-mousedown=$event.stopPropagation()><a class=next-page ng-click=next(true)>下一页</a> <a class=pre-page ng-click=next(false)>上一页</a></div></div>'
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("sceneSetting.wx", []).directive("eqdPreviewWx", n(794)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: n(797),
			scope: {
				display: "=",
				meta: "="
			},
			controller: ["$scope", "HOST",
			function(e, t) {
				"ngInject";
				e.getCover = function() {
					return t.FILE + e.meta.cover
				}
			}]
		}
	}
	n(795),
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div class=wechat-share ng-style=\"{'display': display? 'block': 'none'}\"><div class=scene-title-box><em class=scene-title>{{meta.name}}</em></div><img class=scene-img ng-src={{getCover()}} /> <em class=scene-des>{{meta.description || '我用易企秀做了一个超酷炫的H5，快来看看吧。'}}</em> <em class=scene-talk>我用易企秀做的，你看一看吧</em> <em class=scene-talk2>做的真好！我也去试一试</em></div>"
},
function(e, t, n) {
	"use strict";
	e.exports = angular.module("sceneSetting.loading", []).directive("eqxLoadingLogo", n(799)).name
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			template: o,
			scope: {
				display: "=",
				meta: "="
			},
			controller: a
		}
	}
	n(800);
	var o = n(802),
	a = n(803);
	e.exports = i
},
function(e, t) {},
,
function(e, t) {
	e.exports = "<div class=loading ng-style=\"{'display': display? 'block': 'none'}\"><div class=loadbox><div class=loadlogo ng-style=vm.dispalyLoadlogo></div><div class=loadbg ng-style=vm.displayLoadbg></div></div></div>"
},
function(e, t) {
	"use strict";
	function n(e, t) {
		"ngInject";
		e.vm = {
			get displayLoadbg() {
				return {
					display: e.meta.loadingLogo ? "block": "none",
					background: e.meta.loadingLogo ? "url(" + t.FILE + e.meta.loadingLogo + ")0% 0% / 118px 118px": ""
				}
			},
			get dispalyLoadlogo() {
				return {
					display: e.meta.loadingLogo ? "none": "block"
				}
			}
		}
	}
	n.$inject = ["$scope", "HOST"],
	e.exports = n
},
function(e, t) {
	"use strict";
	function n(e) {
		if (Array.isArray(e)) {
			for (var t = 0,
			n = Array(e.length); t < e.length; t++) n[t] = e[t];
			return n
		}
		return Array.from(e)
	}
	function i(e, t, i, o, a) {
		"ngInject";
		function r(e) {
			S = e
		}
		function s() {
			return S
		}
		function c() {
			return a.buyXd()
		}
		function l() {
			return ! (1 === x.type || (2 === x.type || 21 === x.type) && !x.memberType)
		}
		function p(t, n) {
			return e.getActivityPage(n).then(function(e) {
				t.insertPage(t.eqxPageList.length - 2, e),
				t.renderPage(t.eqxPageList.length - 2)
			})
		}
		function d(t, n) {
			return e.getActivityPage(n).then(function(e) {
				t.replaceEqxPage(t.eqxPageList.length - 2, e),
				t.renderPage(t.eqxPageList.length - 2)
			})
		}
		function u(e) {
			w = e
		}
		function g() {
			return w
		}
		function m() {
			return k || (k = o.getSceneTags()),
			k
		}
		function f() {
			return C || (C = o.getAppScenePrice()),
			C
		}
		function h() {
			return T || (T = "" + i.getCurrentUser().type == "4" ? o.getScenePrices() : o.getSceneLargePrices()),
			T
		}
		function v() {
			return $ || ($ = o.getSceneActivities()),
			$
		}
		function y() {
			return q || (q = o.getPageTpls(1301)),
			q
		}
		function b() {
			return I || (I = o.getPageTpls(1311)),
			I
		}
		var x = i.getCurrentUser(),
		w = 0,
		S = !1,
		k = "",
		C = "",
		T = "",
		$ = "",
		q = "",
		I = "",
		E = 0,
		P = {
			0 : {
				type: "无尾页和底标",
				add: function(e) {
					return t(function(t, n) {
						var i = e.sceneJson.list,
						o = i[i.length - 1];
						e.replaceEqxPage(i.length - 1, o),
						e.renderPage(i.length - 1),
						e.sceneJson.meta.property.hideEqAd = !0,
						t()
					})
				},
				dele: function() {}
			},
			1 : {
				type: "技术支持尾页",
				add: function(n, i) {
					return t(function(t, o) {
						i && (n.sceneJson.meta.property.lastPageId = i.id);
						var a = n.sceneJson.meta.property.lastPageId;
						e.lastPage.getLastPage(a, n.sceneJson).then(function(e) {
							n.insertPage(n.sceneJson.list.length - 1, e),
							n.renderPage(n.sceneJson.list.length - 1),
							n.sceneJson.meta.property.hideEqAd = !1,
							t()
						})
					})
				},
				dele: function(e) {
					e.deletePage(e.sceneJson.list.length - 1)
				}
			},
			2 : {
				type: "技术支持底标",
				add: function(n) {
					return t(function(t, i) {
						var o = n.sceneJson.list,
						a = o[o.length - 1],
						r = e.lastPage.getDefaultBottom(a, n.sceneJson.id, o.length);
						a.elements.push(r),
						n.replaceEqxPage(o.length - 1, a),
						n.renderPage(o.length - 1),
						n.sceneJson.meta.property.hideEqAd = !1,
						t()
					})
				},
				dele: function(e) {
					var t = e.sceneJson.list,
					n = t[t.length - 1];
					n.elements.pop(),
					e.replaceEqxPage(t.length - 1, n),
					e.renderPage(t.length - 1)
				}
			},
			3 : {
				type: "品牌联合底标",
				add: function(i, o) {
					return t(function(t, a) {
						if (i.sceneJson.meta.property.bottomLabel = i.sceneJson.meta.property.bottomLabel || {},
						o) {
							var r = i.sceneJson.meta.property.bottomLabel;
							r.id = o.id || r.id,
							r.name = o.name || r.name,
							r.url = o.url || r.url
						}
						var s = i.sceneJson.list,
						c = s[s.length - 1];
						e.lastPage.getCustomBottomLabel(i.sceneJson).then(function(e) {
							e = e.map(function(e) {
								return delete e.css.content,
								e
							}),
							E = e.length,
							c.elements = [].concat(n(c.elements), n(e)),
							i.replaceEqxPage(s.length - 1, c),
							i.renderPage(s.length - 1),
							i.sceneJson.meta.property.hideEqAd = !1,
							t()
						})
					})
				},
				dele: function(e) {
					var t = e.sceneJson.list,
					n = t[t.length - 1];
					n.elements = n.elements.slice(0, -E),
					e.replaceEqxPage(t.length - 1, n),
					e.renderPage(t.length - 1)
				}
			}
		};
		return {
			user: x,
			buyXd: c,
			setTheDelta: u,
			getTheDelta: g,
			isPassOrPage: l,
			lastPageInfo: P,
			addActivityPage: p,
			replaceActivityPage: d,
			setActivityStatus: r,
			getActivityStatus: s,
			sceneTags: m,
			appScenePrice: f,
			scenePrices: h,
			sceneActivities: v,
			pageTpls: y,
			bottomPageTpls: b
		}
	}
	i.$inject = ["EqxCore", "$q", "userService", "sceneAPI", "XDService"],
	e.exports = i
},
function(e, t) {
	"use strict";
	e.exports = function() {
		return {
			scope: {},
			template: '<eqx-scene-setting ng-if="vm.show"></eqx-scene-setting>',
			controller: ["$scope", "flagService",
			function(e, t) {
				"ngInject";
				e.vm = {
					get show() {
						return t.sceneSetting.show
					}
				}
			}]
		}
	}
},
function(e, t, n) {
	"use strict";
	function i() {
		return {
			restrict: "EA",
			scope: {
				settingTab: "="
			},
			controller: o,
			template: a,
			replace: !0,
			link: function(e, t) {
				setTimeout(function() {
					t.find(".fade").addClass("in")
				})
			}
		}
	}
	var o = n(807),
	a = n(808);
	e.exports = i
},
function(e, t) {
	"use strict";
	function n(e, t, n, i, o, a, r, s, c, l, p) {
		"ngInject";
		function d(e) {
			return JSON.parse(JSON.stringify(e))
		}
		function u() {
			return ! (!C.name || !C.name.trim()) || (n.openMsgDialog({
				msg: "场景标题不能为空！"
			}), !1)
		}
		function g() {
			return 3 !== $.sceneStatue || C.accessCode && 4 === C.accessCode.length ? !(s.getActivityStatus() && !C.property.activityPageId) || (n.openMsgDialog({
				msg: "请选择活动尾页！"
			}), !1) : (n.openMsgDialog({
				msg: "请输入有效的场景密码！"
			}), !1)
		}
		function m() {
			return $.displayLoading && !C.loadingLogo ? (n.openMsgDialog({
				msg: "请设置加载logo！"
			}), !1) : ($.displayLoading && ($.displayLoading = !1), !0)
		}
		function f() {
			var e = $._yqc,
			t = $.yqc,
			n = 0;
			return e.masterSwitch && 0 == e.adStatus ? n = t.isAd ? 1 : -2 : e.isAd === t.isAd || (n = t.isAd ? 1 : -1),
			0 === n ? p.resolve() : c.setYqcAdStatus(C.id, n).then(function() {
				t.adStatus = n,
				e = d(t)
			},
			function() {
				console.error("设置广告场景失败"),
				$.yqc = d(e)
			})
		}
		function h() {
			return k.syncMeta(),
			p(function(e, t) {
				if (u() && g() && m()) if (angular.equals(T, C)) f().then(function() {
					return e()
				});
				else {
					var a = s.getTheDelta();
					o.getUserXd().then(function(o) {
						var r = o.data.obj || 0;
						a && a > r ? (n.openMsgDialog({
							msg: "当前选择需要消耗秀点" + a + '个<br>秀点余额不足(<font color="#ff6e6e">(' + (r || 0) + ")</font>个)，请先充值？"
						}), t()) : a ? n.openConfirmDialog({
							msg: "当前选择需要消耗秀点" + a + "个<br>秀点余额为(" + (r || 0) + ")个，是否使用？",
							confirmName: "确定",
							cancelName: "取消"
						}).then(function() {
							f(),
							i.setSceneSettings(C).then(function() {
								s.setTheDelta(0),
								y.show = !1,
								e()
							})
						}) : (f(), i.setSceneSettings(C).then(function() {
							s.setTheDelta(0),
							y.show = !1,
							e()
						}))
					})
				} else t()
			})
		}
		function v() {
			return ! (!C.name || !C.name.trim()) || (n.openMsgDialog({
				msg: "场景标题不能为空！"
			}).then(function() {
				e.setTab(b.common)
			}), !1)
		}
		var y = t.sceneSetting,
		b = e.TAB = {
			common: "常用",
			share: "分享",
			advanced: "高级"
		},
		x = i.eqxScene,
		w = a.core.scene.EqxScene,
		S = x.toJson(),
		k = e.tempScene = new w(S, {
			mode: "view",
			disableSubmit: !0,
			disableReport: !0
		}),
		C = k.meta;
		C.description = "我用易企秀做了一个超酷炫的H5，快来看看吧。" == C.description ? "": C.description,
		C.property.hideEqAd || (C.property.hideEqAd = !1),
		C.property.shareDes || (C.property.shareDes = {
			avatar: !1,
			description: {
				description: null,
				type: null
			},
			title: {
				description: null,
				type: null
			}
		});
		var T = angular.merge({},
		C),
		$ = e.vm = {
			tabId: y.settingTab,
			displayWx: !1,
			displayLoading: !1,
			sceneStatue: 1,
			_yqc: {
				masterSwitch: !1,
				adStatus: 0,
				isAd: !1
			},
			yqc: {
				masterSwitch: !1,
				adStatus: 0,
				isAd: !1
			}
		};
		c.getYqcInfo(C.id).then(function(e) {
			var t = e.data.obj;
			$.yqc = d(t),
			$._yqc = d(t)
		}),
		y.settingTab = "常用",
		e.setTab = function(e) {
			if ($.tabId !== e) {
				var t;
				t = $.tabId == b.common ? u() : $.tabId == b.share ? g() : m(),
				t && ($.tabId = e)
			}
		},
		e.close = function() {
			angular.equals(T, C) ? y.show = !1 : n.openConfirmDialog({
				msg: "设置内容有变化，是否确认修改"
			}).then(function() {
				e.save()
			},
			function() {
				y.show = !1
			})
		},
		e.save = function() {
			return h().then(function() {
				y.show = !1,
				l.add("场景设置成功！")
			})
		},
		e.cancel = function() {
			y.show = !1
		},
		e.$on("saveSettings",
		function(e, t) {
			v() && h().then(function() {
				return y.show = !1,
				t.save()
			})
		}),
		e.$on("publishSettings",
		function(e, t) {
			v() && h().then(function() {
				return y.show = !1,
				t.publish(C)
			})
		}),
		e.$on("exitEditor",
		function() {
			angular.equals(T, C) ? window.open(r.HOST + "h5/list", "_self") : n.openConfirmDialog({
				msg: "是否保存更改内容？",
				confirmName: "保存",
				cancelName: "不保存"
			}).then(function() {
				i.saveSceneSettings(C),
				window.open(r.HOST + "h5/list", "_self")
			},
			function() {
				window.open(r.HOST + "h5/list", "_self")
			})
		}),
		e.$on("$destroy",
		function() {
			k.destroy()
		})
	}
	n.$inject = ["$scope", "flagService", "modalService", "sceneService", "XDAPI", "EqxCore", "HOST", "sceneSettingService", "yqcAPI", "i18nNotifications", "$q"],
	e.exports = n
},
function(e, t) {
	e.exports = '<div class=scene-setting><div class=setting-bg></div><div class="left-con fade" ng-mousedown=close()><eqd-preview-phone eqx-scene=tempScene display-wx=vm.displayWx><eqx-loading-logo display=vm.displayLoading meta=tempScene.sceneJson.meta></eqx-loading-logo><eqd-preview-wx display=vm.displayWx meta=tempScene.sceneJson.meta></eqd-preview-wx></eqd-preview-phone></div><div class="scene-setting-info fade"><div class=form-contain><ul class="nav nav-tabs"><li ng-class="{active: vm.tabId == TAB.common}"><a ng-click=setTab(TAB.common) big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=1 categorythree=常用设置 actiontype=4>常用设置</a></li><li ng-class="{active: vm.tabId == TAB.share}"><a ng-click=setTab(TAB.share) big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=2 categorythree=分享设置 actiontype=4>分享设置</a></li><li ng-class="{active: vm.tabId == TAB.advanced}"><a ng-click=setTab(TAB.advanced) big-data-event categorytwoid=12 categorytwo=设置 categorythreeid=3 categorythree=高级设置 actiontype=4>高级设置</a></li></ul><div style=height:100% eqd-scroll><form class=form-horizontal role=form name=myForm novalidate><eqd-common-setting display-wx=vm.displayWx eqx-scene=tempScene ng-if="vm.tabId== TAB.common"></eqd-common-setting><eqd-share-setting eqx-scene=tempScene scene-statue=vm.sceneStatue yqc=vm.yqc ng-if="vm.tabId == TAB.share "></eqd-share-setting><eqd-advanced-setting display-loading=vm.displayLoading eqx-scene=tempScene yqc=vm.yqc ng-if="vm.tabId == TAB.advanced"></eqd-advanced-setting></form></div></div><div class=setting-operations><div class=option-box><button ng-click=save() class="btn green">确定</button> <button ng-click=cancel() class="btn gray" style=margin-left:10px>取消</button></div></div></div></div>'
},
function(e, t, n) {
	"use strict";
	n(810);
	e.exports = angular.module("scene.feedback", []).directive("eqxFeedback",
	function() {
		return {
			restrict: "EA",
			replace: !0,
			scope: {},
			template: n(811),
			controller: ["$scope", "userService", "storageService",
			function(e, t, n) {
				"ngInject";
				var i = t.getCurrentUser(),
				o = new EqxKeFu(i);
				e.customerService = function() {
					o.show()
				},
				e.showAudit = !0;
				var a = n.getItem("auditTips") || [];
				"[object Array]" !== Object.prototype.toString.call(a) && (a = []),
				a.indexOf(i.id) > -1 && (e.showAudit = !1),
				e.closeAudit = function() {
					e.showAudit = !1,
					a.push(i.id),
					n.setItem("auditTips", a)
				}
			}],
			link: function() {}
		}
	}).name
},
function(e, t) {},
function(e, t) {
	e.exports = '<div class=creat-feedback><div class=video-user style=position:relative;bottom:23px><a target=_blank big-data-event categorytwoid=22 categorytwo=审核 actiontype=4 href="http://bbs.eqxiu.com/forum.php?mod=viewthread&amp;tid=890&amp;extra=page%3D1"><span class=eqf-top-contact></span> <span>审核</span> </a><a target=_blank href=http://bbs.eqxiu.com/thread-21409-1-1.html big-data-event categorytwoid=20 categorytwo=教程 actiontype=4><span class=eqf-top-video></span> <span>教程</span> </a><a target=_blank ng-click=customerService() big-data-event categorytwoid=21 categorytwo=客服 actiontype=4><span class=eqf-top-contact></span> <span>客服</span></a></div><div class=feedback style=position:relative><a ng-href=http://eqxiu.com/s/QblumX2x target=_blank style=padding-top:6px big-data-event categorytwoid=23 categorytwo=反馈 actiontype=4><span class=eqf-scene-send></span> <span class=feedback-word>反馈</span></a><div class=feedback-bg></div></div><div class=audit-box ng-if=showAudit><div class=audit-title>包含以下内容的场景将会被审核关闭</div><span class=audit-close ng-click=closeAudit()>X</span><p class=audit-content><span class=audit-list>1、诱导分享和转发集赞<br/>2、传销欺诈虚假广告<br/>3、色情、赌博、违法<br/>4、社会事件和攻击言论</span></p><h6 class=audit-footer><a target=_blank href="http://bbs.eqxiu.com/forum.php?mod=viewthread&amp;tid=890&amp;extra=page%3D1">查看详情</a></h6></div></div>'
},
function(e, t) {
	e.exports = '<eqx-psd-loading ng-if=!disablePsd></eqx-psd-loading><div class="create-bg ng-scope" style=position:fixed;top:0;left:0;right:0;bottom:0;background-color:#d0cfd8></div><eqx-notification></eqx-notification><eqx-head></eqx-head><div class=create_scene><div class="main clearfix"><div class=content><eqx-template-panel></eqx-template-panel><eqx-workspace></eqx-workspace><eqx-page-manager></eqx-page-manager></div></div><eqx-scene-setting-trigger></eqx-scene-setting-trigger></div><eqx-feedback></eqx-feedback>'
},
function(e, t, n) {
	"use strict";
	n(814);
	var i = n(815);
	e.exports = angular.module("app.support", []).directive("editorSupport",
	function() {
		return {
			restrict: "EA",
			scope: !0,
			template: i,
			controller: ["$scope", "$location", "loadingService",
			function(e, t, n) {
				"ngInject";
				n.hide(),
				e["continue"] = function() {
					window.sessionStorage && window.sessionStorage.setItem("h5editor.needsSupport", !1),
					t.path(window.sessionStorage.getItem("h5editor.sceneId"))
				}
			}]
		}
	}).name
},
function(e, t) {},
function(e, t, n) {
	e.exports = "<div class=support-contain><div class=imgie><img class=mt20 src=" + n(816) + ' /></div><h3 class=h3ie>尊敬的易企秀用户：</h3><p><span>为了保证您在易企秀内的使用体验，建议您从下列浏览器中选择一款进行访问。若坚持使用该浏览器，请</span> <a class=text-primary ng-click=continue()><span>继续使用</span></a></p><ul><li><a id=download_Chorme href="https://www.baidu.com/s?wd=Chrome" target=_blank><img src=' + n(817) + ' /> <span>Chrome</span></a></li><li><a id=download_IE href="https://www.baidu.com/s?wd=ie11" target=_blank><img src=' + n(818) + " /> <span>IE11</span></a></li><li><a id=download_360_fast href=http://chrome.360.cn/ target=_blank><img class=ml20 src=" + n(819) + " /> <span>360极速浏览器</span></a></li><li><a id=download_360 href=http://se.360.cn/ target=_blank><img src=" + n(820) + " /> <span>360浏览器</span><br/><span>极速模式</span></a></li></ul></div>"
},
function(e, t, n) {
	e.exports = n.p + "images/HTML5-7f2ce9.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/chrome-619af3.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/IE11-0df72c.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/360fast-87dd7f.svg"
},
function(e, t, n) {
	e.exports = n.p + "images/360safe-d2997c.svg"
}]);